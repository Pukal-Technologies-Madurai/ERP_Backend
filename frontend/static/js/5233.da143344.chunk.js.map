{"version":3,"file":"static/js/5233.da143344.chunk.js","mappings":"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","sources":["../node_modules/@mui/material/CardActions/cardActionsClasses.js","../node_modules/@mui/material/CardActions/CardActions.js","Pages/Sales/SalesInvoice/manageInvolvedStaff.jsx","Pages/Sales/SalesInvoice/addProducts.jsx","Components/moduleAccess.js","Pages/Sales/SalesInvoice/salesInvoiceCreation.jsx","../node_modules/@mui/icons-material/esm/Print.js","../node_modules/@mui/icons-material/esm/ReceiptLong.js"],"sourcesContent":["import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getCardActionsUtilityClass(slot) {\n  return generateUtilityClass('MuiCardActions', slot);\n}\nconst cardActionsClasses = generateUtilityClasses('MuiCardActions', ['root', 'spacing']);\nexport default cardActionsClasses;","'use client';\n\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"disableSpacing\", \"className\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport styled from '../styles/styled';\nimport { useDefaultProps } from '../DefaultPropsProvider';\nimport { getCardActionsUtilityClass } from './cardActionsClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    disableSpacing\n  } = ownerState;\n  const slots = {\n    root: ['root', !disableSpacing && 'spacing']\n  };\n  return composeClasses(slots, getCardActionsUtilityClass, classes);\n};\nconst CardActionsRoot = styled('div', {\n  name: 'MuiCardActions',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, !ownerState.disableSpacing && styles.spacing];\n  }\n})(({\n  ownerState\n}) => _extends({\n  display: 'flex',\n  alignItems: 'center',\n  padding: 8\n}, !ownerState.disableSpacing && {\n  '& > :not(style) ~ :not(style)': {\n    marginLeft: 8\n  }\n}));\nconst CardActions = /*#__PURE__*/React.forwardRef(function CardActions(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiCardActions'\n  });\n  const {\n      disableSpacing = false,\n      className\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    disableSpacing\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(CardActionsRoot, _extends({\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardActions.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * If `true`, the actions do not have additional margin.\n   * @default false\n   */\n  disableSpacing: PropTypes.bool,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default CardActions;","import { Button, IconButton } from \"@mui/material\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { salesInvoiceStaffInfo } from \"./variable\";\r\nimport { checkIsNumber, isEqualNumber, reactSelectFilterLogic, toArray } from \"../../../Components/functions\";\r\nimport { customSelectStyles } from \"../../../Components/tablecolumn\";\r\nimport { Delete } from \"@mui/icons-material\";\r\nimport Select from \"react-select\";\r\n\r\nconst InvolvedStaffs = ({ StaffArray = [], setStaffArray, costCenter = [], costCategory = [] }) => {\r\n    \r\n    const getAllStaffs = (currentIndex) => {\r\n        return toArray(costCenter)\r\n            .filter(staff => \r\n       \r\n                !StaffArray.some((st, idx) => \r\n                    idx !== currentIndex && \r\n                    isEqualNumber(st.Emp_Id, staff.Cost_Center_Id)\r\n                )\r\n            )\r\n            .map(st => ({\r\n                value: st.Cost_Center_Id,\r\n                label: st.Allias_Name,\r\n                userType: st.User_Type \r\n            }));\r\n    };\r\n\r\n    const getFilteredStaffs = (categoryId, currentIndex) => {\r\n        if (!checkIsNumber(categoryId)) return [];\r\n        \r\n        return toArray(costCenter)\r\n            .filter(staff => \r\n                isEqualNumber(staff.User_Type, categoryId) && \r\n          \r\n                !StaffArray.some((st, idx) => \r\n                    idx !== currentIndex && \r\n                    isEqualNumber(st.Emp_Id, staff.Cost_Center_Id)\r\n                )\r\n            )\r\n            .map(st => ({\r\n                value: st.Cost_Center_Id,\r\n                label: st.Allias_Name,\r\n                userType: st.User_Type\r\n            }));\r\n    };\r\n\r\n    const handleStaffChange = (selectedOption, index) => {\r\n        setStaffArray(prev => \r\n            prev.map((staffRow, idx) => {\r\n                if (idx === index) {\r\n                    const selectedStaff = toArray(costCenter).find(\r\n                        st => isEqualNumber(st.Cost_Center_Id, selectedOption.value)\r\n                    );\r\n                    \r\n                    return {\r\n                        ...staffRow,\r\n                        Emp_Id: Number(selectedOption.value),\r\n                        Emp_Name: selectedOption.label,\r\n                     \r\n                        Emp_Type_Id: selectedStaff?.User_Type || \"\"\r\n                    };\r\n                }\r\n                return staffRow;\r\n            })\r\n        );\r\n    };\r\n\r\n    const handleCategoryChange = (e, index) => {\r\n        const newCategoryId = e.target.value;\r\n        setStaffArray(prev => \r\n            prev.map((staffRow, idx) => {\r\n                if (idx === index) {\r\n           \r\n                    const currentStaff = toArray(costCenter).find(\r\n                        st => isEqualNumber(st.Cost_Center_Id, staffRow.Emp_Id)\r\n                    );\r\n                    \r\n                    const shouldClearStaff = currentStaff && \r\n                        !isEqualNumber(currentStaff.User_Type, newCategoryId);\r\n                    \r\n                    return {\r\n                        ...staffRow,\r\n                        Emp_Type_Id: newCategoryId,\r\n                        ...(shouldClearStaff ? {\r\n                            Emp_Id: \"\",\r\n                            Emp_Name: \"\"\r\n                        } : {})\r\n                    };\r\n                }\r\n                return staffRow;\r\n            })\r\n        );\r\n    };\r\n    \r\n    const getStaffOptions = (row, index) => {\r\n        if (checkIsNumber(row?.Emp_Type_Id)) {\r\n            \r\n            return getFilteredStaffs(row.Emp_Type_Id, index);\r\n        } else {\r\n  \r\n            return getAllStaffs(index);\r\n        }\r\n    };\r\n\r\n    const getCategoryName = (categoryId) => {\r\n        const category = toArray(costCategory).find(\r\n            cat => isEqualNumber(cat.Cost_Category_Id, categoryId)\r\n        );\r\n        return category?.Cost_Category || \"\";\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className=\"d-flex align-items-center flex-wrap mb-2 border-bottom pb-2\">\r\n                <h6 className=\"flex-grow-1 m-0\">Staff Involved</h6>\r\n                <Button\r\n                    variant=\"outlined\"\r\n                    color=\"primary\"\r\n                    type=\"button\"\r\n                    onClick={() => setStaffArray(pre => [...pre, { ...salesInvoiceStaffInfo }])}\r\n                >\r\n                    Add\r\n                </Button>\r\n            </div>\r\n\r\n            <table className=\"table table-bordered\">\r\n                <thead>\r\n                    <tr>\r\n                        {/* <th className=\"fa-13\">Sno</th> */}\r\n                        <th className=\"fa-13\">Category</th>\r\n                        <th className=\"fa-13\">Staff Name</th>\r\n                        <th className=\"fa-13\">#</th>\r\n                    </tr>\r\n                </thead>\r\n\r\n                <tbody>\r\n                    {toArray(StaffArray).map((row, index) => (\r\n                        <tr key={index}>\r\n                            {/* <td className='fa-13 vctr text-center'>{index + 1}</td> */}\r\n                            <td className='fa-13 w-100 p-0'>\r\n                                <Select\r\n                                    value={checkIsNumber(row?.Emp_Id) ? {\r\n                                        value: row?.Emp_Id,\r\n                                        label: row?.Emp_Name,\r\n                                    } : null}\r\n                                    onChange={(e) => handleStaffChange(e, index)}\r\n                                    options={getStaffOptions(row, index)}\r\n                                    styles={customSelectStyles}\r\n                                    isSearchable={true}\r\n                                    placeholder=\"Select Staff\"\r\n                                    filterOption={reactSelectFilterLogic}\r\n                                    noOptionsMessage={() => {\r\n                                        if (checkIsNumber(row?.Emp_Type_Id)) {\r\n                                            return \"No staff available for this category\";\r\n                                        }\r\n                                        return \"No staff available\";\r\n                                    }}\r\n                                />\r\n                            </td>\r\n                              <td className='fa-13 vctr p-0' style={{ maxWidth: '130px', minWidth: '100px' }}>\r\n                                <select\r\n                                    value={row?.Emp_Type_Id || \"\"}\r\n                                    onChange={(e) => handleCategoryChange(e, index)}\r\n                                    className=\"cus-inpt p-2 border-0 w-100\"\r\n                                >\r\n                                    <option value=\"\">Select Category</option>\r\n                                    {toArray(costCategory).map((category, idx) => (\r\n                                        <option value={category?.Cost_Category_Id} key={idx}>\r\n                                            {category?.Cost_Category}\r\n                                        </option>\r\n                                    ))}\r\n                                </select>\r\n                            </td>\r\n                           \r\n                            <td className='fa-13 vctr p-0'>\r\n                                <IconButton\r\n                                    onClick={() => {\r\n                                        setStaffArray(prev => \r\n                                            prev.filter((_, filIndex) => index !== filIndex)\r\n                                        );\r\n                                    }}\r\n                                    size='small'\r\n                                >\r\n                                    <Delete color='error' />\r\n                                </IconButton>\r\n                            </td>\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default InvolvedStaffs;","import { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle } from \"@mui/material\";\r\nimport { checkIsNumber, Division, isEqualNumber, isValidNumber, isValidObject, Multiplication, onlynum, reactSelectFilterLogic, toArray, toNumber } from \"../../../Components/functions\";\r\nimport { ClearAll } from \"@mui/icons-material\";\r\nimport RequiredStar from \"../../../Components/requiredStar\";\r\nimport { calculateGSTDetails } from \"../../../Components/taxCalculator\";\r\nimport Select from \"react-select\";\r\nimport { customSelectStyles } from \"../../../Components/tablecolumn\";\r\nimport { toast } from \"react-toastify\";\r\nimport { fetchLink } from \"../../../Components/fetchComponent\";\r\n\r\nconst validStockValue = (Item_Id, Godown_Id, stockInGodown) => {\r\n    const godownStockValue = toArray(stockInGodown).find(\r\n        godownItem => (\r\n            isEqualNumber(godownItem?.Product_Id, Item_Id) &&\r\n            isEqualNumber(godownItem?.Godown_Id, Godown_Id)\r\n        )\r\n    )?.Act_Bal_Qty;\r\n\r\n    return toNumber(godownStockValue);\r\n};\r\n\r\nconst AddProductForm = ({\r\n    children,\r\n    orderProducts = [],\r\n    setOrderProducts,\r\n    open = false,\r\n    onClose,\r\n    products = [],\r\n    brands = [],\r\n    uom = [],\r\n    godowns = [],\r\n    GST_Inclusive,\r\n    IS_IGST,\r\n    editValues = null,\r\n    initialValue = {},\r\n    batchDetails = [],\r\n}) => {\r\n\r\n    const [productDetails, setProductDetails] = useState(initialValue);\r\n\r\n    const isInclusive = isEqualNumber(GST_Inclusive, 1);\r\n    const isNotTaxableBill = isEqualNumber(GST_Inclusive, 2);\r\n\r\n    const [stockInGodowns, setStockInGodowns] = useState([]);\r\n\r\n    const lastEditedRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        if (isValidObject(editValues) && open) {\r\n            setProductDetails(pre => (\r\n                Object.fromEntries(\r\n                    Object.entries(pre).map(([key, value]) => [key, editValues[key] ? editValues[key] : value])\r\n                )\r\n            ))\r\n        }\r\n    }, [editValues])\r\n\r\n    const findProductDetails = (productid) => products?.find(obj => isEqualNumber(obj?.Product_Id, productid)) ?? {};\r\n\r\n    const closeDialog = () => {\r\n        setProductDetails(initialValue);\r\n        onClose();\r\n    }\r\n\r\n    const handleProductInputChange = (shouldClose = true) => {\r\n\r\n        setOrderProducts(pre => {\r\n            const existingProducts = pre.filter(ordered => ordered.rowId !== productDetails.rowId);\r\n\r\n            const currentProductDetails = Object.fromEntries(\r\n                Object.entries(productDetails).map(([key, value]) => {\r\n                    const productMaster = findProductDetails(productDetails.Item_Id);\r\n                    const gstPercentage = IS_IGST ? productMaster.Igst_P : productMaster.Gst_P;\r\n                    const isTaxable = gstPercentage > 0;\r\n\r\n                    // Added this line to get the stock value\r\n                    const godownStock = validStockValue(productDetails.Item_Id, productDetails.GoDown_Id, stockInGodowns);\r\n\r\n                    const { Bill_Qty, Item_Rate, Amount } = productDetails;\r\n\r\n                    const taxType = isNotTaxableBill ? 'zerotax' : isInclusive ? 'remove' : 'add';\r\n                    const itemRateGst = calculateGSTDetails(Item_Rate, gstPercentage, taxType);\r\n                    const gstInfo = calculateGSTDetails(Amount, gstPercentage, taxType);\r\n\r\n                    const cgstPer = !IS_IGST ? gstInfo.cgst_per : 0;\r\n                    const igstPer = IS_IGST ? gstInfo.igst_per : 0;\r\n                    const Cgst_Amo = !IS_IGST ? gstInfo.cgst_amount : 0;\r\n                    const Igst_Amo = IS_IGST ? gstInfo.igst_amount : 0;\r\n\r\n                    switch (key) {\r\n                        case 'Item_Name': return [key, productMaster.Product_Name]\r\n                        case 'Taxable_Rate': return [key, itemRateGst.base_amount]\r\n                        case 'Total_Qty': return [key, Bill_Qty]\r\n                        case 'Taxble': return [key, isTaxable ? 1 : 0]\r\n                        case 'Taxable_Amount': return [key, gstInfo.base_amount]\r\n                        case 'Tax_Rate': return [key, gstPercentage]\r\n                        case 'Cgst':\r\n                        case 'Sgst': return [key, cgstPer ?? 0]\r\n                        case 'Cgst_Amo':\r\n                        case 'Sgst_Amo': return [key, isNotTaxableBill ? 0 : Cgst_Amo]\r\n                        case 'Igst': return [key, igstPer ?? 0]\r\n                        case 'Igst_Amo': return [key, isNotTaxableBill ? 0 : Igst_Amo]\r\n                        case 'Final_Amo': return [key, gstInfo.with_tax]\r\n                        case 'Godown_Stock': return [key, godownStock] // Added this line\r\n\r\n                        default: return [key, productDetails[key] || value]\r\n                    }\r\n                })\r\n            );\r\n\r\n            return [...existingProducts, currentProductDetails];\r\n        });\r\n\r\n        if (shouldClose) {\r\n            closeDialog();\r\n        } else {\r\n            setProductDetails(initialValue);\r\n        }\r\n    };\r\n\r\n    const handleFormSubmit = (e, shouldClose) => {\r\n        e.preventDefault();\r\n        if (\r\n            isValidNumber(productDetails.Item_Id) && (\r\n                Object.hasOwn(productDetails, 'GoDown_Id')\r\n                    ? isValidNumber(productDetails.GoDown_Id)\r\n                    : true\r\n            )\r\n        ) {\r\n            handleProductInputChange(shouldClose);\r\n        } else {\r\n            productDetails.Item_Id ? toast.warn('Select Godown') : toast.warn('Select Product');\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        setStockInGodowns([]);\r\n        if (checkIsNumber(productDetails.Item_Id) && !isEqualNumber(productDetails.Item_Id, 0)) {\r\n            fetchLink({ address: `sales/stockInGodown?Item_Id=${productDetails.Item_Id}` })\r\n                .then(data => {\r\n                    const stockInGodowns = (data.success ? data.data : []).sort(\r\n                        (a, b) => toNumber(b?.Act_Bal_Qty) - toNumber(a?.Act_Bal_Qty)\r\n                    );\r\n                    setStockInGodowns(stockInGodowns);\r\n                })\r\n        }\r\n    }, [productDetails.Item_Id])\r\n\r\n    const productInfo = useMemo(() => {\r\n        const currentProduct = findProductDetails(productDetails.Item_Id);\r\n        return productDetails.Item_Id ? currentProduct : {};\r\n    }, [products, productDetails.Item_Id]);\r\n\r\n    const onRateChange = (value) => {\r\n        lastEditedRef.current = 'RATE';\r\n        setProductDetails(prev => ({ ...prev, Item_Rate: value }));\r\n    };\r\n\r\n    const onAmountChange = (value) => {\r\n        lastEditedRef.current = 'AMOUNT';\r\n        setProductDetails(prev => ({ ...prev, Amount: value }));\r\n    };\r\n\r\n    useEffect(() => {\r\n        const { Item_Rate, Amount, Bill_Qty } = productDetails;\r\n\r\n        if (!isValidNumber(Bill_Qty) || Bill_Qty === 0) return;\r\n\r\n        if ((lastEditedRef.current === 'RATE' || lastEditedRef.current === 'QTY') && isValidNumber(Item_Rate)) {\r\n            const amount = Multiplication(Item_Rate, Bill_Qty);\r\n            setProductDetails(prev =>\r\n                prev.Amount === amount\r\n                    ? prev\r\n                    : { ...prev, Amount: amount }\r\n            );\r\n        }\r\n\r\n        if (lastEditedRef.current === 'AMOUNT' && isValidNumber(Amount)) {\r\n            const rate = Division(Amount, Bill_Qty);\r\n            setProductDetails(prev =>\r\n                prev.Item_Rate === rate\r\n                    ? prev\r\n                    : { ...prev, Item_Rate: rate }\r\n            );\r\n        }\r\n    }, [productDetails.Item_Rate, productDetails.Amount, productDetails.Bill_Qty, productDetails.Act_Qty]);\r\n\r\n    const godownOptions = useMemo(() => {\r\n        if (!checkIsNumber(productDetails.Item_Id)) return [];\r\n\r\n        const productMaster = findProductDetails(productDetails.Item_Id);\r\n        const pack = productMaster?.PackGet || 1;\r\n\r\n        return toArray(godowns)\r\n            .map(obj => {\r\n                const stock = checkIsNumber(obj?.Godown_Id)\r\n                    ? toNumber(\r\n                        validStockValue(\r\n                            productDetails.Item_Id,\r\n                            obj?.Godown_Id,\r\n                            stockInGodowns\r\n                        )\r\n                    )\r\n                    : 0;\r\n\r\n                const packQty = Division(stock, pack);\r\n\r\n                return {\r\n                    value: obj?.Godown_Id,\r\n                    label: `${obj?.Godown_Name} (Q: ${stock}, P: ${packQty})`,\r\n                    stock\r\n                };\r\n            })\r\n            .sort((a, b) => {\r\n                return b.stock - a.stock;\r\n            })\r\n            .map(({ stock, ...rest }) => rest);\r\n    }, [godowns, productDetails.Item_Id, stockInGodowns, products]);\r\n\r\n    return (\r\n        <>\r\n            {children}\r\n\r\n            <Dialog\r\n                open={open}\r\n                onClose={closeDialog}\r\n                maxWidth='md' fullWidth\r\n            >\r\n                <DialogTitle className=\"border-bottom\">\r\n                    <span>Add Products Details</span>\r\n                </DialogTitle>\r\n                <form onSubmit={e => handleFormSubmit(e, true)}>\r\n                    <DialogContent>\r\n                        <div className=\"row pb-5\">\r\n\r\n                            {/* brand */}\r\n                            <div className=\"col-6 p-2\">\r\n                                <label>Brand</label>\r\n                                <Select\r\n                                    value={{ value: productDetails.BrandID, label: productDetails.Brand }}\r\n                                    onChange={(e) => setProductDetails(pre => ({ ...pre, BrandID: e.value, Brand: e.label }))}\r\n                                    options={[\r\n                                        { value: '', label: 'select', isDisabled: true },\r\n                                        ...brands.map(obj => ({ value: obj?.Brand, label: obj?.Brand_Name }))\r\n                                    ]}\r\n                                    styles={customSelectStyles}\r\n                                    menuPortalTarget={document.body}\r\n                                    isSearchable={true}\r\n                                    placeholder={\"Select Brand\"}\r\n                                    maxMenuHeight={200}\r\n                                    filterOption={reactSelectFilterLogic}\r\n                                />\r\n                            </div>\r\n\r\n                            {/* group */}\r\n                            <div className=\"col-6 p-2\">\r\n                                <label>Group</label>\r\n                                <Select\r\n                                    value={{ value: productDetails.GroupID, label: productDetails.Group }}\r\n                                    onChange={(e) =>\r\n                                        setProductDetails((pre) => ({ ...pre, GroupID: e.value, Group: e.label }))\r\n                                    }\r\n                                    options={[\r\n                                        { value: '', label: 'select', isDisabled: true },\r\n                                        ...products\r\n                                            .filter(\r\n                                                (pro) =>\r\n                                                    productDetails.BrandID\r\n                                                        ? isEqualNumber(pro.Brand, productDetails.BrandID)\r\n                                                        : true\r\n                                            )\r\n                                            .reduce((acc, pro) => {\r\n                                                if (\r\n                                                    !acc.some((grp) => grp.value === pro.Product_Group)\r\n                                                ) {\r\n                                                    acc.push({\r\n                                                        value: pro.Product_Group,\r\n                                                        label: pro.Pro_Group,\r\n                                                    });\r\n                                                }\r\n                                                return acc;\r\n                                            }, []),\r\n                                    ]}\r\n                                    styles={customSelectStyles}\r\n                                    menuPortalTarget={document.body}\r\n                                    isSearchable={true}\r\n                                    placeholder={\"Select Group\"}\r\n                                    maxMenuHeight={200}\r\n                                    filterOption={reactSelectFilterLogic}\r\n                                />\r\n                            </div>\r\n\r\n                            {/* item name */}\r\n                            <div className={\r\n                                Object.hasOwn(productDetails, 'GoDown_Id') ? 'col-md-8 p-2' : \"col-12 p-2\"\r\n                            }>\r\n                                <label>Item Name <RequiredStar /></label>\r\n                                <Select\r\n                                    value={{\r\n                                        value: productDetails.Item_Id,\r\n                                        label: (\r\n                                            findProductDetails(productDetails.Item_Id)?.Product_Name\r\n                                        )\r\n                                    }}\r\n                                    isDisabled={checkIsNumber(productDetails.Pre_Id)}\r\n                                    menuPortalTarget={document.body}\r\n                                    onChange={e => {\r\n                                        const productInfo = findProductDetails(e.value);\r\n                                        setProductDetails(pre => ({\r\n                                            ...pre,\r\n\r\n                                            Group: productInfo.Pro_Group ?? pre.Group,\r\n                                            GroupID: productInfo.Product_Group ?? pre.GroupID,\r\n                                            Brand: productInfo.Brand_Name ?? pre.Brand,\r\n                                            BrandID: productInfo.Brand ?? pre.BrandID,\r\n\r\n                                            Item_Id: e.value,\r\n                                            Item_Rate: productInfo.Item_Rate ?? 0,\r\n                                            GoDown_Id: '',\r\n                                            Bill_Qty: 0,\r\n                                            Alt_Bill_Qty: 0,\r\n                                            Act_Qty: 0,\r\n                                            Alt_Act_Qty: 0,\r\n                                            Amount: 0,\r\n                                            Unit_Id: productInfo.UOM_Id ?? pre.Unit_Id,\r\n                                            Unit_Name: productInfo.Units ?? pre.Unit_Name,\r\n                                            HSN_Code: productInfo?.HSN_Code,\r\n                                        }));\r\n                                    }}\r\n                                    options={[\r\n                                        { value: '', label: 'select', isDisabled: true },\r\n                                        ...[\r\n                                            ...products\r\n                                                .filter(pro => productDetails.BrandID ? isEqualNumber(pro.Brand, productDetails.BrandID) : true)\r\n                                                .filter(pro => productDetails.GroupID ? isEqualNumber(pro.Product_Group, productDetails.GroupID) : true)\r\n                                        ].map(obj => ({\r\n                                            value: obj?.Product_Id,\r\n                                            label: obj?.Product_Name,\r\n                                            isDisabled: (\r\n                                                orderProducts.findIndex(ind => isEqualNumber(\r\n                                                    ind?.Item_Id, obj?.Product_Id\r\n                                                ))\r\n                                            ) === -1 ? false : true\r\n                                        }))\r\n                                    ]}\r\n                                    styles={customSelectStyles}\r\n                                    isSearchable={true}\r\n                                    placeholder={\"Select Product\"}\r\n                                    maxMenuHeight={200}\r\n                                    filterOption={reactSelectFilterLogic}\r\n                                />\r\n                            </div>\r\n\r\n                            {/* godown  */}\r\n                            {Object.hasOwn(productDetails, 'GoDown_Id') && (\r\n                                <div className=\"col-md-4 p-2\">\r\n                                    <label>Godown</label>\r\n                                    <Select\r\n                                        value={{\r\n                                            value: productDetails?.GoDown_Id,\r\n                                            label: godowns.find(g => isEqualNumber(g.Godown_Id, productDetails?.GoDown_Id))?.Godown_Name || ''\r\n                                        }}\r\n                                        onChange={(e) => setProductDetails(pre => ({ ...pre, GoDown_Id: e.value }))}\r\n                                        options={[\r\n                                            { value: '', label: 'select', isDisabled: true },\r\n                                            ...godownOptions\r\n                                        ]}\r\n                                        styles={customSelectStyles}\r\n                                        isDisabled={!checkIsNumber(productDetails?.Item_Id)}\r\n                                        menuPortalTarget={document.body}\r\n                                        isSearchable={true}\r\n                                        placeholder={\"Select Godown\"}\r\n                                        filterOption={reactSelectFilterLogic}\r\n                                    // maxMenuHeight={200}  \r\n                                    />\r\n                                </div>\r\n                            )}\r\n\r\n                            {/* act qty */}\r\n                            <div className=\"col-md-6 p-2\">\r\n                                <label>Actual Quantity </label>\r\n                                <input\r\n                                    value={productDetails.Act_Qty ? productDetails.Act_Qty : ''}\r\n                                    onInput={onlynum}\r\n                                    disabled={!checkIsNumber(productDetails.Item_Id)}\r\n                                    onChange={e => {\r\n                                        lastEditedRef.current = 'QTY';\r\n                                        const pack = productInfo?.PackGet;\r\n                                        const alterQuantity = Division(e.target.value, pack);\r\n                                        setProductDetails(pre => ({\r\n                                            ...pre,\r\n                                            Act_Qty: e.target.value,\r\n                                            Bill_Qty: e.target.value,\r\n                                            Alt_Act_Qty: alterQuantity,\r\n                                            Alt_Bill_Qty: alterQuantity\r\n                                        }))\r\n                                    }}\r\n                                    required\r\n                                    className=\"cus-inpt\"\r\n                                />\r\n                            </div>\r\n\r\n                            {/* alter actual quantity */}\r\n                            <div className=\"col-md-6 p-2\">\r\n                                <label>Alt Act Quantity</label>\r\n                                <input\r\n                                    value={productDetails.Alt_Act_Qty || ''}\r\n                                    className=\"cus-inpt\"\r\n                                    type=\"number\"\r\n                                    onChange={e => {\r\n                                        lastEditedRef.current = 'QTY';\r\n                                        const pack = productInfo?.PackGet;\r\n                                        const qty = Multiplication(e.target.value, pack)\r\n                                        setProductDetails(pre => ({\r\n                                            ...pre,\r\n                                            Alt_Act_Qty: e.target.value,\r\n                                            Alt_Bill_Qty: e.target.value,\r\n                                            Act_Qty: qty,\r\n                                            Bill_Qty: qty,\r\n                                        }));\r\n                                    }}\r\n                                />\r\n                            </div>\r\n\r\n                            {/* bill quantity */}\r\n                            <div className=\"col-md-6 p-2\">\r\n                                <label>Bill Quantity <RequiredStar /></label>\r\n                                <input\r\n                                    required\r\n                                    value={productDetails.Bill_Qty ? productDetails.Bill_Qty : ''}\r\n                                    onInput={onlynum}\r\n                                    disabled={!checkIsNumber(productDetails.Item_Id)}\r\n                                    onChange={e => {\r\n                                        lastEditedRef.current = 'QTY';\r\n                                        const pack = productInfo?.PackGet;\r\n                                        const alterQuantity = Division(e.target.value, pack);\r\n                                        setProductDetails(pre => ({\r\n                                            ...pre,\r\n                                            Bill_Qty: e.target.value,\r\n                                            Alt_Bill_Qty: alterQuantity,\r\n                                        }));\r\n                                    }}\r\n                                    className=\"cus-inpt\"\r\n                                    min={1}\r\n                                />\r\n                            </div>\r\n\r\n                            {/* alt bill qty */}\r\n                            <div className=\"col-md-6 p-2\">\r\n                                <label>Alt Bill Quantity</label>\r\n                                <input\r\n                                    value={productDetails.Alt_Bill_Qty || ''}\r\n                                    className=\"cus-inpt\"\r\n                                    type=\"number\"\r\n                                    onChange={e => {\r\n                                        lastEditedRef.current = 'QTY';\r\n                                        const pack = productInfo?.PackGet;\r\n                                        setProductDetails(pre => ({\r\n                                            ...pre,\r\n                                            Alt_Bill_Qty: e.target.value,\r\n                                            Bill_Qty: Multiplication(e.target.value, pack),\r\n                                        }));\r\n                                    }}\r\n                                />\r\n                            </div>\r\n\r\n                            {/* Rate */}\r\n                            <div className=\"col-lg-4 col-md-6 p-2\">\r\n                                <label>Rate </label>\r\n                                <input\r\n                                    value={productDetails.Item_Rate || ''}\r\n                                    onInput={onlynum}\r\n                                    disabled={!checkIsNumber(productDetails.Item_Id)}\r\n                                    onChange={e => onRateChange(e.target.value)}\r\n                                    required\r\n                                    className=\"cus-inpt\"\r\n                                />\r\n                            </div>\r\n\r\n                            {/* UOM */}\r\n                            <div className=\"col-lg-4 col-md-6 p-2\">\r\n                                <label>UOM</label>\r\n                                <select\r\n                                    value={\r\n                                        Object.hasOwn(productDetails, 'UOM') ? productDetails.UOM :\r\n                                            Object.hasOwn(productDetails, 'Unit_Id') ? productDetails.Unit_Id : ''\r\n                                    }\r\n                                    onChange={e => {\r\n                                        const selectedIndex = e.target.selectedIndex;\r\n                                        const label = e.target.options[selectedIndex].text;\r\n                                        const value = e.target.value;\r\n                                        setProductDetails(pre => ({\r\n                                            ...pre,\r\n                                            UOM: value,\r\n                                            Unit_Id: value,\r\n                                            Units: label,\r\n                                            Unit_Name: label,\r\n                                        }));\r\n                                    }}\r\n                                    className=\"cus-inpt\"\r\n                                    disabled={!checkIsNumber(productDetails.Item_Id)}\r\n                                >\r\n                                    <option value=\"\" disabled>select</option>\r\n                                    {uom.map((o, i) => (\r\n                                        <option value={o.Unit_Id} key={i} >{o.Units}</option>\r\n                                    ))}\r\n                                </select>\r\n                            </div>\r\n\r\n                            {/* Amount */}\r\n                            <div className=\"col-lg-4 col-md-6 p-2\">\r\n                                <label>Amount</label>\r\n                                <input\r\n                                    required\r\n                                    value={productDetails.Amount || ''}\r\n                                    onInput={onlynum}\r\n                                    disabled={!checkIsNumber(productDetails.Item_Id)}\r\n                                    onChange={e => onAmountChange(e.target.value)}\r\n                                    className=\"cus-inpt\"\r\n                                    min={1}\r\n                                />\r\n                            </div>\r\n\r\n                            {/* Batch */}\r\n                            <div className=\"col-lg-4 col-md-6 p-2\">\r\n                                <label>Batch</label>\r\n                                <Select\r\n                                    value={{\r\n                                        value: productDetails?.Batch_Name || '',\r\n                                        label: productDetails?.Batch_Name || ''\r\n                                    }}\r\n                                    onChange={e => setProductDetails(pre => ({ ...pre, Batch_Name: e.value }))}\r\n                                    options={\r\n                                        batchDetails.filter(\r\n                                            bat => (\r\n                                                isEqualNumber(bat.item_id, productDetails?.Item_Id)\r\n                                                && isEqualNumber(bat?.godown_id, productDetails?.GoDown_Id)\r\n                                                && toNumber(bat.pendingQuantity) >= toNumber(productDetails?.Bill_Qty)\r\n                                            )\r\n                                        ).map(\r\n                                            bat => ({ value: bat.batch, label: bat.batch })\r\n                                        )\r\n                                    }\r\n                                    styles={customSelectStyles}\r\n                                    isSearchable={true}\r\n                                    placeholder={\"Select Batch\"}\r\n                                    menuPortalTarget={document.body}\r\n                                    isDisabled={true}\r\n                                // isDisabled={\r\n                                //     !checkIsNumber(productDetails?.Item_Id)\r\n                                //     || !checkIsNumber(productDetails?.GoDown_Id)\r\n                                //     || isEqualNumber(productDetails?.Bill_Qty, 0)\r\n                                // }\r\n                                />\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                    </DialogContent>\r\n                    <DialogActions className=\"d-flex justify-content-between align-items-center\">\r\n                        <Button onClick={() => setProductDetails(initialValue)} type='button' startIcon={<ClearAll />}>Clear</Button>\r\n                        <span>\r\n                            <Button type=\"button\" onClick={closeDialog}>cancel</Button>\r\n                            <Button type='button' onClick={e => handleFormSubmit(e, false)} variant=\"outlined\" className=\"me-2\">Next</Button>\r\n                            <Button type='submit' variant=\"contained\">Add</Button>\r\n                        </span>\r\n                    </DialogActions>\r\n                </form>\r\n            </Dialog>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddProductForm;","import { isEqualNumber } from './functions';\r\n\r\nexport const getModuleAccess = (data = [], code = '', crudAction = 1) => {\r\n\r\n    if (!data || !Array.isArray(data) || data.length === 0) return false;\r\n\r\n    const actions = {\r\n        1: 'createOption',\r\n        2: 'getOption',\r\n        3: 'updateOption',\r\n        4: 'deleteOption'\r\n    }\r\n\r\n    if (code) {\r\n        return data.some(item => {\r\n            const action = actions[crudAction] || '';\r\n            if (item.ruleCode === code && action) {\r\n                return isEqualNumber(item[action], 1);\r\n            }\r\n            if (item.ruleCode === code) {\r\n                return {\r\n                    createAccess: isEqualNumber(item?.createOption, 1),\r\n                    readAccess: isEqualNumber(item?.getOption, 1),\r\n                    updateAccess: isEqualNumber(item?.updateOption, 1),\r\n                    deleteAccess: isEqualNumber(item?.deleteOption, 1)\r\n                }\r\n            }\r\n            return false;\r\n        })\r\n    }\r\n    return false;\r\n}\r\n\r\n\r\n// isEqualNumber(item[actions[crudAction]], 1)","import { useState, useEffect, useMemo } from \"react\";\r\nimport { Button, IconButton, CardContent, Card, Dialog, DialogTitle, DialogContent, DialogActions, CardActions } from \"@mui/material\";\r\nimport { toast } from 'react-toastify';\r\nimport {\r\n    isEqualNumber, isValidObject, ISOString, getUniqueData, Addition, getSessionUser,\r\n    checkIsNumber, toNumber, toArray, RoundNumber, isValidNumber,\r\n    rid, Subraction, filterableText\r\n} from \"../../../Components/functions\";\r\nimport { Close } from \"@mui/icons-material\";\r\nimport { Add, Delete, Edit, ReceiptLong } from \"@mui/icons-material\";\r\nimport { fetchLink } from '../../../Components/fetchComponent';\r\nimport FilterableTable, { createCol } from \"../../../Components/filterableTable2\";\r\nimport { calculateGSTDetails } from '../../../Components/taxCalculator';\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport {\r\n    salesInvoiceGeneralInfo, salesInvoiceDetailsInfo, salesInvoiceExpencesInfo,\r\n    salesInvoiceStaffInfo, retailerDeliveryAddressInfo,\r\n    retailerOutstandingDetails,\r\n    canCreateInvoice,\r\n    setAddress,\r\n    defaultStaffTypes\r\n} from './variable';\r\nimport InvolvedStaffs from \"./manageInvolvedStaff\";\r\nimport ManageSalesInvoiceGeneralInfo from \"./manageGeneralInfo\";\r\nimport SalesInvoiceTaxDetails from \"./taxDetails\";\r\nimport AddProductsInSalesInvoice from \"./importFromSaleOrder\";\r\nimport ExpencesOfSalesInvoice from \"./manageExpences\";\r\nimport AddProductForm from \"./addProducts\";\r\nimport InvoiceTemplate from \"../LRReport/SalesInvPrint/invTemplate\";\r\nimport AppDialog from \"../../../Components/appDialogComponent\";\r\nimport DeliverySlipprint from \"../LRReport/deliverySlipPrint\";\r\nimport { getModuleAccess } from \"../../../Components/moduleAccess\";\r\n\r\nconst findProductDetails = (arr = [], productid) => arr.find(obj => isEqualNumber(obj.Product_Id, productid)) ?? {};\r\n\r\nconst CreateSalesInvoice = ({ loadingOn, loadingOff }) => {\r\n    const navigate = useNavigate();\r\n    const location = useLocation();\r\n    const editValues = location.state;\r\n    const [baseData, setBaseData] = useState({\r\n        products: [],\r\n        branch: [],\r\n        retailers: [],\r\n        voucherType: [],\r\n        uom: [],\r\n        staff: [],\r\n        staffType: [],\r\n        brand: [],\r\n        godown: [],\r\n        expence: [],\r\n        stockInGodown: [],\r\n        stockItemLedgerName: [],\r\n        batchDetails: [],\r\n        moduleConfiguration: []\r\n    });\r\n\r\n    const [dialog, setDialog] = useState({\r\n        addProductDialog: false,\r\n        importFromSaleOrder: false,\r\n        godownMismatch: false\r\n    })\r\n\r\n    const [invoiceInfo, setInvoiceInfo] = useState(salesInvoiceGeneralInfo);\r\n    const [retailerDeliveryAddress, setRetailerDeliveryAddress] = useState(retailerDeliveryAddressInfo);\r\n    const [retailerShippingAddress, setRetailerShippingAddress] = useState(retailerDeliveryAddressInfo);\r\n    const [invoiceProducts, setInvoiceProduct] = useState([]);\r\n    const [invoiceExpences, setInvoiceExpences] = useState([]);\r\n    const [staffArray, setStaffArray] = useState([]);\r\n    const [retailerSalesStatus, setRetailerSalesStatus] = useState(retailerOutstandingDetails);\r\n\r\n    const [selectedProductToEdit, setSelectedProductToEdit] = useState(null);\r\n\r\n    const isInclusive = isEqualNumber(invoiceInfo.GST_Inclusive, 1);\r\n    const isNotTaxableBill = isEqualNumber(invoiceInfo.GST_Inclusive, 2);\r\n    const IS_IGST = isEqualNumber(invoiceInfo.IS_IGST, 1);\r\n    const taxType = isNotTaxableBill ? 'zerotax' : isInclusive ? 'remove' : 'add';\r\n    const minimumRows = 3;\r\n    const dummyRowCount = minimumRows - invoiceProducts.length;\r\n    const [printDialog, setPrintDialog] = useState({\r\n        open: false,\r\n        Do_Id: null,\r\n        deliverySlipDialog: false\r\n    });\r\n\r\n    const isEdit = useMemo(() => isValidNumber(invoiceInfo?.Do_Id), [invoiceInfo?.Do_Id])\r\n\r\n    useEffect(() => {\r\n\r\n        const fetchData = async () => {\r\n            try {\r\n                if (loadingOn) loadingOn();\r\n\r\n                const [\r\n                    branchResponse,\r\n                    productsResponse,\r\n                    retailerResponse,\r\n                    voucherTypeResponse,\r\n                    uomResponse,\r\n                    staffResponse,\r\n                    staffCategory,\r\n                    godownLocationsResponse,\r\n                    expenceResponse,\r\n                    // godownWiseStock,\r\n                    stockItemLedgerNameResponse,\r\n                    batchDetailsResponse,\r\n                    moduleConfigurationResponse\r\n                ] = await Promise.all([\r\n                    fetchLink({ address: `masters/branch/dropDown` }),\r\n                    fetchLink({ address: `masters/products` }),\r\n                    fetchLink({ address: `masters/retailers/dropDown` }),\r\n                    fetchLink({ address: `masters/voucher?module=SALES` }),\r\n                    fetchLink({ address: `masters/uom` }),\r\n                    fetchLink({ address: `dataEntry/costCenter` }),\r\n                    fetchLink({ address: `dataEntry/costCenter/category` }),\r\n                    fetchLink({ address: `dataEntry/godownLocationMaster` }),\r\n                    fetchLink({ address: `masters/defaultAccountMaster?Type=SALES_INVOICE` }),\r\n                    // fetchLink({ address: `sales/stockInGodown` }),\r\n                    fetchLink({ address: `purchase/stockItemLedgerName?type=SALES` }),\r\n                    fetchLink({ address: `inventory/batchMaster/stockBalance` }),\r\n                    fetchLink({ address: `authorization/moduleConfiguration?moduleName=SALE_INVOICE` })\r\n                ]);\r\n\r\n                const branchData = (branchResponse.success ? branchResponse.data : []).sort(\r\n                    (a, b) => String(a?.BranchName).localeCompare(b?.BranchName)\r\n                );\r\n                const productsData = (productsResponse.success ? productsResponse.data : []).sort(\r\n                    (a, b) => String(a?.Product_Name).localeCompare(b?.Product_Name)\r\n                );\r\n                const retailersData = (retailerResponse.success ? retailerResponse.data : []).sort(\r\n                    (a, b) => String(a?.Retailer_Name).localeCompare(b?.Retailer_Name)\r\n                );\r\n                const voucherType = (voucherTypeResponse.success ? voucherTypeResponse.data : []).sort(\r\n                    (a, b) => String(a?.Voucher_Type).localeCompare(b?.Voucher_Type)\r\n                );\r\n                const uomData = (uomResponse.success ? uomResponse.data : []).sort(\r\n                    (a, b) => String(a.Units).localeCompare(b.Units)\r\n                );\r\n                const staffData = (staffResponse.success ? staffResponse.data : []).sort(\r\n                    (a, b) => String(a?.Cost_Center_Name).localeCompare(b?.Cost_Center_Name)\r\n                );\r\n                const staffCategoryData = (staffCategory.success ? staffCategory.data : []).sort(\r\n                    (a, b) => String(a?.Cost_Category).localeCompare(b?.Cost_Category)\r\n                );\r\n                const godownLocations = (godownLocationsResponse.success ? godownLocationsResponse.data : []).sort(\r\n                    (a, b) => String(a?.Godown_Name).localeCompare(b?.Godown_Name)\r\n                );\r\n                const expencesMaster = (expenceResponse.success ? toArray(expenceResponse.data) : []).sort(\r\n                    (a, b) => String(a?.Account_Name).localeCompare(b?.Account_Name)\r\n                );\r\n                // const stockInGodowns = (godownWiseStock.success ? godownWiseStock.data : []).sort(\r\n                //     (a, b) => String(a?.stock_item_name).localeCompare(b?.stock_item_name)\r\n                // );\r\n                const stockItemLedgerName = (stockItemLedgerNameResponse.success ? stockItemLedgerNameResponse.data : []);\r\n                const moduleConfiguration = moduleConfigurationResponse.success ? moduleConfigurationResponse.data : [];\r\n\r\n                setBaseData((pre) => ({\r\n                    ...pre,\r\n                    products: productsData,\r\n                    branch: branchData,\r\n                    retailers: retailersData,\r\n                    voucherType: voucherType,\r\n                    uom: uomData,\r\n                    staff: staffData,\r\n                    staffType: staffCategoryData,\r\n                    godown: godownLocations,\r\n                    brand: getUniqueData(productsData, 'Brand', ['Brand_Name']),\r\n                    expence: expencesMaster.map(exp => ({\r\n                        Id: exp.Acc_Id,\r\n                        Expence_Name: exp.Account_Name,\r\n                        percentageValue: exp.percentageValue\r\n                    })),\r\n                    // stockInGodown: stockInGodowns,\r\n                    stockItemLedgerName: stockItemLedgerName,\r\n                    batchDetails: toArray(batchDetailsResponse.data),\r\n                    moduleConfiguration: moduleConfiguration\r\n                }));\r\n            } catch (e) {\r\n                console.error(\"Error fetching data:\", e);\r\n            } finally {\r\n                if (loadingOff) loadingOff();\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (isValidNumber(invoiceInfo.Retailer_Id)) {\r\n            fetchLink({\r\n                address: `receipt/receiptMaster/pendingSalesInvoiceReceipt/amount?Retailer_Id=${invoiceInfo.Retailer_Id}`,\r\n                loadingOff, loadingOn\r\n            }).then(data => {\r\n                if (data.success) {\r\n                    const invoiceCreationStatus = canCreateInvoice(data?.others);\r\n                    setRetailerSalesStatus(pre => ({\r\n                        ...pre,\r\n                        outstanding: toNumber(data?.others?.outstanding),\r\n                        creditLimit: toNumber(data?.others?.creditLimit),\r\n                        creditDays: toNumber(data?.others?.creditDays),\r\n                        recentDate: data?.others?.recentDate ? new Date(data?.others?.recentDate) : new Date(),\r\n                        invoiceCreationStatus: invoiceCreationStatus\r\n                    }));\r\n                }\r\n            }).catch(console.error);\r\n        } else setRetailerSalesStatus(retailerOutstandingDetails)\r\n    }, [invoiceInfo.Retailer_Id])\r\n\r\n    useEffect(() => {\r\n        if (\r\n            isValidObject(editValues) &&\r\n            Array.isArray(editValues?.Products_List)\r\n        ) {\r\n            const { Products_List, Expence_Array, Staffs_Array } = editValues;\r\n            setInvoiceInfo(\r\n                Object.fromEntries(\r\n                    Object.entries(salesInvoiceGeneralInfo).map(([key, value]) => {\r\n                        if (key === 'Do_Date') return [key, editValues[key] ? ISOString(editValues[key]) : value]\r\n                        return [key, editValues[key] ?? value]\r\n                    })\r\n                )\r\n            );\r\n            setInvoiceProduct(\r\n                Products_List.sort((a, b) => toNumber(a?.S_No) - toNumber(b?.S_No)).map(item => Object.fromEntries(\r\n                    Object.entries(salesInvoiceDetailsInfo).map(([key, value]) => {\r\n                        if (key === 'rowId') return [key, rid()]\r\n                        return [key, item[key] ?? value]\r\n                    })\r\n                ))\r\n            );\r\n            setInvoiceExpences(\r\n                toArray(Expence_Array).map(item => Object.fromEntries(\r\n                    Object.entries(salesInvoiceExpencesInfo).map(([key, value]) => {\r\n                        return [key, item[key] ?? value]\r\n                    })\r\n                ))\r\n            );\r\n            setStaffArray(() => {\r\n                const stateOfStaff = toArray(Staffs_Array).map(item => Object.fromEntries(\r\n                    Object.entries(salesInvoiceStaffInfo).map(([key, value]) => {\r\n                        return [key, item[key] ?? value]\r\n                    })\r\n                ));\r\n\r\n                return Array.from(\r\n                    new Map(\r\n                        stateOfStaff.map(item => [\r\n                            `${item.Emp_Id}-${item.Emp_Type_Id}`,\r\n                            item\r\n                        ])\r\n                    ).values()\r\n                );\r\n            });\r\n        }\r\n    }, [editValues])\r\n\r\n    useEffect(() => {\r\n        const staffs = toArray(editValues?.Staffs_Array)\r\n        if (checkIsNumber(invoiceInfo.Retailer_Id) && baseData.retailers.length && staffs.length === 0) {\r\n\r\n            const retailer = toArray(baseData.retailers).find(ret => isEqualNumber(ret?.Retailer_Id, invoiceInfo.Retailer_Id));\r\n\r\n            if (!retailer) return;\r\n\r\n            setStaffArray(prev => {\r\n                const newStaff = [];\r\n\r\n                if (isValidNumber(retailer.brokerId)) {\r\n                    newStaff.push({\r\n                        Emp_Id: retailer.brokerId,\r\n                        Emp_Name: retailer.brokerName,\r\n                        Emp_Type_Id: retailer.brokerTypeId\r\n                    });\r\n                }\r\n\r\n                if (isValidNumber(retailer.transporterId)) {\r\n                    newStaff.push({\r\n                        Emp_Id: retailer.transporterId,\r\n                        Emp_Name: retailer.transporterName,\r\n                        Emp_Type_Id: retailer.transporterTypeId\r\n                    });\r\n                }\r\n\r\n                let updatedStaff = [...prev];\r\n\r\n                newStaff.forEach(ns => {\r\n                    const existingIndex = updatedStaff.findIndex(ps => isEqualNumber(ps.Emp_Type_Id, ns.Emp_Type_Id));\r\n\r\n                    if (existingIndex !== -1) {\r\n                        const existing = updatedStaff[existingIndex];\r\n                        // If existing is dummy (no valid Emp_Id), replace it. \r\n                        // If existing is real (valid Emp_Id), keep it (don't overwrite manual selection).\r\n                        if (!isValidNumber(existing.Emp_Id)) {\r\n                            updatedStaff[existingIndex] = ns;\r\n                        }\r\n                    } else {\r\n                        updatedStaff.push(ns);\r\n                    }\r\n                });\r\n\r\n                return updatedStaff;\r\n            });\r\n        }\r\n    }, [invoiceInfo.Retailer_Id, baseData.retailers.length, editValues])\r\n\r\n    useEffect(() => {\r\n        if (baseData.stockItemLedgerName.length > 0 && !editValues?.Stock_Item_Ledger_Name) {\r\n            const stockItemName = baseData.stockItemLedgerName[0];\r\n\r\n            if (stockItemName) {\r\n                setInvoiceInfo(prev => ({ ...prev, Stock_Item_Ledger_Name: stockItemName?.Stock_Item_Ledger_Name }));\r\n            }\r\n        }\r\n    }, [editValues, baseData.stockItemLedgerName])\r\n\r\n    useEffect(() => {\r\n        const retailerId = invoiceInfo?.Retailer_Id;\r\n\r\n        if (isValidNumber(retailerId)) {\r\n            const retailerDetails = baseData.retailers.find(ret => isEqualNumber(ret.Retailer_Id, retailerId)) || {};\r\n\r\n            const retailerAddress = toArray(retailerDetails?.deliveryAddresses);\r\n            const {\r\n                lolDeliveryName = '',\r\n                lolPhoneNumber = '',\r\n                lolCityName = '',\r\n                lolDeliveryAddress = '',\r\n                lolGstNumber = '',\r\n                lolStateName = ''\r\n            } = retailerDetails;\r\n            // const withGstNumber = retailerAddress.find(add => isValidValue(add.gstNumber));\r\n            // const firstAddress = retailerAddress[0];\r\n\r\n            const billingAddress = retailerAddress.find(\r\n                addr => isEqualNumber(addr?.id, invoiceInfo?.deliveryAddressId)\r\n            ) ?? null;\r\n\r\n            if (billingAddress) {\r\n                setAddress(billingAddress, setRetailerDeliveryAddress)\r\n            } else {\r\n                setAddress({\r\n                    deliveryName: lolDeliveryName,\r\n                    phoneNumber: lolPhoneNumber,\r\n                    cityName: lolCityName,\r\n                    deliveryAddress: lolDeliveryAddress,\r\n                    gstNumber: lolGstNumber,\r\n                    stateName: lolStateName\r\n                }, setRetailerDeliveryAddress)\r\n            }\r\n\r\n            // else if (withGstNumber) {\r\n            //     setAddress(withGstNumber, setRetailerDeliveryAddress)\r\n            // } else if (firstAddress) {\r\n            //     setAddress({\r\n            //         ...firstAddress,\r\n            //         gstNumber: retailerDetails.Gstno ? String(retailerDetails.Gstno) : '',\r\n            //         id: retailerDetails.Gstno ? null : firstAddress.id\r\n            //     }, setRetailerDeliveryAddress)\r\n            // } else {\r\n            //     setAddress(retailerDeliveryAddressInfo, setRetailerDeliveryAddress)\r\n            // }\r\n\r\n            const shippingAddress = retailerAddress.find(\r\n                addr => isEqualNumber(addr?.id, invoiceInfo?.shipingAddressId)\r\n            ) ?? null;\r\n\r\n            if (shippingAddress) {\r\n                setAddress(shippingAddress, setRetailerShippingAddress)\r\n            } else {\r\n                setAddress({\r\n                    deliveryName: lolDeliveryName,\r\n                    phoneNumber: lolPhoneNumber,\r\n                    cityName: lolCityName,\r\n                    deliveryAddress: lolDeliveryAddress,\r\n                    gstNumber: lolGstNumber,\r\n                    stateName: lolStateName\r\n                }, setRetailerShippingAddress)\r\n            }\r\n\r\n            // else if (withGstNumber) {\r\n            //     setAddress(withGstNumber, setRetailerShippingAddress)\r\n            // } else if (firstAddress) {\r\n            //     setAddress({\r\n            //         ...firstAddress,\r\n            //         gstNumber: retailerDetails.Gstno ? String(retailerDetails.Gstno) : '',\r\n            //         id: retailerDetails.Gstno ? null : firstAddress.id\r\n            //     }, setRetailerShippingAddress)\r\n            // } else {\r\n            //     setAddress(retailerDeliveryAddressInfo, setRetailerShippingAddress)\r\n            // }\r\n        }\r\n    }, [baseData.retailers, invoiceInfo.Retailer_Id])\r\n\r\n    useEffect(() => {\r\n        const defaultStaffTypesData = defaultStaffTypes(baseData.staffType);\r\n        setStaffArray(pre => {\r\n            const newDefaults = defaultStaffTypesData.filter(def =>\r\n                !pre.some(p => isEqualNumber(p.Emp_Type_Id, def.Emp_Type_Id))\r\n            );\r\n            return [...pre, ...newDefaults];\r\n        })\r\n    }, [baseData.staffType])\r\n\r\n    useEffect(() => {\r\n        setInvoiceProduct(pre => {\r\n            const exist = [...pre];\r\n\r\n            return exist.map(item => {\r\n                return Object.fromEntries(\r\n                    Object.entries(item).map(([key, value]) => {\r\n                        const productMaster = findProductDetails(baseData.products, item?.Item_Id);\r\n                        const gstPercentage = IS_IGST ? productMaster.Igst_P : productMaster.Gst_P;\r\n                        const isTaxable = gstPercentage > 0;\r\n\r\n                        const { Bill_Qty, Item_Rate, Amount } = item;\r\n\r\n                        const itemRateGst = calculateGSTDetails(Item_Rate, gstPercentage, taxType);\r\n                        const gstInfo = calculateGSTDetails(Amount, gstPercentage, taxType);\r\n\r\n                        const cgstPer = !IS_IGST ? gstInfo.cgst_per : 0;\r\n                        const igstPer = IS_IGST ? gstInfo.igst_per : 0;\r\n                        const Cgst_Amo = !IS_IGST ? gstInfo.cgst_amount : 0;\r\n                        const Igst_Amo = IS_IGST ? gstInfo.igst_amount : 0;\r\n\r\n                        switch (key) {\r\n                            case 'Taxable_Rate': return [key, itemRateGst.base_amount]\r\n                            case 'Total_Qty': return [key, Bill_Qty]\r\n                            case 'Taxble': return [key, isTaxable ? 1 : 0]\r\n                            case 'Taxable_Amount': return [key, gstInfo.base_amount]\r\n                            case 'Tax_Rate': return [key, gstPercentage]\r\n                            case 'Cgst':\r\n                            case 'Sgst': return [key, cgstPer ?? 0]\r\n                            case 'Cgst_Amo':\r\n                            case 'Sgst_Amo': return [key, isNotTaxableBill ? 0 : Cgst_Amo]\r\n                            case 'Igst': return [key, igstPer ?? 0]\r\n                            case 'Igst_Amo': return [key, isNotTaxableBill ? 0 : Igst_Amo]\r\n                            case 'Final_Amo': return [key, gstInfo.with_tax]\r\n\r\n                            default: return [key, item[key] || value]\r\n                        }\r\n                    })\r\n                )\r\n            })\r\n        });\r\n    }, [baseData.products, IS_IGST, taxType]);\r\n\r\n    useEffect(() => {\r\n        setInvoiceExpences(pre => {\r\n            const exist = [...pre];\r\n\r\n            return exist.map(item => {\r\n                const\r\n                    Igst = IS_IGST ? toNumber(item?.Igst) : 0,\r\n                    Cgst = !IS_IGST ? toNumber(item?.Cgst) : 0,\r\n                    Sgst = !IS_IGST ? toNumber(item?.Sgst) : 0,\r\n                    Expence_Value = toNumber(item?.Expence_Value),\r\n                    taxPercentage = IS_IGST ? Igst : Addition(Cgst, Sgst);\r\n\r\n                const taxAmount = calculateGSTDetails(Expence_Value, taxPercentage, taxType);\r\n\r\n                return {\r\n                    ...item,\r\n                    Cgst, Sgst, Igst,\r\n                    Expence_Value,\r\n                    Cgst_Amo: Cgst > 0 ? taxAmount.cgst_amount : 0,\r\n                    Sgst_Amo: Sgst > 0 ? taxAmount.sgst_amount : 0,\r\n                    Igst_Amo: Igst > 0 ? taxAmount.igst_amount : 0,\r\n                }\r\n            })\r\n        })\r\n    }, [baseData.expence, IS_IGST, taxType])\r\n\r\n    // Expence Info\r\n\r\n    const invExpencesTotal = useMemo(() => {\r\n        return toArray(invoiceExpences).reduce((acc, exp) => Addition(acc, exp?.Expence_Value), 0)\r\n    }, [invoiceExpences]);\r\n\r\n    const Total_Invoice_value = useMemo(() => {\r\n        const invValue = invoiceProducts.reduce((acc, item) => {\r\n            const Amount = RoundNumber(item?.Amount);\r\n\r\n            if (isNotTaxableBill) return Addition(acc, Amount);\r\n\r\n            const product = findProductDetails(baseData.products, item.Item_Id);\r\n            const gstPercentage = IS_IGST ? product.Igst_P : product.Gst_P;\r\n\r\n            if (isInclusive) {\r\n                return Addition(acc, calculateGSTDetails(Amount, gstPercentage, 'remove').with_tax);\r\n            } else {\r\n                return Addition(acc, calculateGSTDetails(Amount, gstPercentage, 'add').with_tax);\r\n            }\r\n        }, 0);\r\n\r\n        return Addition(invValue, invExpencesTotal);\r\n    }, [invoiceProducts, isNotTaxableBill, baseData.products, IS_IGST, isInclusive, invExpencesTotal])\r\n\r\n    const taxSplitUp = useMemo(() => {\r\n        if (toArray(invoiceProducts).length === 0) return {};\r\n\r\n        let totalTaxable = 0;\r\n        let totalTax = 0;\r\n\r\n        invoiceProducts.forEach(item => {\r\n            const Amount = RoundNumber(item?.Amount || 0);\r\n\r\n            if (isNotTaxableBill) {\r\n                totalTaxable = Addition(totalTaxable, Amount);\r\n                return;\r\n            }\r\n\r\n            const product = findProductDetails(baseData.products, item.Item_Id);\r\n            const gstPercentage = isEqualNumber(IS_IGST, 1) ? product.Igst_P : product.Gst_P;\r\n\r\n            const taxInfo = calculateGSTDetails(Amount, gstPercentage, isInclusive ? 'remove' : 'add');\r\n\r\n            totalTaxable = Addition(totalTaxable, parseFloat(taxInfo.without_tax));\r\n            totalTax = Addition(totalTax, parseFloat(taxInfo.tax_amount));\r\n        });\r\n\r\n        const totalWithTax = Addition(totalTaxable, totalTax);\r\n        const totalWithExpenses = Addition(totalWithTax, invExpencesTotal);\r\n        const roundedTotal = Math.round(totalWithExpenses);\r\n        const roundOff = RoundNumber(roundedTotal - totalWithExpenses);\r\n\r\n        const cgst = isEqualNumber(IS_IGST, 1) ? 0 : RoundNumber(totalTax / 2);\r\n        const sgst = isEqualNumber(IS_IGST, 1) ? 0 : RoundNumber(totalTax / 2);\r\n        const igst = isEqualNumber(IS_IGST, 1) ? RoundNumber(totalTax) : 0;\r\n\r\n        return {\r\n            totalTaxable: RoundNumber(totalTaxable),\r\n            totalTax: RoundNumber(totalTax),\r\n            cgst,\r\n            sgst,\r\n            igst,\r\n            roundOff,\r\n            invoiceTotal: roundedTotal\r\n        };\r\n\r\n    }, [invoiceProducts, baseData.products, IS_IGST, isNotTaxableBill, isInclusive, invExpencesTotal]);\r\n\r\n    useEffect(() => {\r\n        if (taxSplitUp?.roundOff && taxSplitUp?.roundOff !== invoiceInfo.Round_off) {\r\n            setInvoiceInfo(pre => ({ ...pre, Round_off: taxSplitUp.roundOff }));\r\n        }\r\n    }, [taxSplitUp?.roundOff]);\r\n\r\n    const clearValues = () => {\r\n        setInvoiceInfo(salesInvoiceGeneralInfo);\r\n        setInvoiceProduct([]);\r\n        setInvoiceExpences([]);\r\n        setStaffArray([]);\r\n    }\r\n\r\n    const saveSalesInvoice = () => {\r\n\r\n        if (isValidNumber(invoiceInfo?.Do_Id) && filterableText(invoiceInfo?.Alter_Reason).length === 0) {\r\n            toast.warn('Alter reason is required');\r\n            return;\r\n        }\r\n\r\n        if (retailerSalesStatus.forceCreateInvoice === false && activeInvoiceCreationStatus === false) {\r\n            setRetailerSalesStatus(pre => ({ ...pre, dialog: true }));\r\n            return;\r\n        }\r\n\r\n        fetchLink({\r\n            address: `sales/salesInvoice`,\r\n            method: checkIsNumber(invoiceInfo?.Do_Id) ? 'PUT' : 'POST',\r\n            loadingOff, loadingOn,\r\n            bodyData: {\r\n                ...invoiceInfo,\r\n                deliveryAddressDetails: {\r\n                    delivery_id: retailerDeliveryAddress?.id,\r\n                    deliveryName: retailerDeliveryAddress?.deliveryName,\r\n                    phoneNumber: retailerDeliveryAddress?.phoneNumber,\r\n                    cityName: retailerDeliveryAddress?.cityName,\r\n                    deliveryAddress: retailerDeliveryAddress?.deliveryAddress,\r\n                    gstNumber: retailerDeliveryAddress?.gstNumber,\r\n                    stateName: retailerDeliveryAddress?.stateName\r\n                },\r\n                shipingAddressDetails: {\r\n                    delivery_id: retailerShippingAddress?.id,\r\n                    deliveryName: retailerShippingAddress?.deliveryName,\r\n                    phoneNumber: retailerShippingAddress?.phoneNumber,\r\n                    cityName: retailerShippingAddress?.cityName,\r\n                    deliveryAddress: retailerShippingAddress?.deliveryAddress,\r\n                    gstNumber: retailerShippingAddress?.gstNumber,\r\n                    stateName: retailerShippingAddress?.stateName\r\n                },\r\n                Product_Array: invoiceProducts.map((item, index) => ({ ...item, S_No: index + 1 })),\r\n                Staffs_Array: Array.from(\r\n                    new Map(\r\n                        staffArray.filter(\r\n                            item => isValidNumber(item.Emp_Id) && isValidNumber(item.Emp_Type_Id)\r\n                        ).map(item => [\r\n                            `${item.Emp_Id}-${item.Emp_Type_Id}`,\r\n                            item\r\n                        ])\r\n                    ).values()\r\n                ),\r\n                Expence_Array: invoiceExpences\r\n            }\r\n        }).then(data => {\r\n            if (data.success) {\r\n                const savedDoId = data.others?.Do_Id;\r\n\r\n                toast.success(data.message);\r\n\r\n                // Open print dialog with the saved Do_Id\r\n                setPrintDialog({\r\n                    open: true,\r\n                    Do_Id: savedDoId,\r\n                    deliverySlipDialog: false\r\n                });\r\n\r\n                // Clear form after successful submission (optional)\r\n                // clearValues();\r\n            } else {\r\n                toast.warn(data.message);\r\n            }\r\n        }).catch(e => {\r\n            console.error(e);\r\n            toast.error(\"Failed to save invoice\");\r\n        })\r\n    }\r\n\r\n    const salesInvoiceAccess = useMemo(() => {\r\n        const crudAction = isEdit ? 3 : 1;\r\n        return {\r\n            stockSeparation: getModuleAccess(baseData.moduleConfiguration, 'SI_1', crudAction),\r\n            singleGodown: getModuleAccess(baseData.moduleConfiguration, 'SI_3', crudAction),\r\n            creditAmountLimit: getModuleAccess(baseData.moduleConfiguration, 'SI_4', crudAction),\r\n            creditDaysLimit: getModuleAccess(baseData.moduleConfiguration, 'SI_5', crudAction),\r\n            voucherBasedGodown: getModuleAccess(baseData.moduleConfiguration, 'SI_6', crudAction)\r\n        };\r\n    }, [baseData.moduleConfiguration, isEdit]);\r\n\r\n    const activeInvoiceCreationStatus = useMemo(() => {\r\n        const { outstanding, creditLimit, creditDays, recentDate, forceCreateInvoice } = retailerSalesStatus;\r\n\r\n        if (forceCreateInvoice) return true;\r\n        if (!recentDate) return true;\r\n\r\n        const baseDate = new Date(recentDate);\r\n        const expiryDate = new Date(baseDate);\r\n        expiryDate.setDate(expiryDate.getDate() + toNumber(creditDays));\r\n        const today = new Date();\r\n\r\n        const currentTotal = taxSplitUp?.invoiceTotal || 0;\r\n        const isOutstandingExceeded = toNumber(creditLimit) > 0\r\n            ? Addition(toNumber(outstanding), currentTotal) > toNumber(creditLimit)\r\n            : false;\r\n\r\n        const isCreditDaysCrossed = toNumber(creditDays) > 0\r\n            ? today > expiryDate\r\n            : false;\r\n\r\n        if (salesInvoiceAccess.creditAmountLimit && isOutstandingExceeded) return false;\r\n        if (salesInvoiceAccess.creditDaysLimit && isCreditDaysCrossed) return false;\r\n\r\n        return true;\r\n    }, [retailerSalesStatus, salesInvoiceAccess, taxSplitUp?.invoiceTotal]);\r\n\r\n    const voucherGodownCondition = useMemo(() => {\r\n        if (!salesInvoiceAccess.voucherBasedGodown) return true;\r\n        if (isEdit) return true;\r\n        const selectedVoucher = baseData.voucherType.find(item => isEqualNumber(item.Vocher_Type_Id, invoiceInfo.Voucher_Type)) || {};\r\n        const voucherGodown = toNumber(selectedVoucher?.GodownId);\r\n        const productHasGodown = invoiceProducts.length > 0 && invoiceProducts.every(item => isEqualNumber(item?.GoDown_Id, voucherGodown));\r\n        return productHasGodown;\r\n    }, [baseData.voucherType, invoiceInfo.Voucher_Type, invoiceProducts, isEdit, salesInvoiceAccess.voucherBasedGodown]);\r\n\r\n    const isSingleGodownValid = useMemo(() => {\r\n        if (!salesInvoiceAccess.singleGodown) return true;\r\n        if (invoiceProducts.length <= 1) return true;\r\n\r\n        const firstGodown = invoiceProducts[0]?.GoDown_Id;\r\n        return invoiceProducts.every(item => isEqualNumber(item?.GoDown_Id, firstGodown));\r\n    }, [invoiceProducts, salesInvoiceAccess.singleGodown]);\r\n\r\n    const isStockValid = useMemo(() => {\r\n        if (!salesInvoiceAccess.stockSeparation) return true;\r\n        if (invoiceProducts.length === 0) return true;\r\n\r\n        const hasPositive = invoiceProducts.some(item => {\r\n            const stock = toNumber(item?.Godown_Stock);\r\n            const qty = toNumber(item?.Bill_Qty);\r\n            return Subraction(stock, qty) >= 0;\r\n        });\r\n\r\n        const hasNegative = invoiceProducts.some(item => {\r\n            const stock = toNumber(item?.Godown_Stock);\r\n            const qty = toNumber(item?.Bill_Qty);\r\n            return Subraction(stock, qty) < 0;\r\n        });\r\n\r\n        return !(hasPositive && hasNegative);\r\n    }, [invoiceProducts, salesInvoiceAccess.stockSeparation]);\r\n\r\n    const cumulativeRow = useMemo(() => {\r\n        if (invoiceProducts.length > 0) {\r\n            const totals = invoiceProducts.reduce(\r\n                (acc, item) => ({\r\n                    Act_Qty: Addition(acc.Act_Qty, item.Act_Qty),\r\n                    Alt_Act_Qty: Addition(acc.Alt_Act_Qty, item.Alt_Act_Qty),\r\n                    Bill_Qty: Addition(acc.Bill_Qty, item.Bill_Qty),\r\n                    Alt_Bill_Qty: Addition(acc.Alt_Bill_Qty, item.Alt_Bill_Qty),\r\n                    Amount: Addition(acc.Amount, item.Amount),\r\n                }),\r\n                {\r\n                    Act_Qty: 0,\r\n                    Alt_Act_Qty: 0,\r\n                    Bill_Qty: 0,\r\n                    Alt_Bill_Qty: 0,\r\n                    Amount: 0,\r\n                }\r\n            );\r\n\r\n            return {\r\n                ...salesInvoiceDetailsInfo,\r\n                ...totals,\r\n                Item_Name: 'Total',\r\n                Item_Id: 'TOTAL_ROW',\r\n            };\r\n        }\r\n        return null;\r\n    }, [invoiceProducts]);\r\n\r\n    const saveFunWithCodition = () => {\r\n        if (voucherGodownCondition) {\r\n            saveSalesInvoice();\r\n        } else {\r\n            setDialog(pre => ({ ...pre, godownMismatch: true }));\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n\r\n            <AddProductForm\r\n                orderProducts={invoiceProducts}\r\n                setOrderProducts={setInvoiceProduct}\r\n                open={dialog.addProductDialog}\r\n                onClose={() => {\r\n                    setDialog(pre => ({ ...pre, addProductDialog: false }))\r\n                    setSelectedProductToEdit(null);\r\n                }}\r\n                products={baseData.products}\r\n                brands={baseData.brand}\r\n                uom={baseData.uom}\r\n                godowns={baseData.godown}\r\n                GST_Inclusive={invoiceInfo.GST_Inclusive}\r\n                IS_IGST={IS_IGST}\r\n                editValues={selectedProductToEdit}\r\n                initialValue={{ ...salesInvoiceDetailsInfo, Pre_Id: invoiceInfo.So_No, rowId: rid() }}\r\n                batchDetails={baseData.batchDetails}\r\n                saleOrderNumber={toNumber(invoiceInfo.So_No)}\r\n                voucherType={invoiceInfo}\r\n            />\r\n\r\n            <Card>\r\n                <div className='d-flex flex-wrap align-items-center border-bottom py-2 px-3'>\r\n                    <span className=\"flex-grow-1 fa-16 fw-bold\">Sales Invoice</span>\r\n                    <span>\r\n                        <Button type='button' onClick={() => {\r\n                            if (window.history.length > 1) {\r\n                                navigate(-1);\r\n                            } else {\r\n                                navigate('/erp/sales/invoice');\r\n                            }\r\n                        }}>Cancel</Button>\r\n                        <Button onClick={saveFunWithCodition} variant=\"contained\" disabled={!isStockValid || !isSingleGodownValid}>submit</Button>\r\n                    </span>\r\n                </div>\r\n                <CardContent>\r\n                    <div className=\"row p-0\">\r\n                        {/* staff info */}\r\n                        <div className=\"col-xxl-3 col-lg-4 col-md-5 p-2\">\r\n                            <div className=\"border p-2\" style={{ minHeight: '30vh', height: '100%' }}>\r\n                                <InvolvedStaffs\r\n                                    StaffArray={staffArray}\r\n                                    setStaffArray={setStaffArray}\r\n                                    costCenter={baseData.staff}\r\n                                    costCategory={baseData.staffType}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* general info */}\r\n                        <div className=\"col-xxl-9 col-lg-8 col-md-7 py-2 px-0\">\r\n                            <div className=\"border px-3 py-1\" style={{ minHeight: '30vh', height: '100%' }}>\r\n                                <ManageSalesInvoiceGeneralInfo\r\n                                    invoiceInfo={invoiceInfo}\r\n                                    setInvoiceInfo={setInvoiceInfo}\r\n                                    retailers={baseData.retailers}\r\n                                    branches={baseData.branch}\r\n                                    voucherType={baseData.voucherType}\r\n                                    stockItemLedgerName={baseData.stockItemLedgerName}\r\n                                    onChangeRetailer={() => {\r\n                                        // setInvoiceProduct([]);\r\n                                        // setInvoiceExpences([]);\r\n                                    }}\r\n                                    retailerDeliveryAddress={retailerDeliveryAddress}\r\n                                    setRetailerDeliveryAddress={setRetailerDeliveryAddress}\r\n                                    shippingAddress={retailerShippingAddress}\r\n                                    setShippingAddress={setRetailerShippingAddress}\r\n                                    retailerSalesStatus={{\r\n                                        ...retailerSalesStatus,\r\n                                        invoiceCreationStatus: activeInvoiceCreationStatus\r\n                                    }}\r\n                                    staffArray={staffArray}\r\n                                    setStaffArray={setStaffArray}\r\n                                    salesInvoiceAccess={salesInvoiceAccess}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {!isStockValid && salesInvoiceAccess.stockSeparation && (\r\n                        <div className=\"alert alert-danger p-2 mb-2\">\r\n                            Can't save invoice with mixed stock (positive and negative). Please ensure all items have either positive or negative stock.\r\n                        </div>\r\n                    )}\r\n\r\n                    {!isSingleGodownValid && salesInvoiceAccess.singleGodown && (\r\n                        <div className=\"alert alert-danger p-2 mb-2\">\r\n                            Can't save invoice with multiple godowns. Please ensure all items are from a single godown.\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* product details */}\r\n                    <FilterableTable\r\n                        title=\"Items\"\r\n                        headerFontSizePx={13}\r\n                        bodyFontSizePx={13}\r\n                        EnableSerialNumber\r\n                        disablePagination\r\n                        ButtonArea={\r\n                            <>\r\n                                <Button\r\n                                    onClick={() => {\r\n                                        setSelectedProductToEdit(null);\r\n                                        setDialog(pre => ({ ...pre, addProductDialog: true }));\r\n                                    }}\r\n                                    sx={{ ml: 1 }}\r\n                                    variant='outlined'\r\n                                    type=\"button\"\r\n                                    startIcon={<Add />}\r\n                                    disabled={\r\n                                        !checkIsNumber(invoiceInfo.Retailer_Id)\r\n                                        || (invoiceProducts.length > 0\r\n                                            && checkIsNumber(invoiceInfo.So_No))\r\n                                    }\r\n                                >Add Product</Button>\r\n\r\n                                <AddProductsInSalesInvoice\r\n                                    loadingOn={loadingOn}\r\n                                    loadingOff={loadingOff}\r\n                                    open={dialog.importFromSaleOrder}\r\n                                    onClose={() => setDialog(pre => ({ ...pre, importFromSaleOrder: false }))}\r\n                                    retailer={invoiceInfo?.Retailer_Id}\r\n                                    selectedItems={invoiceProducts}\r\n                                    setSelectedItems={setInvoiceProduct}\r\n                                    staffArray={staffArray}\r\n                                    setStaffArray={setStaffArray}\r\n                                    products={baseData.products}\r\n                                    GST_Inclusive={invoiceInfo.GST_Inclusive}\r\n                                    IS_IGST={IS_IGST}\r\n                                    invoiceInfo={invoiceInfo}\r\n                                    setInvoiceInfo={setInvoiceInfo}\r\n                                    godowns={baseData.godown}\r\n                                    stockInGodown={baseData.stockInGodown}\r\n                                >\r\n                                    <Button\r\n                                        onClick={() => setDialog(pre => ({ ...pre, importFromSaleOrder: true }))}\r\n                                        disabled={\r\n                                            !checkIsNumber(invoiceInfo.Retailer_Id)\r\n                                            || (\r\n                                                invoiceProducts.length > 0\r\n                                                && !checkIsNumber(invoiceInfo.So_No)\r\n                                            )\r\n                                        }\r\n                                        sx={{ ml: 1 }}\r\n                                        type=\"button\"\r\n                                        variant='outlined'\r\n                                        startIcon={<ReceiptLong />}\r\n                                    >Choose Sale Order</Button>\r\n                                </AddProductsInSalesInvoice>\r\n                            </>\r\n                        }\r\n                        dataArray={[\r\n                            ...invoiceProducts,\r\n                            ...Array.from({\r\n                                length: dummyRowCount > 0 ? dummyRowCount : 0\r\n                            }).map(d => salesInvoiceDetailsInfo),\r\n                            ...(cumulativeRow ? [cumulativeRow] : []),\r\n                        ]}\r\n                        columns={[\r\n                            createCol('Item_Name', 'string'),\r\n                            createCol('Batch_Name', 'string'),\r\n                            {\r\n                                isVisible: 1,\r\n                                ColumnHeader: 'Act Qty',\r\n                                isCustomCell: true,\r\n                                Cell: ({ row }) => {\r\n                                    return row?.Act_Qty ? `${row?.Act_Qty} (${row?.Alt_Act_Qty})` : '';\r\n                                }\r\n                            },\r\n                            {\r\n                                isVisible: 1,\r\n                                ColumnHeader: 'Bill Qty',\r\n                                isCustomCell: true,\r\n                                Cell: ({ row }) => {\r\n                                    return row?.Bill_Qty ? `${row?.Bill_Qty} (${row?.Alt_Bill_Qty})` : '';\r\n                                }\r\n                            },\r\n                            createCol('Item_Rate', 'number'),\r\n                            {\r\n                                isVisible: 1,\r\n                                ColumnHeader: 'Tax',\r\n                                isCustomCell: true,\r\n                                Cell: ({ row }) => {\r\n                                    const { Cgst = 0, Sgst = 0, Igst = 0, Cgst_Amo = 0, Sgst_Amo = 0, Igst_Amo = 0 } = row;\r\n                                    const taxPercentage = IS_IGST ? Igst : Addition(Cgst, Sgst);\r\n                                    const taxAmount = IS_IGST ? Igst_Amo : Addition(Cgst_Amo, Sgst_Amo);\r\n\r\n                                    return !checkIsNumber(row?.Item_Id) ? '' : `${taxAmount} - (${taxPercentage} %)`\r\n                                }\r\n                            },\r\n                            {\r\n                                isVisible: 1,\r\n                                ColumnHeader: 'Godown',\r\n                                isCustomCell: true,\r\n                                Cell: ({ row }) => baseData.godown.find(\r\n                                    godown => isEqualNumber(godown.Godown_Id, row?.GoDown_Id)\r\n                                )?.Godown_Name ?? ''\r\n                            },\r\n                            createCol('Amount', 'number'),\r\n                            {\r\n                                isCustomCell: true,\r\n                                Cell: ({ row }) => {\r\n                                    return (\r\n                                        <>\r\n                                            <IconButton\r\n                                                onClick={() => {\r\n                                                    setSelectedProductToEdit(row);\r\n                                                    setDialog(pre => ({ ...pre, addProductDialog: true }));\r\n                                                }}\r\n                                                size=\"small\"\r\n                                                type=\"button\"\r\n                                                disabled={!checkIsNumber(row?.Item_Id)}\r\n                                            >\r\n                                                <Edit />\r\n                                            </IconButton>\r\n                                            <IconButton\r\n                                                size=\"small\"\r\n                                                type=\"button\"\r\n                                                onClick={() => setInvoiceProduct(\r\n                                                    pre => pre.filter(obj => obj.rowId !== row.rowId)\r\n                                                )}\r\n                                                color='error'\r\n                                                disabled={!checkIsNumber(row?.Item_Id)}\r\n                                            >\r\n                                                <Delete />\r\n                                            </IconButton>\r\n                                        </>\r\n                                    )\r\n                                },\r\n                                ColumnHeader: 'Action',\r\n                                isVisible: 1,\r\n                            },\r\n                        ]}\r\n                    />\r\n\r\n                    <br />\r\n\r\n                    <ExpencesOfSalesInvoice\r\n                        invoiceExpences={invoiceExpences}\r\n                        setInvoiceExpences={setInvoiceExpences}\r\n                        expenceMaster={baseData.expence}\r\n                        IS_IGST={IS_IGST}\r\n                        taxType={taxType}\r\n                        Total_Invoice_value={Total_Invoice_value}\r\n                        invoiceProducts={invoiceProducts}\r\n                        findProductDetails={findProductDetails}\r\n                        products={baseData.products}\r\n                    />\r\n\r\n                    <br />\r\n\r\n                    <SalesInvoiceTaxDetails\r\n                        invoiceExpences={invoiceExpences}\r\n                        isNotTaxableBill={isNotTaxableBill}\r\n                        isInclusive={isInclusive}\r\n                        IS_IGST={IS_IGST}\r\n                        products={baseData.products}\r\n                        invoiceInfo={invoiceInfo}\r\n                        setInvoiceInfo={setInvoiceInfo}\r\n                        invExpencesTotal={invExpencesTotal}\r\n                        Total_Invoice_value={Total_Invoice_value}\r\n                        taxSplitUp={taxSplitUp}\r\n                    />\r\n\r\n                    {/* narration */}\r\n                    {/* <div className=\"col-12 p-2\"> */}\r\n                    <label className='fa-13'>Narration</label>\r\n                    <textarea\r\n                        className=\"cus-inpt fa-14\"\r\n                        rows={2}\r\n                        value={invoiceInfo.Narration}\r\n                        onChange={e => setInvoiceInfo(pre => ({ ...pre, Narration: e.target.value }))}\r\n                    />\r\n                    {/* </div> */}\r\n                </CardContent>\r\n                <CardActions className=\"d-flex justify-content-end\">\r\n                    <Button type='button' onClick={() => {\r\n                        if (window.history.length > 1) {\r\n                            navigate(-1);\r\n                        } else {\r\n                            navigate('/erp/sales/invoice');\r\n                        }\r\n                    }}>Cancel</Button>\r\n                    <Button onClick={saveFunWithCodition} variant=\"contained\" disabled={!isStockValid}>submit</Button>\r\n                </CardActions>\r\n            </Card>\r\n\r\n            <AppDialog\r\n                open={dialog.godownMismatch}\r\n                onClose={() => setDialog(pre => ({ ...pre, godownMismatch: false }))}\r\n                title=\"Godown Mismatch\"\r\n                submitText=\"Yes\"\r\n                closeText=\"No\"\r\n                onSubmit={() => {\r\n                    setDialog(pre => ({ ...pre, godownMismatch: false }));\r\n                    saveSalesInvoice();\r\n                }}\r\n            >\r\n                The godown is not match with Voucher type anyway do you want to save?\r\n            </AppDialog>\r\n\r\n            <AppDialog\r\n                open={retailerSalesStatus.dialog}\r\n                onClose={() => setRetailerSalesStatus(pre => ({ ...pre, dialog: false }))}\r\n                title=\"Retailer Sales Status\"\r\n                onSubmit={() => {\r\n                    setRetailerSalesStatus(pre => ({ ...pre, dialog: false, forceCreateInvoice: true }));\r\n                    saveSalesInvoice();\r\n                }}\r\n                submitText=\"Yes\"\r\n                closeText=\"No\"\r\n                maxWidth=\"sm\"\r\n                fullWidth\r\n                isSubmit\r\n            >\r\n                <h3>The Retailer Exceeds the credit limit and credit days!</h3>\r\n                <p>Anyway Do you want to create invoice?</p>\r\n            </AppDialog>\r\n\r\n            <Dialog\r\n                open={printDialog.open}\r\n                maxWidth=\"lg\"\r\n                fullWidth\r\n                scroll=\"paper\"\r\n                onClose={() => {\r\n                    setPrintDialog({ open: false, Do_Id: null, deliverySlipDialog: false });\r\n                    clearValues();\r\n                    navigate('/erp/sales/invoice');\r\n                }}\r\n            >\r\n                <DialogTitle className=\"d-flex align-items-center justify-content-between\">\r\n                    <span>Print Invoice #{printDialog.Do_Id}</span>\r\n                    <div className=\"d-flex align-items-center\">\r\n                        <Button\r\n                            variant=\"outlined\"\r\n                            size=\"small\"\r\n                            onClick={() => {\r\n                                setPrintDialog({\r\n                                    open: false,\r\n                                    Do_Id: printDialog.Do_Id,\r\n                                    deliverySlipDialog: true\r\n                                });\r\n                            }}\r\n                            sx={{ mr: 1 }}\r\n                        >\r\n                            Delivery Slip\r\n                        </Button>\r\n                        <IconButton\r\n                            onClick={() => {\r\n                                setPrintDialog({ open: false, Do_Id: null, deliverySlipDialog: false });\r\n                                clearValues();\r\n                                navigate('/erp/sales/invoice');\r\n                            }}\r\n                            size=\"small\"\r\n                        >\r\n                            <Close />\r\n                        </IconButton>\r\n                    </div>\r\n                </DialogTitle>\r\n                <DialogContent>\r\n                    {printDialog.Do_Id && (\r\n                        <InvoiceTemplate\r\n                            Do_Id={printDialog.Do_Id}\r\n                            loadingOn={loadingOn}\r\n                            loadingOff={loadingOff}\r\n                        />\r\n                    )}\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button\r\n                        onClick={() => {\r\n                            setPrintDialog({ open: false, Do_Id: null, deliverySlipDialog: false });\r\n                            clearValues();\r\n                            navigate('/erp/sales/invoice');\r\n                        }}\r\n                    >\r\n                        Close and Go to Listing\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n            <Dialog\r\n                open={printDialog.deliverySlipDialog || false}\r\n                onClose={() => {\r\n                    setPrintDialog({\r\n                        open: false,\r\n                        Do_Id: null,\r\n                        deliverySlipDialog: false\r\n                    });\r\n                    navigate('/erp/sales/invoice');\r\n                }}\r\n                maxWidth=\"lg\"\r\n                fullWidth\r\n                scroll=\"paper\"\r\n            >\r\n                <DialogTitle className=\"d-flex align-items-center justify-content-between\">\r\n                    <span>Delivery Slip for Invoice #{printDialog.Do_Id}</span>\r\n                    <IconButton\r\n                        onClick={() => {\r\n                            setPrintDialog({\r\n                                open: false,\r\n                                Do_Id: null,\r\n                                deliverySlipDialog: false\r\n                            });\r\n                            navigate('/erp/sales/invoice');\r\n                        }}\r\n                        size=\"small\"\r\n                    >\r\n                        <Close />\r\n                    </IconButton>\r\n                </DialogTitle>\r\n                <DialogContent>\r\n                    {printDialog.Do_Id && (\r\n                        <DeliverySlipprint\r\n                            Do_Id={printDialog.Do_Id}\r\n                            loadingOn={loadingOn}\r\n                            loadingOff={loadingOff}\r\n                        />\r\n                    )}\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button\r\n                        onClick={() => {\r\n                            setPrintDialog({\r\n                                open: false,\r\n                                Do_Id: null,\r\n                                deliverySlipDialog: false\r\n                            });\r\n                            navigate('/erp/sales/invoice');\r\n                        }}\r\n                    >\r\n                        Close\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CreateSalesInvoice;","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3m-3 11H8v-5h8zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m-1-9H6v4h12z\"\n}), 'Print');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon([/*#__PURE__*/_jsx(\"path\", {\n  d: \"M19.5 3.5 18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2v14H3v3c0 1.66 1.34 3 3 3h12c1.66 0 3-1.34 3-3V2zM19 19c0 .55-.45 1-1 1s-1-.45-1-1v-3H8V5h11z\"\n}, \"0\"), /*#__PURE__*/_jsx(\"path\", {\n  d: \"M9 7h6v2H9zm7 0h2v2h-2zm-7 3h6v2H9zm7 0h2v2h-2z\"\n}, \"1\")], 'ReceiptLong');"],"names":["getCardActionsUtilityClass","slot","generateUtilityClass","generateUtilityClasses","_excluded","CardActionsRoot","styled","name","overridesResolver","props","styles","ownerState","root","disableSpacing","spacing","_ref","_extends","display","alignItems","padding","marginLeft","React","inProps","ref","useDefaultProps","className","other","_objectWithoutPropertiesLoose","classes","slots","composeClasses","useUtilityClasses","_jsx","clsx","StaffArray","setStaffArray","costCenter","costCategory","getStaffOptions","row","index","checkIsNumber","Emp_Type_Id","categoryId","currentIndex","toArray","filter","staff","isEqualNumber","User_Type","some","st","idx","Emp_Id","Cost_Center_Id","map","value","label","Allias_Name","userType","getAllStaffs","getFilteredStaffs","_jsxs","_Fragment","children","Button","variant","color","type","onClick","pre","_objectSpread","salesInvoiceStaffInfo","Select","Emp_Name","onChange","e","handleStaffChange","selectedOption","prev","staffRow","selectedStaff","find","Number","options","customSelectStyles","isSearchable","placeholder","filterOption","reactSelectFilterLogic","noOptionsMessage","style","maxWidth","minWidth","handleCategoryChange","newCategoryId","target","currentStaff","shouldClearStaff","category","Cost_Category_Id","Cost_Category","IconButton","_","filIndex","size","Delete","validStockValue","Item_Id","Godown_Id","stockInGodown","_toArray$find","godownStockValue","godownItem","Product_Id","Act_Bal_Qty","toNumber","_findProductDetails","_godowns$find","orderProducts","setOrderProducts","open","onClose","products","brands","uom","godowns","GST_Inclusive","IS_IGST","editValues","initialValue","batchDetails","productDetails","setProductDetails","useState","isInclusive","isNotTaxableBill","stockInGodowns","setStockInGodowns","lastEditedRef","useRef","useEffect","isValidObject","Object","fromEntries","entries","_ref2","key","findProductDetails","productid","_products$find","obj","closeDialog","handleFormSubmit","shouldClose","preventDefault","isValidNumber","hasOwn","GoDown_Id","toast","warn","arguments","length","undefined","ordered","rowId","_ref3","productMaster","gstPercentage","Igst_P","Gst_P","isTaxable","godownStock","Bill_Qty","Item_Rate","Amount","taxType","itemRateGst","calculateGSTDetails","gstInfo","cgstPer","cgst_per","igstPer","igst_per","Cgst_Amo","cgst_amount","Igst_Amo","igst_amount","Product_Name","base_amount","with_tax","handleProductInputChange","fetchLink","address","concat","then","data","success","sort","a","b","productInfo","useMemo","currentProduct","current","amount","Multiplication","rate","Division","Act_Qty","godownOptions","pack","PackGet","stock","packQty","Godown_Name","_ref4","_objectWithoutProperties","Dialog","fullWidth","DialogTitle","onSubmit","DialogContent","BrandID","Brand","isDisabled","Brand_Name","menuPortalTarget","document","body","maxMenuHeight","GroupID","Group","pro","reduce","acc","grp","Product_Group","push","Pro_Group","RequiredStar","Pre_Id","_productInfo$Pro_Grou","_productInfo$Product_","_productInfo$Brand_Na","_productInfo$Brand","_productInfo$Item_Rat","_productInfo$UOM_Id","_productInfo$Units","Alt_Bill_Qty","Alt_Act_Qty","Unit_Id","UOM_Id","Unit_Name","Units","HSN_Code","findIndex","ind","g","onInput","onlynum","disabled","alterQuantity","required","qty","min","onRateChange","UOM","selectedIndex","text","o","i","onAmountChange","Batch_Name","bat","item_id","godown_id","pendingQuantity","batch","DialogActions","startIcon","ClearAll","getModuleAccess","code","crudAction","Array","isArray","actions","item","action","ruleCode","createAccess","createOption","readAccess","getOption","updateAccess","updateOption","deleteAccess","deleteOption","_arr$find","loadingOn","loadingOff","navigate","useNavigate","useLocation","state","baseData","setBaseData","branch","retailers","voucherType","staffType","brand","godown","expence","stockItemLedgerName","moduleConfiguration","dialog","setDialog","addProductDialog","importFromSaleOrder","godownMismatch","invoiceInfo","setInvoiceInfo","salesInvoiceGeneralInfo","retailerDeliveryAddress","setRetailerDeliveryAddress","retailerDeliveryAddressInfo","retailerShippingAddress","setRetailerShippingAddress","invoiceProducts","setInvoiceProduct","invoiceExpences","setInvoiceExpences","staffArray","retailerSalesStatus","setRetailerSalesStatus","retailerOutstandingDetails","selectedProductToEdit","setSelectedProductToEdit","dummyRowCount","printDialog","setPrintDialog","Do_Id","deliverySlipDialog","isEdit","async","branchResponse","productsResponse","retailerResponse","voucherTypeResponse","uomResponse","staffResponse","staffCategory","godownLocationsResponse","expenceResponse","stockItemLedgerNameResponse","batchDetailsResponse","moduleConfigurationResponse","Promise","all","branchData","String","BranchName","localeCompare","productsData","retailersData","Retailer_Name","Voucher_Type","uomData","staffData","Cost_Center_Name","staffCategoryData","godownLocations","expencesMaster","Account_Name","getUniqueData","exp","Id","Acc_Id","Expence_Name","percentageValue","console","error","fetchData","Retailer_Id","invoiceCreationStatus","canCreateInvoice","others","_data$others","_data$others2","_data$others3","_data$others4","_data$others5","outstanding","creditLimit","creditDays","recentDate","Date","catch","Products_List","Expence_Array","Staffs_Array","_editValues$key","ISOString","S_No","salesInvoiceDetailsInfo","_item$key","rid","salesInvoiceExpencesInfo","_item$key2","stateOfStaff","_ref5","_item$key3","from","Map","values","staffs","retailer","ret","newStaff","brokerId","brokerName","brokerTypeId","transporterId","transporterName","transporterTypeId","updatedStaff","forEach","ns","existingIndex","ps","existing","Stock_Item_Ledger_Name","stockItemName","retailerId","_retailerAddress$find","_retailerAddress$find2","retailerDetails","retailerAddress","deliveryAddresses","lolDeliveryName","lolPhoneNumber","lolCityName","lolDeliveryAddress","lolGstNumber","lolStateName","billingAddress","addr","id","deliveryAddressId","setAddress","deliveryName","phoneNumber","cityName","deliveryAddress","gstNumber","stateName","shippingAddress","shipingAddressId","defaultStaffTypesData","defaultStaffTypes","newDefaults","def","p","_ref6","Igst","Cgst","Sgst","Expence_Value","taxPercentage","Addition","taxAmount","Sgst_Amo","sgst_amount","invExpencesTotal","Total_Invoice_value","invValue","RoundNumber","product","taxSplitUp","totalTaxable","totalTax","taxInfo","parseFloat","without_tax","tax_amount","totalWithTax","totalWithExpenses","roundedTotal","Math","round","roundOff","cgst","sgst","igst","invoiceTotal","Round_off","clearValues","saveSalesInvoice","filterableText","Alter_Reason","forceCreateInvoice","activeInvoiceCreationStatus","method","bodyData","deliveryAddressDetails","delivery_id","shipingAddressDetails","Product_Array","_data$others6","savedDoId","message","salesInvoiceAccess","stockSeparation","singleGodown","creditAmountLimit","creditDaysLimit","voucherBasedGodown","baseDate","expiryDate","setDate","getDate","today","currentTotal","isOutstandingExceeded","isCreditDaysCrossed","voucherGodownCondition","selectedVoucher","Vocher_Type_Id","voucherGodown","GodownId","every","isSingleGodownValid","_invoiceProducts$","firstGodown","isStockValid","hasPositive","Godown_Stock","Subraction","hasNegative","cumulativeRow","totals","Item_Name","saveFunWithCodition","AddProductForm","So_No","saleOrderNumber","Card","window","history","CardContent","minHeight","height","InvolvedStaffs","ManageSalesInvoiceGeneralInfo","branches","onChangeRetailer","setShippingAddress","FilterableTable","title","headerFontSizePx","bodyFontSizePx","EnableSerialNumber","disablePagination","ButtonArea","sx","ml","Add","AddProductsInSalesInvoice","selectedItems","setSelectedItems","ReceiptLong","dataArray","d","columns","createCol","isVisible","ColumnHeader","isCustomCell","Cell","_ref7","_ref8","_ref9","_ref10","_baseData$godown$find","_baseData$godown$find2","_ref11","Edit","ExpencesOfSalesInvoice","expenceMaster","SalesInvoiceTaxDetails","rows","Narration","CardActions","AppDialog","submitText","closeText","isSubmit","scroll","mr","Close","InvoiceTemplate","DeliverySlipprint","createSvgIcon"],"sourceRoot":""}