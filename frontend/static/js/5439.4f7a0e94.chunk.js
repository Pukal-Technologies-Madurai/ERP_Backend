"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[2110,5439,9729],{4391(e,s,a){a.r(s),a.d(s,{capitalize:()=>t.A,createChainedFunction:()=>n.A,createSvgIcon:()=>o.A,debounce:()=>l.A,deprecatedPropType:()=>d,isMuiElement:()=>c.A,ownerDocument:()=>i.A,ownerWindow:()=>u.A,requirePropFactory:()=>m,setRef:()=>h,unstable_ClassNameGenerator:()=>C,unstable_useEnhancedEffect:()=>p.A,unstable_useId:()=>v.A,unsupportedProp:()=>A,useControlled:()=>x.A,useEventCallback:()=>f.A,useForkRef:()=>j.A,useIsFocusVisible:()=>y.A});var r=a(79386),t=a(6803),n=a(6593),o=a(59662),l=a(80950);const d=function(e,s){return()=>null};var c=a(27328),i=a(22427),u=a(36078);const m=function(e,s){return()=>null};const h=a(26564).A;var p=a(55013),v=a(45879);const A=function(e,s,a,r,t){return null};var x=a(54516),f=a(93319),j=a(95849),y=a(87844);const C={configure:e=>{r.A.configure(e)}}},6593(e,s,a){a.d(s,{A:()=>r});const r=a(42456).A},12110(e,s,a){a.d(s,{A:()=>x});var r=a(58168),t=a(98587),n=a(65043),o=a(58387),l=a(98610),d=a(34535),c=a(6431),i=a(63336),u=a(92532),m=a(72372);function h(e){return(0,m.Ay)("MuiCard",e)}(0,u.A)("MuiCard",["root"]);var p=a(70579);const v=["className","raised"],A=(0,d.Ay)(i.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,s)=>s.root})(()=>({overflow:"hidden"})),x=n.forwardRef(function(e,s){const a=(0,c.b)({props:e,name:"MuiCard"}),{className:n,raised:d=!1}=a,i=(0,t.A)(a,v),u=(0,r.A)({},a,{raised:d}),m=(e=>{const{classes:s}=e;return(0,l.A)({root:["root"]},h,s)})(u);return(0,p.jsx)(A,(0,r.A)({className:(0,o.A)(m.root,n),elevation:d?8:void 0,ref:s,ownerState:u},i))})},14140(e,s,a){a.d(s,{Am:()=>o,Ay:()=>d});var r=a(65043),t=a(70579);const n=["as","disabled"];function o(e){let{tagName:s,disabled:a,href:r,target:t,rel:n,role:o,onClick:l,tabIndex:d=0,type:c}=e;s||(s=null!=r||null!=t||null!=n?"a":"button");const i={tagName:s};if("button"===s)return[{type:c||"button",disabled:a},i];const u=e=>{(a||"a"===s&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),a?e.stopPropagation():null==l||l(e)};return"a"===s&&(r||(r="#"),a&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:a?void 0:d,href:r,target:"a"===s?t:void 0,"aria-disabled":a||void 0,rel:"a"===s?n:void 0,onClick:u,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),u(e))}},i]}const l=r.forwardRef((e,s)=>{let{as:a,disabled:r}=e,l=function(e,s){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(s.indexOf(r)>=0)continue;a[r]=e[r]}return a}(e,n);const[d,{tagName:c}]=o(Object.assign({tagName:a,disabled:r},l));return(0,t.jsx)(c,Object.assign({},l,d,{ref:s}))});l.displayName="Button";const d=l},14282(e,s,a){a.d(s,{A:()=>h});var r=a(89379),t=a(80045),n=a(98139),o=a.n(n),l=a(65043),d=a(14140),c=a(67852),i=a(70579);const u=["as","bsPrefix","variant","size","active","disabled","className"],m=l.forwardRef((e,s)=>{let{as:a,bsPrefix:n,variant:l="primary",size:m,active:h=!1,disabled:p=!1,className:v}=e,A=(0,t.A)(e,u);const x=(0,c.oU)(n,"btn"),[f,{tagName:j}]=(0,d.Am)((0,r.A)({tagName:a,disabled:p},A)),y=j;return(0,i.jsx)(y,(0,r.A)((0,r.A)((0,r.A)({},f),A),{},{ref:s,disabled:p,className:o()(v,x,h&&"active",l&&"".concat(x,"-").concat(l),m&&"".concat(x,"-").concat(m),A.href&&p&&"disabled")}))});m.displayName="Button";const h=m},14792(e,s,a){a.d(s,{A:()=>t});var r=a(70579);const t=()=>(0,r.jsx)("span",{style:{color:"red",fontWeight:"bold",fontSize:"1em"},children:" *"})},22427(e,s,a){a.d(s,{A:()=>r});const r=a(31668).A},26480(e,s,a){var r=a(24994);s.A=void 0;var t=r(a(40039)),n=a(70579);s.A=(0,t.default)((0,n.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4z"}),"AddBox")},26494(e,s,a){a.d(s,{A:()=>A});var r=a(58168),t=a(98587),n=a(65043),o=a(58387),l=a(98610),d=a(34535),c=a(6431),i=a(92532),u=a(72372);function m(e){return(0,u.Ay)("MuiCardContent",e)}(0,i.A)("MuiCardContent",["root"]);var h=a(70579);const p=["className","component"],v=(0,d.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,s)=>s.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),A=n.forwardRef(function(e,s){const a=(0,c.b)({props:e,name:"MuiCardContent"}),{className:n,component:d="div"}=a,i=(0,t.A)(a,p),u=(0,r.A)({},a,{component:d}),A=(e=>{const{classes:s}=e;return(0,l.A)({root:["root"]},m,s)})(u);return(0,h.jsx)(v,(0,r.A)({as:d,className:(0,o.A)(A.root,n),ownerState:u,ref:s},i))})},27328(e,s,a){a.d(s,{A:()=>t});var r=a(65043);const t=function(e,s){var a,t;return r.isValidElement(e)&&-1!==s.indexOf(null!=(a=e.type.muiName)?a:null==(t=e.type)||null==(t=t._payload)||null==(t=t.value)?void 0:t.muiName)}},36078(e,s,a){a.d(s,{A:()=>r});const r=a(63940).A},40039(e,s,a){Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=a(4391)},51387(e,s,a){a.d(s,{A:()=>n});var r=a(59662),t=a(70579);const n=(0,r.A)((0,t.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},55013(e,s,a){a.d(s,{A:()=>r});const r=a(84440).A},65439(e,s,a){a.r(s),a.d(s,{default:()=>g});var r=a(89379),t=a(65043),n=a(14282),o=a(12110),l=a(26494),d=a(17392),c=a(83462),i=a(26600),u=a(35316),m=a(29347),h=a(51387),p=a(83560),v=a(91036),A=(a(92342),a(58786)),x=a(65074),f=a(97707),j=a(26480),y=a(14792),C=a(95382),b=a(70579);const N=e=>(0,b.jsx)("td",{className:"border-0 fa-14 p-2 vctr",children:e.children}),g=e=>{let{loadingOn:s,loadingOff:a}=e;const g=JSON.parse(localStorage.getItem("user")),_={UserId:"",Name:"",UserName:"",UserTypeId:"",Password:"",BranchId:"",Company_id:null===g||void 0===g?void 0:g.Company_id},U={Cost_Center_Id:"",Cost_Center_Name:"",User_Type:"",Is_Converted_To_User:1,User_Id:""},[I,T]=(0,t.useState)(U),[w,S]=(0,t.useState)([]),[P,k]=(0,t.useState)(!1),[R,z]=(0,t.useState)(!1),[M,D]=(0,t.useState)(_),[E,B]=(0,t.useState)(!1),[O,L]=(0,t.useState)(!1),[H,q]=(0,t.useState)(""),[F,W]=(0,t.useState)([]),[V,G]=(0,t.useState)([]),[J,K]=(0,t.useState)([]),[Q,X]=(0,t.useState)([]),[Y,Z]=(0,t.useState)({dialog:!1,deleteDialog:!1,refresh:!1,filterText:"ALL"});(0,t.useEffect)(()=>{(0,x.z)({address:"masters/users?Company_id=".concat(null===g||void 0===g?void 0:g.Company_id)}).then(e=>{var s;e.success&&(null===e||void 0===e||null===(s=e.data)||void 0===s||s.sort((e,s)=>e.Name.localeCompare(s.Name)),S(e.data))}).catch(e=>console.error(e))},[R,null===g||void 0===g?void 0:g.Company_id]),(0,t.useEffect)(()=>{(0,x.z)({address:"masters/userType?Company_id=".concat(null===g||void 0===g?void 0:g.Company_id)}).then(e=>{e.success&&K(e.data)}).catch(e=>console.error(e))},[null===g||void 0===g?void 0:g.Company_id]),(0,t.useEffect)(()=>{(0,x.z)({address:"masters/branch/dropDown?Company_id=".concat(null===g||void 0===g?void 0:g.Company_id)}).then(e=>{e.success&&X(e.data)}).catch(e=>console.error(e))},[null===g||void 0===g?void 0:g.Company_id]),(0,t.useEffect)(()=>{if(H){const e=w.filter(e=>Object.values(e).some(e=>String(e).toLowerCase().includes(H.toLowerCase())));W(e)}},[H,w]);const $=()=>{D(_),k(e=>!e)},ee=()=>{Z(e=>(0,r.A)((0,r.A)({},e),{},{dialog:!1,deleteDialog:!1})),D(U)};return(0,t.useEffect)(()=>{(0,x.z)({address:"masters/userTypecostcenter"}).then(e=>{e.success&&G(e.data)}).catch(e=>console.error(e))},[null===g||void 0===g?void 0:g.Company_id,R]),(0,b.jsxs)(t.Fragment,{children:[(0,b.jsxs)(o.A,{children:[(0,b.jsxs)("div",{className:"px-3 py-2 fw-bold d-flex align-items-center justify-content-between border-bottom",children:["USERS",(0,b.jsx)("div",{className:"text-end",children:(0,b.jsx)(n.A,{onClick:$,className:"rounded-5 px-3 py-1 fa-13 shadow",children:P?"Back":"Add User"})})]}),(0,b.jsx)(l.A,{children:P?(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(0,x.z)({address:"masters/users",method:M.UserId?"PUT":"POST",bodyData:(0,r.A)((0,r.A)({},M),{},{Password:(0,f._y)(M.Password)})}).then(e=>{e.success?(z(!R),v.oR.success(e.message),$()):v.oR.error(e.message)})},children:[(0,b.jsxs)("div",{className:"row p-3",children:[(0,b.jsxs)("div",{className:"col-lg-4 col-md-6 p-2",children:[(0,b.jsx)("label",{children:"Name"}),(0,b.jsx)("input",{className:"cus-inpt",value:M.Name,required:!0,minLength:3,onChange:e=>D((0,r.A)((0,r.A)({},M),{},{Name:e.target.value}))})]}),(0,b.jsxs)("div",{className:"col-lg-4 col-md-6 p-2",children:[(0,b.jsx)("label",{children:"Password"}),(0,b.jsx)("input",{className:"cus-inpt",type:"password",required:!0,minLength:6,value:M.Password,onChange:e=>D((0,r.A)((0,r.A)({},M),{},{Password:e.target.value}))})]}),(0,b.jsxs)("div",{className:"col-lg-4 col-md-6 p-2",children:[(0,b.jsx)("label",{children:"Mobile"}),(0,b.jsx)("input",{className:"cus-inpt",type:"number",required:!0,value:M.UserName,maxLength:10,onChange:e=>D((0,r.A)((0,r.A)({},M),{},{UserName:e.target.value}))})]}),(0,b.jsxs)("div",{className:"col-lg-4 col-md-6 p-2",children:[(0,b.jsx)("label",{children:"Branch"}),(0,b.jsxs)("select",{className:"cus-inpt",value:M.BranchId,required:!0,onChange:e=>D((0,r.A)((0,r.A)({},M),{},{BranchId:e.target.value})),children:[(0,b.jsx)("option",{value:"",children:"select"}),null===Q||void 0===Q?void 0:Q.map((e,s)=>(0,b.jsx)("option",{value:e.BranchId,children:e.BranchName},s))]})]}),(0,b.jsxs)("div",{className:"col-lg-4 col-md-6 p-2",children:[(0,b.jsx)("label",{children:"User Type"}),(0,b.jsxs)("select",{className:"cus-inpt",value:M.UserTypeId,required:!0,onChange:e=>D((0,r.A)((0,r.A)({},M),{},{UserTypeId:e.target.value})),children:[(0,b.jsx)("option",{value:"",children:"Select"}),null===J||void 0===J?void 0:J.map((e,s)=>(0,b.jsx)("option",{value:e.Id,children:e.UserType},s))]})]})]}),(0,b.jsxs)("div",{className:"pe-3 d-flex justify-content-end",children:[(0,b.jsx)(n.A,{className:"rounded-5 px-4 mx-1 btn-light bg-white",onClick:$,type:"button",children:"cancel"}),(0,b.jsx)(n.A,{className:"rounded-5 px-4 shadow mx-1",type:"submit",children:M.UserId?"Update":"Create"})]})]})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"d-flex justify-content-end",children:(0,b.jsx)("div",{className:" pb-2",children:(0,b.jsx)("input",{value:H,className:"cus-inpt w-auto",placeholder:"Search",onChange:e=>q(e.target.value)})})}),(0,b.jsx)(A.Ay,{data:H?F.length>0?F:[]:w,columns:[{name:"Name",selector:e=>e.Name,sortable:!0},{name:"Type",selector:e=>e.UserType,sortable:!0},{name:"Mobile",selector:e=>e.UserName,sortable:!1},{name:"Company",selector:e=>e.Company_Name,sortable:!0},{name:"Company",selector:e=>e.BranchName,sortable:!0},{name:"Cost_Center_User",sortable:!0,selector:e=>""!==(null===e||void 0===e?void 0:e.Cost_Center_Id)&&null!==(null===e||void 0===e?void 0:e.Cost_Center_Id)?(0,b.jsx)("span",{children:(0,b.jsx)(C.A,{style:{cursor:"pointer"}})}):(0,b.jsx)(j.A,{onClick:()=>{T({Cost_Center_Id:null,Name:null===e||void 0===e?void 0:e.Name,UserTypeId:null===e||void 0===e?void 0:e.UserTypeId,UserType:null===e||void 0===e?void 0:e.UserType,UserId:null===e||void 0===e?void 0:e.UserId,Is_Converted_To_User:1}),Z(e=>(0,r.A)((0,r.A)({},e),{},{dialog:!0}))},style:{cursor:"pointer"}})},{name:"CostCenterType",selector:e=>""!==(null===e||void 0===e?void 0:e.costcentertype)&&null!==(null===e||void 0===e?void 0:e.costcentertype)?(0,b.jsx)("span",{children:null===e||void 0===e?void 0:e.costcentertype}):(0,b.jsx)("span",{className:"cus-badge text-black ",children:"-"}),sortable:!0},{name:"Action",cell:e=>(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.A,{onClick:()=>{(e=>{const{UserId:s,Name:a,UserName:t,UserTypeId:n,Password:o,BranchId:l}=e,d=(0,f.of)(o);D(e=>(0,r.A)((0,r.A)({},e),{},{UserId:s,Name:a,UserName:t,UserTypeId:n,Password:d,BranchId:l})),k(!0)})(e)},size:"small",children:(0,b.jsx)(p.A,{className:"fa-in"})}),(0,b.jsx)(d.A,{onClick:()=>{const{UserId:s,Name:a,UserName:t,UserTypeId:n,Password:o,BranchId:l}=e;D(e=>(0,r.A)((0,r.A)({},e),{},{UserId:s,Name:a,UserName:t,UserTypeId:n,Password:o,BranchId:l})),B(!0)},size:"small",children:(0,b.jsx)(h.A,{className:"fa-in del-red"})})]})}],direction:"auto",fixedHeader:!0,fixedHeaderScrollHeight:"63dvh",highlightOnHover:!0,pagination:!0,responsive:!0,striped:!0,subHeaderAlign:"right",subHeaderWrap:!0})]})})]}),(0,b.jsxs)(c.A,{open:E,onClose:()=>B(!1),fullWidth:!0,maxWidth:"sm",children:[(0,b.jsx)(i.A,{id:"alert-dialog-title",children:"Confirmation"}),(0,b.jsx)(u.A,{children:(0,b.jsxs)("b",{className:"text-muted",children:["Do you want to Delete the user ",(0,b.jsx)("span",{className:"blue-text",children:M.Name}),"?"]})}),(0,b.jsxs)(m.A,{children:[(0,b.jsx)(n.A,{className:" btn-light",onClick:()=>{B(!1)},children:"Cancel"}),(0,b.jsx)(n.A,{onClick:()=>{(0,x.z)({address:"masters/users",method:"DELETE",bodyData:{UserId:M.UserId}}).then(e=>{e.success?(z(!R),B(e=>!e),D(_),v.oR.success(e.message)):v.oR.error(e.message)}).catch(e=>{console.error("Error deleting user:",e),v.oR.error("An error occurred. Please try again later.")})},children:"Delete"})]})]}),(0,b.jsxs)(c.A,{open:Y.dialog,onClose:ee,fullWidth:!0,maxWidth:"sm",children:[(0,b.jsx)(i.A,{children:I.Cost_Center_Id?"Modify Records":"Add Records"}),(0,b.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s&&s(),(0,x.z)({address:"dataEntry/costCenter",method:"POST",bodyData:{Cost_Center_Id:null===I||void 0===I?void 0:I.Cost_Center_Id,Cost_Center_Name:null===I||void 0===I?void 0:I.Name,User_Type:null===I||void 0===I?void 0:I.UserTypeId,User_Id:Number(null===I||void 0===I?void 0:I.UserId),Is_Converted_To_User:null===I||void 0===I?void 0:I.Is_Converted_To_User}}).then(e=>{e.success?(v.oR.success(e.message),ee(),z(!R)):v.oR.error(e.message)}).catch(e=>console.error(e)).finally(()=>{a&&a()})},children:[(0,b.jsx)(u.A,{children:(0,b.jsx)("div",{className:"table-responsive",children:(0,b.jsx)("table",{className:"table m-0",children:(0,b.jsxs)("tbody",{children:[(0,b.jsxs)("tr",{children:[(0,b.jsxs)(N,{children:["Cost Center Name ",(0,b.jsx)(y.A,{})]}),(0,b.jsx)(N,{children:(0,b.jsx)("input",{value:I.Name,onChange:e=>T(s=>(0,r.A)((0,r.A)({},s),{},{Name:e.target.value})),className:"cus-inpt p-2",required:!0,maxLength:150})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsxs)(N,{children:["User Type ",(0,b.jsx)(y.A,{})]}),(0,b.jsx)(N,{children:(0,b.jsxs)("select",{value:I.UserTypeId||"",onChange:e=>T(s=>(0,r.A)((0,r.A)({},s),{},{UserTypeId:e.target.value})),className:"cus-inpt p-2",required:!0,"aria-label":"Select User Type",children:[(0,b.jsx)("option",{value:"",children:"Select User Type"}),V.map((e,s)=>(0,b.jsx)("option",{value:e.UserTypeId,children:e.UserType},s))]})})]})]})})})}),(0,b.jsxs)(m.A,{className:"d-flex justify-content-between flex-wrap",children:[(0,b.jsx)(n.A,{type:"button",variant:"outlined",onClick:()=>T({Cost_Center_Id:null,Name:"",UserTypeId:""}),children:"Clear"}),(0,b.jsxs)("span",{children:[(0,b.jsx)(n.A,{type:"button",onClick:ee,children:"Cancel"}),(0,b.jsx)(n.A,{type:"submit",variant:"contained",children:"Submit"})]})]})]})]})]})}},80950(e,s,a){a.d(s,{A:()=>r});const r=a(83468).A},83468(e,s,a){function r(e){let s,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];clearTimeout(s),s=setTimeout(()=>{e.apply(this,t)},a)}return r.clear=()=>{clearTimeout(s)},r}a.d(s,{A:()=>r})},83560(e,s,a){a.d(s,{A:()=>n});var r=a(59662),t=a(70579);const n=(0,r.A)((0,t.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},95382(e,s,a){var r=a(24994);s.A=void 0;var t=r(a(40039)),n=a(70579);s.A=(0,t.default)((0,n.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check")}}]);
//# sourceMappingURL=5439.4f7a0e94.chunk.js.map