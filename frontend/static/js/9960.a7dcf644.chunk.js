"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[9960],{14140:(e,t,s)=>{s.d(t,{Am:()=>o,Ay:()=>i});var a=s(65043),r=s(70579);const n=["as","disabled"];function o(e){let{tagName:t,disabled:s,href:a,target:r,rel:n,role:o,onClick:c,tabIndex:i=0,type:l}=e;t||(t=null!=a||null!=r||null!=n?"a":"button");const d={tagName:t};if("button"===t)return[{type:l||"button",disabled:s},d];const p=e=>{(s||"a"===t&&function(e){return!e||"#"===e.trim()}(a))&&e.preventDefault(),s?e.stopPropagation():null==c||c(e)};return"a"===t&&(a||(a="#"),s&&(a=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:s?void 0:i,href:a,target:"a"===t?r:void 0,"aria-disabled":s||void 0,rel:"a"===t?n:void 0,onClick:p,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),p(e))}},d]}const c=a.forwardRef((e,t)=>{let{as:s,disabled:a}=e,c=function(e,t){if(null==e)return{};var s,a,r={},n=Object.keys(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||(r[s]=e[s]);return r}(e,n);const[i,{tagName:l}]=o(Object.assign({tagName:s,disabled:a},c));return(0,r.jsx)(l,Object.assign({},c,i,{ref:t}))});c.displayName="Button";const i=c},14282:(e,t,s)=>{s.d(t,{A:()=>y});var a=s(89379),r=s(80045),n=s(98139),o=s.n(n),c=s(65043),i=s(14140),l=s(67852),d=s(70579);const p=["as","bsPrefix","variant","size","active","disabled","className"],u=c.forwardRef((e,t)=>{let{as:s,bsPrefix:n,variant:c="primary",size:u,active:y=!1,disabled:x=!1,className:h}=e,m=(0,r.A)(e,p);const b=(0,l.oU)(n,"btn"),[T,{tagName:A}]=(0,i.Am)((0,a.A)({tagName:s,disabled:x},m)),v=A;return(0,d.jsx)(v,(0,a.A)((0,a.A)((0,a.A)({},T),m),{},{ref:t,disabled:x,className:o()(h,b,y&&"active",c&&"".concat(b,"-").concat(c),u&&"".concat(b,"-").concat(u),m.href&&x&&"disabled")}))});u.displayName="Button";const y=u},51387:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(59662),r=s(70579);const n=(0,a.A)((0,r.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},58093:(e,t,s)=>{s.d(t,{A:()=>k});var a=s(98587),r=s(58168),n=s(68606),o=s(58387),c=s(65043),i=s(75429),l=s(59662),d=s(70579);const p=(0,l.A)((0,d.jsx)("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");var u=s(34535),y=s(6431),x=s(6803),h=s(57056),m=s(32400);function b(e){return(0,m.Ay)("MuiTableSortLabel",e)}const T=(0,h.A)("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc"]),A=["active","children","className","direction","hideSortIcon","IconComponent"],v=(0,u.Ay)(i.A,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.active&&t.active]}})(e=>{let{theme:t}=e;return{cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(t.vars||t).palette.text.secondary},"&:hover":{color:(t.vars||t).palette.text.secondary,["& .".concat(T.icon)]:{opacity:.5}},["&.".concat(T.active)]:{color:(t.vars||t).palette.text.primary,["& .".concat(T.icon)]:{opacity:1,color:(t.vars||t).palette.text.secondary}}}}),f=(0,u.Ay)("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.icon,t["iconDirection".concat((0,x.A)(s.direction))]]}})(e=>{let{theme:t,ownerState:s}=e;return(0,r.A)({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:t.transitions.create(["opacity","transform"],{duration:t.transitions.duration.shorter}),userSelect:"none"},"desc"===s.direction&&{transform:"rotate(0deg)"},"asc"===s.direction&&{transform:"rotate(180deg)"})}),k=c.forwardRef(function(e,t){const s=(0,y.b)({props:e,name:"MuiTableSortLabel"}),{active:c=!1,children:i,className:l,direction:u="asc",hideSortIcon:h=!1,IconComponent:m=p}=s,T=(0,a.A)(s,A),k=(0,r.A)({},s,{active:c,direction:u,hideSortIcon:h,IconComponent:m}),j=(e=>{const{classes:t,direction:s,active:a}=e,r={root:["root",a&&"active"],icon:["icon","iconDirection".concat((0,x.A)(s))]};return(0,n.A)(r,b,t)})(k);return(0,d.jsxs)(v,(0,r.A)({className:(0,o.A)(j.root,l),component:"span",disableRipple:!0,ownerState:k,ref:t},T,{children:[i,h&&!c?null:(0,d.jsx)(f,{as:m,className:(0,o.A)(j.icon),ownerState:k})]}))})},83560:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(59662),r=s(70579);const n=(0,a.A)((0,r.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},99960:(e,t,s)=>{s.r(t),s.d(t,{default:()=>g});var a=s(89379),r=s(65043),n=s(91036),o=s(14282),c=s(79650),i=s(71806),l=s(84882),d=s(28076),p=s(39652),u=s(58093),y=s(73460),x=s(17392),h=s(83462),m=s(26600),b=s(35316),T=s(29347),A=s(83560),v=s(51387),f=s(65074),k=s(70579);const j=e=>{let{open:t,onClose:s,existingTaskType:n,onCreate:o,onUpdate:c}=e;const[i,l]=r.useState({Task_Type:"",Task_Type_Id:""});(0,r.useEffect)(()=>{l(n||{Task_Type:"",Task_Type_Id:""})},[n]);return(0,k.jsxs)(h.A,{open:t,onClose:s,children:[(0,k.jsx)(m.A,{className:"bg-primary text-white mb-2 px-3 py-2",children:n?"Edit Task Type":"Create Task Type"}),(0,k.jsx)(b.A,{children:(0,k.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n?c(i):o(i.Task_Type),s()},children:[(0,k.jsxs)("div",{className:"p-2",children:[(0,k.jsx)("label",{children:"Task Type"}),(0,k.jsx)("input",{type:"text",onChange:e=>l((0,a.A)((0,a.A)({},i),{},{Task_Type:e.target.value})),value:i.Task_Type,className:"cus-inpt"})]}),(0,k.jsxs)(T.A,{children:[(0,k.jsx)("button",{className:"btn btn-light rounded-5 px-3",type:"button",onClick:s,children:"Cancel"}),(0,k.jsx)("button",{className:"btn btn-primary rounded-5 px-3",type:"submit",children:n?"Update":"Create"})]})]})})]})},g=()=>{const[e,t]=(0,r.useState)([]),[s,g]=(0,r.useState)(!1),[C,N]=(0,r.useState)(!1),[w,S]=(0,r.useState)(null),[_,R]=(0,r.useState)(!1),[D,I]=(0,r.useState)("asc"),[z,E]=(0,r.useState)("Task_Type_Id");(0,r.useEffect)(()=>{(async()=>{try{const e=await(0,f.z)({address:"masters/taskType"});e.success?t(e.data):n.oR.error("Failed to fetch task types: "+e.message)}catch(e){console.error(e),n.oR.error("Error fetching task types.")}})()},[s]);const L=()=>{N(!1)},M=[...e].sort((e,t)=>{const s=e[z],a=t[z];return"asc"===D?s<a?-1:1:s>a?-1:1});return(0,k.jsxs)(r.Fragment,{children:[(0,k.jsxs)("div",{className:"card",children:[(0,k.jsxs)("div",{className:"card-header bg-white fw-bold d-flex align-items-center justify-content-between",children:["Task Types",(0,k.jsx)(o.A,{className:"rounded-5 px-3 py-1 fa-13 shadow",onClick:()=>{S(null),R(!0)},children:"Create Task Type"})]}),(0,k.jsx)("div",{className:"card-body overflow-scroll",style:{maxHeight:"78vh"},children:(0,k.jsx)(c.A,{children:(0,k.jsxs)(i.A,{children:[(0,k.jsx)(l.A,{children:(0,k.jsx)(d.A,{children:[{id:"index",label:"Id No",sort:!1},{id:"Task_Type",label:"Task Type",sort:!0},{id:"actions",label:"Actions",sort:!1}].map(e=>(0,k.jsx)(p.A,{sx:{padding:"4px 8px"},children:e.sort?(0,k.jsx)(u.A,{active:z===e.id,direction:z===e.id?D:"asc",onClick:()=>{return t=e.id,I(z===t&&"asc"===D?"desc":"asc"),void E(t);var t},children:e.label}):e.label},e.id))})}),(0,k.jsx)(y.A,{children:M.map((e,t)=>(0,k.jsxs)(d.A,{children:[(0,k.jsx)(p.A,{sx:{padding:"4px 8px"},children:t+1}),(0,k.jsx)(p.A,{sx:{padding:"4px 8px"},children:e.Task_Type}),(0,k.jsxs)(p.A,{sx:{padding:"4px 8px"},children:[(0,k.jsx)(x.A,{onClick:()=>(S(e),void R(!0)),size:"small",children:(0,k.jsx)(A.A,{})}),(0,k.jsx)(x.A,{onClick:()=>(S(e),void N(!0)),sx:{color:"#FF6865"},children:(0,k.jsx)(v.A,{})})]})]},e.Task_Type_Id))})]})})})]}),(0,k.jsx)(j,{open:_,onClose:()=>R(!1),existingTaskType:w,onCreate:async e=>{try{const t=await(0,f.z)({address:"masters/taskType",method:"POST",headers:{"Content-Type":"application/json"},bodyData:{Task_Type:e}});t.success?(g(!s),n.oR.success("Task type created successfully!"),R(!1)):n.oR.error("Failed to create task type: "+t.message)}catch(t){console.error(t),n.oR.error("Error creating task type.")}},onUpdate:async e=>{try{const t=await(0,f.z)({address:"masters/taskType",method:"PUT",headers:{"Content-Type":"application/json"},bodyData:(0,a.A)({},e)});t.success?(g(!s),n.oR.success("Task type updated successfully!"),R(!1)):n.oR.error("Failed to update task type: "+t.message)}catch(t){console.error(t),n.oR.error("Error updating task type.")}}}),(0,k.jsxs)(h.A,{open:C,onClose:L,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,k.jsx)(m.A,{className:"bg-primary text-white mb-4 px-3 py-2",children:"Confirmation"}),(0,k.jsxs)(b.A,{className:"p-4",children:["Do you want to delete the Task Type",(0,k.jsx)("span",{className:"text-primary",children:" "+(null===w||void 0===w?void 0:w.Task_Type)+" "}),"?"]}),(0,k.jsxs)(T.A,{children:[(0,k.jsx)(o.A,{className:"btn btn-light rounded-5 px-3 me-1",onClick:L,children:"Cancel"}),(0,k.jsx)(o.A,{className:"btn btn-primary rounded-5 px-3",onClick:async()=>{try{const e=await(0,f.z)({address:"masters/taskType",method:"DELETE",headers:{"Content-Type":"application/json"},bodyData:{Task_Type_Id:w.Task_Type_Id}});e.success?(g(!s),N(!1),n.oR.success("Task type deleted successfully!")):n.oR.error("Failed to delete task type: "+e.message)}catch(e){console.error(e),n.oR.error("Error deleting task type.")}},children:"Delete"})]})]})]})}}}]);
//# sourceMappingURL=9960.a7dcf644.chunk.js.map