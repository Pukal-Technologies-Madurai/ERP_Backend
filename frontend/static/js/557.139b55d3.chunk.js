"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[557,2110,9729],{12110:(e,a,l)=>{l.d(a,{A:()=>b});var n=l(58168),t=l(98587),o=l(65043),s=l(58387),r=l(68606),c=l(34535),d=l(6431),i=l(63336),u=l(57056),m=l(32400);function h(e){return(0,m.Ay)("MuiCard",e)}(0,u.A)("MuiCard",["root"]);var p=l(70579);const A=["className","raised"],v=(0,c.Ay)(i.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,a)=>a.root})(()=>({overflow:"hidden"})),b=o.forwardRef(function(e,a){const l=(0,d.b)({props:e,name:"MuiCard"}),{className:o,raised:c=!1}=l,i=(0,t.A)(l,A),u=(0,n.A)({},l,{raised:c}),m=(e=>{const{classes:a}=e;return(0,r.A)({root:["root"]},h,a)})(u);return(0,p.jsx)(v,(0,n.A)({className:(0,s.A)(m.root,o),elevation:c?8:void 0,ref:a,ownerState:u},i))})},26494:(e,a,l)=>{l.d(a,{A:()=>v});var n=l(58168),t=l(98587),o=l(65043),s=l(58387),r=l(68606),c=l(34535),d=l(6431),i=l(57056),u=l(32400);function m(e){return(0,u.Ay)("MuiCardContent",e)}(0,i.A)("MuiCardContent",["root"]);var h=l(70579);const p=["className","component"],A=(0,c.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,a)=>a.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),v=o.forwardRef(function(e,a){const l=(0,d.b)({props:e,name:"MuiCardContent"}),{className:o,component:c="div"}=l,i=(0,t.A)(l,p),u=(0,n.A)({},l,{component:c}),v=(e=>{const{classes:a}=e;return(0,r.A)({root:["root"]},m,a)})(u);return(0,h.jsx)(A,(0,n.A)({as:c,className:(0,s.A)(v.root,o),ownerState:u,ref:a},i))})},29942:(e,a,l)=>{l.d(a,{g:()=>s,n:()=>o});var n=l(97707);const t=(0,n.aN)().user,o={ContraAutoId:"",ContraId:"",Year_Id:"",VoucherType:"",VoucherTypeGet:"",ContraNo:"",ContraVoucherNo:"",ContraDate:(0,n.ny)(),BranchId:"",DebitAccount:null,DebitAccountName:"",CreditAccount:null,CreditAccountName:"",BankName:"",BankDate:null,Amount:0,Narration:"",ContraStatus:1,CreatedBy:(0,n.IQ)(null===t||void 0===t?void 0:t.UserId)?t.UserId:"",CreatedAt:"",UpdatedAt:"",AlterId:""},s=[{label:"New",value:1},{label:"Process",value:2},{label:"Completed",value:3},{label:"Canceled",value:0}]},63406:(e,a,l)=>{l.d(a,{zU:()=>r,ex:()=>c,MR:()=>s,Ap:()=>o,FX:()=>d});var n=l(89379);const t=l.p+"static/media/smt.aa4d4f940bbebff07a57.png",o={table:{style:{width:"auto",backgroundColor:"transparent"}},rows:{style:{backgroundColor:"transparent"}},headCells:{style:{backgroundColor:"#6b9080f8",color:"white",fontSize:"14px"}}},s={menu:(e,a)=>(0,n.A)((0,n.A)({},e),{},{zIndex:9999}),menuPortal:e=>(0,n.A)((0,n.A)({},e),{},{zIndex:9999}),groupHeading:e=>(0,n.A)((0,n.A)({},e),{},{backgroundColor:"#f5f5f5",color:"#333",fontWeight:"bold",fontSize:"14px",padding:"8px 12px",borderBottom:"1px solid #ddd",textTransform:"uppercase"}),option:(e,a)=>(0,n.A)((0,n.A)({},e),{},{backgroundColor:a.isSelected?"#2684FF":a.isFocused?"#E2ECF9":"white",color:a.isSelected?"white":"#333",padding:"10px 12px"})},r=[{id:1,headname:"Menu ID",variant:"head",align:"left",width:100},{id:2,headname:"MenuName"},{id:3,headname:"Read Rights"},{id:4,headname:"Add Rights"},{id:5,headname:"Edit Rights"},{id:6,headname:"Delete Rights"},{id:7,headname:"Print Rights"},{id:8,headname:"Action"}],c=[{dataBase:1,name:"SHANKAR TRADERS",business:"Wholesale Merchant in Dhall",address:"32, Chitrakara Street, Madurai - 01 <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:t,gstin:"33AADFS6973R1ZD",phone:"984-313-1353, 984-335-5166",fssai:"12418012000818",bankAccount:"0021 5032 0885 122",ifsc:"TMBL0000002"},{dataBase:2,name:"SMT AGRO PRODUCTS",business:"",address:"H.O: 153, Chitrakara Street, 2nd Floor, Madurai -01 <br /> G.O: 746 Puliyur, Sayanapuram, Svga <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:t,gstin:"33ACMFS3420Q1ZQ",phone:"0452-4371625",fssai:"12418012000818",bankAccount:"0025 3031 0875 947",ifsc:"TMBL0000002"},{dataBase:3,name:"BHAVANI TRADERS",business:"",address:"H.O: 152-A, Chitrakara Street, Madurai -01 <br /> G.O: 30/1-Rajman Nagar, Chintamani Main Road, Mdu-01 <br /> Tax Invoice",logo:t,gstin:"33AAEFB6728J1ZG",phone:"958-559-7641, 958-559-7614",fssai:"12418012000670",bankAccount:"0021 5005 0800 309",ifsc:"TMBL0000002"}],d=[{name:"PURCHASE_ORDER"},{name:"PURCHASE_INVOICE"},{name:"SALE_ORDER"},{name:"SALE_INVOICE"},{name:"JOURNAL"},{name:"STOCK_JOURNAL"},{name:"PAYMENT"},{name:"RECEIPT"},{name:"CONTRA"}]},92213:(e,a,l)=>{l.r(a),l.d(a,{default:()=>v});var n=l(89379),t=l(65043),o=l(91036),s=l(29942),r=l(97707),c=l(20656),d=l(63406),i=l(12110),u=l(11906),m=l(26494),h=l(73216),p=l(65074),A=l(70579);const v=e=>{let{loadingOn:a,loadingOff:l}=e;const v=(0,h.Zp)(),b=(0,h.zy)().state,[C,x]=(0,t.useState)(s.n),[N,g]=(0,t.useState)({accountsList:[],voucherType:[],branch:[],bankMaster:[]});(0,t.useEffect)(()=>{(0,r.aF)(b)&&x(Object.fromEntries(Object.entries(s.n).map(e=>{var a;let[l,n]=e;return"ContraDate"===l||"BankDate"===l?[l,b[l]?(0,r.ny)(b[l]):n]:[l,null!==(a=b[l])&&void 0!==a?a:n]})))},[b]),(0,t.useEffect)(()=>{(async()=>{try{const[e,a,l,t]=await Promise.all([(0,p.z)({address:"masters/accountMaster/groupFilter?recursiveGroup=11,21,22"}),(0,p.z)({address:"masters/voucher?module=CONTRA"}),(0,p.z)({address:"masters/branch/dropDown"}),(0,p.z)({address:"masters/defaultBanks"})]),o=(e.success?e.data:[]).sort((e,a)=>String(null===e||void 0===e?void 0:e.Account_name).localeCompare(null===a||void 0===a?void 0:a.Account_name)),s=(a.success?a.data:[]).sort((e,a)=>String(null===e||void 0===e?void 0:e.Voucher_Type).localeCompare(null===a||void 0===a?void 0:a.Voucher_Type)),c=(l.success?l.data:[]).sort((e,a)=>String(null===e||void 0===e?void 0:e.BranchName).localeCompare(null===a||void 0===a?void 0:a.BranchName)),d=(0,r.$r)(null===t||void 0===t?void 0:t.data);g(e=>(0,n.A)((0,n.A)({},e),{},{accountsList:o,voucherType:s,branch:c,bankMaster:d}))}catch(e){console.error("Error fetching data:",e)}})()},[]);const j=(0,t.useMemo)(()=>{const e=(0,r.IQ)(C.DebitAccount)&&0!==C.DebitAccount,a=(0,r.IQ)(C.CreditAccount)&&0!==C.CreditAccount,l=e&&a&&Number(C.DebitAccount)!==Number(C.CreditAccount);return e&&a&&l&&C.ContraDate&&C.BranchId&&""!==C.VoucherType},[C]),f=(e,a)=>x(l=>(0,n.A)((0,n.A)({},l),{},{[e]:a})),y=N.accountsList.map(e=>({value:Number(e.Acc_Id),label:e.Account_name})),S=null!=C.DebitAccount&&y.find(e=>(0,r.id)(e.value,C.DebitAccount))||null,D=null!=C.CreditAccount&&y.find(e=>(0,r.id)(e.value,C.CreditAccount))||null,R=e=>a=>"Dr"===e?null!=C.CreditAccount&&(0,r.id)(a.value,C.CreditAccount):"Cr"===e&&(null!=C.DebitAccount&&(0,r.id)(a.value,C.DebitAccount)),T=e=>""===e||null===e||void 0===e?null:Number(e);return(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(i.A,{children:[(0,A.jsxs)("h5",{className:"p-3 m-0 d-flex align-items-center",children:[(0,A.jsxs)("span",{className:"flex-grow-1",children:["Contra Voucher",C.ContraVoucherNo?" - ".concat(C.ContraVoucherNo):""]}),(0,A.jsx)("span",{children:(0,A.jsx)(u.A,{variant:"outlined",disabled:!j,onClick:j?async()=>{j&&(0,p.z)({address:"contra/master",method:null!==C&&void 0!==C&&C.ContraAutoId?"PUT":"POST",bodyData:C,loadingOn:a,loadingOff:l}).then(e=>{e.success?(o.oR.success(e.message),x(e=>(0,n.A)((0,n.A)({},s.n),{},{ContraDate:(0,r.ny)()})),null!==C&&void 0!==C&&C.ContraAutoId&&v("/erp/contra/contraList")):o.oR.error(e.message)}).catch(e=>console.error(e))}:void 0,children:"Save"})})]}),(0,A.jsx)(m.A,{children:(0,A.jsxs)("div",{className:"row p-0 m-0",children:[(0,A.jsxs)("div",{className:"col-xxl-2 col-lg-3 col-md-4 col-sm-6 p-2",children:[(0,A.jsx)("label",{children:"Date"}),(0,A.jsx)("input",{type:"date",className:"cus-inpt p-2",value:C.ContraDate,onChange:e=>f("ContraDate",e.target.value)})]}),(0,A.jsxs)("div",{className:"col-xxl-2 col-lg-3 col-md-4 col-sm-6 p-2",children:[(0,A.jsx)("label",{children:"Branch"}),(0,A.jsxs)("select",{className:"cus-inpt p-2",value:C.BranchId,onChange:e=>f("BranchId",e.target.value),children:[(0,A.jsx)("option",{value:"",disabled:!0,children:"Select"}),N.branch.map((e,a)=>(0,A.jsx)("option",{value:e.BranchId,children:e.BranchName},a))]})]}),(0,A.jsxs)("div",{className:"col-xxl-2 col-lg-3 col-md-4 col-sm-6 p-2",children:[(0,A.jsx)("label",{children:"Voucher Type"}),(0,A.jsx)(c.Ay,{value:{label:C.VoucherTypeGet,value:C.VoucherType},options:[{value:"",label:"select"},...N.voucherType.map(e=>({value:e.Vocher_Type_Id,label:e.Voucher_Type}))],isDisabled:null===C||void 0===C?void 0:C.ContraAutoId,styles:d.MR,menuPortalTarget:document.body,onChange:e=>{f("VoucherType",(null===e||void 0===e?void 0:e.value)||""),f("VoucherTypeGet",(null===e||void 0===e?void 0:e.label)||"")},isSearchable:!0})]}),(0,A.jsxs)("div",{className:"col-xxl-2 col-lg-3 col-md-4 col-sm-6 p-2",children:[(0,A.jsx)("label",{children:"Status"}),(0,A.jsxs)("select",{className:"cus-inpt p-2",value:C.ContraStatus,onChange:e=>f("ContraStatus",e.target.value),children:[(0,A.jsx)("option",{value:"",disabled:!0,children:"Select"}),s.g.map(e=>(0,A.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,A.jsx)("div",{className:"col-12 p-0 m-0"}),(0,A.jsxs)("div",{className:"row p-0 m-0",children:[(0,A.jsxs)("div",{className:"col-md-6 p-2",children:[(0,A.jsx)("h6",{className:"mb-2 text-center",children:"Debit"}),(0,A.jsx)("div",{className:"border rounded-3 p-3",children:(0,A.jsx)("div",{className:"row p-0 m-0",children:(0,A.jsxs)("div",{className:"col-12 p-0 m-0",children:[(0,A.jsx)("label",{children:"Debit Account"}),(0,A.jsx)(c.Ay,{placeholder:"Select debit account",value:S,options:y,isOptionDisabled:R("Dr"),onChange:e=>x(a=>(0,n.A)((0,n.A)({},a),{},{DebitAccount:e?T(e.value):null,DebitAccountName:e?e.label:""})),isClearable:!0,isSearchable:!0,styles:(0,n.A)((0,n.A)({},d.MR),{},{menuPortal:e=>(0,n.A)((0,n.A)({},e),{},{zIndex:9999})}),menuPortalTarget:document.body})]})})})]}),(0,A.jsxs)("div",{className:"col-md-6 p-2",children:[(0,A.jsx)("h6",{className:"mb-2 text-center",children:"Credit"}),(0,A.jsx)("div",{className:"border rounded-3 p-3",children:(0,A.jsx)("div",{className:"row p-0 m-0",children:(0,A.jsxs)("div",{className:"col-12 p-0 m-0",children:[(0,A.jsx)("label",{children:"Credit Account"}),(0,A.jsx)(c.Ay,{placeholder:"Select credit account",value:D,options:y,isOptionDisabled:R("Cr"),onChange:e=>x(a=>(0,n.A)((0,n.A)({},a),{},{CreditAccount:e?T(e.value):null,CreditAccountName:e?e.label:""})),isClearable:!0,isSearchable:!0,styles:(0,n.A)((0,n.A)({},d.MR),{},{menuPortal:e=>(0,n.A)((0,n.A)({},e),{},{zIndex:9999})}),menuPortalTarget:document.body})]})})})]})]}),(0,A.jsxs)("div",{className:"col-lg-3 col-md-4 col-sm-6 p-2",children:[(0,A.jsx)("label",{children:"Amount"}),(0,A.jsx)("input",{className:"cus-inpt p-2",value:C.Amount||"",onInput:r.BE,onChange:e=>f("Amount",e.target.value)})]}),(0,A.jsxs)("div",{className:"col-lg-3 col-md-4 col-sm-6 p-2",children:[(0,A.jsx)("label",{children:"Bank Name"}),(0,A.jsx)(c.Ay,{placeholder:"Select debit account",value:{value:C.BankName,label:C.BankName},options:(0,r.$r)(N.bankMaster).map(e=>({value:null===e||void 0===e?void 0:e.label,label:null===e||void 0===e?void 0:e.label})),onChange:e=>x(a=>(0,n.A)((0,n.A)({},a),{},{BankName:e?e.value:""})),isClearable:!0,isSearchable:!0,styles:(0,n.A)((0,n.A)({},d.MR),{},{menuPortal:e=>(0,n.A)((0,n.A)({},e),{},{zIndex:9999})}),menuPortalTarget:document.body})]}),(0,A.jsxs)("div",{className:"col-lg-3 col-md-4 col-sm-6 p-2",children:[(0,A.jsx)("label",{children:"Bank Date"}),(0,A.jsx)("input",{type:"date",className:"cus-inpt p-2",value:(null===C||void 0===C?void 0:C.BankDate)||"",onChange:e=>f("BankDate",e.target.value)})]}),(0,A.jsxs)("div",{className:"col-md-8 p-2",children:[(0,A.jsx)("label",{children:"Narration"}),(0,A.jsx)("br",{}),(0,A.jsx)("input",{className:"cus-inpt p-2",style:{maxWidth:"400px"},value:C.Narration,onChange:e=>f("Narration",e.target.value)})]})]})})]})})}}}]);
//# sourceMappingURL=557.139b55d3.chunk.js.map