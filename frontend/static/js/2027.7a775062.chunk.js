"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[2027],{72027:(e,l,a)=>{a.r(l),a.d(l,{default:()=>D});var s=a(89379),t=a(65043),r=a(97707),n=a(91036),d=a(17392),i=a(12110),o=a(11906),c=a(26494),x=a(81e3),h=a(24056),u=a(83462),v=a(26600),m=a(35316),j=a(29347),N=a(22016),A=a(15710),b=a(86506),p=a(83560),y=a(45777),f=a(65074),E=a(70579);const D=()=>{const e=JSON.parse(localStorage.getItem("user")),[l,a]=(0,t.useState)([]),[D,T]=(0,t.useState)(!1),S={Id:"",EntryDate:(0,r.ny)(),LocationDetails:"MILL",Purchase:0,OtherGodown:0,PurchaseTransfer:0,Handle:0,WGChecking:0,LorryShed:0,VandiVarum:0,DDSales:0,SalesOtherGodown:0,SalesTransfer:0,EntryBy:e.UserId},[g,C]=(0,t.useState)(S),{contextObj:O}=(0,t.useContext)(y.i),[w,I]=(0,t.useState)({Fromdate:(0,r.Gz)(),Todate:(0,r.ny)(),LocationDetails:"MILL",dialog:!1,view:"DATA ENTRY"});(0,t.useEffect)(()=>{(0,f.z)({address:"dataEntry/godownActivities?Fromdate=".concat(w.Fromdate,"&Todate=").concat(w.Todate,"&LocationDetails=").concat(w.LocationDetails)}).then(e=>a(null===e||void 0===e?void 0:e.data)).catch(e=>console.error(e))},[D,w.Fromdate,w.Todate,w.LocationDetails]);const L=()=>{I(e=>(0,s.A)((0,s.A)({},e),{},{dialog:!1})),C(S)},R=e=>{var l,a,n,i,o,c,x,h,u;let{o:v,sno:m}=e;const[j,N]=(0,t.useState)(!1),[A,b]=(0,t.useState)(!1);return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{className:"fa-13 border text-center",children:m}),(0,E.jsx)("td",{className:(null===v||void 0===v||null===(l=v.DayEntries)||void 0===l?void 0:l.length)>1?"fa-13 border text-center text-primary":"fa-13 border text-center",onClick:()=>N(!j),children:j?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("p",{className:"m-0",children:null!==v&&void 0!==v&&v.EntryDate?(0,r.yc)(null===v||void 0===v?void 0:v.EntryDate):"-"}),(0,E.jsx)("p",{className:"m-0 text-dark",children:null!==v&&void 0!==v&&null!==(a=v.DayEntries[0])&&void 0!==a&&a.EntryAt?(0,r.z5)(null===v||void 0===v||null===(n=v.DayEntries[0])||void 0===n?void 0:n.EntryAt):"-"})]}):(0,E.jsx)("p",{className:"m-0",children:null!==v&&void 0!==v&&v.EntryDate?(0,r.yc)(null===v||void 0===v?void 0:v.EntryDate):"-"})}),(0,E.jsx)("td",{className:"fa-15 border text-center fw-bold text-primary",children:(0,r.Im)(null===v||void 0===v||null===(i=v.DayEntries[0])||void 0===i?void 0:i.PurchaseTotal)}),["Purchase","OtherGodown","PurchaseTransfer","Handle","WGChecking"].map((e,l)=>(0,E.jsx)("td",{className:"fa-13 border text-center",children:(0,r.Im)(null===v||void 0===v?void 0:v.DayEntries[0][e])},l)),(0,E.jsx)("td",{className:"fa-15 border text-center fw-bold text-primary",children:(0,r.Im)(null===v||void 0===v||null===(o=v.DayEntries[0])||void 0===o?void 0:o.SalesTotal)}),(0,E.jsx)("td",{className:"fa-14 border text-center fw-bold text-primary",children:(0,r.Im)(null===v||void 0===v||null===(c=v.DayEntries[0])||void 0===c?void 0:c.SalesOnlyTotal)}),["LorryShed","VandiVarum","DDSales","SalesTransfer"].map((e,l)=>(0,E.jsx)("td",{className:"fa-13 border text-center",children:(0,r.Im)(null===v||void 0===v?void 0:v.DayEntries[0][e])},l)),(0,E.jsx)("td",{className:"fa-14 border text-center fw-bold text-primary",children:(0,r.Im)(null===v||void 0===v||null===(x=v.DayEntries[0])||void 0===x?void 0:x.SalesOtherGodown)}),(0,E.jsx)("td",{className:"fa-13 border text-center",children:(0,r.id)(null===O||void 0===O?void 0:O.Edit_Rights,1)&&(0,E.jsx)(d.A,{onClick:()=>{C(null===v||void 0===v?void 0:v.DayEntries[0]),I(e=>(0,s.A)((0,s.A)({},e),{},{dialog:!0}))},size:"small",children:(0,E.jsx)(p.A,{className:"fa-18"})})})]}),j&&(null===v||void 0===v||null===(h=v.DayEntries)||void 0===h?void 0:h.length)>1&&(null===v||void 0===v||null===(u=v.DayEntries)||void 0===u?void 0:u.map((e,l)=>l>0&&(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{className:"fa-13 border text-center",children:m+"."+l}),(0,E.jsx)("td",{className:"fa-13 border text-center",onClick:()=>b(e=>!e),children:A?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("p",{className:"m-0",children:null!==e&&void 0!==e&&e.EntryAt?(0,r.yc)(null===e||void 0===e?void 0:e.EntryAt):"-"}),(0,E.jsx)("p",{className:"m-0 text-dark",children:null!==e&&void 0!==e&&e.EntryAt?(0,r.z5)(null===e||void 0===e?void 0:e.EntryAt):"-"})]}):(0,E.jsx)("p",{className:"m-0",children:null!==e&&void 0!==e&&e.EntryAt?(0,r.yc)(null===e||void 0===e?void 0:e.EntryAt):"-"})}),(0,E.jsx)("td",{className:"fa-15 border text-center fw-bold text-primary",children:(0,r.Im)(null===e||void 0===e?void 0:e.PurchaseTotal)}),["Purchase","OtherGodown","PurchaseTransfer","Handle","WGChecking"].map((l,a)=>(0,E.jsx)("td",{className:"fa-13 border text-center",children:(0,r.Im)(e[l])},a)),(0,E.jsx)("td",{className:"fa-15 border text-center fw-bold text-primary",children:(0,r.Im)(null===e||void 0===e?void 0:e.SalesTotal)}),(0,E.jsx)("td",{className:"fa-14 border text-center fw-bold text-primary",children:(0,r.Im)(null===e||void 0===e?void 0:e.SalesOnlyTotal)}),["LorryShed","VandiVarum","DDSales","SalesTransfer"].map((l,a)=>(0,E.jsx)("td",{className:"fa-13 border text-center",children:(0,r.Im)(e[l])},a)),(0,E.jsx)("td",{className:"fa-14 border text-center fw-bold text-primary",children:(0,r.Im)(null===e||void 0===e?void 0:e.SalesOtherGodown)}),(0,E.jsx)("td",{className:"fa-13 border text-center",children:(0,r.id)(null===O||void 0===O?void 0:O.Edit_Rights,1)&&(0,E.jsx)(d.A,{onClick:()=>{C(e),I(e=>(0,s.A)((0,s.A)({},e),{},{dialog:!0}))},size:"small",children:(0,E.jsx)(p.A,{className:"fa-18"})})})]},l)))]})},G=e=>{switch(e){case"DATA ENTRY":return(0,E.jsx)("div",{className:"table-responsive",style:{maxHeight:"60dvh"},children:(0,E.jsxs)("table",{className:"table",children:[(0,E.jsxs)("thead",{children:[(0,E.jsxs)("tr",{children:[(0,E.jsx)("th",{className:"border",colSpan:2}),(0,E.jsx)("th",{className:"fw-bold fa-13 border text-center text-muted",colSpan:4,children:"INWARD"}),(0,E.jsx)("th",{className:"fw-bold fa-13 border text-center text-muted",colSpan:2,children:"MANAGEMENT"}),(0,E.jsx)("th",{className:"fw-bold fa-13 border text-center text-muted",colSpan:7,children:"OUTWARD"}),(0,E.jsx)("th",{className:"border"})]}),(0,E.jsx)("tr",{children:["SNo","DATE","TOTAL","PURCHASE","OTHER GODOWN","TRANSFER","HANDLE","WG CHECKING","TOTAL","SALES TOTAL","LORRY SHED","VANDI VARUM","DD SALES","TRANSFER","OTHER GODOWN","ACTION"].map((e,l)=>(0,E.jsx)("td",{className:"border fa-12 text-center tble-hed-stick",children:e},l))})]}),(0,E.jsx)("tbody",{children:null===l||void 0===l?void 0:l.map((e,l)=>(0,E.jsx)(R,{o:e,sno:l+1},l))})]})});case"ABSTRACT":return(0,E.jsx)(E.Fragment,{children:(0,E.jsx)("div",{className:"table-responsive",children:(0,E.jsxs)("table",{className:"table mb-0",children:[(0,E.jsx)("thead",{children:(0,E.jsx)("tr",{children:["Sno","Date","Entries","INWARD","MANAGEMENT","OUTWARD"].map(e=>(0,E.jsx)("th",{className:"fa-14 border text-center text-muted",children:e},e))})}),(0,E.jsx)("tbody",{children:null===l||void 0===l?void 0:l.map((e,l)=>{var a,s,t,n,d;return(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{className:"fa-13 border text-center",children:l+1}),(0,E.jsx)("td",{className:"fa-13 border text-center",children:null!==e&&void 0!==e&&e.EntryDate?(0,r.yc)(null===e||void 0===e?void 0:e.EntryDate):"-"}),(0,E.jsx)("td",{className:"fa-13 border text-center",children:null===e||void 0===e||null===(a=e.DayEntries)||void 0===a?void 0:a.length}),(0,E.jsx)("td",{className:"fa-13 border text-center",children:(0,r.Im)(null===e||void 0===e||null===(s=e.DayEntries[0])||void 0===s?void 0:s.PurchaseTotal)}),(0,E.jsx)("td",{className:"fa-13 border text-center",children:(0,r.Im)((0,r.jG)((0,r.Lr)(null===e||void 0===e||null===(t=e.DayEntries[0])||void 0===t?void 0:t.Handle,null===e||void 0===e||null===(n=e.DayEntries[0])||void 0===n?void 0:n.WGChecking)))}),(0,E.jsx)("td",{className:"fa-13 border text-center",children:(0,r.Im)(null===e||void 0===e||null===(d=e.DayEntries[0])||void 0===d?void 0:d.SalesTotal)})]},l)})})]})})});default:return(0,E.jsx)(E.Fragment,{})}};return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(i.A,{children:[(0,E.jsxs)("div",{className:"px-3 py-2 fa-16 fw-bold border-bottom d-flex justify-content-between align-items-center",children:[(0,E.jsx)("span",{children:"Godown Activities"}),(0,r.id)(null===O||void 0===O?void 0:O.Add_Rights,1)&&(0,E.jsx)(o.A,{variant:"outlined",onClick:()=>I(e=>(0,s.A)((0,s.A)({},e),{},{dialog:!0})),children:"Add Activity"})]}),(0,E.jsxs)(c.A,{className:"pt-0",children:[(0,E.jsxs)("div",{className:"d-flex flex-wrap",children:[(0,E.jsxs)("div",{className:"p-2",children:[(0,E.jsx)("label",{children:"FROM"}),(0,E.jsx)("br",{}),(0,E.jsx)("input",{value:w.Fromdate,type:"date",className:"cus-inpt w-auto",onChange:e=>I(l=>(0,s.A)((0,s.A)({},l),{},{Fromdate:e.target.value}))})]}),(0,E.jsxs)("div",{className:"p-2",children:[(0,E.jsx)("label",{children:"TO"}),(0,E.jsx)("br",{}),(0,E.jsx)("input",{value:w.Todate,type:"date",className:"cus-inpt w-auto",onChange:e=>I(l=>(0,s.A)((0,s.A)({},l),{},{Todate:e.target.value}))})]}),(0,E.jsxs)("div",{className:"p-2",children:[(0,E.jsx)("label",{children:"LOCATION"}),(0,E.jsx)("br",{}),(0,E.jsxs)("select",{className:"cus-inpt",value:w.LocationDetails,onChange:e=>I(l=>(0,s.A)((0,s.A)({},l),{},{LocationDetails:e.target.value})),children:[(0,E.jsx)("option",{value:"MILL",children:"MILL"}),(0,E.jsx)("option",{value:"GODOWN",children:"GODOWN"})]})]})]}),(0,E.jsxs)(N.Ay,{value:w.view,children:[(0,E.jsx)(x.A,{sx:{borderBottom:1,borderColor:"divider"},children:(0,E.jsxs)(A.A,{indicatorColor:"transparant",onChange:(e,l)=>I(e=>(0,s.A)((0,s.A)({},e),{},{view:l})),variant:"scrollable",scrollButtons:"auto",allowScrollButtonsMobile:!0,children:[(0,E.jsx)(h.A,{sx:"DATA ENTRY"===w.view?{backgroundColor:"#c6d7eb"}:{},label:"DATA ENTRY",value:"DATA ENTRY"}),(0,E.jsx)(h.A,{sx:"ABSTRACT"===w.view?{backgroundColor:"#c6d7eb"}:{},label:"ABSTRACT",value:"ABSTRACT"})]})}),["DATA ENTRY","ABSTRACT"].map(e=>(0,E.jsx)(b.A,{value:e,sx:{px:0,py:2},children:null!==l&&void 0!==l&&l.length?G(e):(0,E.jsx)(E.Fragment,{})},e))]})]})]}),(0,E.jsxs)(u.A,{open:w.dialog,onClose:L,fullWidth:!0,maxWidth:"sm",children:[(0,E.jsx)(v.A,{className:" bg-light",children:null!==g&&void 0!==g&&g.Id?"Modify Activity":"Add Godown Activity"}),(0,E.jsxs)(m.A,{children:[(0,E.jsx)("h6",{className:"border-bottom fw-bold text-muted py-2 m-0 mt-2",children:"DATE & LOCATION"}),(0,E.jsxs)("div",{className:"d-flex my-2",children:[(0,E.jsxs)("div",{className:"p-2",style:{width:"150px"},children:[(0,E.jsx)("label",{children:"DATE"}),(0,E.jsx)("input",{value:g.EntryDate,type:"date",className:"cus-inpt",onChange:e=>C(l=>(0,s.A)((0,s.A)({},l),{},{EntryDate:e.target.value}))})]}),(0,E.jsxs)("div",{className:"py-2",style:{width:"150px"},children:[(0,E.jsx)("label",{children:"LOCATION"}),(0,E.jsxs)("select",{value:null===g||void 0===g?void 0:g.LocationDetails,onChange:e=>C(l=>(0,s.A)((0,s.A)({},l),{},{LocationDetails:e.target.value})),className:"cus-inpt",required:!0,children:[(0,E.jsx)("option",{value:"MILL",children:"MILL"}),(0,E.jsx)("option",{value:"GODOWN",children:"GODOWN"})]})]})]}),(0,E.jsx)("div",{className:"table-responsive",children:(0,E.jsx)("teble",{className:"table",children:(0,E.jsxs)("tbody",{children:[(0,E.jsx)("tr",{children:(0,E.jsx)("td",{colSpan:3,className:"fw-bold text-muted",children:" INWARD"})}),(0,E.jsxs)("tr",{children:[(0,E.jsxs)("td",{className:"border-0",children:[(0,E.jsx)("label",{className:"fa-14",children:"PURCHASE"}),(0,E.jsx)("input",{value:null!==g&&void 0!==g&&g.Purchase?null===g||void 0===g?void 0:g.Purchase:"",className:"cus-inpt",onInput:r.BE,onChange:e=>C(l=>(0,s.A)((0,s.A)({},l),{},{Purchase:e.target.value}))})]}),(0,E.jsxs)("td",{className:"border-0",children:[(0,E.jsx)("label",{className:"fa-14",children:"OTHER GODOWN"}),(0,E.jsx)("input",{value:null!==g&&void 0!==g&&g.OtherGodown?null===g||void 0===g?void 0:g.OtherGodown:"",className:"cus-inpt",onInput:r.BE,onChange:e=>C(l=>(0,s.A)((0,s.A)({},l),{},{OtherGodown:e.target.value}))})]}),(0,E.jsxs)("td",{className:"border-0",children:[(0,E.jsx)("label",{className:"fa-14",children:"TRANSFER"}),(0,E.jsx)("input",{value:null!==g&&void 0!==g&&g.PurchaseTransfer?null===g||void 0===g?void 0:g.PurchaseTransfer:"",className:"cus-inpt",onInput:r.BE,onChange:e=>C(l=>(0,s.A)((0,s.A)({},l),{},{PurchaseTransfer:e.target.value}))})]}),(0,E.jsx)("td",{className:"border-0"})]}),(0,E.jsx)("tr",{children:(0,E.jsx)("td",{className:"border-0",colSpan:3})}),(0,E.jsx)("tr",{children:(0,E.jsx)("td",{className:"border-0",colSpan:3})}),(0,E.jsx)("tr",{children:(0,E.jsx)("td",{colSpan:3,className:"fw-bold text-muted",children:"STOCK HANDLING"})}),(0,E.jsxs)("tr",{children:[(0,E.jsxs)("td",{className:"border-0",children:[(0,E.jsx)("label",{className:"fa-14",children:"HANDLE"}),(0,E.jsx)("input",{value:null!==g&&void 0!==g&&g.Handle?null===g||void 0===g?void 0:g.Handle:"",className:"cus-inpt",onInput:r.BE,onChange:e=>C(l=>(0,s.A)((0,s.A)({},l),{},{Handle:e.target.value}))})]}),(0,E.jsxs)("td",{className:"border-0",children:[(0,E.jsx)("label",{className:"fa-14",children:"WG CHECKING"}),(0,E.jsx)("input",{value:null!==g&&void 0!==g&&g.WGChecking?null===g||void 0===g?void 0:g.WGChecking:"",className:"cus-inpt",onInput:r.BE,onChange:e=>C(l=>(0,s.A)((0,s.A)({},l),{},{WGChecking:e.target.value}))})]}),(0,E.jsx)("td",{className:"border-0"})]}),(0,E.jsx)("tr",{children:(0,E.jsx)("td",{className:"border-0",colSpan:3})}),(0,E.jsx)("tr",{children:(0,E.jsx)("td",{className:"border-0",colSpan:3})}),(0,E.jsx)("tr",{children:(0,E.jsx)("td",{colSpan:3,className:"fw-bold text-muted",children:" OUTWARD"})}),(0,E.jsxs)("tr",{children:[(0,E.jsxs)("td",{className:"border-0",children:[(0,E.jsx)("label",{className:"fa-14",children:"Lorry Shed"}),(0,E.jsx)("input",{value:null!==g&&void 0!==g&&g.LorryShed?null===g||void 0===g?void 0:g.LorryShed:"",className:"cus-inpt",onInput:r.BE,onChange:e=>C(l=>(0,s.A)((0,s.A)({},l),{},{LorryShed:e.target.value}))})]}),(0,E.jsxs)("td",{className:"border-0",children:[(0,E.jsx)("label",{className:"fa-14",children:"Vandi Varum"}),(0,E.jsx)("input",{value:null!==g&&void 0!==g&&g.VandiVarum?null===g||void 0===g?void 0:g.VandiVarum:"",className:"cus-inpt",onInput:r.BE,onChange:e=>C(l=>(0,s.A)((0,s.A)({},l),{},{VandiVarum:e.target.value}))})]}),(0,E.jsxs)("td",{className:"border-0",children:[(0,E.jsx)("label",{className:"fa-14",children:"DD Sales"}),(0,E.jsx)("input",{value:null!==g&&void 0!==g&&g.DDSales?null===g||void 0===g?void 0:g.DDSales:"",className:"cus-inpt",onInput:r.BE,onChange:e=>C(l=>(0,s.A)((0,s.A)({},l),{},{DDSales:e.target.value}))})]})]}),(0,E.jsxs)("tr",{children:[(0,E.jsxs)("td",{className:"border-0",children:[(0,E.jsx)("label",{className:"fa-14",children:"TRANSFER"}),(0,E.jsx)("input",{value:null!==g&&void 0!==g&&g.SalesTransfer?null===g||void 0===g?void 0:g.SalesTransfer:"",className:"cus-inpt",onInput:r.BE,onChange:e=>C(l=>(0,s.A)((0,s.A)({},l),{},{SalesTransfer:e.target.value}))})]}),(0,E.jsxs)("td",{className:"border-0",children:[(0,E.jsx)("label",{className:"fa-14",children:"OTHER GODOWN"}),(0,E.jsx)("input",{value:null!==g&&void 0!==g&&g.SalesOtherGodown?null===g||void 0===g?void 0:g.SalesOtherGodown:"",className:"cus-inpt",onInput:r.BE,onChange:e=>C(l=>(0,s.A)((0,s.A)({},l),{},{SalesOtherGodown:e.target.value}))})]}),(0,E.jsx)("td",{className:"border-0"})]})]})})})]}),(0,E.jsxs)(j.A,{children:[(0,E.jsx)(o.A,{children:"CANCEL"}),(0,E.jsx)(o.A,{variant:"outlined",onClick:()=>{(0,f.z)({address:"dataEntry/godownActivities",method:g.Id?"PUT":"POST",headers:{"Content-Type":"application/json"},bodyData:g}).then(e=>{e.success?(n.oR.success(e.message),L(),T(!D)):n.oR.error(e.message)}).catch(e=>console.error(e))},children:"save"})]})]})]})}}}]);
//# sourceMappingURL=2027.7a775062.chunk.js.map