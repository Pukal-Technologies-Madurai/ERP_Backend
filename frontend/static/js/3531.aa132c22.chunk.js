"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[3531],{3632:(e,l,t)=>{t.d(l,{A:()=>n});var i=t(59662),s=t(70579);const n=(0,i.A)((0,s.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")},10204:(e,l,t)=>{t.d(l,{T:()=>i,X:()=>s});const i=[{id:0,label:"New",color:" bg-info text-white "},{id:1,label:"Verified",color:" bg-warning text-white "},{id:2,label:"Converted",color:" bg-success text-white "},{id:3,label:"Canceled",color:" bg-danger text-white "}],s=[{id:1,label:"New",color:" bg-info text-white "},{id:2,label:"Progess",color:" bg-warning text-white "},{id:3,label:"Completed",color:" bg-success text-white "},{id:4,label:"Canceled",color:" bg-danger text-white "}]},13479:(e,l,t)=>{t.d(l,{A:()=>n});var i=t(59662),s=t(70579);const n=(0,i.A)((0,s.jsx)("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8m0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4z"}),"Sync")},13899:(e,l,t)=>{t.d(l,{A:()=>g});var i=t(89379),s=t(65043),n=t(83462),a=t(26600),d=t(35316),o=t(29347),r=t(11906),c=t(33438),h=t(47968),x=t(97707),m=t(93141),u=t(65074),v=t(70579);const p=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1){case 0:return(0,x.e3)(e*(l/100));case 1:return(0,x.e3)(e-e*(100/(100+l)));default:return 0}},g=e=>{let{orderDetails:l,orderProducts:t,download:g,actionOpen:j,clearDetails:b,children:f,TitleText:y}=e;const A=JSON.parse(localStorage.getItem("user")),[N,S]=(0,s.useState)(!1),[T,C]=(0,s.useState)({}),[w,I]=(0,s.useState)({}),_=(0,s.useRef)(null),F=(0,x.id)(l.GST_Inclusive,0),G=(0,x.id)(l.GST_Inclusive,1),R=(0,x.id)(l.GST_Inclusive,2),P=(0,x.id)(l.IS_IGST,1);(0,s.useEffect)(()=>{(0,u.z)({address:"masters/company?Company_id=".concat(null===A||void 0===A?void 0:A.Company_id)}).then(e=>{e.success&&I(null!==e&&void 0!==e&&e.data[0]?null===e||void 0===e?void 0:e.data[0]:{})}).catch(e=>console.error(e))},[null===A||void 0===A?void 0:A.Company_id]),(0,s.useEffect)(()=>{j&&S(!0)},[j]),(0,s.useEffect)(()=>{null!==l&&void 0!==l&&l.Retailer_Id&&(0,u.z)({address:"masters/retailers/info?Retailer_Id=".concat(null===l||void 0===l?void 0:l.Retailer_Id)}).then(e=>{e.success&&C(null!==e&&void 0!==e&&e.data[0]?null===e||void 0===e?void 0:e.data[0]:{})}).catch(e=>console.error(e))},[null===l||void 0===l?void 0:l.Retailer_Id]);const O=()=>{S(!1),b&&b()},D=t.filter(e=>(0,x.D)(null===e||void 0===e?void 0:e.Bill_Qty,0)),z=t.reduce((e,l)=>{const t=(0,x.e3)(null===l||void 0===l?void 0:l.Item_Rate),i=parseInt(null===l||void 0===l?void 0:l.Bill_Qty)||0;if(R)return e.TotalValue+=(0,x.JH)(i,t),e;const s=P?null===l||void 0===l?void 0:l.Igst:(0,x.Lr)(null===l||void 0===l?void 0:l.Sgst,null===l||void 0===l?void 0:l.Cgst);if(G){const l=p(1,t,s),n=(0,x.DG)(t,l);e.TotalTax+=(0,x.JH)(i,l),e.TotalValue+=(0,x.JH)(i,n)}if(F){const l=p(0,t,s);e.TotalTax+=(0,x.JH)(i,l),e.TotalValue+=(0,x.JH)(i,t)}return e},{TotalValue:0,TotalTax:0}),L=(0,m.useReactToPrint)({content:()=>_.current}),k=[{labelOne:"Invoice No",dataOne:null===l||void 0===l?void 0:l.So_Id,labelTwo:"Dated",dataTwo:(0,x.yc)(null===l||void 0===l?void 0:l.So_Date)},{labelOne:"Delivery Note",dataOne:"",labelTwo:"Mode/Terms of Payment",dataTwo:""},{labelOne:"Reference No. & Date",dataOne:"",labelTwo:"Other References",dataTwo:""},{labelOne:"Buyer's Order No",dataOne:"",labelTwo:"Dated",dataTwo:""},{labelOne:"Dispatch Doc No",dataOne:"",labelTwo:"Delivery Note Date",dataTwo:""},{labelOne:"Dispatched through",dataOne:"",labelTwo:"Destination",dataTwo:""},{labelOne:"Bill of Lading/LR-RR No",dataOne:"",labelTwo:"Motor Vehicle No",dataTwo:""}],B=null===t||void 0===t?void 0:t.reduce((e,t)=>{const s=e.findIndex(e=>e.hsnCode==t.HSN_Code),{Taxable_Amount:n,Cgst_Amo:a,Sgst_Amo:d,Igst_Amo:o,HSN_Code:r,Cgst:c,Sgst:h,Igst:m}=t;if(-1!==s){const t=e[s],r=(0,i.A)((0,i.A)({},t),{},{taxableValue:t.taxableValue+n,cgst:(0,x.Lr)(t.cgst,a),sgst:(0,x.Lr)(t.sgst,d),igst:(0,x.Lr)(t.igst,o),totalTax:t.totalTax+Number(l.IS_IGST?o:(0,x.Lr)(a,d))});return e[s]=r,e}const u={hsnCode:r,taxableValue:n,cgst:a,cgstPercentage:c,sgst:d,sgstPercentage:h,igst:o,igstPercentage:m,totalTax:l.IS_IGST?Number(o):(0,x.Lr)(a,d)};return[...e,u]},[]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("span",{onClick:()=>{S(!0)},children:f}),(0,v.jsxs)(n.A,{open:N,onClose:O,fullWidth:!0,maxWidth:"lg",children:[(0,v.jsx)(a.A,{children:"Order Preview"}),(0,v.jsxs)(d.A,{ref:_,children:[(0,v.jsx)("h3",{className:"text-center mb-2",children:null!==y&&void 0!==y?y:"Invoice Details"}),(0,v.jsxs)("div",{className:"row",children:[(0,v.jsxs)("div",{className:"col-6 p-0 border border-bottom-0 border-end-0",children:[(0,v.jsxs)("div",{className:"border-bottom p-2",children:[(0,v.jsx)("p",{className:"m-0 fa-17",children:null===w||void 0===w?void 0:w.Company_Name}),(0,v.jsxs)("p",{className:"m-0 fa-14",children:["Address: ",null===w||void 0===w?void 0:w.Company_Address]}),(0,v.jsxs)("p",{className:"m-0 fa-14",children:["City: ",null===w||void 0===w?void 0:w.Region," - ",null===w||void 0===w?void 0:w.Pincode]}),(0,v.jsx)("p",{className:"m-0 fa-14",children:null!==w&&void 0!==w&&w.Gst_Number||null!==w&&void 0!==w&&w.VAT_TIN_Number?(0,v.jsxs)(v.Fragment,{children:["GSTIN / UIN:",null!==w&&void 0!==w&&w.Gst_Number?" ".concat(w.Gst_Number):"",null!==w&&void 0!==w&&w.Gst_Number&&null!==w&&void 0!==w&&w.VAT_TIN_Number?" || ":"",null!==w&&void 0!==w&&w.VAT_TIN_Number?" ".concat(w.VAT_TIN_Number):""]}):(0,v.jsx)(v.Fragment,{children:"GSTIN / UIN: Not Available"})}),(0,v.jsxs)("p",{className:"m-0 fa-14",children:["State: ",null===w||void 0===w?void 0:w.State]}),(0,v.jsx)("p",{className:"m-0 fa-14",children:"Code: "})]}),(0,v.jsxs)("div",{className:"p-2",children:[" ",(0,v.jsx)("p",{className:"m-0 fa-12",children:"Buyer (Bill to)"}),(0,v.jsx)("p",{className:"m-0 fa-15",children:null===T||void 0===T?void 0:T.Retailer_Name}),(0,v.jsx)("p",{className:"m-0 fa-14",children:(null===T||void 0===T?void 0:T.Mobile_No)+" - "+(null===T||void 0===T?void 0:T.Reatailer_Address)}),(0,v.jsxs)("p",{className:"m-0 fa-14",children:[null===T||void 0===T?void 0:T.Reatailer_City," - ",null===T||void 0===T?void 0:T.PinCode]}),(0,v.jsxs)("p",{className:"m-0 fa-14",children:["GSTIN / UIN: ",null===T||void 0===T?void 0:T.Gstno]}),(0,v.jsxs)("p",{className:"m-0 fa-14",children:["State Name: ",null===T||void 0===T?void 0:T.StateGet]}),(0,v.jsx)("p",{className:"m-0 fa-14",children:"Code: "})]})]}),(0,v.jsx)("div",{className:"col-6 p-0 border border-bottom-0",children:(0,v.jsx)("table",{className:"table m-0",children:(0,v.jsxs)("tbody",{children:[k.map((e,l)=>(0,v.jsxs)("tr",{children:[(0,v.jsxs)("td",{className:"border-end fa-12 p-0 px-1",children:[(0,v.jsx)("p",{className:"m-0",children:e.labelOne}),(0,v.jsxs)("p",{className:"m-0",children:["\u2003",e.dataOne]})]}),(0,v.jsxs)("td",{className:"fa-12 p-0 px-1",children:[(0,v.jsx)("p",{className:"m-0",children:e.labelTwo}),(0,v.jsxs)("p",{className:"m-0",children:["\u2003",e.dataTwo]})]})]},l)),(0,v.jsx)("tr",{children:(0,v.jsxs)("td",{colSpan:2,className:"border-0 fa-12 p-0",children:[(0,v.jsx)("p",{className:"m-0",children:"Terms of Delivery"}),(0,v.jsx)("p",{className:"m-0"}),(0,v.jsx)("br",{}),(0,v.jsx)("br",{})]})})]})})})]}),(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-12 p-0",children:(0,v.jsxs)("table",{className:"table m-0",children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{className:"border bg-light fa-14",children:"Sno"}),(0,v.jsx)("td",{className:"border bg-light fa-14",children:"Product"}),(0,v.jsx)("td",{className:"border bg-light fa-14",children:"HSN/SAC"}),(0,v.jsx)("td",{className:"border bg-light fa-14 text-end",children:"Quantity"}),(0,v.jsx)("td",{className:"border bg-light fa-14 text-end",children:"Rate"}),(0,v.jsxs)("td",{className:"border bg-light fa-14 text-end",children:[(0,v.jsx)("p",{className:"m-2 ",children:"Rate"}),(0,v.jsxs)("p",{className:"m-0 ",children:[(0,x.id)(l.GST_Inclusive,1)&&"(Incl. of Tax)",(0,x.id)(l.GST_Inclusive,2)&&"(Tax not applicable)",(0,x.id)(l.GST_Inclusive,0)&&"(Excl. of Tax)"]})]}),(0,v.jsx)("td",{className:"border bg-light fa-14 text-end",children:"Amount"})]})}),(0,v.jsxs)("tbody",{children:[D.map((e,t)=>{var i;const s=null!==(i=P?null===e||void 0===e?void 0:e.Igst_P:(null===e||void 0===e?void 0:e.Cgst)+(null===e||void 0===e?void 0:e.Sgst))&&void 0!==i?i:0,n=Number((null===e||void 0===e?void 0:e.Bill_Qty)||0),a=Number((null===e||void 0===e?void 0:e.Item_Rate)||0),d=p(l.GST_Inclusive,a,s);return(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{className:"border fa-13",children:t+1}),(0,v.jsx)("td",{className:"border fa-13",children:null===e||void 0===e?void 0:e.Product_Name}),(0,v.jsx)("td",{className:"border fa-13",children:null===e||void 0===e?void 0:e.HSN_Code}),(0,v.jsxs)("td",{className:"border fa-13 text-end",children:[(0,x.jG)(n),(null===e||void 0===e?void 0:e.UOM)&&" ("+(null===e||void 0===e?void 0:e.UOM)+") "]}),(0,v.jsxs)("td",{className:"border fa-13 text-end",children:[" ",(0,x.jG)((0,x.id)(l.GST_Inclusive,1)?a-d:a)]}),(0,v.jsxs)("td",{className:"border fa-13 text-end",children:[" ",(0,x.jG)((0,x.id)(l.GST_Inclusive,1)?a:a+d)]}),(0,v.jsxs)("td",{className:"border fa-13 text-end",children:[" ",(0,x.jG)(null===e||void 0===e?void 0:e.Taxable_Amount)]})]},t)}),(0,v.jsxs)("tr",{children:[(0,v.jsxs)("td",{className:"border p-2",rowSpan:P?4:5,colSpan:4,children:[(0,v.jsx)("p",{className:"m-0",children:"Amount Chargeable (in words):"}),(0,v.jsxs)("p",{className:"m-0",children:["\u2003 INR ",(0,x.GF)(parseInt(null===l||void 0===l?void 0:l.Total_Invoice_value))," Only."]})]}),(0,v.jsx)("td",{className:"border p-2 fa-14",colSpan:2,children:"Total Taxable Amount"}),(0,v.jsx)("td",{className:"border p-2 text-end fa-14",children:(0,x.jG)(z.TotalValue)})]}),P?(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{className:"border p-2 fa-14",colSpan:2,children:"IGST"}),(0,v.jsx)("td",{className:"border p-2 fa-14 text-end",children:(0,x.jG)(l.IGST_Total)})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{className:"border p-2 fa-14",colSpan:2,children:"CGST"}),(0,v.jsx)("td",{className:"border p-2 text-end fa-14",children:(0,x.jG)(null===l||void 0===l?void 0:l.CSGT_Total)})]}),(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{className:"border p-2 fa-14",colSpan:2,children:"SGST"}),(0,v.jsx)("td",{className:"border p-2 fa-14 text-end",children:(0,x.jG)(null===l||void 0===l?void 0:l.SGST_Total)})]})]}),(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{className:"border p-2 fa-14",colSpan:2,children:"Round Off"}),(0,v.jsx)("td",{className:"border p-2 fa-14 text-end",children:(0,x.jG)(null===l||void 0===l?void 0:l.Round_off)})]}),(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{className:"border p-2 fa-14",colSpan:2,children:"Total"}),(0,v.jsx)("td",{className:"border p-2 fa-14 text-end fw-bold",children:(0,x.jG)(null===l||void 0===l?void 0:l.Total_Invoice_value)})]})]})]})})}),(0,v.jsxs)("table",{className:"table",children:[(0,v.jsxs)("thead",{children:[(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{className:"border bg-light fa-14 text-center",rowSpan:2,style:{verticalAlign:"middle"},children:"HSN / SAC"}),(0,v.jsx)("td",{className:"border bg-light fa-14 text-center",rowSpan:2,style:{verticalAlign:"middle"},children:"Taxable Value"}),(0,x.id)(l.IS_IGST,1)?(0,v.jsx)("td",{className:"border bg-light fa-14 text-center",colSpan:2,children:"IGST Tax"}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("td",{className:"border bg-light fa-14 text-center",colSpan:2,children:"Central Tax"}),(0,v.jsx)("td",{className:"border bg-light fa-14 text-center",colSpan:2,children:"State Tax"})]}),(0,v.jsx)("td",{className:"border bg-light fa-14 text-center",children:"Total"})]}),(0,v.jsxs)("tr",{children:[(0,x.id)(l.IS_IGST,1)?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("td",{className:"border bg-light fa-14 text-center",children:"Rate"}),(0,v.jsx)("td",{className:"border bg-light fa-14 text-center",children:"Amount"})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("td",{className:"border bg-light fa-14 text-center",children:"Rate"}),(0,v.jsx)("td",{className:"border bg-light fa-14 text-center",children:"Amount"}),(0,v.jsx)("td",{className:"border bg-light fa-14 text-center",children:"Rate"}),(0,v.jsx)("td",{className:"border bg-light fa-14 text-center",children:"Amount"})]}),(0,v.jsx)("td",{className:"border bg-light fa-14 text-center",children:"Tax Amount"})]})]}),(0,v.jsxs)("tbody",{children:[B.map((e,t)=>(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{className:"border fa-13 text-end",children:null===e||void 0===e?void 0:e.hsnCode}),(0,v.jsx)("td",{className:"border fa-13 text-end",children:(0,x.jG)(null===e||void 0===e?void 0:e.taxableValue)}),l.IS_IGST?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("td",{className:"border fa-13 text-end",children:(0,x.jG)(null===e||void 0===e?void 0:e.igstPercentage)}),(0,v.jsx)("td",{className:"border fa-13 text-end",children:(0,x.jG)(null===e||void 0===e?void 0:e.igst)})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("td",{className:"border fa-13 text-end",children:(0,x.jG)(null===e||void 0===e?void 0:e.cgstPercentage)}),(0,v.jsx)("td",{className:"border fa-13 text-end",children:(0,x.jG)(null===e||void 0===e?void 0:e.cgst)}),(0,v.jsx)("td",{className:"border fa-13 text-end",children:(0,x.jG)(null===e||void 0===e?void 0:e.sgstPercentage)}),(0,v.jsx)("td",{className:"border fa-13 text-end",children:(0,x.jG)(null===e||void 0===e?void 0:e.sgst)})]}),(0,v.jsx)("td",{className:"border fa-13 text-end",children:(0,x.jG)(null===e||void 0===e?void 0:e.totalTax)})]},t)),(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{className:"border fa-13 text-end",children:"Total"}),(0,v.jsx)("td",{className:"border fa-13 text-end fw-bold",children:(0,x.jG)(B.reduce((e,l)=>e+Number(l.taxableValue),0))}),l.IS_IGST?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("td",{className:"border fa-13 text-end"}),(0,v.jsx)("td",{className:"border fa-13 text-end fw-bold",children:(0,x.jG)(B.reduce((e,l)=>e+Number(l.igst),0))})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("td",{className:"border fa-13 text-end"}),(0,v.jsx)("td",{className:"border fa-13 text-end fw-bold",children:(0,x.jG)(B.reduce((e,l)=>e+Number(l.cgst),0))}),(0,v.jsx)("td",{className:"border fa-13 text-end"}),(0,v.jsx)("td",{className:"border fa-13 text-end fw-bold",children:(0,x.jG)(B.reduce((e,l)=>e+Number(l.sgst),0))})]}),(0,v.jsx)("td",{className:"border fa-13 text-end fw-bold",children:(0,x.jG)(B.reduce((e,l)=>e+Number(l.totalTax),0))})]}),(0,v.jsx)("tr",{children:(0,v.jsxs)("td",{colSpan:(0,x.id)(l.IS_IGST,1)?5:7,className:"border fa-13 fw-bold",children:["Tax Amount (in words) : INR \xa0",(0,x.GF)(parseInt(B.reduce((e,l)=>e+Number(l.totalTax),0)))," only."]})})]})]}),(0,v.jsx)("div",{className:"col-12 text-center",children:(0,v.jsx)("p",{children:"This is a Computer Generated Invoice"})})]}),(0,v.jsxs)(o.A,{children:[(0,v.jsx)(r.A,{startIcon:(0,v.jsx)(c.A,{}),variant:"outlined",color:"error",onClick:O,children:"Close"}),g&&(0,v.jsx)(r.A,{startIcon:(0,v.jsx)(h.A,{}),variant:"outlined",onClick:L,children:"Download"})]})]})]})}},30513:(e,l,t)=>{t.d(l,{A:()=>n});var i=t(59662),s=t(70579);const n=(0,i.A)((0,s.jsx)("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3m-3 11H8v-5h8zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m-1-9H6v4h12z"}),"Print")},33438:(e,l,t)=>{t.d(l,{A:()=>n});var i=t(59662),s=t(70579);const n=(0,i.A)((0,s.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},48471:(e,l,t)=>{t.d(l,{Ay:()=>L,JT:()=>D,Lj:()=>P,wF:()=>O});var i=t(89379),s=t(65043),n=t(77739),a=t(17392),d=t(41020),o=t(30922),r=t(32143),c=t(2050),h=t(48734),x=t(28076),m=t(39652),u=t(12110),v=t(63336),p=t(79650),g=t(71806),j=t(84882),b=t(58093),f=t(73460),y=t(31159),A=t(97707),N=t(47968),S=t(692),T=t(8737),C=t(58558),w=t(30599),I=t(433),_=t(37762),F=(t(20557),t(11238)),G=t(70579);const R=(e,l)=>e.map(e=>{const t={};return l.forEach((l,i)=>{if(l.isVisible||l.Defult_Display)if(l.isCustomCell&&l.Cell){const s=l.Cell({row:e}),n=l.ColumnHeader?String(l.ColumnHeader).replace(/\s+/g,"_").toLowerCase():"field_".concat(i+1);"string"!==typeof s&&"number"!==typeof s&&"bigint"!==typeof s||(t[n]=s)}else{let i=l.Field_Name;t[i]=e[i]||""}}),t}),P=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"string",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"left",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"center",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return(0,i.A)({isVisible:a,Field_Name:e,Fied_Data:l,align:s,verticalAlign:n},t&&{ColumnHeader:t})},O=e=>{let{buttonsData:l=[],ToolTipText:t="Options"}=e;const[i,x]=(0,s.useState)(null),m=Boolean(i);return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(n.A,{title:t,children:(0,G.jsx)(a.A,{"aria-describedby":m,onClick:e=>{x(e.currentTarget)},className:"ms-2",size:"small",children:(0,G.jsx)(C.A,{})})}),(0,G.jsx)(d.Ay,{open:m,anchorEl:i,onClose:()=>{x(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:(0,G.jsx)(o.A,{children:l.map((e,l)=>(0,G.jsxs)(r.A,{onClick:()=>(null===e||void 0===e?void 0:e.onclick)&&(null===e||void 0===e?void 0:e.onclick()),disabled:null===e||void 0===e?void 0:e.disabled,children:[(0,G.jsx)(c.A,{children:null===e||void 0===e?void 0:e.icon}),(0,G.jsx)(h.A,{children:null===e||void 0===e?void 0:e.name})]},l))})})]})},D=(e,l)=>{switch(l){case"number":return e?(0,A.jG)(e):e;case"date":return e?(0,A.yc)(e):e;case"time":return e?(0,A.JG)(e):e;case"string":return e;default:return""}},z=e=>{let{dataArray:l=[],columns:t=[],onClickFun:n=null,isExpendable:d=!1,expandableComp:o=null,tableMaxHeight:r=550,initialPageCount:c=20,EnableSerialNumber:h=!1,CellSize:C="small",disablePagination:P=!1,title:z="",PDFPrintOption:L=!1,ExcelPrintOption:k=!1,maxHeightOption:B=!1,ButtonArea:V=null,MenuButtons:E=[],bodyFontSizePx:M=13,headerFontSizePx:H=13}=e;const[W,J]=(0,s.useState)(0),[U,Q]=(0,s.useState)(c),[$,Z]=(0,s.useState)([]),[X,K]=(0,s.useState)(!0),q=X&&B?" max-content ":r,Y=[{type:"left",class:"text-start"},{type:"right",class:"text-end"},{type:"center",class:"text-center"}],ee=[{type:"top",class:" vtop "},{type:"bottom",class:" vbottom "},{type:"center",class:" vctr "}],le=(e=>{if(!$.length)return e;return[...e].sort((e,l)=>{for(const t of $){const{columnId:i,direction:s}=t,n=e[i],a=l[i];if(n!==a)return"asc"===s?n>a?1:-1:n<a?1:-1}return 0})})(l),te=W*U,ie=te+U,se=le.slice(te,ie),ne=e=>{let{row:l,index:i}=e;const[r,c]=(0,s.useState)(!1),u="20px";return(0,G.jsxs)(s.Fragment,{children:[(0,G.jsxs)(x.A,{children:[!0===d&&o&&(0,G.jsx)(m.A,{className:"border-end text-center vtop",sx:{fontSize:"".concat(M,"px")},children:(0,G.jsx)(a.A,{size:"small",onClick:()=>c(e=>!e),children:r?(0,G.jsx)(T.A,{sx:{fontSize:u}}):(0,G.jsx)(S.A,{sx:{fontSize:u}})})}),!0===h&&(0,G.jsx)(m.A,{className:"border-end text-center vtop",sx:{fontSize:"".concat(M,"px")},children:U*W+i+1}),null===t||void 0===t?void 0:t.map((e,t)=>{var s,a;const d=(0,A.id)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,A.id)(null===e||void 0===e?void 0:e.isVisible,1),o=Boolean(null===e||void 0===e?void 0:e.isCustomCell)&&e.Cell,r=!o,c=(l,t,i)=>null!==e&&void 0!==e&&e.tdClass?" ".concat(null===e||void 0===e?void 0:e.tdClass({row:l,Field_Name:t,index:i})," "):"",h=e.align?null===(s=Y.find(l=>l.type===String(e.align).toLowerCase()))||void 0===s?void 0:s.class:"",x=e.verticalAlign?null===(a=ee.find(l=>l.type===String(e.verticalAlign).toLowerCase()))||void 0===a?void 0:a.class:" vctr ";if(d&&r){const s=Object.entries(l).find(l=>{let[t]=l;return t===e.Field_Name});return(0,G.jsx)(m.A,{className:"border-end ".concat(h," ").concat(x," ").concat(c(l,e.Field_Name,i)),sx:{fontSize:"".concat(M,"px")},onClick:()=>n?n(l):console.log("Function not supplied"),children:s?D(s[1],null===e||void 0===e?void 0:e.Fied_Data):"-"},t)}return d&&o?(0,G.jsx)(m.A,{className:"border-end ".concat(h," ").concat(x," ").concat(c(l,e.Field_Name,i)),sx:{fontSize:"".concat(M,"px")},children:e.Cell({row:l,Field_Name:e.Field_Name,index:i})},t):(0,G.jsx)(m.A,{sx:{fontSize:"".concat(M,"px")},className:"border-end ".concat(h," ").concat(x),children:"-"},t)})]}),!0===d&&o&&r&&(0,G.jsx)(x.A,{children:(0,G.jsx)(m.A,{colSpan:Number(null===t||void 0===t?void 0:t.length)+(!0===h?2:1),children:o({row:l,index:i})})})]})};return(0,G.jsxs)(u.A,{className:"rounded-3 bg-white overflow-hidden",component:v.A,children:[(0,G.jsxs)("div",{className:"d-flex align-items-center flex-wrap px-3 py-2 flex-row-reverse ",children:[(L||k||E.length>0||B)&&(0,G.jsx)(O,{ToolTipText:"Table Options",buttonsData:[...B?[{name:"Max Height",icon:X?(0,G.jsx)(I.A,{fontSize:"small",color:"primary"}):(0,G.jsx)(w.A,{fontSize:"small"}),onclick:()=>K(e=>!e),disabled:(0,A.id)(null===l||void 0===l?void 0:l.length,0)}]:[],...L?[{name:"PDF Print",icon:(0,G.jsx)(N.A,{fontSize:"small",color:"primary"}),onclick:()=>((e,l)=>{try{const t=new _.default,s=R(e,l),n=l.filter(e=>e.isVisible||e.Defult_Display).map(e=>e.Field_Name||String(e.ColumnHeader).replace(/\s+/g,"_").toLowerCase()),a=s.map(e=>n.map(l=>e[l])).map((e,l)=>(0,i.A)((0,i.A)({},e),{},{Sno:l+1}));t.autoTable({head:[n],body:a}),t.save("table.pdf")}catch(t){console.error(t)}})(l,t),disabled:(0,A.id)(null===l||void 0===l?void 0:l.length,0)}]:[],...k?[{name:"Excel Print",icon:(0,G.jsx)(N.A,{fontSize:"small",color:"primary"}),onclick:()=>((e,l)=>{try{const t=R(e,l),i=F.Wp.json_to_sheet(t),s=F.Wp.book_new();F.Wp.book_append_sheet(s,i,"Data"),F._h(s,"table.xlsx")}catch(t){console.error(t)}})(l,t),disabled:(0,A.id)(null===l||void 0===l?void 0:l.length,0)}]:[],...E]}),V&&V,z&&(0,G.jsx)("h6",{className:"fw-bold text-muted flex-grow-1 m-0",children:z})]}),(0,G.jsx)(p.A,{sx:{maxHeight:q},children:(0,G.jsxs)(g.A,{stickyHeader:!0,size:C,children:[(0,G.jsx)(j.A,{children:(0,G.jsxs)(x.A,{children:[d&&o&&(0,G.jsx)(m.A,{className:"fw-bold border-end border-top text-center",sx:{fontSize:"".concat(H,"px"),backgroundColor:"#EDF0F7"},children:"#"}),h&&(0,G.jsx)(m.A,{className:"fw-bold border-end border-top text-center",sx:{fontSize:"".concat(H,"px"),backgroundColor:"#EDF0F7"},children:"SNo"}),t.map((e,l)=>{const t=(0,A.id)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,A.id)(null===e||void 0===e?void 0:e.isVisible,1),s=!1===Boolean(null===e||void 0===e?void 0:e.isCustomCell)||!e.Cell,n=$.find(l=>l.columnId===e.Field_Name),a=n?n.direction:"asc";var d,o,r,c;return t?s?(0,G.jsx)(m.A,{className:"fw-bold border-end border-top "+(e.align?null===(d=Y.find(l=>l.type===String(e.align).toLowerCase()))||void 0===d?void 0:d.class:""),sx:{fontSize:"".concat(H,"px"),backgroundColor:"#EDF0F7"},sortDirection:!!n&&a,children:(0,G.jsx)(b.A,{active:!!n,direction:a,onClick:()=>(e=>{const l=$.find(l=>l.columnId===e);if(l){const t="asc"===l.direction;Z($.map(l=>l.columnId===e?(0,i.A)((0,i.A)({},l),{},{direction:t?"desc":"asc"}):l))}else Z([...$,{columnId:e,direction:"asc"}])})(e.Field_Name),children:e.ColumnHeader||(null===e||void 0===e||null===(o=e.Field_Name)||void 0===o?void 0:o.replace(/_/g," "))})},l):(0,G.jsx)(m.A,{className:"".concat(e.ColumnHeader||null!==e&&void 0!==e&&e.Field_Name?" fw-bold border-end border-top p-2 appFont ":" p-0 "," ")+(e.align?null===(r=Y.find(l=>l.type===String(e.align).toLowerCase()))||void 0===r?void 0:r.class:""),sx:{fontSize:"".concat(H,"px"),backgroundColor:"#EDF0F7"},children:e.ColumnHeader||(null===e||void 0===e||null===(c=e.Field_Name)||void 0===c?void 0:c.replace(/_/g," "))},l):null})]})}),(0,G.jsxs)(f.A,{children:[(P?le:se).map((e,l)=>(0,G.jsx)(ne,{row:e,index:l},l)),0===l.length&&(0,G.jsx)(x.A,{children:(0,G.jsx)(m.A,{colSpan:t.length+(!0===d&&o?1:0)+(!0===h?1:0),sx:{textAlign:"center"},children:"No Data"})})]})]})}),!P&&0!==se.length&&(0,G.jsx)("div",{className:"p-2 pb-0",children:(0,G.jsx)(y.A,{component:"div",count:l.length,page:W,onPageChange:(e,l)=>{J(l)},rowsPerPage:U,onRowsPerPageChange:e=>{Q(parseInt(e.target.value,10)),J(0)},rowsPerPageOptions:Array.from(new Set([c,5,20,50,100,200,500,1e3,2e3])).sort((e,l)=>e-l),labelRowsPerPage:"Rows per page",showFirstButton:!0,showLastButton:!0})})]})};z.defaultProps={dataArray:[],columns:[],onClickFun:null,isExpendable:!1,expandableComp:null,tableMaxHeight:550,initialPageCount:20,EnableSerialNumber:!1,CellSize:"small",disablePagination:!1,title:void 0,PDFPrintOption:!1,ExcelPrintOption:!1,maxHeightOption:!1,ButtonArea:null,MenuButtons:[],headerFontSizePx:13,bodyFontSizePx:13};const L=z},59383:(e,l,t)=>{t.d(l,{A:()=>n});var i=t(59662),s=t(70579);const n=(0,i.A)((0,s.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt")},63406:(e,l,t)=>{t.d(l,{zU:()=>d,ex:()=>o,MR:()=>a,Ap:()=>n,FX:()=>r});var i=t(89379);const s=t.p+"static/media/smt.aa4d4f940bbebff07a57.png",n={table:{style:{width:"auto",backgroundColor:"transparent"}},rows:{style:{backgroundColor:"transparent"}},headCells:{style:{backgroundColor:"#6b9080f8",color:"white",fontSize:"14px"}}},a={menu:(e,l)=>(0,i.A)((0,i.A)({},e),{},{zIndex:9999}),menuPortal:e=>(0,i.A)((0,i.A)({},e),{},{zIndex:9999}),groupHeading:e=>(0,i.A)((0,i.A)({},e),{},{backgroundColor:"#f5f5f5",color:"#333",fontWeight:"bold",fontSize:"14px",padding:"8px 12px",borderBottom:"1px solid #ddd",textTransform:"uppercase"}),option:(e,l)=>(0,i.A)((0,i.A)({},e),{},{backgroundColor:l.isSelected?"#2684FF":l.isFocused?"#E2ECF9":"white",color:l.isSelected?"white":"#333",padding:"10px 12px"})},d=[{id:1,headname:"Menu ID",variant:"head",align:"left",width:100},{id:2,headname:"MenuName"},{id:3,headname:"Read Rights"},{id:4,headname:"Add Rights"},{id:5,headname:"Edit Rights"},{id:6,headname:"Delete Rights"},{id:7,headname:"Print Rights"},{id:8,headname:"Action"}],o=[{dataBase:1,name:"SHANKAR TRADERS",business:"Wholesale Merchant in Dhall",address:"32, Chitrakara Street, Madurai - 01 <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:s,gstin:"33AADFS6973R1ZD",phone:"984-313-1353, 984-335-5166",fssai:"12418012000818",bankAccount:"0021 5032 0885 122",ifsc:"TMBL0000002"},{dataBase:2,name:"SMT AGRO PRODUCTS",business:"",address:"H.O: 153, Chitrakara Street, 2nd Floor, Madurai -01 <br /> G.O: 746 Puliyur, Sayanapuram, Svga <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:s,gstin:"33ACMFS3420Q1ZQ",phone:"0452-4371625",fssai:"12418012000818",bankAccount:"0025 3031 0875 947",ifsc:"TMBL0000002"},{dataBase:3,name:"BHAVANI TRADERS",business:"",address:"H.O: 152-A, Chitrakara Street, Madurai -01 <br /> G.O: 30/1-Rajman Nagar, Chintamani Main Road, Mdu-01 <br /> Tax Invoice",logo:s,gstin:"33AAEFB6728J1ZG",phone:"958-559-7641, 958-559-7614",fssai:"12418012000670",bankAccount:"0021 5005 0800 309",ifsc:"TMBL0000002"}],r=[{name:"PURCHASE_ORDER"},{name:"PURCHASE_INVOICE"},{name:"SALE_ORDER"},{name:"SALE_INVOICE"},{name:"JOURNAL"},{name:"STOCK_JOURNAL"},{name:"PAYMENT"},{name:"RECEIPT"},{name:"CONTRA"}]},70141:(e,l,t)=>{t.d(l,{A:()=>n});var i=t(59662),s=t(70579);const n=(0,i.A)((0,s.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},79484:(e,l,t)=>{t.d(l,{A:()=>n});var i=t(59662),s=t(70579);const n=(0,i.A)((0,s.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},80973:(e,l,t)=>{t.r(l),t.d(l,{default:()=>R});var i=t(89379),s=t(65043),n=t(77739),a=t(17392),d=t(11906),o=t(83462),r=t(26600),c=t(35316),h=t(29347),x=t(20656),m=t(63406),u=t(97707),v=t(13899),p=t(70141),g=t(83560),j=t(59383),b=t(79484),f=t(13479),y=t(3632),A=t(10204),N=t(65074),S=t(48471),T=t(73216),C=t(91036),w=t(90001),I=t(33438),_=t(30513),F=t(70579);const G={Fromdate:(0,u.ny)(),Todate:(0,u.ny)(),Retailer:{value:"",label:"ALL"},CreatedBy:{value:"",label:"ALL"},SalesPerson:{value:"",label:"ALL"},VoucherType:{value:"",label:"ALL"},Cancel_status:""},R=e=>{let{loadingOn:l,loadingOff:t,AddRights:R,EditRights:P,pageID:O}=e;const D=sessionStorage.getItem("filterValues"),z=(0,T.Zp)(),[L,k]=(0,s.useState)([]),[B,V]=(0,s.useState)({voucherType:[],retailers:[],createdBy:[]}),[E,M]=(0,s.useState)({}),[H,W]=(0,s.useState)(!1),[J,U]=(0,s.useState)(G),[Q,$]=(0,s.useState)({filters:!1,orderDetails:!1,printInvoice:!1}),[Z,X]=(0,s.useState)(null);(0,s.useEffect)(()=>{const e=(0,u.vU)(O),{Fromdate:l,Todate:t,Retailer:s=G.Retailer,CreatedBy:n=G.CreatedBy,SalesPerson:a=G.SalesPerson,VoucherType:d=G.VoucherType,Cancel_status:o=G.Cancel_status}=e;U(e=>(0,i.A)((0,i.A)({},e),{},{Fromdate:l,Todate:t,Retailer:s,CreatedBy:n,SalesPerson:a,VoucherType:d,Cancel_status:o}))},[D,O]),(0,s.useEffect)(()=>{const e=(0,u.vU)(O),{Fromdate:i,Todate:s,Retailer:n=G.Retailer.value,CreatedBy:a=G.CreatedBy.value,VoucherType:d=G.VoucherType.value,Cancel_status:o=G.Cancel_status}=e;(0,N.z)({address:"sales/salesInvoice?\n            Fromdate=".concat(i,"&\n            Todate=").concat(s,"&\n            Retailer_Id=").concat(null===n||void 0===n?void 0:n.value,"&\n            Created_by=").concat(null===a||void 0===a?void 0:a.value,"&\n            VoucherType=").concat(null===d||void 0===d?void 0:d.value,"&\n            Cancel_status=").concat(o),loadingOn:l,loadingOff:t}).then(e=>{e.success&&k(null===e||void 0===e?void 0:e.data)}).catch(e=>console.error(e))},[D,O,H]),(0,s.useEffect)(()=>{(0,N.z)({address:"sales/salesInvoice/filterValues"}).then(e=>{var l,t,i;e.success&&V({voucherType:(0,u.$r)(null===e||void 0===e||null===(l=e.others)||void 0===l?void 0:l.voucherType),retailers:(0,u.$r)(null===e||void 0===e||null===(t=e.others)||void 0===t?void 0:t.retailers),createdBy:(0,u.$r)(null===e||void 0===e||null===(i=e.others)||void 0===i?void 0:i.createdBy)})}).catch(e=>console.error(e))},[]);const K=()=>{$((0,i.A)((0,i.A)({},Q),{},{filters:!1,orderDetails:!1}))};return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(S.Ay,{title:"Sales Invoice",dataArray:L,EnableSerialNumber:!0,columns:[(0,S.Lj)("Do_Date","date","Date"),(0,S.Lj)("Do_Inv_No","string","ID"),(0,S.Lj)("Retailer_Name","string","Customer"),(0,S.Lj)("VoucherTypeGet","string","Voucher"),(0,S.Lj)("Total_Before_Tax","number","Before Tax"),(0,S.Lj)("Total_Tax","number","Tax"),(0,S.Lj)("Total_Invoice_value","number","Invoice Value"),{ColumnHeader:"Status",isVisible:1,align:"center",isCustomCell:!0,Cell:e=>{var l,t;let{row:i}=e;const s=A.X.find(e=>e.id===Number(null===i||void 0===i?void 0:i.Cancel_status));return(0,F.jsx)("span",{className:null!==(l="py-0 fw-bold px-2 rounded-4 fa-12 "+(null===s||void 0===s?void 0:s.color))&&void 0!==l?l:"bg-secondary text-white",children:null!==(t=null===s||void 0===s?void 0:s.label)&&void 0!==t?t:""})}},{Field_Name:"Action",isVisible:1,isCustomCell:!0,Cell:e=>{let{row:l}=e;return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(n.A,{title:"View Order",children:(0,F.jsx)(a.A,{onClick:()=>{M({orderDetails:l,orderProducts:null!==l&&void 0!==l&&l.Products_List?null===l||void 0===l?void 0:l.Products_List:[]})},color:"primary",size:"small",children:(0,F.jsx)(y.A,{className:"fa-16"})})}),(0,F.jsx)(n.A,{title:"Print Invoice",children:(0,F.jsx)(a.A,{onClick:()=>{X(l),$(e=>(0,i.A)((0,i.A)({},e),{},{printInvoice:!0}))},color:"secondary",size:"small",children:(0,F.jsx)(_.A,{className:"fa-16"})})}),P&&(0,F.jsx)(n.A,{title:"Edit",children:(0,F.jsx)(a.A,{onClick:()=>z("create",{state:(0,i.A)((0,i.A)({},l),{},{isEdit:!0})}),size:"small",children:(0,F.jsx)(g.A,{className:"fa-16"})})})]})}}],ButtonArea:(0,F.jsxs)(F.Fragment,{children:[R&&(0,F.jsx)(d.A,{variant:"outlined",startIcon:(0,F.jsx)(p.A,{}),onClick:()=>z("create"),children:"NEW"}),R&&(0,F.jsx)(n.A,{title:"Sync tally data",children:(0,F.jsx)(d.A,{className:"mx-1",variant:"outlined",onClick:()=>{(0,N.z)({address:"sales/salesInvoice/tallySync",loadingOn:l,loadingOff:t}).then(e=>{C.oR.success(e.message),W(e=>!e)}).catch(e=>console.error(e))},startIcon:(0,F.jsx)(f.A,{color:"primary"}),children:"Sync Tally"})}),(0,F.jsx)(n.A,{title:"Filters",children:(0,F.jsx)(a.A,{size:"small",onClick:()=>$((0,i.A)((0,i.A)({},Q),{},{filters:!0})),children:(0,F.jsx)(j.A,{})})})]}),isExpendable:!0,tableMaxHeight:550,expandableComp:e=>{let{row:l}=e;return(0,F.jsx)(F.Fragment,{children:(0,F.jsx)("table",{className:"table",children:(0,F.jsxs)("tbody",{children:[(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{className:"border p-2 bg-light",children:"Branch"}),(0,F.jsx)("td",{className:"border p-2",children:l.Branch_Name}),(0,F.jsx)("td",{className:"border p-2 bg-light",children:"Sales Person"}),(0,F.jsx)("td",{className:"border p-2",children:l.Sales_Person_Name}),(0,F.jsx)("td",{className:"border p-2 bg-light",children:"Round off"}),(0,F.jsx)("td",{className:"border p-2",children:l.Round_off})]}),(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{className:"border p-2 bg-light",children:"Invoice Type"}),(0,F.jsxs)("td",{className:"border p-2",children:[(0,u.id)(l.GST_Inclusive,1)&&"Inclusive",(0,u.id)(l.GST_Inclusive,0)&&"Exclusive"]}),(0,F.jsx)("td",{className:"border p-2 bg-light",children:"Tax Type"}),(0,F.jsxs)("td",{className:"border p-2",children:[(0,u.id)(l.IS_IGST,1)&&"IGST",(0,u.id)(l.IS_IGST,0)&&"GST"]}),(0,F.jsx)("td",{className:"border p-2 bg-light",children:"Sales Person"}),(0,F.jsx)("td",{className:"border p-2",children:l.Sales_Person_Name})]}),(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{className:"border p-2 bg-light",children:"Narration"}),(0,F.jsx)("td",{className:"border p-2",colSpan:5,children:l.Narration})]})]})})})}}),Object.keys(E).length>0&&(0,F.jsx)(v.A,{orderDetails:null===E||void 0===E?void 0:E.orderDetails,orderProducts:null===E||void 0===E?void 0:E.orderProducts,download:!0,actionOpen:!0,clearDetails:()=>M({}),TitleText:"Sale Order"}),(0,F.jsxs)(o.A,{open:Q.filters,onClose:K,fullWidth:!0,maxWidth:"sm",children:[(0,F.jsx)(r.A,{children:"Filters"}),(0,F.jsx)(c.A,{children:(0,F.jsx)("div",{className:"table-responsive pb-4",children:(0,F.jsx)("table",{className:"table",children:(0,F.jsxs)("tbody",{children:[(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{style:{verticalAlign:"middle"},children:"From"}),(0,F.jsx)("td",{children:(0,F.jsx)("input",{type:"date",value:J.Fromdate,onChange:e=>U((0,i.A)((0,i.A)({},J),{},{Fromdate:e.target.value})),className:"cus-inpt"})})]}),(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{style:{verticalAlign:"middle"},children:"To"}),(0,F.jsx)("td",{children:(0,F.jsx)("input",{type:"date",value:J.Todate,onChange:e=>U((0,i.A)((0,i.A)({},J),{},{Todate:e.target.value})),className:"cus-inpt"})})]}),(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{style:{verticalAlign:"middle"},children:"Retailer"}),(0,F.jsx)("td",{children:(0,F.jsx)(x.Ay,{value:null===J||void 0===J?void 0:J.Retailer,onChange:e=>U((0,i.A)((0,i.A)({},J),{},{Retailer:e})),options:[{value:"",label:"ALL"},...B.retailers],styles:m.MR,isSearchable:!0,placeholder:"Retailer Name",menuPortalTarget:document.body,filterOption:u.GI})})]}),(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{style:{verticalAlign:"middle"},children:"Voucher "}),(0,F.jsx)("td",{children:(0,F.jsx)(x.Ay,{value:null===J||void 0===J?void 0:J.VoucherType,onChange:e=>U((0,i.A)((0,i.A)({},J),{},{VoucherType:e})),options:[{value:"",label:"ALL"},...B.voucherType],styles:m.MR,menuPortalTarget:document.body,isSearchable:!0,placeholder:"Voucher Name",filterOption:u.GI})})]}),(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{style:{verticalAlign:"middle"},children:"Canceled Order"}),(0,F.jsx)("td",{children:(0,F.jsxs)("select",{type:"date",value:J.Cancel_status,onChange:e=>U((0,i.A)((0,i.A)({},J),{},{Cancel_status:e.target.value})),className:"cus-inpt",children:[(0,F.jsx)("option",{value:"",children:"All"}),A.X.map((e,l)=>(0,F.jsx)("option",{value:e.id,children:e.label},l))]})})]}),(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{style:{verticalAlign:"middle"},children:"Created By"}),(0,F.jsx)("td",{children:(0,F.jsx)(x.Ay,{value:null===J||void 0===J?void 0:J.CreatedBy,onChange:e=>U(l=>(0,i.A)((0,i.A)({},l),{},{CreatedBy:e})),options:[{value:"",label:"ALL"},...B.createdBy],styles:m.MR,isSearchable:!0,placeholder:"Sales Person Name",menuPortalTarget:document.body,filterOption:u.GI})})]})]})})})}),(0,F.jsxs)(h.A,{children:[(0,F.jsx)(d.A,{onClick:K,children:"close"}),(0,F.jsx)(d.A,{onClick:()=>{K(),(0,u.Mb)({Fromdate:null===J||void 0===J?void 0:J.Fromdate,Todate:J.Todate,pageID:O,Retailer:J.Retailer,CreatedBy:J.CreatedBy,VoucherType:J.VoucherType,Cancel_status:J.Cancel_status})},startIcon:(0,F.jsx)(b.A,{}),variant:"outlined",children:"Search"})]})]}),(0,F.jsxs)(o.A,{open:Q.printInvoice,onClose:()=>{$(e=>(0,i.A)((0,i.A)({},e),{},{printInvoice:!1})),X(null)},maxWidth:"lg",fullWidth:!0,scroll:"paper",children:[(0,F.jsxs)(r.A,{children:["Print Invoice #",null===Z||void 0===Z?void 0:Z.Do_Inv_No,(0,F.jsx)(a.A,{onClick:()=>{$(e=>(0,i.A)((0,i.A)({},e),{},{printInvoice:!1})),X(null)},style:{position:"absolute",right:8,top:8},children:(0,F.jsx)(I.A,{})})]}),(0,F.jsx)(c.A,{children:(null===Z||void 0===Z?void 0:Z.Do_Id)&&(0,F.jsx)(w.A,{Do_Id:Z.Do_Id,loadingOn:l,loadingOff:t})}),(0,F.jsx)(h.A,{children:(0,F.jsx)(d.A,{onClick:()=>{$(e=>(0,i.A)((0,i.A)({},e),{},{printInvoice:!1})),X(null)},children:"Close"})})]})]})}},83560:(e,l,t)=>{t.d(l,{A:()=>n});var i=t(59662),s=t(70579);const n=(0,i.A)((0,s.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},90001:(e,l,t)=>{t.d(l,{A:()=>m});var i=t(65043),s=t(97707),n=t(65074),a=t(93141),d=t(11906),o=t(30513),r=t(73216);const c=t.p+"static/media/plain.431247e336efa50eee27.jpeg";var h=t(70579);const x=e=>{let{data:l,companyInfo:t,isPreview:i}=e;const n=(0,s.$r)(null===l||void 0===l?void 0:l.productDetails),a=(0,s.$r)(null===l||void 0===l?void 0:l.expencessDetails).filter(e=>{var l;return!(null!==(l=e.expenseName)&&void 0!==l&&l.toLowerCase().includes("round off"))}),d=(0,s.$r)(null===l||void 0===l?void 0:l.staffDetails).find(e=>"Broker"===e.empType),o=(0,s.$r)(null===l||void 0===l?void 0:l.staffDetails).find(e=>"Transport"===e.empType),r=n.reduce((e,l)=>e+Number(l.amount||0),0)+a.reduce((e,l)=>e+Number(l.expenseValue||0),0)+Number((null===l||void 0===l?void 0:l.roundOffValue)||0),x=(e=>{const l=new Map;return e.forEach(e=>{const t=(null===e||void 0===e?void 0:e.hsnCode)||"",i=Number(null===e||void 0===e?void 0:e.amount)||0;l.set(t,(l.get(t)||0)+i)}),Array.from(l.entries()).map(e=>{let[l,t]=e;return{hsn:l,amount:t}})})(n);return(0,h.jsxs)("div",{style:{width:"21cm",height:"14.8cm",position:"relative",margin:i?"0 auto":"0",boxSizing:"border-box"},children:[(0,h.jsx)("img",{src:c,alt:"A5 Invoice Layout",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:0}}),(0,h.jsxs)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1,boxSizing:"border-box"},children:[(0,h.jsxs)("div",{style:{position:"absolute",top:"0.4cm",width:"100%",display:"flex"},children:[(0,h.jsxs)("div",{style:{position:"relative",width:"60%"},children:[(0,h.jsx)("div",{style:{position:"absolute",left:"0cm",width:"9cm",padding:"0px"},children:(0,h.jsx)("div",{style:{position:"absolute",left:"5.3cm",fontWeight:"bold",top:"0.2cm",fontSize:"25px",width:"7cm",padding:"3px",color:"#000"},children:null===t||void 0===t?void 0:t.Company_Name})}),(0,h.jsxs)("div",{style:{position:"absolute",left:"4.2cm",fontSize:"15px",width:"10cm",marginTop:"1cm",color:"#000"},children:[(0,h.jsx)("p",{children:"H.O: 153, Chitrakara Street, Madurai -01"}),(0,h.jsxs)("div",{style:{position:"absolute",fontSize:"14px",width:"10cm",bottom:"0cm",left:"10px",top:"0.0cm",padding:"0px",color:"#000"},children:[(0,h.jsx)("br",{}),(0,h.jsx)("p",{children:"G.O:746 Puliyur, Sayanapuram, Svga"})]}),(0,h.jsxs)("div",{style:{position:"absolute",fontSize:"14px",width:"10cm",bottom:"0cm",top:"15px",right:"20px",padding:"0px",color:"#000"},children:[(0,h.jsx)("br",{}),(0,h.jsx)("p",{children:"Bill of Supply- Disclaimer Affidavit Filed -Exempted"})]})]})]}),(0,h.jsxs)("div",{style:{position:"relative",width:"40%",fontSize:"13px",color:"#000",paddingRight:"1cm",textAlign:"right",top:"15px"},children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("strong",{children:"GSTIN :"})," 33AADFS4987M1ZL"]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("strong",{children:"Phone :"})," 0452 - 4371625"]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("strong",{})," 9786131353"]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("strong",{children:"FSSAI No"})," 12418012000176"]})]})]}),(0,h.jsxs)("div",{style:{position:"absolute",top:"2.7cm",width:"100%"},children:[(0,h.jsx)("p",{style:{position:"absolute",left:"1.0cm",fontSize:"13px",top:"0.0cm",width:"9cm",padding:"2.5px"}}),(0,h.jsxs)("div",{style:{position:"absolute",left:"3.25cm",fontSize:"13px",top:"0.3cm",width:"9cm",padding:"2.5px"},children:[(0,h.jsxs)("div",{style:{color:"#000"},children:[l.mailingName,",",l.Party_Location]}),(0,h.jsx)("div",{style:{color:"#000"},children:l.mailingAddress}),(0,h.jsx)("div",{style:{color:"#000"},children:l.mailingNumber}),(0,h.jsxs)("div",{style:{color:"#000"},children:["GSTIN: ",l.retailerGstNumber]})]}),(0,h.jsxs)("div",{style:{position:"absolute",left:"12cm",width:"8cm",fontSize:"12px",padding:"0px",top:"0.3cm"},children:[(0,h.jsxs)("div",{style:{height:"0.7cm",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[(0,h.jsx)("span",{style:{fontWeight:"bold",color:"#000"}}),(0,h.jsx)("span",{style:{color:"#000",marginLeft:"30px"},children:l.createdOn&&new Date(l.createdOn).toLocaleDateString("en-GB")})]}),(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[(0,h.jsx)("span",{style:{fontWeight:"bold",color:"#000",marginLeft:"50px"}}),(0,h.jsx)("b",{style:{color:"#000",marginLeft:"50px"},children:l.voucherTypeGet})]})]}),(0,h.jsxs)("div",{style:{height:"0.7cm",display:"flex",alignItems:"center",gap:"5px"},children:[(0,h.jsx)("span",{style:{fontWeight:"bold",color:"#000"}}),(0,h.jsx)("b",{style:{color:"#000",marginLeft:"50px"},children:l.voucherNumber})]}),(0,h.jsxs)("div",{style:{height:"1cm",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[(0,h.jsx)("span",{style:{fontWeight:"bold",color:"#000"}}),(0,h.jsx)("span",{style:{color:"#000",marginLeft:"50px"},children:(null===d||void 0===d?void 0:d.empName)||"-"})]}),(0,h.jsxs)("div",{style:{display:"flex"},children:[(0,h.jsx)("span",{style:{fontWeight:"bold",color:"#000"}}),(0,h.jsx)("span",{style:{color:"#000",alignItems:"center",gap:"5px"},children:(null===o||void 0===o?void 0:o.empName)||"-"})]})]})]})]}),(0,h.jsxs)("div",{style:{position:"absolute",top:"5.2cm",left:"0",width:"20cm",fontSize:"12px"},children:[(0,h.jsxs)("div",{style:{display:"flex",height:"0.5cm",lineHeight:"0.5cm",alignItems:"left",fontWeight:"bold",marginBottom:"0.3cm"},children:[(0,h.jsx)("div",{style:{width:"1cm",textAlign:"right",marginLeft:"0.4cm"}}),(0,h.jsx)("div",{style:{marginLeft:"0.2cm",width:"8.2cm",color:"#000"}}),(0,h.jsx)("div",{style:{width:"2cm",color:"#000"}}),(0,h.jsx)("div",{style:{width:"1.5cm",color:"#000"}}),(0,h.jsx)("div",{style:{width:"1.2cm",color:"#000"}}),(0,h.jsx)("div",{style:{width:"3cm",color:"#000"}}),(0,h.jsx)("div",{style:{width:"1cm",color:"#000"}}),(0,h.jsx)("div",{style:{width:"3.5cm",textAlign:"right",color:"#000"}})]}),n.filter(e=>e.itemName).map((e,l)=>(0,h.jsxs)("div",{style:{display:"flex",height:"0.5cm",lineHeight:"0.5cm",alignItems:"center"},children:[(0,h.jsx)("div",{style:{width:"1cm",textAlign:"right",marginLeft:"1.7cm",fontWeight:"bold",color:"#000",flexShrink:0},children:l+1}),(0,h.jsx)("div",{style:{marginLeft:"0.5cm",width:"6.8cm",color:"#000",fontWeight:"bold",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",flexShrink:0},children:e.itemName}),(0,h.jsx)("div",{style:{width:"1cm",color:"#000",marginLeft:"0.1cm",textAlign:"center",fontWeight:"bold",flexShrink:0},children:e.hsnCode}),(0,h.jsx)("div",{style:{width:"1cm",color:"#000",textAlign:"right",fontWeight:"bold",flexShrink:0,marginRight:"0.15cm"},children:e.gstPercentage}),(0,h.jsx)("div",{style:{width:"5cm",color:"#000",textAlign:"center",fontWeight:"bold"},children:e.quantity}),(0,h.jsx)("div",{style:{width:"4.7cm",color:"#000",textAlign:"center",fontWeight:"bold",marginRight:"0.5cm"},children:e.itemRate}),(0,h.jsx)("div",{style:{width:"1.2cm",color:"#000",fontWeight:"bold",marginLeft:"1cm",textAlign:"left",marginRight:"0.9cm"},children:e.billQuantity}),(0,h.jsx)("div",{style:{width:"5cm",textAlign:"right",fontWeight:"bold",color:"#000"},children:(0,s.jG)(e.amount)})]},l))]}),(0,h.jsx)("p",{style:{position:"absolute",fontWeight:"bold",top:"9.95cm",left:"2.5cm"},children:"TMB A/C NO: 002530350870041  IFSC : TMBL0000002"}),(0,h.jsxs)("div",{style:{position:"absolute",top:"10.6cm",left:"2.5cm",color:"#000",width:"15cm"},children:[(0,h.jsx)("span",{children:"INR"}),"   ",(0,s.GF)(parseInt(r))]}),(0,h.jsxs)("div",{style:{position:"absolute",top:"9.1cm",left:"0cm",width:"20cm"},children:[a.map((e,l)=>(0,h.jsxs)("div",{style:{position:"absolute",top:"".concat(.5*l,"cm"),display:"flex",height:"0.5cm",lineHeight:"0.5cm",alignItems:"center",width:"100%"},children:[(0,h.jsx)("div",{style:{width:"5.0cm"}}),(0,h.jsx)("div",{style:{width:"0.3cm"}}),(0,h.jsx)("div",{style:{width:"1.9cm"}}),(0,h.jsx)("div",{style:{width:"0.9cm"}}),(0,h.jsx)("div",{style:{width:"1.3cm"}}),(0,h.jsx)("div",{style:{width:"4.2cm",marginLeft:"4.5cm",lineHeight:"normal",color:"#000",fontSize:"10px"},children:e.expenseName}),(0,h.jsx)("div",{style:{width:"0cm"}}),(0,h.jsx)("div",{style:{width:"1.5cm",textAlign:"right",color:"#000",fontSize:"12px",marginRight:"auto"},children:(0,s.jG)(e.expenseValue)})]},l)),null!==l&&void 0!==l&&l.roundOffValue?(0,h.jsxs)("div",{style:{position:"absolute",top:"0.5cm",display:"flex",height:"0.5cm",fontWeight:"bold",alignItems:"center",width:"100%"},children:[(0,h.jsx)("div",{style:{width:"5.0cm"}}),(0,h.jsx)("div",{style:{width:"0.3cm"}}),(0,h.jsx)("div",{style:{width:"1.9cm"}}),(0,h.jsx)("div",{style:{width:"0.9cm"}}),(0,h.jsx)("div",{style:{width:"1.3cm"}}),(0,h.jsx)("div",{style:{width:"4.2cm",marginLeft:"8.5cm",lineHeight:"normal",color:"#000",fontSize:"10px",fontWeight:"bold"}}),(0,h.jsx)("div",{style:{width:"0cm"}}),(0,h.jsx)("div",{style:{position:"absolute",right:"0.5cm",textAlign:"right",color:"#000",fontSize:"12px",fontWeight:"bold",top:"0.45cm"},children:(0,s.jG)(l.roundOffValue)})]}):null,(0,h.jsxs)("div",{style:{position:"absolute",top:"1.6cm",left:"14cm",fontWeight:"bold",textAlign:"center",color:"#000",fontSize:"18px",display:"flex",justifyContent:"center",alignItems:"center",gap:"140px"},children:[(0,h.jsx)("span",{}),Number(parseFloat(r||0)).toFixed(2)]})]}),(0,h.jsxs)("div",{style:{position:"absolute",top:"11.6cm",fontSize:"11px",left:"3cm",width:"10cm"},children:[x.map((e,l)=>(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"100%",marginBottom:"0.1cm"},children:[(0,h.jsx)("span",{style:{color:"#000",fontWeight:"bold",width:"3cm",textAlign:"left"},children:e.hsn}),(0,h.jsx)("span",{style:{color:"#000",fontWeight:"bold",width:"3cm",textAlign:"right"},children:(0,s.jG)(e.amount)})]},l)),(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"100%",marginTop:"0.1cm",paddingTop:"0.1cm",fontWeight:"bold"},children:[(0,h.jsx)("span",{style:{color:"#000",width:"3cm",textAlign:"left"}}),(0,h.jsx)("span",{style:{color:"#000",width:"3cm",textAlign:"right"},children:(0,s.jG)(x.reduce((e,l)=>e+Number(l.amount||0),0))})]})]})]})]})},m=e=>{let{Do_Id:l,Do_Ids:t=[],loadingOn:s,loadingOff:c,isCombinedPrint:m=!1}=e;const[u,v]=(0,i.useState)([]),p=(0,i.useRef)(null),[g,j]=((0,r.Zp)(),(0,r.zy)(),(0,i.useState)({})),b=JSON.parse(localStorage.getItem("user")),f=Array.isArray(t)&&t.length>0?t:l?[l]:[],[y,A]=(0,i.useState)(!1);(0,i.useEffect)(()=>{if(0===f.length)return;null===s||void 0===s||s(),(0,n.z)({address:"masters/company?Company_id=".concat(null===b||void 0===b?void 0:b.Company_id)}).then(e=>{e.success&&j(null!==e&&void 0!==e&&e.data[0]?null===e||void 0===e?void 0:e.data[0]:{})}).catch(e=>console.error(e));(async()=>{try{const e=f.map(e=>(0,n.z)({address:"sales/salesInvoice/printOuts/invoicePrint?Do_Id=".concat(e),loadingOn:()=>{},loadingOff:()=>{}})),l=(await Promise.all(e)).filter(e=>{var l;return(null===e||void 0===e?void 0:e.success)&&(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l[0])}).map(e=>e.data[0]);v(l),A(!0)}catch(e){console.error("Error fetching invoices:",e)}finally{null===c||void 0===c||c()}})()},[JSON.stringify(f)]);const N=(0,a.useReactToPrint)({content:()=>p.current,onAfterPrint:()=>console.log("Print completed")});return!m&&u.length>0?(0,h.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,h.jsx)("style",{children:"\n            @media print {\n              @page {\n                size: A5 landscape;\n                margin: 0mm;\n              }\n              body {\n                margin: 0;\n                -webkit-print-color-adjust: exact;\n              }\n              .print-container {\n                width: 21cm !important;\n                height: 14.8cm !important;\n                margin: 0 auto !important;\n                padding: 0 !important;\n                position: relative !important;\n              }\n              .no-print {\n                display: none !important;\n              }\n            }\n            \n            @media screen {\n              .preview-center {\n                margin-left: 1cm;\n              }\n            }\n          "}),(0,h.jsxs)(d.A,{onClick:N,startIcon:(0,h.jsx)(o.A,{}),className:"no-print",style:{margin:"20px"},children:["Print Preview ",u.length>1?"(".concat(u.length," invoices)"):""]}),(0,h.jsx)("div",{ref:p,children:u.map((e,l)=>(0,h.jsx)("div",{style:{marginBottom:u.length>1?"50px":"0"},children:(0,h.jsx)(x,{data:e,companyInfo:g,isPreview:!0})},l))})]}):(0,h.jsx)("div",{ref:p,children:u.map((e,l)=>(0,h.jsx)("div",{className:"invoice-page",style:{pageBreakAfter:l<u.length-1?"always":"auto"},children:(0,h.jsx)(x,{data:e,companyInfo:g,isPreview:!1})},l))})}}}]);
//# sourceMappingURL=3531.aa132c22.chunk.js.map