"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[3425],{5793:(e,t,n)=>{n.d(t,{A:()=>a});var l=n(59662),o=n(70579);const a=(0,l.A)((0,o.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox")},12249:(e,t,n)=>{n.d(t,{A:()=>a});var l=n(59662),o=n(70579);const a=(0,l.A)((0,o.jsx)("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"CheckBoxOutlineBlank")},15626:(e,t,n)=>{n.d(t,{A:()=>a});var l=n(59662),o=n(70579);const a=(0,l.A)((0,o.jsx)("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m-9-2V7H4v3H1v2h3v3h2v-3h3v-2zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"PersonAdd")},33064:(e,t,n)=>{n.d(t,{A:()=>C});var l=n(98587),o=n(58168),a=n(65043),i=n(58387),s=n(68606),r=n(6803),d=n(34535),c=n(61475),u=n(54516),m=n(85213),p=n(75429),h=n(57056),v=n(32400);function g(e){return(0,v.Ay)("PrivateSwitchBase",e)}(0,h.A)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var f=n(70579);const x=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],A=(0,d.Ay)(p.A)(e=>{let{ownerState:t}=e;return(0,o.A)({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})}),y=(0,d.Ay)("input",{shouldForwardProp:c.A})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),C=a.forwardRef(function(e,t){const{autoFocus:n,checked:a,checkedIcon:d,className:c,defaultChecked:p,disabled:h,disableFocusRipple:v=!1,edge:C=!1,icon:j,id:b,inputProps:S,inputRef:_,name:D,onBlur:I,onChange:N,onFocus:k,readOnly:w,required:R=!1,tabIndex:F,type:z,value:T}=e,O=(0,l.A)(e,x),[P,E]=(0,u.A)({controlled:a,default:Boolean(p),name:"SwitchBase",state:"checked"}),M=(0,m.A)();let L=h;M&&"undefined"===typeof L&&(L=M.disabled);const B="checkbox"===z||"radio"===z,H=(0,o.A)({},e,{checked:P,disabled:L,disableFocusRipple:v,edge:C}),V=(e=>{const{classes:t,checked:n,disabled:l,edge:o}=e,a={root:["root",n&&"checked",l&&"disabled",o&&"edge".concat((0,r.A)(o))],input:["input"]};return(0,s.A)(a,g,t)})(H);return(0,f.jsxs)(A,(0,o.A)({component:"span",className:(0,i.A)(V.root,c),centerRipple:!0,focusRipple:!v,disabled:L,tabIndex:null,role:void 0,onFocus:e=>{k&&k(e),M&&M.onFocus&&M.onFocus(e)},onBlur:e=>{I&&I(e),M&&M.onBlur&&M.onBlur(e)},ownerState:H,ref:t},O,{children:[(0,f.jsx)(y,(0,o.A)({autoFocus:n,checked:a,defaultChecked:p,className:V.input,disabled:L,id:B?b:void 0,name:D,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;E(t),N&&N(e,t)},readOnly:w,ref:_,required:R,ownerState:H,tabIndex:F,type:z},"checkbox"===z&&void 0===T?{}:{value:T},S)),P?d:j]}))})},36285:(e,t,n)=>{var l=n(24994);t.A=void 0;var o=l(n(40039)),a=n(70579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M14 8c0-2.21-1.79-4-4-4S6 5.79 6 8s1.79 4 4 4 4-1.79 4-4m3 2v2h6v-2zM2 18v2h16v-2c0-2.66-5.33-4-8-4s-8 1.34-8 4"}),"PersonRemove")},48471:(e,t,n)=>{n.d(t,{Ay:()=>E,JT:()=>O,Lj:()=>z,wF:()=>T});var l=n(89379),o=n(65043),a=n(77739),i=n(17392),s=n(41020),r=n(30922),d=n(32143),c=n(2050),u=n(48734),m=n(28076),p=n(39652),h=n(12110),v=n(63336),g=n(79650),f=n(71806),x=n(84882),A=n(58093),y=n(73460),C=n(31159),j=n(97707),b=n(47968),S=n(692),_=n(8737),D=n(58558),I=n(30599),N=n(433),k=n(37762),w=(n(20557),n(11238)),R=n(70579);const F=(e,t)=>e.map(e=>{const n={};return t.forEach((t,l)=>{if(t.isVisible||t.Defult_Display)if(t.isCustomCell&&t.Cell){const o=t.Cell({row:e}),a=t.ColumnHeader?String(t.ColumnHeader).replace(/\s+/g,"_").toLowerCase():"field_".concat(l+1);"string"!==typeof o&&"number"!==typeof o&&"bigint"!==typeof o||(n[a]=o)}else{let l=t.Field_Name;n[l]=e[l]||""}}),n}),z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"string",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"left",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"center",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return(0,l.A)({isVisible:i,Field_Name:e,Fied_Data:t,align:o,verticalAlign:a},n&&{ColumnHeader:n})},T=e=>{let{buttonsData:t=[],ToolTipText:n="Options"}=e;const[l,m]=(0,o.useState)(null),p=Boolean(l);return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(a.A,{title:n,children:(0,R.jsx)(i.A,{"aria-describedby":p,onClick:e=>{m(e.currentTarget)},className:"ms-2",size:"small",children:(0,R.jsx)(D.A,{})})}),(0,R.jsx)(s.Ay,{open:p,anchorEl:l,onClose:()=>{m(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:(0,R.jsx)(r.A,{children:t.map((e,t)=>(0,R.jsxs)(d.A,{onClick:()=>(null===e||void 0===e?void 0:e.onclick)&&(null===e||void 0===e?void 0:e.onclick()),disabled:null===e||void 0===e?void 0:e.disabled,children:[(0,R.jsx)(c.A,{children:null===e||void 0===e?void 0:e.icon}),(0,R.jsx)(u.A,{children:null===e||void 0===e?void 0:e.name})]},t))})})]})},O=(e,t)=>{switch(t){case"number":return e?(0,j.jG)(e):e;case"date":return e?(0,j.yc)(e):e;case"time":return e?(0,j.JG)(e):e;case"string":return e;default:return""}},P=e=>{let{dataArray:t=[],columns:n=[],onClickFun:a=null,isExpendable:s=!1,expandableComp:r=null,tableMaxHeight:d=550,initialPageCount:c=20,EnableSerialNumber:u=!1,CellSize:D="small",disablePagination:z=!1,title:P="",PDFPrintOption:E=!1,ExcelPrintOption:M=!1,maxHeightOption:L=!1,ButtonArea:B=null,MenuButtons:H=[],bodyFontSizePx:V=13,headerFontSizePx:Q=13}=e;const[W,q]=(0,o.useState)(0),[$,G]=(0,o.useState)(c),[U,J]=(0,o.useState)([]),[K,Y]=(0,o.useState)(!0),Z=K&&L?" max-content ":d,X=[{type:"left",class:"text-start"},{type:"right",class:"text-end"},{type:"center",class:"text-center"}],ee=[{type:"top",class:" vtop "},{type:"bottom",class:" vbottom "},{type:"center",class:" vctr "}],te=(e=>{if(!U.length)return e;return[...e].sort((e,t)=>{for(const n of U){const{columnId:l,direction:o}=n,a=e[l],i=t[l];if(a!==i)return"asc"===o?a>i?1:-1:a<i?1:-1}return 0})})(t),ne=W*$,le=ne+$,oe=te.slice(ne,le),ae=e=>{let{row:t,index:l}=e;const[d,c]=(0,o.useState)(!1),h="20px";return(0,R.jsxs)(o.Fragment,{children:[(0,R.jsxs)(m.A,{children:[!0===s&&r&&(0,R.jsx)(p.A,{className:"border-end text-center vtop",sx:{fontSize:"".concat(V,"px")},children:(0,R.jsx)(i.A,{size:"small",onClick:()=>c(e=>!e),children:d?(0,R.jsx)(_.A,{sx:{fontSize:h}}):(0,R.jsx)(S.A,{sx:{fontSize:h}})})}),!0===u&&(0,R.jsx)(p.A,{className:"border-end text-center vtop",sx:{fontSize:"".concat(V,"px")},children:$*W+l+1}),null===n||void 0===n?void 0:n.map((e,n)=>{var o,i;const s=(0,j.id)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,j.id)(null===e||void 0===e?void 0:e.isVisible,1),r=Boolean(null===e||void 0===e?void 0:e.isCustomCell)&&e.Cell,d=!r,c=(t,n,l)=>null!==e&&void 0!==e&&e.tdClass?" ".concat(null===e||void 0===e?void 0:e.tdClass({row:t,Field_Name:n,index:l})," "):"",u=e.align?null===(o=X.find(t=>t.type===String(e.align).toLowerCase()))||void 0===o?void 0:o.class:"",m=e.verticalAlign?null===(i=ee.find(t=>t.type===String(e.verticalAlign).toLowerCase()))||void 0===i?void 0:i.class:" vctr ";if(s&&d){const o=Object.entries(t).find(t=>{let[n]=t;return n===e.Field_Name});return(0,R.jsx)(p.A,{className:"border-end ".concat(u," ").concat(m," ").concat(c(t,e.Field_Name,l)),sx:{fontSize:"".concat(V,"px")},onClick:()=>a?a(t):console.log("Function not supplied"),children:o?O(o[1],null===e||void 0===e?void 0:e.Fied_Data):"-"},n)}return s&&r?(0,R.jsx)(p.A,{className:"border-end ".concat(u," ").concat(m," ").concat(c(t,e.Field_Name,l)),sx:{fontSize:"".concat(V,"px")},children:e.Cell({row:t,Field_Name:e.Field_Name,index:l})},n):(0,R.jsx)(p.A,{sx:{fontSize:"".concat(V,"px")},className:"border-end ".concat(u," ").concat(m),children:"-"},n)})]}),!0===s&&r&&d&&(0,R.jsx)(m.A,{children:(0,R.jsx)(p.A,{colSpan:Number(null===n||void 0===n?void 0:n.length)+(!0===u?2:1),children:r({row:t,index:l})})})]})};return(0,R.jsxs)(h.A,{className:"rounded-3 bg-white overflow-hidden",component:v.A,children:[(0,R.jsxs)("div",{className:"d-flex align-items-center flex-wrap px-3 py-2 flex-row-reverse ",children:[(E||M||H.length>0||L)&&(0,R.jsx)(T,{ToolTipText:"Table Options",buttonsData:[...L?[{name:"Max Height",icon:K?(0,R.jsx)(N.A,{fontSize:"small",color:"primary"}):(0,R.jsx)(I.A,{fontSize:"small"}),onclick:()=>Y(e=>!e),disabled:(0,j.id)(null===t||void 0===t?void 0:t.length,0)}]:[],...E?[{name:"PDF Print",icon:(0,R.jsx)(b.A,{fontSize:"small",color:"primary"}),onclick:()=>((e,t)=>{try{const n=new k.default,o=F(e,t),a=t.filter(e=>e.isVisible||e.Defult_Display).map(e=>e.Field_Name||String(e.ColumnHeader).replace(/\s+/g,"_").toLowerCase()),i=o.map(e=>a.map(t=>e[t])).map((e,t)=>(0,l.A)((0,l.A)({},e),{},{Sno:t+1}));n.autoTable({head:[a],body:i}),n.save("table.pdf")}catch(n){console.error(n)}})(t,n),disabled:(0,j.id)(null===t||void 0===t?void 0:t.length,0)}]:[],...M?[{name:"Excel Print",icon:(0,R.jsx)(b.A,{fontSize:"small",color:"primary"}),onclick:()=>((e,t)=>{try{const n=F(e,t),l=w.Wp.json_to_sheet(n),o=w.Wp.book_new();w.Wp.book_append_sheet(o,l,"Data"),w._h(o,"table.xlsx")}catch(n){console.error(n)}})(t,n),disabled:(0,j.id)(null===t||void 0===t?void 0:t.length,0)}]:[],...H]}),B&&B,P&&(0,R.jsx)("h6",{className:"fw-bold text-muted flex-grow-1 m-0",children:P})]}),(0,R.jsx)(g.A,{sx:{maxHeight:Z},children:(0,R.jsxs)(f.A,{stickyHeader:!0,size:D,children:[(0,R.jsx)(x.A,{children:(0,R.jsxs)(m.A,{children:[s&&r&&(0,R.jsx)(p.A,{className:"fw-bold border-end border-top text-center",sx:{fontSize:"".concat(Q,"px"),backgroundColor:"#EDF0F7"},children:"#"}),u&&(0,R.jsx)(p.A,{className:"fw-bold border-end border-top text-center",sx:{fontSize:"".concat(Q,"px"),backgroundColor:"#EDF0F7"},children:"SNo"}),n.map((e,t)=>{const n=(0,j.id)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,j.id)(null===e||void 0===e?void 0:e.isVisible,1),o=!1===Boolean(null===e||void 0===e?void 0:e.isCustomCell)||!e.Cell,a=U.find(t=>t.columnId===e.Field_Name),i=a?a.direction:"asc";var s,r,d,c;return n?o?(0,R.jsx)(p.A,{className:"fw-bold border-end border-top "+(e.align?null===(s=X.find(t=>t.type===String(e.align).toLowerCase()))||void 0===s?void 0:s.class:""),sx:{fontSize:"".concat(Q,"px"),backgroundColor:"#EDF0F7"},sortDirection:!!a&&i,children:(0,R.jsx)(A.A,{active:!!a,direction:i,onClick:()=>(e=>{const t=U.find(t=>t.columnId===e);if(t){const n="asc"===t.direction;J(U.map(t=>t.columnId===e?(0,l.A)((0,l.A)({},t),{},{direction:n?"desc":"asc"}):t))}else J([...U,{columnId:e,direction:"asc"}])})(e.Field_Name),children:e.ColumnHeader||(null===e||void 0===e||null===(r=e.Field_Name)||void 0===r?void 0:r.replace(/_/g," "))})},t):(0,R.jsx)(p.A,{className:"".concat(e.ColumnHeader||null!==e&&void 0!==e&&e.Field_Name?" fw-bold border-end border-top p-2 appFont ":" p-0 "," ")+(e.align?null===(d=X.find(t=>t.type===String(e.align).toLowerCase()))||void 0===d?void 0:d.class:""),sx:{fontSize:"".concat(Q,"px"),backgroundColor:"#EDF0F7"},children:e.ColumnHeader||(null===e||void 0===e||null===(c=e.Field_Name)||void 0===c?void 0:c.replace(/_/g," "))},t):null})]})}),(0,R.jsxs)(y.A,{children:[(z?te:oe).map((e,t)=>(0,R.jsx)(ae,{row:e,index:t},t)),0===t.length&&(0,R.jsx)(m.A,{children:(0,R.jsx)(p.A,{colSpan:n.length+(!0===s&&r?1:0)+(!0===u?1:0),sx:{textAlign:"center"},children:"No Data"})})]})]})}),!z&&0!==oe.length&&(0,R.jsx)("div",{className:"p-2 pb-0",children:(0,R.jsx)(C.A,{component:"div",count:t.length,page:W,onPageChange:(e,t)=>{q(t)},rowsPerPage:$,onRowsPerPageChange:e=>{G(parseInt(e.target.value,10)),q(0)},rowsPerPageOptions:Array.from(new Set([c,5,20,50,100,200,500,1e3,2e3])).sort((e,t)=>e-t),labelRowsPerPage:"Rows per page",showFirstButton:!0,showLastButton:!0})})]})};P.defaultProps={dataArray:[],columns:[],onClickFun:null,isExpendable:!1,expandableComp:null,tableMaxHeight:550,initialPageCount:20,EnableSerialNumber:!1,CellSize:"small",disablePagination:!1,title:void 0,PDFPrintOption:!1,ExcelPrintOption:!1,maxHeightOption:!1,ButtonArea:null,MenuButtons:[],headerFontSizePx:13,bodyFontSizePx:13};const E=P},51962:(e,t,n)=>{n.d(t,{A:()=>N});var l=n(98587),o=n(58168),a=n(65043),i=n(58387),s=n(68606),r=n(67266),d=n(33064),c=n(59662),u=n(70579);const m=(0,c.A)((0,u.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),p=(0,c.A)((0,u.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),h=(0,c.A)((0,u.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");var v=n(6803),g=n(6431),f=n(34535),x=n(61475),A=n(57056),y=n(32400);function C(e){return(0,y.Ay)("MuiCheckbox",e)}const j=(0,A.A)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),b=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],S=(0,f.Ay)(d.A,{shouldForwardProp:e=>(0,x.A)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t["size".concat((0,v.A)(n.size))],"default"!==n.color&&t["color".concat((0,v.A)(n.color))]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({color:(t.vars||t).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===n.color?t.vars.palette.action.activeChannel:t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,r.X4)("default"===n.color?t.palette.action.active:t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&{["&.".concat(j.checked,", &.").concat(j.indeterminate)]:{color:(t.vars||t).palette[n.color].main},["&.".concat(j.disabled)]:{color:(t.vars||t).palette.action.disabled}})}),_=(0,u.jsx)(p,{}),D=(0,u.jsx)(m,{}),I=(0,u.jsx)(h,{}),N=a.forwardRef(function(e,t){var n,r;const d=(0,g.b)({props:e,name:"MuiCheckbox"}),{checkedIcon:c=_,color:m="primary",icon:p=D,indeterminate:h=!1,indeterminateIcon:f=I,inputProps:x,size:A="medium",className:y}=d,j=(0,l.A)(d,b),N=h?f:p,k=h?f:c,w=(0,o.A)({},d,{color:m,indeterminate:h,size:A}),R=(e=>{const{classes:t,indeterminate:n,color:l,size:a}=e,i={root:["root",n&&"indeterminate","color".concat((0,v.A)(l)),"size".concat((0,v.A)(a))]},r=(0,s.A)(i,C,t);return(0,o.A)({},t,r)})(w);return(0,u.jsx)(S,(0,o.A)({type:"checkbox",inputProps:(0,o.A)({"data-indeterminate":h},x),icon:a.cloneElement(N,{fontSize:null!=(n=N.props.fontSize)?n:A}),checkedIcon:a.cloneElement(k,{fontSize:null!=(r=k.props.fontSize)?r:A}),ownerState:w,ref:t,className:(0,i.A)(R.root,y)},j,{classes:R}))})},58321:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Q});var l=n(89379),o=n(65043),a=n(97707),i=n(65074),s=n(48471),r=n(12412),d=n(51962),c=n(67784),u=n(81e3),m=n(77739),p=n(17392),h=n(83462),v=n(26600),g=n(35316),f=n(29347),x=n(11906),A=n(20656),y=n(63406),C=n(12249),j=n(5793),b=n(15626),S=n(30513),_=n(59662),D=n(70579);const I=(0,_.A)((0,D.jsx)("path",{d:"M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2zm10 14.5V20H8v-3.5l4-4zm-4-5-4-4V4h8v3.5z"}),"HourglassEmpty");var N=n(59383),k=n(79484),w=n(91036),R=n(93141);const F=(e,t)=>{if(!Array.isArray(e))return"";const n=e.find(e=>String((null===e||void 0===e?void 0:e.empType)||"").toLowerCase()===String(t).toLowerCase());return(null===n||void 0===n?void 0:n.empName)||""},z=e=>{let{Do_Id:t,Do_Ids:n=[],loadingOn:l,loadingOff:s,isCombinedPrint:r=!1}=e;const[d,c]=(0,o.useState)([]),u=(0,o.useRef)(null),m=Array.isArray(n)&&n.length>0?n:t?[t]:[];(0,o.useEffect)(()=>{if(0===m.length)return;null===l||void 0===l||l();(async()=>{try{const e=m.map(e=>(0,i.z)({address:"sales/salesInvoice/printOuts/katchath?Do_Id=".concat(e),loadingOn:()=>{},loadingOff:()=>{}})),t=(await Promise.all(e)).filter(e=>{var t;return e.success&&(null===(t=e.data)||void 0===t?void 0:t[0])}).map(e=>e.data[0]);c(t)}catch(e){console.error("Error fetching katchath data:",e)}finally{null===s||void 0===s||s()}})()},[JSON.stringify(m)]);const p=(0,R.useReactToPrint)({content:()=>u.current});return r?(0,D.jsx)("div",{ref:u,className:"katchath-combined-print",children:d.map((e,t)=>(0,D.jsxs)("div",{className:"katchath-page",children:[(0,D.jsxs)("div",{style:{width:"calc(13.8cm)",height:"calc(10.5cm)",transform:"scale(1.0)",margin:"0 auto",position:"relative",boxSizing:"border-box",fontWeight:"bold"},className:"border py-1 px-2",children:[(0,D.jsxs)("div",{className:"row",children:[(0,D.jsxs)("div",{className:"col-5 p-2",children:[(0,D.jsx)("h5",{className:"m-0",children:e.voucherTypeGet}),(0,D.jsx)("p",{className:"m-0",children:e.createdByGet}),(0,D.jsx)("p",{className:"m-0",children:(0,a.z5)(e.createdOn)}),(0,D.jsx)("br",{}),(0,D.jsx)("p",{className:"m-0",children:e.mailingName?"".concat(e.mailingName,","):" "}),(0,D.jsx)("p",{className:"m-0",children:e.mailingAddress?"".concat(e.mailingAddress,","):" "}),(0,D.jsx)("p",{className:"m-0",children:e.mailingCity?"".concat(e.mailingCity,","):" "}),(0,D.jsx)("p",{className:"m-0",children:e.mailingNumber?e.mailingNumber:" "})]}),(0,D.jsx)("div",{className:"col-7 p-2",children:(0,D.jsx)("div",{className:"table-responsive",children:(0,D.jsx)("table",{className:"table table-borderless",style:{lineHeight:"0.35cm"},children:(0,D.jsxs)("tbody",{children:[(0,a.$r)(e.productDetails).map((e,t)=>(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{children:e.itemName}),(0,D.jsx)("td",{children:e.quantity})]},t)),(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{className:"border text-right pr-4",style:{textAlign:"right",fontSize:"18px",fontWeight:"bold"},children:"Total"}),(0,D.jsx)("td",{className:"border text-right",style:{textAlign:"right",fontSize:"18px",fontWeight:"bold"},children:(0,a.$r)(e.productDetails).reduce((e,t)=>e+t.quantity,0)})]})]})})})})]}),(0,D.jsx)("br",{}),(0,D.jsxs)("div",{children:[(0,D.jsxs)("p",{className:"m-0",children:["Lorry: ",F(e.staffDetails,"Transport")]}),(0,D.jsxs)("p",{className:"m-0",children:["LoadMan: ",F(e.staffDetails,"Load Man")]})]})]}),t<d.length-1&&(0,D.jsx)("div",{className:"page-break",style:{pageBreakAfter:"always",breakAfter:"page"}})]},e.Do_Id||t))}):(0,D.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-center",children:[(0,D.jsx)("div",{className:"print-button-area",children:(0,D.jsx)(x.A,{onClick:p,startIcon:(0,D.jsx)(S.A,{}),children:"Print"})}),(0,D.jsx)("div",{ref:u,className:"katchath-multiple-print",children:d.map((e,t)=>(0,D.jsxs)("div",{style:{fontWeight:"bold"},className:"mb-4",children:[(0,D.jsxs)("div",{style:{width:"calc(14cm)",height:"calc(10.5cm)",transform:"scale(1.0)",margin:"0 auto",position:"relative",boxSizing:"border-box",fontWeight:"bold"},className:"border py-4 px-4",children:[(0,D.jsxs)("div",{className:"row",children:[(0,D.jsxs)("div",{className:"col-5 p-2",children:[(0,D.jsx)("h5",{className:"m-0",children:e.voucherTypeGet}),(0,D.jsx)("p",{className:"m-0",children:e.createdByGet}),(0,D.jsx)("p",{className:"m-0",children:(0,a.z5)(e.createdOn)}),(0,D.jsx)("br",{}),(0,D.jsx)("p",{className:"m-0",children:e.mailingName?"".concat(e.mailingName,","):" "}),(0,D.jsx)("p",{className:"m-0",children:e.mailingAddress?"".concat(e.mailingAddress,","):" "}),(0,D.jsx)("p",{className:"m-0",children:e.mailingCity?"".concat(e.mailingCity,","):" "}),(0,D.jsx)("p",{className:"m-0",children:e.mailingNumber?e.mailingNumber:" "})]}),(0,D.jsx)("div",{className:"col-7 p-2",children:(0,D.jsx)("div",{className:"table-responsive",children:(0,D.jsx)("table",{className:"table table-borderless",style:{lineHeight:"0.35cm"},children:(0,D.jsxs)("tbody",{children:[(0,a.$r)(e.productDetails).map((e,t)=>(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{children:e.itemName}),(0,D.jsx)("td",{children:e.quantity})]},t)),(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{className:"border text-right pr-4",style:{textAlign:"right",fontSize:"18px",fontWeight:"bold"},children:"Total"}),(0,D.jsx)("td",{className:"border text-right",style:{textAlign:"right",fontSize:"18px",fontWeight:"bold"},children:(0,a.$r)(e.productDetails).reduce((e,t)=>e+t.quantity,0)})]})]})})})})]}),(0,D.jsx)("br",{}),(0,D.jsxs)("div",{children:[(0,D.jsxs)("p",{className:"m-0",children:["Lorry: ",F(e.staffDetails,"Transport")]}),(0,D.jsxs)("p",{className:"m-0",children:["LoadMan: ",F(e.staffDetails,"Load Man")]})]})]}),t<d.length-1&&(0,D.jsx)("hr",{className:"my-4"})]},e.Do_Id||t))})]})};var T=n(90001),O=n(22240),P=n(36285);const E=(0,D.jsx)(C.A,{fontSize:"small"}),M=(0,D.jsx)(j.A,{fontSize:"small"}),L={CostCategory:{label:"",value:""},Do_Id:[],involvedStaffs:[],staffInvolvedStatus:0,deliveryStatus:5},B={CostCategory:{label:"",value:""},Do_Id:[],involvedStaffs:[],staffInvolvedStatus:0,deliveryStatus:5},H=e=>String(null!==e&&void 0!==e?e:"").toLowerCase().trim(),V=(e,t)=>(0,a.$r)(null===e||void 0===e?void 0:e.involvedStaffs).filter(e=>(0,a.id)(e.Emp_Type_Id,t)).map(e=>{var t;return String(null!==(t=e.Emp_Name)&&void 0!==t?t:"").trim()}).filter(Boolean),Q=e=>{var t,n;let{loadingOn:C,loadingOff:j,AddRights:_,EditRights:F,PrintRights:Q,pageID:W}=e;const[q,$]=(0,o.useState)([]),[G,U]=(0,o.useState)([]),[J,K]=(0,o.useState)([]),[Y,Z]=(0,o.useState)([]),[X,ee]=(0,o.useState)("normal"),[te,ne]=(0,o.useState)(!0),[le,oe]=(0,o.useState)(!1),[ae,ie]=(0,o.useState)(!1),[se,re]=(0,o.useState)(""),[de,ce]=(0,o.useState)(!1),[ue,me]=((0,o.useRef)(null),(0,o.useState)(L)),[pe,he]=(0,o.useState)(B),[ve,ge]=(0,o.useState)(!1),[fe,xe]=(0,o.useState)({}),[Ae,ye]=(0,o.useState)([]),[Ce,je]=(0,o.useState)({Do_Id:null,Do_Date:null,open:!1}),[be,Se]=(0,o.useState)({Do_Id:null,open:!1}),[_e,De]=(0,o.useState)({Do_Id:null,Do_Date:null,open:!1}),[Ie,Ne]=(0,o.useState)({reqDate:(0,a.ny)(),assignDialog:!1,filterDialog:!1,selectedInvoice:null,multipleStaffUpdateDialog:!1,multipleStaffRemoveDialog:!1,fetchTrigger:0,docType:"",staffStatus:0}),[ke,we]=(0,o.useState)({open:!1,doIds:[],docType:""}),Re=(0,o.useRef)(null),Fe=(0,o.useMemo)(()=>[{Field_Name:"Do_Inv_No",Fied_Data:"string",ColumnHeader:"Invoice"},{Field_Name:"voucherTypeGet",Fied_Data:"string",ColumnHeader:"Voucher"},{Field_Name:"retailerNameGet",Fied_Data:"string",ColumnHeader:"Customer"}],[]),ze=e=>{if(void 0!==e.Alt_Act_Qty&&null!==e.Alt_Act_Qty)return Number(e.Alt_Act_Qty)||0;const t=Number(e.Bill_Qty)||0,n=Number(e.PackValue)||1,l=["AltQty","Alt_Act_Qty","Alt_Qty","Alternate_Qty","Actual_Qty"];for(const o of l)if(void 0!==e[o]&&null!==e[o])return Number(e[o])||0;return t*n},Te=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{var t,n;e?oe(!0):ne(!0),ee("normal");const o=await(0,i.z)({address:"sales/salesInvoice/lrReport?reqDate=".concat(Ie.reqDate,"&staffStatus=").concat(Ie.staffStatus),loadingOn:C,loadingOff:j}),s=(0,a.$r)(o.data).map(e=>{if(e.stockDetails&&Array.isArray(e.stockDetails)){const t=e.stockDetails.map(e=>(0,l.A)((0,l.A)({},e),{},{Alt_Act_Qty:ze(e)}));return(0,l.A)((0,l.A)({},e),{},{stockDetails:t})}return e});$(s),K((0,a.$r)(null===o||void 0===o||null===(t=o.others)||void 0===t?void 0:t.costTypes)),Z((0,a.$r)(null===o||void 0===o||null===(n=o.others)||void 0===n?void 0:n.uniqeInvolvedStaffs)),ae||ie(!0)}catch(o){console.error("Error fetching invoices:",o),w.oR.error("Failed to load invoices")}finally{ne(!1),oe(!1)}},Oe=async()=>{try{var e,t;ne(!0),ee("pending");const s=await(0,i.z)({address:"sales/salesInvoice/pendingDetails",loadingOn:C,loadingOff:j}),r=(0,a.$r)(s.data).map(e=>{if(e.stockDetails&&Array.isArray(e.stockDetails)){const t=e.stockDetails.map(e=>(0,l.A)((0,l.A)({},e),{},{Alt_Act_Qty:ze(e)}));return(0,l.A)((0,l.A)({},e),{},{stockDetails:t})}return e});var n,o;if($(r),null!==s&&void 0!==s&&null!==(e=s.others)&&void 0!==e&&e.costTypes)K((0,a.$r)(null===s||void 0===s||null===(n=s.others)||void 0===n?void 0:n.costTypes));if(null!==s&&void 0!==s&&null!==(t=s.others)&&void 0!==t&&t.uniqeInvolvedStaffs)Z((0,a.$r)(null===s||void 0===s||null===(o=s.others)||void 0===o?void 0:o.uniqeInvolvedStaffs))}catch(s){console.error("Error fetching pending invoices:",s),w.oR.error("Failed to load pending invoices")}finally{ne(!1)}},Pe=async()=>{try{const e=await(0,i.z)({address:"masters/erpCostCenter/dropDown"});U((0,a.$r)(e.data))}catch(e){console.error("Error fetching cost center data:",e),w.oR.error("Failed to load cost center data")}};(0,o.useEffect)(()=>{(async()=>{try{ne(!0),await Promise.all([Te(),Pe()])}catch(e){console.error("Error fetching initial data:",e),w.oR.error("Failed to load initial data")}finally{ne(!1)}})()},[Ie.fetchTrigger,Ie.staffStatus,Ie.reqDate]),(0,o.useEffect)(()=>{if(ke.open){const e=setTimeout(()=>{Re.current&&ge(!0)},300);return()=>clearTimeout(e)}ge(!1)},[ke.open,ke.doIds,ke.docType]);const Ee=(0,o.useMemo)(()=>{const e=ue.Do_Id;if(!e.length)return{billQty:0,altActQty:0};let t=0,n=0;return q.filter(t=>e.includes((0,a.Ro)(t.Do_Id))).forEach(e=>{Array.isArray(e.stockDetails)&&e.stockDetails.forEach(e=>{t+=Number(e.Bill_Qty)||0,n+=Number(e.Alt_Act_Qty)||0})}),{billQty:t,altActQty:n}},[ue.Do_Id,q]);(0,o.useEffect)(()=>{(0,i.z)({address:"sales/salesInvoice/lrReport?reqDate=".concat(Ie.reqDate,"&staffStatus=").concat(Ie.staffStatus),loadingOn:C,loadingOff:j}).then(e=>{var t,n;(0,a.$r)(e.data).map(e=>{if(e.stockDetails&&Array.isArray(e.stockDetails)){const t=e.stockDetails.map(e=>(0,l.A)((0,l.A)({},e),{},{Alt_Act_Qty:ze(e)}));return(0,l.A)((0,l.A)({},e),{},{stockDetails:t})}return e});$((0,a.$r)(e.data)),K((0,a.$r)(null===e||void 0===e||null===(t=e.others)||void 0===t?void 0:t.costTypes)),Z((0,a.$r)(null===e||void 0===e||null===(n=e.others)||void 0===n?void 0:n.uniqeInvolvedStaffs))}).catch(console.error)},[Ie.fetchTrigger,Ie.staffStatus]),(0,o.useEffect)(()=>{(0,i.z)({address:"masters/erpCostCenter/dropDown"}).then(e=>U((0,a.$r)(e.data))).catch(console.error)},[]);const Me=(0,o.useMemo)(()=>J.filter(e=>Y.includes((0,a.Ro)(e.Cost_Category_Id))).map(e=>{const t="costType_".concat((0,a.Ro)(e.Cost_Category_Id));return{costType:e.Cost_Category,field:t,columnConfig:{Field_Name:t,Fied_Data:"string",isVisible:1,ColumnHeader:e.Cost_Category,isCustomCell:!0,getFilterValues:t=>V(t,e.Cost_Category_Id),Cell:t=>{let{row:n}=t;const l=V(n,e.Cost_Category_Id).join(", ");return(0,D.jsx)("span",{children:l||"-"})}}}}).sort((e,t)=>{const n=e.costType.toLowerCase(),l=t.costType.toLowerCase();return n.includes("broker")?-1:l.includes("broker")?1:n.includes("transport")?-1:l.includes("transport")?1:e.costType.localeCompare(t.costType)}).map(e=>e.columnConfig),[J,Y]),Le=(0,o.useMemo)(()=>[...Fe,...Me],[Fe,Me]),Be=()=>Ne(e=>(0,l.A)((0,l.A)({},e),{},{fetchTrigger:e.fetchTrigger+1})),He=()=>Ne(e=>(0,l.A)((0,l.A)({},e),{},{assignDialog:!1,selectedInvoice:null})),Ve=()=>Ne(e=>(0,l.A)((0,l.A)({},e),{},{filterDialog:!1})),Qe=()=>{me(L),Ne(e=>(0,l.A)((0,l.A)({},e),{},{multipleStaffUpdateDialog:!1}))},We=()=>{he(B),Ne(e=>(0,l.A)((0,l.A)({},e),{},{multipleStaffRemoveDialog:!1}))},qe=()=>je(e=>({Do_Id:null,Do_Date:null,open:!1})),$e=()=>Se(e=>({Do_Id:null,open:!1})),Ge=()=>De(e=>({Do_Id:null,Do_Date:null,open:!1}));(0,o.useEffect)(()=>{Je()},[fe,q,Le]);const Ue=(e,t)=>{xe(n=>(0,l.A)((0,l.A)({},n),{},{[e]:t}))},Je=()=>{let e=[...q];for(const t of Le){const n=t.Field_Name,l=fe[n];if(l){if("range"===l.type){const{min:t,max:o}=l;e=e.filter(e=>{const l=e[n];return(void 0===t||l>=t)&&(void 0===o||l<=o)});continue}if("date"===l.type){const{start:t,end:o}=l.value||{};e=e.filter(e=>{const l=new Date(e[n]);return(void 0===t||l>=new Date(t))&&(void 0===o||l<=new Date(o))});continue}if(Array.isArray(l)){const o=l.map(H).filter(Boolean);if(!o.length)continue;e="function"===typeof t.getFilterValues?e.filter(e=>{const n=(t.getFilterValues(e)||[]).map(H).filter(Boolean);return o.some(e=>n.includes(e))}):e.filter(e=>o.includes(H(e[n])))}}}ye(e)},Ke=(0,R.useReactToPrint)({content:()=>Re.current,documentTitle:"Multiple Documents",pageStyle:"delivery_slip"===se?"\n        @page {\n            margin: 0.7cm 0 0 0;\n            size: auto;\n        }\n        html, body {\n            margin: 0;\n            padding: 0;\n        }\n        body {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n        }\n        @media print {\n            body > * {\n                margin-left: 0 !important;\n                margin-right: 0 !important;\n            }\n            .no-print {\n                display: none !important;\n            }\n        }\n    ":"sales_invoice"===se?"\n        @page {\n            size: A5 landscape;\n            margin: 0;\n        }\n        html, body {\n            margin: 0;\n            padding: 0;\n            -webkit-print-color-adjust: exact;\n            print-color-adjust: exact;\n        }\n        body {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n        }\n        @media print {\n            body > * {\n                margin-left: 0 !important;\n                margin-right: 0 !important;\n            }\n            .no-print {\n                display: none !important;\n            }\n        }\n    ":"\n        @page {\n            margin: 0.6cm;\n            size: auto;\n        }\n        html, body {\n            margin: 0;\n            padding: 0;\n        }\n        body {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n        }\n        @media print {\n            body > * {\n                margin-left: 0 !important;\n                margin-right: 0 !important;\n            }\n            .no-print {\n                display: none !important;\n            }\n        }\n    "}),Ye=e=>{const{Field_Name:t,Fied_Data:n,ColumnHeader:o}=e;var a,i,s,u,m,p,h,v,g,f;if("number"===n)return(0,D.jsxs)("div",{className:"d-flex justify-content-between px-2",children:[(0,D.jsx)("input",{placeholder:"Min",type:"number",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(a=null===(i=fe[t])||void 0===i?void 0:i.min)&&void 0!==a?a:"",onChange:e=>Ue(t,(0,l.A)((0,l.A)({type:"range"},fe[t]),{},{min:e.target.value?parseFloat(e.target.value):void 0}))}),(0,D.jsx)("input",{placeholder:"Max",type:"number",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(s=null===(u=fe[t])||void 0===u?void 0:u.max)&&void 0!==s?s:"",onChange:e=>Ue(t,(0,l.A)((0,l.A)({type:"range"},fe[t]),{},{max:e.target.value?parseFloat(e.target.value):void 0}))})]});if("date"===n)return(0,D.jsxs)("div",{className:"d-flex justify-content-between px-2",children:[(0,D.jsx)("input",{placeholder:"Start Date",type:"date",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(m=null===(p=fe[t])||void 0===p||null===(h=p.value)||void 0===h?void 0:h.start)&&void 0!==m?m:"",onChange:e=>{var n;return Ue(t,{type:"date",value:(0,l.A)((0,l.A)({},null===(n=fe[t])||void 0===n?void 0:n.value),{},{start:e.target.value||void 0})})}}),(0,D.jsx)("input",{placeholder:"End Date",type:"date",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(v=null===(g=fe[t])||void 0===g||null===(f=g.value)||void 0===f?void 0:f.end)&&void 0!==v?v:"",onChange:e=>{var n;return Ue(t,{type:"date",value:(0,l.A)((0,l.A)({},null===(n=fe[t])||void 0===n?void 0:n.value),{},{end:e.target.value||void 0})})}})]});if("string"===n){const n=(e=>{const t=new Map;for(const n of e){const e=String(null!==n&&void 0!==n?n:"").trim();if(!e)continue;const l=e.toLowerCase();t.has(l)||t.set(l,e)}return Array.from(t.values())})("function"===typeof e.getFilterValues?q.flatMap(t=>e.getFilterValues(t)||[]):q.map(e=>e[t]));return(0,D.jsx)(r.A,{multiple:!0,id:"".concat(t,"-filter"),options:n,disableCloseOnSelect:!0,getOptionLabel:e=>e,value:fe[t]||[],onChange:(e,n)=>Ue(t,n),renderOption:(e,t,n)=>{let{selected:o}=n;return(0,D.jsxs)("li",(0,l.A)((0,l.A)({},e),{},{children:[(0,D.jsx)(d.A,{icon:E,checkedIcon:M,style:{marginRight:8},checked:o}),t]}))},isOptionEqualToValue:(e,t)=>e===t,renderInput:e=>(0,D.jsx)(c.A,(0,l.A)((0,l.A)({},e),{},{label:o||t,placeholder:"Select ".concat((o||t).replace(/_/g," "))}))})}return null};(0,o.useEffect)(()=>{if(de){const e=Ae.map(e=>(0,a.Ro)(e.Do_Id));me(t=>(0,l.A)((0,l.A)({},t),{},{Do_Id:e})),he(t=>(0,l.A)((0,l.A)({},t),{},{Do_Id:e}))}else me(e=>(0,l.A)((0,l.A)({},e),{},{Do_Id:[]})),he(e=>(0,l.A)((0,l.A)({},e),{},{Do_Id:[]}))},[de,Ae]);const Ze=(0,o.useMemo)(()=>{const e=ue.Do_Id.length>0,t=ue.involvedStaffs.length>0,n=(0,a.IQ)(ue.CostCategory.value)&&!(0,a.id)(ue.CostCategory.value,0);return!!e&&(!(t&&!n)&&!(!t&&n))},[ue]);(0,o.useEffect)(()=>{if(de){const e=Ae.map(e=>(0,a.Ro)(e.Do_Id));me(t=>(0,l.A)((0,l.A)({},t),{},{Do_Id:e})),he(t=>(0,l.A)((0,l.A)({},t),{},{Do_Id:e}))}else me(e=>(0,l.A)((0,l.A)({},e),{},{Do_Id:[]})),he(e=>(0,l.A)((0,l.A)({},e),{},{Do_Id:[]}))},[de,Ae]);const Xe=(0,o.useMemo)(()=>{const e=pe.Do_Id.length>0,t=(0,a.IQ)(pe.CostCategory.value)&&!(0,a.id)(pe.CostCategory.value,0);return e&&t},[pe]);return te?(0,D.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"400px"},children:(0,D.jsx)(u.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:2}})}):(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(s.Ay,{title:"pending"===X?"Pending Invoices":"Sales Invoice",columns:[{Field_Name:"Select",isVisible:1,isCustomCell:!0,Cell:e=>{let{row:t}=e;const n=ue.Do_Id.includes((0,a.Ro)(t.Do_Id));pe.Do_Id.includes((0,a.Ro)(t.Do_Id));return(0,D.jsx)(d.A,{onFocus:e=>{e.target.blur()},checked:n,onChange:()=>{n?(me(e=>(0,l.A)((0,l.A)({},e),{},{Do_Id:e.Do_Id.filter(e=>!(0,a.id)(e,t.Do_Id))})),he(e=>(0,l.A)((0,l.A)({},e),{},{Do_Id:e.Do_Id.filter(e=>!(0,a.id)(e,t.Do_Id))}))):(me(e=>(0,l.A)((0,l.A)({},e),{},{Do_Id:[...e.Do_Id,(0,a.Ro)(t.Do_Id)]})),he(e=>(0,l.A)((0,l.A)({},e),{},{Do_Id:[...e.Do_Id,(0,a.Ro)(t.Do_Id)]})))}})}},(0,s.Lj)("Do_Inv_No","string","Invoice"),(0,s.Lj)("createdOn","time","Created"),(0,s.Lj)("voucherTypeGet","string","Voucher"),(0,s.Lj)("retailerNameGet","string","Customer"),{Field_Name:"BillQty",isVisible:1,isCustomCell:!0,Cell:e=>{let{row:t}=e;return t.stockDetails&&t.stockDetails.length>0?t.stockDetails.reduce((e,t)=>e+(Number(t.Bill_Qty)||0),0):0}},{Field_Name:"AltActQty",ColumnHeader:"Alt Act Qty",isVisible:1,isCustomCell:!0,Cell:e=>{let{row:t}=e;return(0,a.e3)((0,a.$r)(t.stockDetails).reduce((e,t)=>e+(0,a.Ro)(t.Alt_Act_Qty),0))}},(0,s.Lj)("Narration","string","Narration"),...Me,{Field_Name:"Action",isVisible:1,isCustomCell:!0,Cell:e=>{let{row:t}=e;return(0,D.jsx)(s.wF,{buttonsData:[{name:"Add Employee",onclick:()=>Ne(e=>(0,l.A)((0,l.A)({},e),{},{assignDialog:!0,selectedInvoice:t})),icon:(0,D.jsx)(b.A,{fontSize:"small",color:"primary"}),disabled:!_&&!F},{name:"Print Invoice",onclick:()=>{je({Do_Id:t.Do_Id,Do_Date:t.Do_Date,open:!0})},icon:(0,D.jsx)(S.A,{fontSize:"small",color:"primary"}),disabled:!Q},{name:"Delivery Slip",onclick:()=>{De({Do_Id:t.Do_Id,Do_Date:t.Do_Date,open:!0})},icon:(0,D.jsx)(S.A,{fontSize:"small",color:"primary"}),disabled:!Q},{name:"Katchath Copy",onclick:()=>{Se({Do_Id:t.Do_Id,open:!0})},icon:(0,D.jsx)(S.A,{fontSize:"small",color:"primary"}),disabled:!Q}]})}}],dataArray:Ae,EnableSerialNumber:!0,ButtonArea:(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(m.A,{title:"Select All",children:(0,D.jsx)(d.A,{checked:de,onChange:e=>ce(e.target.checked)})}),(0,D.jsxs)("button",{type:"button",className:"btn btn-sm ".concat("pending"===X?"btn-primary":"btn-outline-secondary"),onClick:async()=>{"normal"===X?await Oe():await Te(!0)},disabled:le,style:{marginRight:"8px",display:"inline-flex",alignItems:"center",justifyContent:"center"},children:[(0,D.jsx)(I,{fontSize:"small",style:{marginRight:"4px"}}),"pending"===X?"New Invoices":"Pending Invoice"]}),(0,D.jsx)(p.A,{size:"small",onClick:()=>Ne(e=>(0,l.A)((0,l.A)({},e),{},{multipleStaffUpdateDialog:!0})),disabled:!ue.Do_Id.length,children:(0,D.jsx)(b.A,{fontSize:"small"})}),(0,D.jsx)(p.A,{size:"small",onClick:()=>Ne(e=>(0,l.A)((0,l.A)({},e),{},{multipleStaffRemoveDialog:!0})),disabled:!pe.Do_Id.length,children:(0,D.jsx)(P.A,{fontSize:"small"})}),(0,D.jsx)(p.A,{size:"small",onClick:()=>Ne(e=>(0,l.A)((0,l.A)({},e),{},{filterDialog:!0})),disabled:le,children:(0,D.jsx)(N.A,{})}),(0,D.jsx)(p.A,{size:"small",onClick:()=>{"pending"===X?Oe():Te(!0)},disabled:le,children:(0,D.jsx)(k.A,{})}),"normal"===X&&(0,D.jsx)("input",{type:"date",className:"cus-inpt w-auto",value:Ie.reqDate,onChange:e=>Ne(t=>(0,l.A)((0,l.A)({},t),{},{reqDate:e.target.value})),disabled:le}),(0,D.jsx)(p.A,{size:"small",disabled:!Ie.docType||!ue.Do_Id.length,onClick:()=>{re(Ie.docType),we({open:!0,doIds:ue.Do_Id,docType:Ie.docType})},children:(0,D.jsx)(S.A,{})}),(0,D.jsxs)("select",{className:"cus-inpt w-auto rounded-5 border-0",disabled:!ue.Do_Id.length,value:Ie.docType,onChange:e=>{const t=e.target.selectedIndex,n=e.target.options[t].text;Ne(t=>(0,l.A)((0,l.A)({},t),{},{docType:e.target.value,docTypeLabel:n}))},children:[(0,D.jsx)("option",{value:"",children:"SELECT TYPE"}),(0,D.jsx)("option",{value:"sales_invoice",children:"SALES INVOICE"}),(0,D.jsx)("option",{value:"katchath",children:"KATCHATH"}),(0,D.jsx)("option",{value:"delivery_slip",children:"DELIVERY SLIP"})]}),(0,D.jsxs)("select",{className:"cus-inpt w-auto rounded-5 border-0",value:Ie.staffStatus,onChange:e=>{Ne(t=>(0,l.A)((0,l.A)({},t),{},{staffStatus:Number(e.target.value)}))},children:[(0,D.jsx)("option",{value:"1",children:"ALL INVOICES"}),(0,D.jsx)("option",{value:"0",children:"INCOMPLETED INVOICES"})]}),"pending"===X&&(0,D.jsxs)("span",{className:"ms-2 fw-bold text-primary",children:["Viewing Pending Invoices (",q.length," found)"]}),ue.Do_Id.length>0&&(0,D.jsxs)("div",{className:"d-flex gap-4 mb-0 p-0",children:[(0,D.jsxs)("div",{children:[(0,D.jsx)("strong",{children:"Total Bill Qty:"})," ",Ee.billQty]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("strong",{children:"Total Alt Act Qty:"})," ",Ee.altActQty]})]})]})}),(0,D.jsxs)(h.A,{open:Ie.assignDialog,onClose:He,maxWidth:"lg",fullWidth:!0,children:[(0,D.jsxs)(v.A,{children:["Assign Cost Centers: ",(0,D.jsx)("span",{className:"text-primary",children:null===(t=Ie.selectedInvoice)||void 0===t?void 0:t.Do_Inv_No})]}),(0,D.jsxs)("form",{onSubmit:async e=>{var t,n,l;e.preventDefault(),(0,i.z)({address:"sales/salesInvoice/lrReport",method:"POST",bodyData:{Do_Id:null===(t=Ie.selectedInvoice)||void 0===t?void 0:t.Do_Id,involvedStaffs:null===(n=Ie.selectedInvoice)||void 0===n?void 0:n.involvedStaffs,staffInvolvedStatus:(0,a.Ro)(null===(l=Ie.selectedInvoice)||void 0===l?void 0:l.staffInvolvedStatus)},loadingOn:C,loadingOff:j}).then(e=>{e.success?(w.oR.success(e.message),He(),Be()):w.oR.error(e.message)}).catch(e=>console.log(e))},children:[(0,D.jsx)(g.A,{children:(0,D.jsxs)("div",{className:"row",children:[J.filter(e=>!["Broker","Transport"].some(t=>String(null===e||void 0===e?void 0:e.Cost_Category).includes(t))).map((e,t)=>{var n;const o=(0,a.$r)(null===(n=Ie.selectedInvoice)||void 0===n?void 0:n.involvedStaffs).filter(t=>(0,a.id)(t.Emp_Type_Id,e.Cost_Category_Id)).map(e=>({value:e.Emp_Id,label:e.Emp_Name}));return(0,D.jsxs)("div",{className:"col-lg-4 col-md-6 p-2",children:[(0,D.jsx)("label",{children:e.Cost_Category}),(0,D.jsx)(A.Ay,{value:o,isMulti:!0,styles:y.MR,options:G,onChange:t=>{const n=t.map(t=>{var n;return{Do_Id:null===Ie||void 0===Ie||null===(n=Ie.selectedInvoice)||void 0===n?void 0:n.Do_Id,Emp_Id:t.value,Emp_Name:t.label,Emp_Type_Id:e.Cost_Category_Id,Involved_Emp_Type:e.Cost_Category}});((e,t,n)=>{Ne(o=>{var i;const s=(0,a.$r)(null===(i=o.selectedInvoice)||void 0===i?void 0:i.involvedStaffs).filter(e=>!(0,a.id)(e.Emp_Type_Id,n.Cost_Category_Id)).concat(t);return(0,l.A)((0,l.A)({},o),{},{selectedInvoice:(0,l.A)((0,l.A)({},e),{},{involvedStaffs:s})})})})(Ie.selectedInvoice,n,e)},placeholder:"Select ".concat(e.Cost_Category),filterOption:a.GI,menuPortalTarget:document.body})]},t)}),(0,D.jsxs)("div",{className:"col-lg-4 col-md-6 p-2 d-flex align-items-end",children:[(0,D.jsx)("input",{className:"form-check-input shadow-none pointer mx-2",style:{padding:"0.7em"},type:"checkbox",id:"removeFromList",checked:(0,a.id)(null===(n=Ie.selectedInvoice)||void 0===n?void 0:n.staffInvolvedStatus,1),onChange:()=>{Ne(e=>{var t;return(0,l.A)((0,l.A)({},e),{},{selectedInvoice:(0,l.A)((0,l.A)({},e.selectedInvoice),{},{staffInvolvedStatus:(0,a.id)(null===(t=e.selectedInvoice)||void 0===t?void 0:t.staffInvolvedStatus,1)?0:1})})})}}),(0,D.jsx)("label",{htmlFor:"removeFromList",className:"fw-bold",children:"Remove invoice from this page"})]})]})}),(0,D.jsxs)(f.A,{children:[(0,D.jsx)(x.A,{onClick:He,variant:"outlined",children:"Close"}),(0,D.jsx)(x.A,{variant:"contained",type:"submit",children:"Save"})]})]})]}),(0,D.jsxs)(h.A,{open:Ie.filterDialog,onClose:Ve,maxWidth:"sm",fullWidth:!0,children:[(0,D.jsx)(v.A,{children:"Filter Options"}),(0,D.jsx)(g.A,{children:(0,D.jsx)("div",{className:"row",children:Le.map((e,t)=>(0,D.jsx)("div",{className:"col-12 p-2",children:Ye(e)},t))})}),(0,D.jsx)(f.A,{children:(0,D.jsx)(x.A,{onClick:Ve,variant:"outlined",children:"Close"})})]}),(0,D.jsxs)(h.A,{open:Ie.multipleStaffUpdateDialog,onClose:Qe,maxWidth:"sm",fullWidth:!0,children:[(0,D.jsx)(v.A,{children:"Update Cost Category"}),(0,D.jsxs)(g.A,{children:[(0,D.jsxs)("div",{className:"py-2",children:[(0,D.jsx)("label",{children:"Cost Category"}),(0,D.jsx)(A.Ay,{value:ue.CostCategory,styles:y.MR,options:J.filter(e=>!["Broker","Transport"].some(t=>String(null===e||void 0===e?void 0:e.Cost_Category).includes(t))).map(e=>({value:e.Cost_Category_Id,label:e.Cost_Category})),onChange:e=>me(t=>(0,l.A)((0,l.A)({},t),{},{CostCategory:e})),placeholder:"Select Cost Category",filterOption:a.GI,menuPortalTarget:document.body})]}),(0,D.jsxs)("div",{className:"py-2",children:[(0,D.jsx)("label",{children:"Staff"}),(0,D.jsx)(A.Ay,{value:ue.involvedStaffs,isMulti:!0,styles:y.MR,options:G,onChange:e=>me(t=>(0,l.A)((0,l.A)({},t),{},{involvedStaffs:e})),placeholder:"Select Staff",filterOption:a.GI,menuPortalTarget:document.body,closeMenuOnSelect:!1})]}),(0,D.jsxs)("div",{className:"py-2",children:[(0,D.jsx)("label",{children:"Delivery Status"}),(0,D.jsxs)("select",{className:"cus-inpt p-1",onChange:e=>me(t=>(0,l.A)((0,l.A)({},t),{},{deliveryStatus:e.target.value})),value:ue.deliveryStatus,children:[(0,D.jsx)("option",{value:5,children:"Pending"}),(0,D.jsx)("option",{value:7,children:"Delivered"}),(0,D.jsx)("option",{value:6,children:"Return"})]})]}),(0,D.jsxs)("div",{className:"py-2",children:[(0,D.jsx)("input",{className:"form-check-input shadow-none pointer mx-2",style:{padding:"0.7em"},type:"checkbox",id:"removeFromList",checked:(0,a.id)(ue.staffInvolvedStatus,1),onChange:()=>{me(e=>(0,l.A)((0,l.A)({},e),{},{staffInvolvedStatus:(0,a.id)(e.staffInvolvedStatus,1)?0:1}))}}),(0,D.jsx)("label",{htmlFor:"removeFromList",className:"fw-bold",children:"Remove invoice from this page"})]})]}),(0,D.jsxs)(f.A,{children:[(0,D.jsx)(x.A,{onClick:Qe,variant:"outlined",children:"Close"}),(0,D.jsx)(x.A,{variant:"contained",onClick:async()=>{(0,i.z)({address:"sales/salesInvoice/lrReport/multiple",method:"POST",bodyData:{CostCategory:(0,a.Ro)(ue.CostCategory.value),Do_Id:ue.Do_Id,involvedStaffs:ue.involvedStaffs.map(e=>(0,a.Ro)(e.value)),staffInvolvedStatus:(0,a.Ro)(ue.staffInvolvedStatus),deliveryStatus:(0,a.Ro)(ue.deliveryStatus)},loadingOn:C,loadingOff:j}).then(e=>{e.success?(w.oR.success(e.message),Qe(),Be()):w.oR.error(e.message)}).catch(e=>console.log(e))},disabled:!Ze,children:"Save"})]})]}),(0,D.jsxs)(h.A,{open:Ce.open,onClose:qe,maxWidth:"lg",fullWidth:!0,children:[(0,D.jsx)(v.A,{children:"Bill Print Preview"}),(0,D.jsx)(g.A,{children:(0,D.jsx)(T.A,{Do_Id:Ce.Do_Id,Do_Date:Ce.Do_Date,loadingOn:C,loadingOff:j})}),(0,D.jsx)(f.A,{children:(0,D.jsx)(x.A,{variant:"outlined",onClick:qe,children:"Close"})})]}),(0,D.jsxs)(h.A,{open:be.open,onClose:$e,maxWidth:"lg",fullWidth:!0,children:[(0,D.jsx)(v.A,{children:"Bill Print Preview"}),(0,D.jsx)(g.A,{children:(0,D.jsx)(z,{Do_Id:be.Do_Id,loadingOn:C,loadingOff:j})}),(0,D.jsx)(f.A,{children:(0,D.jsx)(x.A,{variant:"outlined",onClick:$e,children:"Close"})})]}),(0,D.jsxs)(h.A,{open:_e.open,onClose:Ge,maxWidth:"lg",fullWidth:!0,children:[(0,D.jsx)(v.A,{children:"Delivery Slip Preview"}),(0,D.jsx)(g.A,{children:(0,D.jsx)(O.A,{Do_Id:_e.Do_Id,loadingOn:C,loadingOff:j})}),(0,D.jsx)(f.A,{children:(0,D.jsx)(x.A,{variant:"outlined",onClick:Ge,children:"Close"})})]}),(0,D.jsxs)(h.A,{open:Ie.multipleStaffRemoveDialog,onClose:We,maxWidth:"sm",fullWidth:!0,children:[(0,D.jsx)(v.A,{children:"Remove Staff from Cost Category"}),(0,D.jsxs)(g.A,{children:[(0,D.jsxs)("div",{className:"py-2",children:[(0,D.jsx)("label",{children:"Cost Category to Remove"}),(0,D.jsx)(A.Ay,{value:pe.CostCategory,styles:y.MR,options:J.filter(e=>!["Broker","Transport"].some(t=>String(null===e||void 0===e?void 0:e.Cost_Category).includes(t))).map(e=>({value:e.Cost_Category_Id,label:e.Cost_Category})),onChange:e=>he(t=>(0,l.A)((0,l.A)({},t),{},{CostCategory:e})),placeholder:"Select Cost Category to Remove",filterOption:a.GI,menuPortalTarget:document.body})]}),(0,D.jsxs)("div",{className:"py-2",children:[(0,D.jsx)("label",{children:"Delivery Status"}),(0,D.jsxs)("select",{className:"cus-inpt p-1",onChange:e=>he(t=>(0,l.A)((0,l.A)({},t),{},{deliveryStatus:e.target.value})),value:pe.deliveryStatus,children:[(0,D.jsx)("option",{value:5,children:"Pending"}),(0,D.jsx)("option",{value:7,children:"Delivered"}),(0,D.jsx)("option",{value:6,children:"Return"})]})]}),(0,D.jsxs)("div",{className:"py-2",children:[(0,D.jsx)("input",{className:"form-check-input shadow-none pointer mx-2",style:{padding:"0.7em"},type:"checkbox",id:"removeFromListRemove",checked:(0,a.id)(pe.staffInvolvedStatus,1),onChange:()=>{he(e=>(0,l.A)((0,l.A)({},e),{},{staffInvolvedStatus:(0,a.id)(e.staffInvolvedStatus,1)?0:1}))}}),(0,D.jsx)("label",{htmlFor:"removeFromListRemove",className:"fw-bold",children:"Remove invoice from this page"})]}),(0,D.jsx)("div",{className:"py-2 text-muted",children:(0,D.jsxs)("small",{children:["This will remove all staff members of the selected Cost Category from ",pe.Do_Id.length," selected invoices."]})})]}),(0,D.jsxs)(f.A,{children:[(0,D.jsx)(x.A,{onClick:We,variant:"outlined",children:"Cancel"}),(0,D.jsx)(x.A,{variant:"contained",color:"error",onClick:async()=>{pe.CostCategory.value&&0!==pe.Do_Id.length?(0,i.z)({address:"sales/salesInvoice/lrReport/multipleDelete",method:"POST",bodyData:{CostCategory:(0,a.Ro)(pe.CostCategory.value),Do_Id:pe.Do_Id,staffInvolvedStatus:(0,a.Ro)(pe.staffInvolvedStatus),deliveryStatus:(0,a.Ro)(pe.deliveryStatus)},loadingOn:C,loadingOff:j}).then(e=>{e.success?(w.oR.success(e.message),We(),Be()):w.oR.error(e.message)}).catch(e=>console.log(e)):w.oR.error("Please select a Cost Category and at least one invoice")},disabled:!Xe,children:"Remove Staff"})]})]}),(0,D.jsxs)(h.A,{open:ke.open,onClose:()=>we({open:!1,doIds:[],docType:""}),maxWidth:"lg",fullWidth:!0,children:[(0,D.jsx)(g.A,{dividers:!0,children:(0,D.jsxs)("div",{ref:Re,children:["sales_invoice"===ke.docType&&(0,D.jsx)(T.A,{Do_Ids:ke.doIds,loadingOn:C,loadingOff:j,isCombinedPrint:!0}),"katchath"===ke.docType&&(0,D.jsx)(z,{Do_Ids:ke.doIds,loadingOn:C,loadingOff:j,isCombinedPrint:!0}),"delivery_slip"===ke.docType&&(0,D.jsx)(O.A,{Do_Ids:ke.doIds,loadingOn:C,loadingOff:j,isCombinedPrint:!0})]})}),(0,D.jsxs)(f.A,{className:"no-print",children:[(0,D.jsx)(x.A,{variant:"contained",onClick:()=>{Ke()},startIcon:(0,D.jsx)(S.A,{}),children:"Print All"}),(0,D.jsx)(x.A,{variant:"outlined",onClick:()=>we({open:!1,doIds:[],docType:""}),children:"Close"})]})]})]})}},59383:(e,t,n)=>{n.d(t,{A:()=>a});var l=n(59662),o=n(70579);const a=(0,l.A)((0,o.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt")},63406:(e,t,n)=>{n.d(t,{zU:()=>s,ex:()=>r,MR:()=>i,Ap:()=>a,FX:()=>d});var l=n(89379);const o=n.p+"static/media/smt.aa4d4f940bbebff07a57.png",a={table:{style:{width:"auto",backgroundColor:"transparent"}},rows:{style:{backgroundColor:"transparent"}},headCells:{style:{backgroundColor:"#6b9080f8",color:"white",fontSize:"14px"}}},i={menu:(e,t)=>(0,l.A)((0,l.A)({},e),{},{zIndex:9999}),menuPortal:e=>(0,l.A)((0,l.A)({},e),{},{zIndex:9999}),groupHeading:e=>(0,l.A)((0,l.A)({},e),{},{backgroundColor:"#f5f5f5",color:"#333",fontWeight:"bold",fontSize:"14px",padding:"8px 12px",borderBottom:"1px solid #ddd",textTransform:"uppercase"}),option:(e,t)=>(0,l.A)((0,l.A)({},e),{},{backgroundColor:t.isSelected?"#2684FF":t.isFocused?"#E2ECF9":"white",color:t.isSelected?"white":"#333",padding:"10px 12px"})},s=[{id:1,headname:"Menu ID",variant:"head",align:"left",width:100},{id:2,headname:"MenuName"},{id:3,headname:"Read Rights"},{id:4,headname:"Add Rights"},{id:5,headname:"Edit Rights"},{id:6,headname:"Delete Rights"},{id:7,headname:"Print Rights"},{id:8,headname:"Action"}],r=[{dataBase:1,name:"SHANKAR TRADERS",business:"Wholesale Merchant in Dhall",address:"32, Chitrakara Street, Madurai - 01 <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:o,gstin:"33AADFS6973R1ZD",phone:"984-313-1353, 984-335-5166",fssai:"12418012000818",bankAccount:"0021 5032 0885 122",ifsc:"TMBL0000002"},{dataBase:2,name:"SMT AGRO PRODUCTS",business:"",address:"H.O: 153, Chitrakara Street, 2nd Floor, Madurai -01 <br /> G.O: 746 Puliyur, Sayanapuram, Svga <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:o,gstin:"33ACMFS3420Q1ZQ",phone:"0452-4371625",fssai:"12418012000818",bankAccount:"0025 3031 0875 947",ifsc:"TMBL0000002"},{dataBase:3,name:"BHAVANI TRADERS",business:"",address:"H.O: 152-A, Chitrakara Street, Madurai -01 <br /> G.O: 30/1-Rajman Nagar, Chintamani Main Road, Mdu-01 <br /> Tax Invoice",logo:o,gstin:"33AAEFB6728J1ZG",phone:"958-559-7641, 958-559-7614",fssai:"12418012000670",bankAccount:"0021 5005 0800 309",ifsc:"TMBL0000002"}],d=[{name:"PURCHASE_ORDER"},{name:"PURCHASE_INVOICE"},{name:"SALE_ORDER"},{name:"SALE_INVOICE"},{name:"JOURNAL"},{name:"STOCK_JOURNAL"},{name:"PAYMENT"},{name:"RECEIPT"},{name:"CONTRA"}]},79484:(e,t,n)=>{n.d(t,{A:()=>a});var l=n(59662),o=n(70579);const a=(0,l.A)((0,o.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")}}]);
//# sourceMappingURL=3425.0104cc56.chunk.js.map