{"version":3,"file":"static/js/1614.bc586de5.chunk.js","mappings":"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","sources":["Pages/Analytics/reportsTemplateMobCreation.jsx","../node_modules/@mui/material/Card/cardClasses.js","../node_modules/@mui/material/Card/Card.js","../node_modules/@mui/material/CardContent/cardContentClasses.js","../node_modules/@mui/material/CardContent/CardContent.js","../node_modules/@mui/icons-material/esm/Save.js","../node_modules/@mui/icons-material/esm/ArrowBackIosNewOutlined.js","../node_modules/@mui/icons-material/esm/RemoveRedEyeOutlined.js","../node_modules/@mui/icons-material/esm/KeyboardArrowLeft.js","../node_modules/@mui/material/Box/boxClasses.js","../node_modules/@mui/material/Box/Box.js","../node_modules/@mui/system/esm/createBox.js"],"sourcesContent":["// import React, { useContext, useEffect, useState } from 'react';\r\n// import {\r\n//   Card, CardContent, Button, Tooltip, Dialog, DialogTitle, DialogContent, DialogActions,\r\n//   Box, IconButton, Grid, Typography\r\n// } from '@mui/material';\r\n// import { ArrowBackIosNewOutlined, KeyboardArrowLeft, RemoveRedEyeOutlined, Save } from '@mui/icons-material';\r\n// import { isValidObject, Subraction, isEqualNumber } from '../../Components/functions';\r\n// import { toast } from 'react-toastify';\r\n// import { useLocation, useNavigate } from 'react-router-dom';\r\n// import { MyContext } from '../../Components/context/contextProvider';\r\n// import { fetchLink } from '../../Components/fetchComponent';\r\n\r\n// const ReportsTemplateMobCreation = () => {\r\n//   const storage = JSON.parse(localStorage.getItem('user'));\r\n//   const nav = useNavigate();\r\n//   const { contextObj } = useContext(MyContext);\r\n//   const locationState = useLocation().state;\r\n\r\n//   const initialValue = {\r\n//     Report_Type_Id: '',\r\n//     reportName: '',\r\n//     tables: [], \r\n//     tableJoins: [],\r\n//     currentTab: '',\r\n//     createdBy: storage?.UserId\r\n//   };\r\n\r\n//   const [inputValues, setInputValues] = useState(initialValue);\r\n//   const [reportTables, setReportTables] = useState([]);\r\n\r\n \r\n//   const [filterSlots, setFilterSlots] = useState([\r\n//     { slot: 1, enabled: false, tableId: null, columnName: null, type: 1 },\r\n//     { slot: 2, enabled: false, tableId: null, columnName: null, type: 2 },\r\n//     { slot: 3, enabled: false, tableId: null, columnName: null, type: 3 },\r\n//   ]);\r\n\r\n\r\n//   const [selectedListTypes, setSelectedListTypes] = useState([]); \r\n\r\n\r\n//   const [openConfigPreview, setOpenConfigPreview] = useState(false);\r\n\r\n\r\n// useEffect(() => {\r\n//   const stateValue = locationState?.ReportState;\r\n//   if (isValidObject(stateValue)) {\r\n//     setInputValues(prev => ({\r\n//       ...prev,\r\n//       Report_Type_Id: stateValue?.Report_Type_Id ?? '',\r\n//       reportName: stateValue?.reportName ?? '',\r\n//       tables: [...(stateValue?.tables || [])],\r\n//       createdBy: stateValue?.createdBy ?? storage?.UserId\r\n//     }));\r\n//   }\r\n// }, [locationState?.ReportState, storage?.UserId]);\r\n\r\n//   useEffect(() => {\r\n\r\n//     fetchLink({ address: `reports/tablesAndColumnsMobile` })\r\n//       .then(data => {\r\n//         if (data?.success) setReportTables(data?.data || []);\r\n//       }).catch(e => console.error(e));\r\n//   }, []);\r\n\r\n\r\n// useEffect(() => {\r\n//   if (!inputValues.tables || inputValues.tables.length === 0) return;\r\n\r\n//   const assignments = [];\r\n//   const allListTypes = new Set(); \r\n  \r\n//   inputValues.tables.forEach(table => {\r\n//     table.columns?.forEach(column => {\r\n//       if (column.Type) {\r\n//         const types = Array.isArray(column.Type) ? column.Type : [column.Type];\r\n//         types.forEach(type => {\r\n//           if (type) {\r\n//             assignments.push({\r\n//               type: Number(type),\r\n//               tableId: table.Table_Id,\r\n//               columnName: column.Column_Name,\r\n//               listType: column.List_Type\r\n//             });\r\n\r\n//             // Process list types for this column\r\n//             if (column.List_Type) {\r\n//               const listTypes = String(column.List_Type)\r\n//                 .split(',')\r\n//                 .map(lt => Number(lt.trim()))\r\n//                 .filter(lt => !isNaN(lt));\r\n              \r\n//               listTypes.forEach(lt => allListTypes.add(lt));\r\n//             }\r\n//           }\r\n//         });\r\n//       }\r\n//     });\r\n//   });\r\n\r\n//   // Update filter slots\r\n//   if (assignments.length > 0) {\r\n//     setFilterSlots(prev => {\r\n//       const newSlots = prev.map(slot => ({ ...slot, enabled: false, tableId: null, columnName: null }));\r\n      \r\n//       assignments.forEach(assignment => {\r\n//         const slotIndex = newSlots.findIndex(slot => slot.type === assignment.type);\r\n//         if (slotIndex !== -1) {\r\n//           newSlots[slotIndex] = {\r\n//             ...newSlots[slotIndex],\r\n//             enabled: true,\r\n//             tableId: assignment.tableId,\r\n//             columnName: assignment.columnName\r\n//           };\r\n//         }\r\n//       });\r\n      \r\n//       return newSlots;\r\n//     });\r\n\r\n//     // Set ALL collected list types for the checkboxes\r\n//     if (allListTypes.size > 0) {\r\n//       setSelectedListTypes(Array.from(allListTypes));\r\n//     } else {\r\n//       setSelectedListTypes([1]); \r\n//     }\r\n//   }\r\n// }, [inputValues.tables]);\r\n\r\n//   const getColumnsForTableId = (tableId) => {\r\n//     if (!tableId) return [];\r\n//     const inSelected = inputValues.tables.find(t => String(t.Table_Id) === String(tableId));\r\n//     if (inSelected && Array.isArray(inSelected.columns) && inSelected.columns.length) return inSelected.columns;\r\n\r\n//     const meta = reportTables.find(t => String(t.Table_Id) === String(tableId));\r\n//     if (meta && Array.isArray(meta.Columns)) return meta.Columns.map(c => ({\r\n//       Column_Name: c.Column_Name,\r\n//       Column_Data_Type: c.Column_Data_Type ?? c?.Column_Data_Type ?? 'string',\r\n//       IS_Default: c.IS_Default ?? c?.IS_Default ?? 0,\r\n//       IS_Join_Key: c.IS_Join_Key ?? c?.IS_Join_Key ?? 0\r\n//     }));\r\n//     return [];\r\n//   };\r\n\r\n//   const isColumnUsedInOtherSlot = (tableId, columnName, currentSlotIdx) => {\r\n//     return filterSlots.some((s, idx) => {\r\n//       if (!s.enabled) return false;\r\n//       if (idx === currentSlotIdx) return false;\r\n//       return String(s.tableId) === String(tableId) && String(s.columnName) === String(columnName);\r\n//     });\r\n//   };\r\n\r\n\r\n//   const handleFilter1TableChange = (tableId) => {\r\n//     setFilterSlots(prev => {\r\n//       const newSlots = [...prev];\r\n      \r\n\r\n//       newSlots[0] = { \r\n//         ...newSlots[0], \r\n//         tableId: tableId, \r\n//         columnName: null\r\n//       };\r\n      \r\n\r\n//       for (let i = 1; i < newSlots.length; i++) {\r\n//         if (newSlots[i].enabled) {\r\n//           newSlots[i] = {\r\n//             ...newSlots[i],\r\n//             tableId: tableId,\r\n//             columnName: null \r\n//           };\r\n//         }\r\n//       }\r\n      \r\n//       return newSlots;\r\n//     });\r\n//   };\r\n\r\n\r\n//   const handleFilterToggle = (idx) => {\r\n//     setFilterSlots(prev => {\r\n//       const arr = [...prev];\r\n//       const newEnabledState = !arr[idx].enabled;\r\n      \r\n//       arr[idx] = { \r\n//         ...arr[idx], \r\n//         enabled: newEnabledState,\r\n//         tableId: newEnabledState && idx > 0 ? arr[0].tableId : arr[idx].tableId,\r\n//         columnName: newEnabledState ? null : null \r\n//       };\r\n      \r\n//       return arr;\r\n//     });\r\n//   };\r\n\r\n\r\n//   const tablesSelectedCount = filterSlots.reduce((acc, s) => acc + (s.enabled && s.tableId ? 1 : 0), 0);\r\n//   const columnsSelectedCount = filterSlots.reduce((acc, s) => acc + (s.enabled && s.columnName ? 1 : 0), 0);\r\n\r\n\r\n// const buildDetails = () => {\r\n//   const details = [];\r\n\r\n//   filterSlots.forEach(slot => {\r\n//     if (!slot.enabled) return;\r\n//     if (!slot.tableId || !slot.columnName) return;\r\n\r\n   \r\n//     const listTypeToSave = selectedListTypes.length === 0 ? \"1\" : selectedListTypes.join(',');\r\n\r\n//     details.push({\r\n//       Type: Number(slot.type),\r\n//       Table_Id: Number(slot.tableId),\r\n//       Column_Name: slot.columnName,\r\n//       List_Type: listTypeToSave\r\n//     });\r\n//   });\r\n\r\n//   return details;\r\n// };\r\n\r\n//   const saveTemplate = async () => {\r\n//     const details = buildDetails();\r\n\r\n//     if (!details.length) {\r\n//       toast.error(\"Assign at least one filter slot (table + column) before saving\");\r\n//       return;\r\n//     }\r\n//     if (!inputValues.reportName || String(inputValues.reportName).trim() === '') {\r\n//       toast.error(\"Report name is required\");\r\n//       return;\r\n//     }\r\n\r\n//     const payload = {\r\n//       Report_Type_Id: inputValues?.Report_Type_Id || null,\r\n//       reportName: inputValues.reportName,\r\n//       createdBy: inputValues.createdBy,\r\n//       updatedBy:storage?.UserId,\r\n//       details\r\n//     };\r\n\r\n//     try {\r\n//       const res = await fetchLink({\r\n//         address: `reports/templateMobile`,\r\n//         method: inputValues?.Report_Type_Id ? 'PUT' : 'POST',\r\n//         bodyData: payload\r\n//       });\r\n//       if (res?.success) {\r\n//         toast.success(res.message);\r\n       \r\n//         setInputValues(initialValue);\r\n//         setFilterSlots([\r\n//           { slot: 1, enabled: false, tableId: null, columnName: null, type: 1 },\r\n//           { slot: 2, enabled: false, tableId: null, columnName: null, type: 2 },\r\n//           { slot: 3, enabled: false, tableId: null, columnName: null, type: 3 }\r\n//         ]);\r\n//         setSelectedListTypes([]);\r\n//         nav(-1);\r\n//       } else {\r\n//         toast.error(res?.message || 'Failed to save');\r\n//       }\r\n//     } catch (e) {\r\n//       console.error(e);\r\n//       toast.error('Error saving template');\r\n//     }\r\n//   };\r\n\r\n//   const canPreview = filterSlots.some(s => s.enabled && s.tableId && s.columnName);\r\n\r\n//   if (!isEqualNumber(contextObj?.Add_Rights, 1)) return null;\r\n\r\n//   return (\r\n//     <>\r\n//       <Card>\r\n//         <div className=\"p-2 border-bottom fa-16 fw-bold d-flex justify-content-between align-items-center\">\r\n//           <span className=\"text-primary text-uppercase ps-3\">{inputValues?.Report_Type_Id ? 'Modify Mobile Template' : 'Mobile Template Creation'}</span>\r\n//           <Button variant=\"outlined\" onClick={() => nav(-1)} startIcon={<KeyboardArrowLeft />}>Back</Button>\r\n//         </div>\r\n\r\n//         <CardContent>\r\n//           <div>\r\n//             <label className=\"w-100\">Report Name</label>\r\n//             <select\r\n//               className=\"cus-inpt w-auto\"\r\n//               value={inputValues.reportName}\r\n//               onChange={e => setInputValues({ ...inputValues, reportName: e.target.value })}\r\n//             >\r\n//                <option value=\"\" disabled>Select</option>\r\n//               <option value=\"StockInhand\">Stock Inhand</option>\r\n//               <option value=\"Sales Invoice\">Sales Invoice</option>\r\n//             </select>\r\n//           </div>\r\n\r\n//           <div className=\"p-2 mt-3 border rounded-3 d-inline-block\">\r\n//             <table><tbody>\r\n//               <tr><td className=\"border-end\">Filters Assigned</td><td className=\"px-2 blue-text\">{tablesSelectedCount}</td></tr>\r\n//               <tr><td className=\"border-end\">Columns Assigned</td><td className=\"px-2 blue-text\">{columnsSelectedCount}</td></tr>\r\n//             </tbody></table>\r\n//           </div>\r\n\r\n//           <Box className=\"mt-3 p-3 border rounded\" sx={{ background: '#FBFCFD' }}>\r\n//             <Typography variant=\"subtitle1\" fontWeight={700} gutterBottom>Filters</Typography>\r\n\r\n//             <Grid container spacing={2}>\r\n//               {filterSlots.map((slot, idx) => {\r\n//                 const label = `Filter ${slot.slot}`;\r\n//                 return (\r\n//                   <Grid item xs={12} md={6} key={slot.type}>\r\n//                     <Box sx={{ display: 'flex', gap: 2, alignItems: 'center', p: 1, borderRadius: 1, background: '#fff', boxShadow: '0 0 0 1px rgba(0,0,0,0.03) inset' }}>\r\n//                       <label style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\r\n//                         <input\r\n//                           type=\"checkbox\"\r\n//                           checked={slot.enabled}\r\n//                           onChange={() => handleFilterToggle(idx)}\r\n//                         />\r\n//                         <strong>{label}</strong>\r\n//                       </label>\r\n\r\n//                       {slot.enabled && (\r\n//                         <Box sx={{ display: 'flex', gap: 1, alignItems: 'center', flex: 1 }}>\r\n//                           <select\r\n//                             className=\"cus-inpt\"\r\n//                             value={slot.tableId ?? ''}\r\n//                             onChange={(e) => {\r\n//                               const val = e.target.value || null;\r\n//                               if (idx === 0) {\r\n\r\n//                                 handleFilter1TableChange(val);\r\n//                               } else {\r\n        \r\n//                                 setFilterSlots(prev => {\r\n//                                   const arr = [...prev];\r\n//                                   arr[idx] = { ...arr[idx], tableId: val, columnName: null };\r\n//                                   return arr;\r\n//                                 });\r\n//                               }\r\n//                             }}\r\n//                             disabled={idx > 0 && filterSlots[0].tableId} \r\n//                           >\r\n//                             <option value=\"\">Select table</option>\r\n//                             {reportTables.map((t, ti) => (\r\n//                               <option key={ti} value={t.Table_Id}>{t.AliasName || t.Table_Name}</option>\r\n//                             ))}\r\n//                           </select>\r\n// <select\r\n//   className=\"cus-inpt\"\r\n//   value={slot.columnName ?? ''}\r\n//   disabled={!slot.tableId}\r\n//   onChange={(e) => {\r\n//     const val = e.target.value || null;\r\n    \r\n  \r\n//     if (val && isColumnUsedInOtherSlot(slot.tableId, val, idx)) {\r\n//       toast.error('Column already assigned to another filter slot. Choose a different column.');\r\n//       return;\r\n//     }\r\n    \r\n//     setFilterSlots(prev => {\r\n//       const arr = [...prev];\r\n//       arr[idx] = { ...arr[idx], columnName: val };\r\n//       return arr;\r\n//     });\r\n//   }}\r\n// >\r\n//   <option value=\"\">Select column</option>\r\n//   {slot.tableId && getColumnsForTableId(slot.tableId).map((c, ci) => {\r\n//     const isUsedInOtherSlot = isColumnUsedInOtherSlot(slot.tableId, c.Column_Name, idx);\r\n//     const isCurrentlySelected = slot.columnName === c.Column_Name;\r\n\r\n//     const isSelectable = isCurrentlySelected || !isUsedInOtherSlot;\r\n    \r\n//     return (\r\n//       <option \r\n//         key={ci} \r\n//         value={c.Column_Name} \r\n//         disabled={!isSelectable} \r\n//         style={{ \r\n//           color: !isSelectable ? '#999' : 'inherit',\r\n//           backgroundColor: !isSelectable ? '#f5f5f5' : 'inherit',\r\n//           fontStyle: !isSelectable ? 'italic' : 'normal'\r\n//         }}\r\n//       >\r\n//         {c.Column_Name} \r\n//         {c.Column_Data_Type ? ` (${c.Column_Data_Type})` : ''}\r\n//         {!isSelectable && !isCurrentlySelected ? ' - Already used in another filter' : ''}\r\n//       </option>\r\n//     );\r\n//   })}\r\n// </select>\r\n//                         </Box>\r\n//                       )}\r\n//                     </Box>\r\n//                   </Grid>\r\n//                 );\r\n//               })}\r\n//             </Grid>\r\n//           </Box>\r\n\r\n   \r\n// <Box className=\"mt-3 d-flex align-items-center\" sx={{ gap: 2 }}>\r\n//   <Typography fontWeight={700}>List Type:</Typography>\r\n//   <label style={{ display: 'flex', alignItems: 'center', gap: 6 }}>\r\n//     <input \r\n//       type=\"checkbox\" \r\n//       checked={selectedListTypes.includes(1)} \r\n//       onChange={(e) => {\r\n//         if (e.target.checked) {\r\n//           setSelectedListTypes(prev => [...prev, 1]);\r\n//         } else {\r\n//           setSelectedListTypes(prev => prev.filter(x => x !== 1));\r\n//         }\r\n//       }} \r\n//     /> \r\n//     <span>Sum</span>\r\n//   </label>\r\n//   <label style={{ display: 'flex', alignItems: 'center', gap: 6 }}>\r\n//     <input \r\n//       type=\"checkbox\" \r\n//       checked={selectedListTypes.includes(2)} \r\n//       onChange={(e) => {\r\n//         if (e.target.checked) {\r\n//           setSelectedListTypes(prev => [...prev, 2]);\r\n//         } else {\r\n//           setSelectedListTypes(prev => prev.filter(x => x !== 2));\r\n//         }\r\n//       }} \r\n//     /> \r\n//     <span>Avg</span>\r\n//   </label>\r\n// </Box>\r\n\r\n//           <Box className=\"mt-4 d-flex justify-content-end\" sx={{ gap: 2 }}>\r\n//             <Button variant=\"outlined\" onClick={() => { \r\n//               setFilterSlots([\r\n//                 { slot: 1, enabled: false, tableId: null, columnName: null, type: 1 },\r\n//                 { slot: 2, enabled: false, tableId: null, columnName: null, type: 2 },\r\n//                 { slot: 3, enabled: false, tableId: null, columnName: null, type: 3 },\r\n//               ]); \r\n//               setSelectedListTypes([]); \r\n//             }}>\r\n//               Reset\r\n//             </Button>\r\n\r\n//             <Tooltip title={!canPreview ? 'Assign at least one slot to Preview' : ''}>\r\n//               <span>\r\n//                 <Button\r\n//                   variant=\"outlined\"\r\n//                   startIcon={<RemoveRedEyeOutlined />}\r\n//                   disabled={!canPreview}\r\n//                   onClick={() => setOpenConfigPreview(true)}\r\n//                 >\r\n//                   Preview\r\n//                 </Button>\r\n//               </span>\r\n//             </Tooltip>\r\n\r\n//             <Button variant=\"contained\" startIcon={<Save />} onClick={saveTemplate}>\r\n//               Submit\r\n//             </Button>\r\n//           </Box>\r\n//         </CardContent>\r\n//       </Card>\r\n\r\n\r\n//       <Dialog open={openConfigPreview} onClose={() => setOpenConfigPreview(false)} fullWidth maxWidth=\"md\">\r\n//         <DialogTitle>Preview - Template Configuration</DialogTitle>\r\n//         <DialogContent dividers>\r\n//           <Typography variant=\"subtitle1\" fontWeight={700} gutterBottom>Report: {inputValues.reportName || '—'}</Typography>\r\n\r\n//           <Box sx={{ mb: 2 }}>\r\n//             {filterSlots.filter(s => s.enabled && s.tableId && s.columnName).length === 0 && (\r\n//               <Typography>No filter assigned yet.</Typography>\r\n//             )}\r\n\r\n//             {filterSlots.filter(s => s.enabled && s.tableId && s.columnName).map((s, i) => {\r\n//               const tableMeta = reportTables.find(t => String(t.Table_Id) === String(s.tableId));\r\n//               const tableLabel = tableMeta ? (tableMeta.AliasName || tableMeta.Table_Name) : `Table ${s.tableId}`;\r\n//               const listType = selectedListTypes.length === 0 ? '—' : (selectedListTypes.length === 2 ? 'Sum & Avg' : (selectedListTypes[0] === 1 ? 'Sum' : 'Avg'));\r\n//               const label = `Filter ${s.slot}`;\r\n//               return (\r\n//                 <Box key={s.type} sx={{ p: 1, borderRadius: 1, background: '#F7F9FB', mb: 1 }}>\r\n//                   <Grid container alignItems=\"center\">\r\n//                     <Grid item xs={12} md={3}><strong>{label}</strong></Grid>\r\n//                     <Grid item xs={12} md={4}>{tableLabel}</Grid>\r\n//                     <Grid item xs={12} md={3}>{s.columnName}</Grid>\r\n//                     <Grid item xs={12} md={2} style={{ textAlign: 'right' }}>{listType}</Grid>\r\n//                   </Grid>\r\n//                 </Box>\r\n//               );\r\n//             })}\r\n//           </Box>\r\n\r\n//           <Typography variant=\"caption\" color=\"textSecondary\">\r\n//             This preview shows the selected filters and the chosen List Type. It is a configuration review only — no data is fetched.\r\n//           </Typography>\r\n//         </DialogContent>\r\n\r\n//         <DialogActions>\r\n//           <Button onClick={() => setOpenConfigPreview(false)} startIcon={<ArrowBackIosNewOutlined />}>Back</Button>\r\n//           <Button variant=\"contained\" onClick={() => { setOpenConfigPreview(false); saveTemplate(); }}>Submit</Button>\r\n//         </DialogActions>\r\n//       </Dialog>\r\n//     </>\r\n//   );\r\n// };\r\n\r\n// export default ReportsTemplateMobCreation;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// import React, { useContext, useEffect, useState } from 'react';\r\n// import {\r\n//   Card, CardContent, Button, Tooltip, Dialog, DialogTitle, DialogContent, DialogActions,\r\n//   Box, IconButton, Grid, Typography\r\n// } from '@mui/material';\r\n// import { ArrowBackIosNewOutlined, KeyboardArrowLeft, RemoveRedEyeOutlined, Save } from '@mui/icons-material';\r\n// import { isValidObject, Subraction, isEqualNumber } from '../../Components/functions';\r\n// import { toast } from 'react-toastify';\r\n// import { useLocation, useNavigate } from 'react-router-dom';\r\n// import { MyContext } from '../../Components/context/contextProvider';\r\n// import { fetchLink } from '../../Components/fetchComponent';\r\n\r\n// const ReportsTemplateMobCreation = () => {\r\n//   const storage = JSON.parse(localStorage.getItem('user'));\r\n//   const nav = useNavigate();\r\n//   const { contextObj } = useContext(MyContext);\r\n//   const locationState = useLocation().state;\r\n\r\n//   const initialValue = {\r\n//     Report_Type_Id: '',\r\n//     reportName: '',\r\n//     tables: [], \r\n//     tableJoins: [],\r\n//     currentTab: '',\r\n//     createdBy: storage?.UserId\r\n//   };\r\n\r\n//   const [inputValues, setInputValues] = useState(initialValue);\r\n//   const [reportTables, setReportTables] = useState([]);\r\n\r\n//   const [filterSlots, setFilterSlots] = useState([\r\n//     { slot: 1, enabled: false, tableId: null, columnName: null, type: 1 },\r\n//     { slot: 2, enabled: false, tableId: null, columnName: null, type: 2 },\r\n//     { slot: 3, enabled: false, tableId: null, columnName: null, type: 3 },\r\n//   ]);\r\n\r\n//   const [selectedListTypes, setSelectedListTypes] = useState([]); \r\n//   const [openConfigPreview, setOpenConfigPreview] = useState(false);\r\n\r\n//   useEffect(() => {\r\n//     const stateValue = locationState?.ReportState;\r\n//     if (isValidObject(stateValue)) {\r\n//       setInputValues(prev => ({\r\n//         ...prev,\r\n//         Report_Type_Id: stateValue?.Report_Type_Id ?? '',\r\n//         reportName: stateValue?.reportName ?? '',\r\n//         tables: [...(stateValue?.tables || [])],\r\n//         createdBy: stateValue?.createdBy ?? storage?.UserId\r\n//       }));\r\n//     }\r\n//   }, [locationState?.ReportState, storage?.UserId]);\r\n\r\n//   useEffect(() => {\r\n//     fetchLink({ address: `reports/tablesAndColumnsMobile` })\r\n//       .then(data => {\r\n//         if (data?.success) setReportTables(data?.data || []);\r\n//       }).catch(e => console.error(e));\r\n//   }, []);\r\n\r\n//   useEffect(() => {\r\n//     if (!inputValues.tables || inputValues.tables.length === 0) return;\r\n\r\n//     const assignments = [];\r\n//     const allListTypes = new Set(); \r\n    \r\n//     inputValues.tables.forEach(table => {\r\n//       table.columns?.forEach(column => {\r\n//         if (column.Type) {\r\n//           const types = Array.isArray(column.Type) ? column.Type : [column.Type];\r\n//           types.forEach(type => {\r\n//             if (type) {\r\n//               assignments.push({\r\n//                 type: Number(type),\r\n//                 tableId: table.Table_Id,\r\n//                 columnName: column.Column_Name,\r\n//                 listType: column.List_Type\r\n//               });\r\n\r\n             \r\n//               if (column.List_Type) {\r\n//                 const listTypes = String(column.List_Type)\r\n//                   .split(',')\r\n//                   .map(lt => Number(lt.trim()))\r\n//                   .filter(lt => !isNaN(lt));\r\n                \r\n//                 listTypes.forEach(lt => allListTypes.add(lt));\r\n//               }\r\n//             }\r\n//           });\r\n//         }\r\n//       });\r\n//     });\r\n\r\n   \r\n//     if (assignments.length > 0) {\r\n//       setFilterSlots(prev => {\r\n//         const newSlots = prev.map(slot => ({ ...slot, enabled: false, tableId: null, columnName: null }));\r\n        \r\n//         assignments.forEach(assignment => {\r\n//           const slotIndex = newSlots.findIndex(slot => slot.type === assignment.type);\r\n//           if (slotIndex !== -1) {\r\n//             newSlots[slotIndex] = {\r\n//               ...newSlots[slotIndex],\r\n//               enabled: true,\r\n//               tableId: assignment.tableId,\r\n//               columnName: assignment.columnName\r\n//             };\r\n//           }\r\n//         });\r\n        \r\n//         return newSlots;\r\n//       });\r\n\r\n      \r\n//       if (allListTypes.size > 0) {\r\n//         setSelectedListTypes(Array.from(allListTypes));\r\n//       } else {\r\n//         setSelectedListTypes([1]); \r\n//       }\r\n//     }\r\n//   }, [inputValues.tables]);\r\n\r\n//   const getColumnsForTableId = (tableId) => {\r\n//     if (!tableId) return [];\r\n//     const inSelected = inputValues.tables.find(t => String(t.Table_Id) === String(tableId));\r\n//     if (inSelected && Array.isArray(inSelected.columns) && inSelected.columns.length) return inSelected.columns;\r\n\r\n//     const meta = reportTables.find(t => String(t.Table_Id) === String(tableId));\r\n//     if (meta && Array.isArray(meta.Columns)) return meta.Columns.map(c => ({\r\n//       Column_Name: c.Column_Name,\r\n//       Column_Data_Type: c.Column_Data_Type ?? c?.Column_Data_Type ?? 'string',\r\n//       IS_Default: c.IS_Default ?? c?.IS_Default ?? 0,\r\n//       IS_Join_Key: c.IS_Join_Key ?? c?.IS_Join_Key ?? 0\r\n//     }));\r\n//     return [];\r\n//   };\r\n\r\n//   const isColumnUsedInOtherSlot = (tableId, columnName, currentSlotIdx) => {\r\n//     return filterSlots.some((s, idx) => {\r\n//       if (!s.enabled) return false;\r\n//       if (idx === currentSlotIdx) return false;\r\n//       return String(s.tableId) === String(tableId) && String(s.columnName) === String(columnName);\r\n//     });\r\n//   };\r\n\r\n\r\n\r\n//   const handleFilterToggle = (idx) => {\r\n//     setFilterSlots(prev => {\r\n//       const arr = [...prev];\r\n//       const newEnabledState = !arr[idx].enabled;\r\n      \r\n     \r\n//       arr[idx] = { \r\n//         ...arr[idx], \r\n//         enabled: newEnabledState,\r\n      \r\n//         columnName: newEnabledState ? null : null \r\n//       };\r\n      \r\n//       return arr;\r\n//     });\r\n//   };\r\n\r\n//   const tablesSelectedCount = filterSlots.reduce((acc, s) => acc + (s.enabled && s.tableId ? 1 : 0), 0);\r\n//   const columnsSelectedCount = filterSlots.reduce((acc, s) => acc + (s.enabled && s.columnName ? 1 : 0), 0);\r\n\r\n//   const buildDetails = () => {\r\n//     const details = [];\r\n\r\n//     filterSlots.forEach(slot => {\r\n//       if (!slot.enabled) return;\r\n//       if (!slot.tableId || !slot.columnName) return;\r\n\r\n//       const listTypeToSave = selectedListTypes.length === 0 ? \"1\" : selectedListTypes.join(',');\r\n\r\n//       details.push({\r\n//         Type: Number(slot.type),\r\n//         Table_Id: Number(slot.tableId),\r\n//         Column_Name: slot.columnName,\r\n//         List_Type: listTypeToSave\r\n//       });\r\n//     });\r\n\r\n//     return details;\r\n//   };\r\n\r\n//   const saveTemplate = async () => {\r\n//     const details = buildDetails();\r\n\r\n//     if (!details.length) {\r\n//       toast.error(\"Assign at least one filter slot (table + column) before saving\");\r\n//       return;\r\n//     }\r\n//     if (!inputValues.reportName || String(inputValues.reportName).trim() === '') {\r\n//       toast.error(\"Report name is required\");\r\n//       return;\r\n//     }\r\n\r\n//     const payload = {\r\n//       Report_Type_Id: inputValues?.Report_Type_Id || null,\r\n//       reportName: inputValues.reportName,\r\n//       createdBy: inputValues.createdBy,\r\n//       updatedBy: storage?.UserId,\r\n//       details\r\n//     };\r\n\r\n//     try {\r\n//       const res = await fetchLink({\r\n//         address: `reports/templateMobile`,\r\n//         method: inputValues?.Report_Type_Id ? 'PUT' : 'POST',\r\n//         bodyData: payload\r\n//       });\r\n//       if (res?.success) {\r\n//         toast.success(res.message);\r\n       \r\n//         setInputValues(initialValue);\r\n//         setFilterSlots([\r\n//           { slot: 1, enabled: false, tableId: null, columnName: null, type: 1 },\r\n//           { slot: 2, enabled: false, tableId: null, columnName: null, type: 2 },\r\n//           { slot: 3, enabled: false, tableId: null, columnName: null, type: 3 }\r\n//         ]);\r\n//         setSelectedListTypes([]);\r\n//         nav(-1);\r\n//       } else {\r\n//         toast.error(res?.message || 'Failed to save');\r\n//       }\r\n//     } catch (e) {\r\n//       console.error(e);\r\n//       toast.error('Error saving template');\r\n//     }\r\n//   };\r\n\r\n//   const canPreview = filterSlots.some(s => s.enabled && s.tableId && s.columnName);\r\n\r\n//   if (!isEqualNumber(contextObj?.Add_Rights, 1)) return null;\r\n\r\n//   return (\r\n//     <>\r\n//       <Card>\r\n//         <div className=\"p-2 border-bottom fa-16 fw-bold d-flex justify-content-between align-items-center\">\r\n//           <span className=\"text-primary text-uppercase ps-3\">{inputValues?.Report_Type_Id ? 'Modify Mobile Template' : 'Mobile Template Creation'}</span>\r\n//           <Button variant=\"outlined\" onClick={() => nav(-1)} startIcon={<KeyboardArrowLeft />}>Back</Button>\r\n//         </div>\r\n\r\n//         <CardContent>\r\n//           <div>\r\n//             <label className=\"w-100\">Report Name</label>\r\n//             <select\r\n//               className=\"cus-inpt w-auto\"\r\n//               value={inputValues.reportName}\r\n//               onChange={e => setInputValues({ ...inputValues, reportName: e.target.value })}\r\n//             >\r\n//               <option value=\"\" disabled>Select</option>\r\n//               <option value=\"StockInhand\">Stock Inhand</option>\r\n//               <option value=\"Sales Invoice\">Sales Invoice</option>\r\n//             </select>\r\n//           </div>\r\n\r\n//           <div className=\"p-2 mt-3 border rounded-3 d-inline-block\">\r\n//             <table><tbody>\r\n//               <tr><td className=\"border-end\">Filters Assigned</td><td className=\"px-2 blue-text\">{tablesSelectedCount}</td></tr>\r\n//               <tr><td className=\"border-end\">Columns Assigned</td><td className=\"px-2 blue-text\">{columnsSelectedCount}</td></tr>\r\n//             </tbody></table>\r\n//           </div>\r\n\r\n//          <Box className=\"mt-3 p-3 border rounded\" sx={{ background: '#FBFCFD' }}>\r\n//   <Typography variant=\"subtitle1\" fontWeight={700} gutterBottom>Level1 Filters</Typography>\r\n  \r\n\r\n//   <Grid container spacing={3}>\r\n//     {filterSlots.map((slot, idx) => {\r\n//       const label = `Filter ${slot.slot}`;\r\n//       return (\r\n//         <Grid item xs={4} key={slot.type}>\r\n \r\n//           <Box sx={{ \r\n//             display: 'flex', \r\n//             alignItems: 'center', \r\n//             p: 1.5, \r\n//             mb: 1,\r\n//             borderRadius: 1, \r\n//             background: '#fff', \r\n//             border: '1px solid #e0e0e0',\r\n//             minHeight: '60px'\r\n//           }}>\r\n//             <label style={{ display: 'flex', alignItems: 'center', gap: 10, width: '100%' }}>\r\n//               <input\r\n//                 type=\"checkbox\"\r\n//                 checked={slot.enabled}\r\n//                 onChange={() => handleFilterToggle(idx)}\r\n//                 style={{ width: '18px', height: '18px' }}\r\n//               />\r\n//               <Typography variant=\"subtitle1\" fontWeight={600}>{label}</Typography>\r\n//             </label>\r\n//           </Box>\r\n          \r\n  \r\n//           {slot.enabled ? (\r\n//             <Box sx={{ display: 'flex', flexDirection: 'column', gap: 1.5 }}>\r\n   \r\n//               <Box>\r\n//                 <Typography variant=\"caption\" color=\"textSecondary\" sx={{ mb: 0.5, display: 'block' }}>\r\n//                   Table\r\n//                 </Typography>\r\n//                 <select\r\n//                   className=\"cus-inpt\"\r\n//                   value={slot.tableId ?? ''}\r\n//                   onChange={(e) => {\r\n//                     const val = e.target.value || null;\r\n//                     setFilterSlots(prev => {\r\n//                       const arr = [...prev];\r\n//                       arr[idx] = { ...arr[idx], tableId: val, columnName: null };\r\n//                       return arr;\r\n//                     });\r\n//                   }}\r\n//                   style={{ width: '100%' }}\r\n//                 >\r\n//                   <option value=\"\">Select table</option>\r\n//                   {reportTables.map((t, ti) => (\r\n//                     <option key={ti} value={t.Table_Id}>{t.AliasName || t.Table_Name}</option>\r\n//                   ))}\r\n//                 </select>\r\n//               </Box>\r\n              \r\n\r\n//               <Box>\r\n//                 <Typography variant=\"caption\" color=\"textSecondary\" sx={{ mb: 0.5, display: 'block' }}>\r\n//                   Column\r\n//                 </Typography>\r\n//                 <select\r\n//                   className=\"cus-inpt\"\r\n//                   value={slot.columnName ?? ''}\r\n//                   disabled={!slot.tableId}\r\n//                   onChange={(e) => {\r\n//                     const val = e.target.value || null;\r\n                    \r\n//                     if (val && isColumnUsedInOtherSlot(slot.tableId, val, idx)) {\r\n//                       toast.error('Column already assigned to another filter slot. Choose a different column.');\r\n//                       return;\r\n//                     }\r\n                    \r\n//                     setFilterSlots(prev => {\r\n//                       const arr = [...prev];\r\n//                       arr[idx] = { ...arr[idx], columnName: val };\r\n//                       return arr;\r\n//                     });\r\n//                   }}\r\n//                   style={{ width: '100%' }}\r\n//                 >\r\n//                   <option value=\"\">Select column</option>\r\n//                   {slot.tableId && getColumnsForTableId(slot.tableId).map((c, ci) => {\r\n//                     const isUsedInOtherSlot = isColumnUsedInOtherSlot(slot.tableId, c.Column_Name, idx);\r\n//                     const isCurrentlySelected = slot.columnName === c.Column_Name;\r\n\r\n//                     const isSelectable = isCurrentlySelected || !isUsedInOtherSlot;\r\n                    \r\n//                     return (\r\n//                       <option \r\n//                         key={ci} \r\n//                         value={c.Column_Name} \r\n//                         disabled={!isSelectable} \r\n//                         style={{ \r\n//                           color: !isSelectable ? '#999' : 'inherit',\r\n//                           backgroundColor: !isSelectable ? '#f5f5f5' : 'inherit',\r\n//                           fontStyle: !isSelectable ? 'italic' : 'normal'\r\n//                         }}\r\n//                       >\r\n//                         {c.Column_Name} \r\n//                         {c.Column_Data_Type ? ` (${c.Column_Data_Type})` : ''}\r\n//                       </option>\r\n//                     );\r\n//                   })}\r\n//                 </select>\r\n//               </Box>\r\n//             </Box>\r\n//           ) : (\r\n//             <Box sx={{ \r\n//               display: 'flex', \r\n//               alignItems: 'center', \r\n//               justifyContent: 'center', \r\n//               p: 3, \r\n//               borderRadius: 1, \r\n//               background: '#f8f9fa',\r\n//               border: '1px dashed #dee2e6',\r\n//               color: '#6c757d',\r\n//               textAlign: 'center',\r\n//               minHeight: '120px'\r\n//             }}>\r\n//               <Typography variant=\"body2\">\r\n//                 Enable {label} to configure\r\n//               </Typography>\r\n//             </Box>\r\n//           )}\r\n//         </Grid>\r\n//       );\r\n//     })}\r\n//   </Grid>\r\n// </Box>\r\n\r\n//           <Box className=\"mt-3 d-flex align-items-center\" sx={{ gap: 2 }}>\r\n//             <Typography fontWeight={700}>List Type:</Typography>\r\n//             <label style={{ display: 'flex', alignItems: 'center', gap: 6 }}>\r\n//               <input \r\n//                 type=\"checkbox\" \r\n//                 checked={selectedListTypes.includes(1)} \r\n//                 onChange={(e) => {\r\n//                   if (e.target.checked) {\r\n//                     setSelectedListTypes(prev => [...prev, 1]);\r\n//                   } else {\r\n//                     setSelectedListTypes(prev => prev.filter(x => x !== 1));\r\n//                   }\r\n//                 }} \r\n//               /> \r\n//               <span>Sum</span>\r\n//             </label>\r\n//             <label style={{ display: 'flex', alignItems: 'center', gap: 6 }}>\r\n//               <input \r\n//                 type=\"checkbox\" \r\n//                 checked={selectedListTypes.includes(2)} \r\n//                 onChange={(e) => {\r\n//                   if (e.target.checked) {\r\n//                     setSelectedListTypes(prev => [...prev, 2]);\r\n//                   } else {\r\n//                     setSelectedListTypes(prev => prev.filter(x => x !== 2));\r\n//                   }\r\n//                 }} \r\n//               /> \r\n//               <span>Avg</span>\r\n//             </label>\r\n//           </Box>\r\n\r\n//           <Box className=\"mt-4 d-flex justify-content-end\" sx={{ gap: 2 }}>\r\n//             <Button variant=\"outlined\" onClick={() => { \r\n//               setFilterSlots([\r\n//                 { slot: 1, enabled: false, tableId: null, columnName: null, type: 1 },\r\n//                 { slot: 2, enabled: false, tableId: null, columnName: null, type: 2 },\r\n//                 { slot: 3, enabled: false, tableId: null, columnName: null, type: 3 },\r\n//               ]); \r\n//               setSelectedListTypes([]); \r\n//             }}>\r\n//               Reset\r\n//             </Button>\r\n\r\n//             <Tooltip title={!canPreview ? 'Assign at least one slot to Preview' : ''}>\r\n//               <span>\r\n//                 <Button\r\n//                   variant=\"outlined\"\r\n//                   startIcon={<RemoveRedEyeOutlined />}\r\n//                   disabled={!canPreview}\r\n//                   onClick={() => setOpenConfigPreview(true)}\r\n//                 >\r\n//                   Preview\r\n//                 </Button>\r\n//               </span>\r\n//             </Tooltip>\r\n\r\n//             <Button variant=\"contained\" startIcon={<Save />} onClick={saveTemplate}>\r\n//               Submit\r\n//             </Button>\r\n//           </Box>\r\n//         </CardContent>\r\n//       </Card>\r\n\r\n//       <Dialog open={openConfigPreview} onClose={() => setOpenConfigPreview(false)} fullWidth maxWidth=\"md\">\r\n//         <DialogTitle>Preview - Template Configuration</DialogTitle>\r\n//         <DialogContent dividers>\r\n//           <Typography variant=\"subtitle1\" fontWeight={700} gutterBottom>Report: {inputValues.reportName || '—'}</Typography>\r\n\r\n//           <Box sx={{ mb: 2 }}>\r\n//             {filterSlots.filter(s => s.enabled && s.tableId && s.columnName).length === 0 && (\r\n//               <Typography>No filter assigned yet.</Typography>\r\n//             )}\r\n\r\n//             {filterSlots.filter(s => s.enabled && s.tableId && s.columnName).map((s, i) => {\r\n//               const tableMeta = reportTables.find(t => String(t.Table_Id) === String(s.tableId));\r\n//               const tableLabel = tableMeta ? (tableMeta.AliasName || tableMeta.Table_Name) : `Table ${s.tableId}`;\r\n//               const listType = selectedListTypes.length === 0 ? '—' : (selectedListTypes.length === 2 ? 'Sum & Avg' : (selectedListTypes[0] === 1 ? 'Sum' : 'Avg'));\r\n//               const label = `Filter ${s.slot}`;\r\n//               return (\r\n//                 <Box key={s.type} sx={{ p: 1, borderRadius: 1, background: '#F7F9FB', mb: 1 }}>\r\n//                   <Grid container alignItems=\"center\">\r\n//                     <Grid item xs={12} md={3}><strong>{label}</strong></Grid>\r\n//                     <Grid item xs={12} md={4}>{tableLabel}</Grid>\r\n//                     <Grid item xs={12} md={3}>{s.columnName}</Grid>\r\n//                     <Grid item xs={12} md={2} style={{ textAlign: 'right' }}>{listType}</Grid>\r\n//                   </Grid>\r\n//                 </Box>\r\n//               );\r\n//             })}\r\n//           </Box>\r\n\r\n//           <Typography variant=\"caption\" color=\"textSecondary\">\r\n//             {/* This preview shows the selected filters and the chosen List Type. It is a configuration review only — no data is fetched. */}\r\n//           </Typography>\r\n//         </DialogContent>\r\n\r\n//         <DialogActions>\r\n//           <Button onClick={() => setOpenConfigPreview(false)} startIcon={<ArrowBackIosNewOutlined />}>Back</Button>\r\n//           <Button variant=\"contained\" onClick={() => { setOpenConfigPreview(false); saveTemplate(); }}>Submit</Button>\r\n//         </DialogActions>\r\n//       </Dialog>\r\n//     </>\r\n//   );\r\n// };\r\n\r\n// export default ReportsTemplateMobCreation;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nimport React, { useContext, useEffect, useState } from 'react';\r\nimport {\r\n  Card, CardContent, Button, Tooltip, Dialog, DialogTitle, DialogContent, DialogActions,\r\n  Box, IconButton, Grid, Typography\r\n} from '@mui/material';\r\nimport { ArrowBackIosNewOutlined, KeyboardArrowLeft, RemoveRedEyeOutlined, Save } from '@mui/icons-material';\r\nimport { isValidObject, Subraction, isEqualNumber } from '../../Components/functions';\r\nimport { toast } from 'react-toastify';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport { MyContext } from '../../Components/context/contextProvider';\r\nimport { fetchLink } from '../../Components/fetchComponent';\r\n\r\nconst ReportsTemplateMobCreation = () => {\r\n  const storage = JSON.parse(localStorage.getItem('user'));\r\n  const nav = useNavigate();\r\n  const { contextObj } = useContext(MyContext);\r\n  const locationState = useLocation().state;\r\n\r\n  const initialValue = {\r\n    Report_Type_Id: '',\r\n    reportName: '',\r\n    tables: [], \r\n    tableJoins: [],\r\n    currentTab: '',\r\n    createdBy: storage?.UserId\r\n  };\r\n\r\n  const [inputValues, setInputValues] = useState(initialValue);\r\n  const [reportTables, setReportTables] = useState([]);\r\n\r\n\r\n  const [filterSlotsLevel1, setFilterSlotsLevel1] = useState([\r\n    { slot: 1, enabled: false, tableId: null, columnName: null, type: 1 },\r\n    { slot: 2, enabled: false, tableId: null, columnName: null, type: 2 },\r\n    { slot: 3, enabled: false, tableId: null, columnName: null, type: 3 },\r\n  ]);\r\n\r\n\r\n  const [filterSlotsLevel2, setFilterSlotsLevel2] = useState([\r\n    { slot: 1, enabled: false, tableId: null, columnName: null, type: 4 },\r\n    { slot: 2, enabled: false, tableId: null, columnName: null, type: 5 },\r\n    { slot: 3, enabled: false, tableId: null, columnName: null, type: 6 },\r\n  ]);\r\n\r\n  const [selectedListTypes, setSelectedListTypes] = useState([]); \r\n  const [openConfigPreview, setOpenConfigPreview] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const stateValue = locationState?.ReportState;\r\n    if (isValidObject(stateValue)) {\r\n      setInputValues(prev => ({\r\n        ...prev,\r\n        Report_Type_Id: stateValue?.Report_Type_Id ?? '',\r\n        reportName: stateValue?.reportName ?? '',\r\n        tables: [...(stateValue?.tables || [])],\r\n        createdBy: stateValue?.createdBy ?? storage?.UserId\r\n      }));\r\n    }\r\n  }, [locationState?.ReportState, storage?.UserId]);\r\n\r\n  useEffect(() => {\r\n    fetchLink({ address: `reports/tablesAndColumnsMobile` })\r\n      .then(data => {\r\n        if (data?.success) setReportTables(data?.data || []);\r\n      }).catch(e => console.error(e));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!inputValues.tables || inputValues.tables.length === 0) return;\r\n\r\n    const assignments = [];\r\n    const allListTypes = new Set(); \r\n    \r\n    inputValues.tables.forEach(table => {\r\n      table.columns?.forEach(column => {\r\n        if (column.Type) {\r\n          const types = Array.isArray(column.Type) ? column.Type : [column.Type];\r\n          types.forEach(type => {\r\n            if (type) {\r\n              assignments.push({\r\n                type: Number(type),\r\n                tableId: table.Table_Id,\r\n                columnName: column.Column_Name,\r\n                listType: column.List_Type,\r\n                level: column.Level \r\n              });\r\n\r\n              if (column.List_Type) {\r\n                const listTypes = String(column.List_Type)\r\n                  .split(',')\r\n                  .map(lt => Number(lt.trim()))\r\n                  .filter(lt => !isNaN(lt));\r\n                \r\n                listTypes.forEach(lt => allListTypes.add(lt));\r\n              }\r\n            }\r\n          });\r\n        }\r\n      });\r\n    });\r\n\r\n\r\n   const level1Assignments = assignments.filter(a => a.level === 1 || (a.type >= 1 && a.type <= 3));\r\n  const level2Assignments = assignments.filter(a => a.level === 2 || (a.type >= 4 && a.type <= 6));\r\n\r\n    if (level1Assignments.length > 0) {\r\n      setFilterSlotsLevel1(prev => {\r\n        const newSlots = prev.map(slot => ({ ...slot, enabled: false, tableId: null, columnName: null }));\r\n        \r\n        level1Assignments.forEach(assignment => {\r\n          const slotIndex = newSlots.findIndex(slot => slot.type === assignment.type);\r\n          if (slotIndex !== -1) {\r\n            newSlots[slotIndex] = {\r\n              ...newSlots[slotIndex],\r\n              enabled: true,\r\n              tableId: assignment.tableId,\r\n              columnName: assignment.columnName\r\n            };\r\n          }\r\n        });\r\n        \r\n        return newSlots;\r\n      });\r\n    }\r\n\r\n\r\n    if (level2Assignments.length > 0) {\r\n      setFilterSlotsLevel2(prev => {\r\n        const newSlots = prev.map(slot => ({ ...slot, enabled: false, tableId: null, columnName: null }));\r\n        \r\n        level2Assignments.forEach(assignment => {\r\n          const slotIndex = newSlots.findIndex(slot => slot.type === assignment.type);\r\n          if (slotIndex !== -1) {\r\n            newSlots[slotIndex] = {\r\n              ...newSlots[slotIndex],\r\n              enabled: true,\r\n              tableId: assignment.tableId,\r\n              columnName: assignment.columnName\r\n            };\r\n          }\r\n        });\r\n        \r\n        return newSlots;\r\n      });\r\n    }\r\n\r\n   \r\n    if (allListTypes.size > 0) {\r\n      setSelectedListTypes(Array.from(allListTypes));\r\n    } else {\r\n      setSelectedListTypes([1]); \r\n    }\r\n  }, [inputValues.tables]);\r\n\r\n  const getColumnsForTableId = (tableId) => {\r\n    if (!tableId) return [];\r\n    const inSelected = inputValues.tables.find(t => String(t.Table_Id) === String(tableId));\r\n    if (inSelected && Array.isArray(inSelected.columns) && inSelected.columns.length) return inSelected.columns;\r\n\r\n    const meta = reportTables.find(t => String(t.Table_Id) === String(tableId));\r\n    if (meta && Array.isArray(meta.Columns)) return meta.Columns.map(c => ({\r\n      Column_Name: c.Column_Name,\r\n      Column_Data_Type: c.Column_Data_Type ?? c?.Column_Data_Type ?? 'string',\r\n      IS_Default: c.IS_Default ?? c?.IS_Default ?? 0,\r\n      IS_Join_Key: c.IS_Join_Key ?? c?.IS_Join_Key ?? 0\r\n    }));\r\n    return [];\r\n  };\r\n\r\n  const isColumnUsedInOtherSlot = (tableId, columnName, currentSlotIdx, level, currentType) => {\r\n \r\n    const currentLevelSlots = level === 'level1' ? filterSlotsLevel1 : filterSlotsLevel2;\r\n    \r\n    const usedInSameLevel = currentLevelSlots.some((s, idx) => {\r\n      if (!s.enabled) return false;\r\n      if (idx === currentSlotIdx) return false;\r\n      return String(s.tableId) === String(tableId) && String(s.columnName) === String(columnName);\r\n    });\r\n\r\n \r\n    const otherLevelSlots = level === 'level1' ? filterSlotsLevel2 : filterSlotsLevel1;\r\n    const usedInOtherLevel = otherLevelSlots.some(s => {\r\n      if (!s.enabled) return false;\r\n      return String(s.tableId) === String(tableId) && String(s.columnName) === String(columnName);\r\n    });\r\n\r\n    return usedInSameLevel || usedInOtherLevel;\r\n  };\r\n\r\n  const handleFilterToggle = (idx, level) => {\r\n    if (level === 'level1') {\r\n      setFilterSlotsLevel1(prev => {\r\n        const arr = [...prev];\r\n        const newEnabledState = !arr[idx].enabled;\r\n        \r\n        arr[idx] = { \r\n          ...arr[idx], \r\n          enabled: newEnabledState,\r\n          tableId: newEnabledState ? arr[idx].tableId : null, \r\n          columnName: newEnabledState ? arr[idx].columnName : null \r\n        };\r\n        \r\n        return arr;\r\n      });\r\n    } else {\r\n      setFilterSlotsLevel2(prev => {\r\n        const arr = [...prev];\r\n        const newEnabledState = !arr[idx].enabled;\r\n        \r\n        arr[idx] = { \r\n          ...arr[idx], \r\n          enabled: newEnabledState,\r\n          tableId: newEnabledState ? arr[idx].tableId : null, \r\n          columnName: newEnabledState ? arr[idx].columnName : null \r\n        };\r\n        \r\n        return arr;\r\n      });\r\n    }\r\n  };\r\n\r\n  const tablesSelectedCountLevel1 = filterSlotsLevel1.reduce((acc, s) => acc + (s.enabled && s.tableId ? 1 : 0), 0);\r\n  const columnsSelectedCountLevel1 = filterSlotsLevel1.reduce((acc, s) => acc + (s.enabled && s.columnName ? 1 : 0), 0);\r\n  \r\n  const tablesSelectedCountLevel2 = filterSlotsLevel2.reduce((acc, s) => acc + (s.enabled && s.tableId ? 1 : 0), 0);\r\n  const columnsSelectedCountLevel2 = filterSlotsLevel2.reduce((acc, s) => acc + (s.enabled && s.columnName ? 1 : 0), 0);\r\n\r\n  const totalTablesSelected = tablesSelectedCountLevel1 + tablesSelectedCountLevel2;\r\n  const totalColumnsSelected = columnsSelectedCountLevel1 + columnsSelectedCountLevel2;\r\n\r\n  const buildDetails = () => {\r\n    const details = [];\r\n\r\n   \r\n    filterSlotsLevel1.forEach(slot => {\r\n      if (!slot.enabled) return;\r\n      if (!slot.tableId || !slot.columnName) return;\r\n\r\n      const listTypeToSave = selectedListTypes.length === 0 ? \"1\" : selectedListTypes.join(',');\r\n\r\n      details.push({\r\n        Type: Number(slot.type),\r\n        Table_Id: Number(slot.tableId),\r\n        Column_Name: slot.columnName,\r\n        List_Type: listTypeToSave,\r\n          Level: 1 // Add Level for Level 1 filters\r\n      });\r\n    });\r\n\r\n  \r\n    filterSlotsLevel2.forEach(slot => {\r\n      if (!slot.enabled) return;\r\n      if (!slot.tableId || !slot.columnName) return;\r\n\r\n      const listTypeToSave = selectedListTypes.length === 0 ? \"1\" : selectedListTypes.join(',');\r\n\r\n      details.push({\r\n        Type: Number(slot.type),\r\n        Table_Id: Number(slot.tableId),\r\n        Column_Name: slot.columnName,\r\n        List_Type: listTypeToSave,\r\n        Level: 2 // Add Level for Level 2 filters\r\n        \r\n      });\r\n    });\r\n\r\n    return details;\r\n  };\r\n\r\n  const saveTemplate = async () => {\r\n    const details = buildDetails();\r\n\r\n    if (!details.length) {\r\n      toast.error(\"Assign at least one filter slot (table + column) before saving\");\r\n      return;\r\n    }\r\n    if (!inputValues.reportName || String(inputValues.reportName).trim() === '') {\r\n      toast.error(\"Report name is required\");\r\n      return;\r\n    }\r\n\r\n    const payload = {\r\n      Report_Type_Id: inputValues?.Report_Type_Id || null,\r\n      reportName: inputValues.reportName,\r\n      createdBy: inputValues.createdBy,\r\n      updatedBy: storage?.UserId,\r\n      details\r\n    };\r\n\r\n    try {\r\n      const res = await fetchLink({\r\n        address: `reports/templateMobile`,\r\n        method: inputValues?.Report_Type_Id ? 'PUT' : 'POST',\r\n        bodyData: payload\r\n      });\r\n      if (res?.success) {\r\n        toast.success(res.message);\r\n        setInputValues(initialValue);\r\n        setFilterSlotsLevel1([\r\n          { slot: 1, enabled: false, tableId: null, columnName: null, type: 1 },\r\n          { slot: 2, enabled: false, tableId: null, columnName: null, type: 2 },\r\n          { slot: 3, enabled: false, tableId: null, columnName: null, type: 3 }\r\n        ]);\r\n        setFilterSlotsLevel2([\r\n          { slot: 1, enabled: false, tableId: null, columnName: null, type: 4 },\r\n          { slot: 2, enabled: false, tableId: null, columnName: null, type: 5 },\r\n          { slot: 3, enabled: false, tableId: null, columnName: null, type: 6 }\r\n        ]);\r\n        setSelectedListTypes([]);\r\n        nav(-1);\r\n      } else {\r\n        toast.error(res?.message || 'Failed to save');\r\n      }\r\n    } catch (e) {\r\n      console.error(e);\r\n      toast.error('Error saving template');\r\n    }\r\n  };\r\n\r\n  const canPreview = \r\n    filterSlotsLevel1.some(s => s.enabled && s.tableId && s.columnName) ||\r\n    filterSlotsLevel2.some(s => s.enabled && s.tableId && s.columnName);\r\n\r\n  if (!isEqualNumber(contextObj?.Add_Rights, 1)) return null;\r\n\r\n  const renderFilterSection = (title, filterSlots, level) => (\r\n    <Box className=\"mt-3 p-3 border rounded\" sx={{ background: '#FBFCFD' }}>\r\n      <Typography variant=\"subtitle1\" fontWeight={700} gutterBottom>{title}</Typography>\r\n      \r\n      <Grid container spacing={3}>\r\n        {filterSlots.map((slot, idx) => {\r\n          const label = `Filter ${slot.slot}`;\r\n          return (\r\n            <Grid item xs={4} key={slot.type}>\r\n     \r\n              <Box sx={{ \r\n                display: 'flex', \r\n                alignItems: 'center', \r\n                p: 1.5, \r\n                mb: 1,\r\n                borderRadius: 1, \r\n                background: '#fff', \r\n                border: '1px solid #e0e0e0',\r\n                minHeight: '60px'\r\n              }}>\r\n                <label style={{ display: 'flex', alignItems: 'center', gap: 10, width: '100%' }}>\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={slot.enabled}\r\n                    onChange={() => handleFilterToggle(idx, level)}\r\n                    style={{ width: '18px', height: '18px' }}\r\n                  />\r\n                  <Typography variant=\"subtitle1\" fontWeight={600}>{label}</Typography>\r\n                </label>\r\n              </Box>\r\n              \r\n              {slot.enabled ? (\r\n                <Box sx={{ display: 'flex', flexDirection: 'column', gap: 1.5 }}>\r\n                 \r\n                  <Box>\r\n                    <Typography variant=\"caption\" color=\"textSecondary\" sx={{ mb: 0.5, display: 'block' }}>\r\n                      Table\r\n                    </Typography>\r\n                    <select\r\n                      className=\"cus-inpt\"\r\n                      value={slot.tableId ?? ''}\r\n                      onChange={(e) => {\r\n                        const val = e.target.value || null;\r\n                        if (level === 'level1') {\r\n                          setFilterSlotsLevel1(prev => {\r\n                            const arr = [...prev];\r\n                            arr[idx] = { ...arr[idx], tableId: val, columnName: null };\r\n                            return arr;\r\n                          });\r\n                        } else {\r\n                          setFilterSlotsLevel2(prev => {\r\n                            const arr = [...prev];\r\n                            arr[idx] = { ...arr[idx], tableId: val, columnName: null };\r\n                            return arr;\r\n                          });\r\n                        }\r\n                      }}\r\n                      style={{ width: '100%' }}\r\n                    >\r\n                      <option value=\"\">Select table</option>\r\n                      {reportTables.map((t, ti) => (\r\n                        <option key={ti} value={t.Table_Id}>{t.AliasName || t.Table_Name}</option>\r\n                      ))}\r\n                    </select>\r\n                  </Box>\r\n                  \r\n                \r\n                  <Box>\r\n                    <Typography variant=\"caption\" color=\"textSecondary\" sx={{ mb: 0.5, display: 'block' }}>\r\n                      Column\r\n                    </Typography>\r\n                    <select\r\n                      className=\"cus-inpt\"\r\n                      value={slot.columnName ?? ''}\r\n                      disabled={!slot.tableId}\r\n                      onChange={(e) => {\r\n                        const val = e.target.value || null;\r\n                        \r\n                        if (val && isColumnUsedInOtherSlot(slot.tableId, val, idx, level, slot.type)) {\r\n                          toast.error('Column already assigned to another filter slot. Choose a different column.');\r\n                          return;\r\n                        }\r\n                        \r\n                        if (level === 'level1') {\r\n                          setFilterSlotsLevel1(prev => {\r\n                            const arr = [...prev];\r\n                            arr[idx] = { ...arr[idx], columnName: val };\r\n                            return arr;\r\n                          });\r\n                        } else {\r\n                          setFilterSlotsLevel2(prev => {\r\n                            const arr = [...prev];\r\n                            arr[idx] = { ...arr[idx], columnName: val };\r\n                            return arr;\r\n                          });\r\n                        }\r\n                      }}\r\n                      style={{ width: '100%' }}\r\n                    >\r\n                      <option value=\"\">Select column</option>\r\n                      {slot.tableId && getColumnsForTableId(slot.tableId).map((c, ci) => {\r\n                        const isUsedInOtherSlot = isColumnUsedInOtherSlot(slot.tableId, c.Column_Name, idx, level, slot.type);\r\n                        const isCurrentlySelected = slot.columnName === c.Column_Name;\r\n                     \r\n                        const isSelectable = isCurrentlySelected || !isUsedInOtherSlot;\r\n                        \r\n                        return (\r\n                          <option \r\n                            key={ci} \r\n                            value={c.Column_Name} \r\n                            disabled={!isSelectable} \r\n                            style={{ \r\n                              color: !isSelectable ? '#999' : 'inherit',\r\n                              backgroundColor: !isSelectable ? '#f5f5f5' : 'inherit',\r\n                              fontStyle: !isSelectable ? 'italic' : 'normal'\r\n                            }}\r\n                          >\r\n                            {c.Column_Name} \r\n                            {c.Column_Data_Type ? ` (${c.Column_Data_Type})` : ''}\r\n                            {isUsedInOtherSlot && !isCurrentlySelected ? ' (Already used)' : ''}\r\n                          </option>\r\n                        );\r\n                      })}\r\n                    </select>\r\n                  </Box>\r\n                </Box>\r\n              ) : (\r\n                <Box sx={{ \r\n                  display: 'flex', \r\n                  alignItems: 'center', \r\n                  justifyContent: 'center', \r\n                  p: 3, \r\n                  borderRadius: 1, \r\n                  background: '#f8f9fa',\r\n                  border: '1px dashed #dee2e6',\r\n                  color: '#6c757d',\r\n                  textAlign: 'center',\r\n                  minHeight: '120px'\r\n                }}>\r\n                  <Typography variant=\"body2\">\r\n                    Enable {label} to configure\r\n                  </Typography>\r\n                </Box>\r\n              )}\r\n            </Grid>\r\n          );\r\n        })}\r\n      </Grid>\r\n    </Box>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Card>\r\n        <div className=\"p-2 border-bottom fa-16 fw-bold d-flex justify-content-between align-items-center\">\r\n          <span className=\"text-primary text-uppercase ps-3\">{inputValues?.Report_Type_Id ? 'Modify Mobile Template' : 'Mobile Template Creation'}</span>\r\n          <Button variant=\"outlined\" onClick={() => nav(-1)} startIcon={<KeyboardArrowLeft />}>Back</Button>\r\n        </div>\r\n\r\n        <CardContent>\r\n          <div>\r\n            <label className=\"w-100\">Report Name</label>\r\n            <select\r\n              className=\"cus-inpt w-auto\"\r\n              value={inputValues.reportName}\r\n              onChange={e => setInputValues({ ...inputValues, reportName: e.target.value })}\r\n            >\r\n              <option value=\"\" disabled>Select</option>\r\n              <option value=\"StockInhand\">Stock Inhand</option>\r\n              <option value=\"Sales Invoice\">Sales Invoice</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"p-2 mt-3 border rounded-3 d-inline-block\">\r\n            <table><tbody>\r\n              <tr><td className=\"border-end\">Total Filters Assigned</td><td className=\"px-2 blue-text\">{totalTablesSelected}</td></tr>\r\n              <tr><td className=\"border-end\">Total Columns Assigned</td><td className=\"px-2 blue-text\">{totalColumnsSelected}</td></tr>\r\n              <tr><td className=\"border-end\">Level 1 Filters</td><td className=\"px-2 blue-text\">{tablesSelectedCountLevel1}</td></tr>\r\n              <tr><td className=\"border-end\">Level 2 Filters</td><td className=\"px-2 blue-text\">{tablesSelectedCountLevel2}</td></tr>\r\n            </tbody></table>\r\n          </div>\r\n\r\n    \r\n          {renderFilterSection(\"Level 1 Filters\", filterSlotsLevel1, 'level1')}\r\n\r\n     \r\n          {renderFilterSection(\"Level 2 Filters\", filterSlotsLevel2, 'level2')}\r\n\r\n          <Box className=\"mt-3 d-flex align-items-center\" sx={{ gap: 2 }}>\r\n            <Typography fontWeight={700}>List Type:</Typography>\r\n            <label style={{ display: 'flex', alignItems: 'center', gap: 6 }}>\r\n              <input \r\n                type=\"checkbox\" \r\n                checked={selectedListTypes.includes(1)} \r\n                onChange={(e) => {\r\n                  if (e.target.checked) {\r\n                    setSelectedListTypes(prev => [...prev, 1]);\r\n                  } else {\r\n                    setSelectedListTypes(prev => prev.filter(x => x !== 1));\r\n                  }\r\n                }} \r\n              /> \r\n              <span>Sum</span>\r\n            </label>\r\n            <label style={{ display: 'flex', alignItems: 'center', gap: 6 }}>\r\n              <input \r\n                type=\"checkbox\" \r\n                checked={selectedListTypes.includes(2)} \r\n                onChange={(e) => {\r\n                  if (e.target.checked) {\r\n                    setSelectedListTypes(prev => [...prev, 2]);\r\n                  } else {\r\n                    setSelectedListTypes(prev => prev.filter(x => x !== 2));\r\n                  }\r\n                }} \r\n              /> \r\n              <span>Avg</span>\r\n            </label>\r\n          </Box>\r\n\r\n          <Box className=\"mt-4 d-flex justify-content-end\" sx={{ gap: 2 }}>\r\n            <Button variant=\"outlined\" onClick={() => { \r\n              setFilterSlotsLevel1([\r\n                { slot: 1, enabled: false, tableId: null, columnName: null, type: 1 },\r\n                { slot: 2, enabled: false, tableId: null, columnName: null, type: 2 },\r\n                { slot: 3, enabled: false, tableId: null, columnName: null, type: 3 },\r\n              ]); \r\n              setFilterSlotsLevel2([\r\n                { slot: 1, enabled: false, tableId: null, columnName: null, type: 4 },\r\n                { slot: 2, enabled: false, tableId: null, columnName: null, type: 5 },\r\n                { slot: 3, enabled: false, tableId: null, columnName: null, type: 6 },\r\n              ]);\r\n              setSelectedListTypes([]); \r\n            }}>\r\n              Reset All\r\n            </Button>\r\n\r\n            <Tooltip title={!canPreview ? 'Assign at least one slot to Preview' : ''}>\r\n              <span>\r\n                <Button\r\n                  variant=\"outlined\"\r\n                  startIcon={<RemoveRedEyeOutlined />}\r\n                  disabled={!canPreview}\r\n                  onClick={() => setOpenConfigPreview(true)}\r\n                >\r\n                  Preview\r\n                </Button>\r\n              </span>\r\n            </Tooltip>\r\n\r\n            <Button variant=\"contained\" startIcon={<Save />} onClick={saveTemplate}>\r\n              Submit\r\n            </Button>\r\n          </Box>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <Dialog open={openConfigPreview} onClose={() => setOpenConfigPreview(false)} fullWidth maxWidth=\"md\">\r\n        <DialogTitle>Preview - Template Configuration</DialogTitle>\r\n        <DialogContent dividers>\r\n          <Typography variant=\"subtitle1\" fontWeight={700} gutterBottom>Report: {inputValues.reportName || '—'}</Typography>\r\n\r\n          <Box sx={{ mb: 2 }}>\r\n      \r\n            {filterSlotsLevel1.filter(s => s.enabled && s.tableId && s.columnName).length === 0 &&\r\n             filterSlotsLevel2.filter(s => s.enabled && s.tableId && s.columnName).length === 0 && (\r\n              <Typography>No filter assigned yet.</Typography>\r\n            )}\r\n\r\n          \r\n            {filterSlotsLevel1.filter(s => s.enabled && s.tableId && s.columnName).length > 0 && (\r\n              <>\r\n                <Typography variant=\"subtitle2\" fontWeight={700} sx={{ mt: 2, mb: 1 }}>Level 1 Filters:</Typography>\r\n                {filterSlotsLevel1.filter(s => s.enabled && s.tableId && s.columnName).map((s, i) => {\r\n                  const tableMeta = reportTables.find(t => String(t.Table_Id) === String(s.tableId));\r\n                  const tableLabel = tableMeta ? (tableMeta.AliasName || tableMeta.Table_Name) : `Table ${s.tableId}`;\r\n                  const listType = selectedListTypes.length === 0 ? '—' : (selectedListTypes.length === 2 ? 'Sum & Avg' : (selectedListTypes[0] === 1 ? 'Sum' : 'Avg'));\r\n                  const label = `Filter ${s.slot}`;\r\n                  return (\r\n                    <Box key={s.type} sx={{ p: 1, borderRadius: 1, background: '#F7F9FB', mb: 1 }}>\r\n                      <Grid container alignItems=\"center\">\r\n                        <Grid item xs={12} md={3}><strong>{label}</strong></Grid>\r\n                        <Grid item xs={12} md={4}>{tableLabel}</Grid>\r\n                        <Grid item xs={12} md={3}>{s.columnName}</Grid>\r\n                        <Grid item xs={12} md={2} style={{ textAlign: 'right' }}>{listType}</Grid>\r\n                      </Grid>\r\n                    </Box>\r\n                  );\r\n                })}\r\n              </>\r\n            )}\r\n\r\n            {filterSlotsLevel2.filter(s => s.enabled && s.tableId && s.columnName).length > 0 && (\r\n              <>\r\n                <Typography variant=\"subtitle2\" fontWeight={700} sx={{ mt: 2, mb: 1 }}>Level 2 Filters:</Typography>\r\n                {filterSlotsLevel2.filter(s => s.enabled && s.tableId && s.columnName).map((s, i) => {\r\n                  const tableMeta = reportTables.find(t => String(t.Table_Id) === String(s.tableId));\r\n                  const tableLabel = tableMeta ? (tableMeta.AliasName || tableMeta.Table_Name) : `Table ${s.tableId}`;\r\n                  const listType = selectedListTypes.length === 0 ? '—' : (selectedListTypes.length === 2 ? 'Sum & Avg' : (selectedListTypes[0] === 1 ? 'Sum' : 'Avg'));\r\n                  const label = `Filter ${s.slot}`;\r\n                  return (\r\n                    <Box key={s.type} sx={{ p: 1, borderRadius: 1, background: '#F7F9FB', mb: 1 }}>\r\n                      <Grid container alignItems=\"center\">\r\n                        <Grid item xs={12} md={3}><strong>{label}</strong></Grid>\r\n                        <Grid item xs={12} md={4}>{tableLabel}</Grid>\r\n                        <Grid item xs={12} md={3}>{s.columnName}</Grid>\r\n                        <Grid item xs={12} md={2} style={{ textAlign: 'right' }}>{listType}</Grid>\r\n                      </Grid>\r\n                    </Box>\r\n                  );\r\n                })}\r\n              </>\r\n            )}\r\n          </Box>\r\n\r\n          <Typography variant=\"caption\" color=\"textSecondary\">\r\n            Note: Columns already used in other filter slots are disabled to prevent duplicates.\r\n          </Typography>\r\n        </DialogContent>\r\n\r\n        <DialogActions>\r\n          <Button onClick={() => setOpenConfigPreview(false)} startIcon={<ArrowBackIosNewOutlined />}>Back</Button>\r\n          <Button variant=\"contained\" onClick={() => { setOpenConfigPreview(false); saveTemplate(); }}>Submit</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ReportsTemplateMobCreation;","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getCardUtilityClass(slot) {\n  return generateUtilityClass('MuiCard', slot);\n}\nconst cardClasses = generateUtilityClasses('MuiCard', ['root']);\nexport default cardClasses;","'use client';\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"className\", \"raised\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport chainPropTypes from '@mui/utils/chainPropTypes';\nimport composeClasses from '@mui/utils/composeClasses';\nimport styled from '../styles/styled';\nimport { useDefaultProps } from '../DefaultPropsProvider';\nimport Paper from '../Paper';\nimport { getCardUtilityClass } from './cardClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  return composeClasses(slots, getCardUtilityClass, classes);\n};\nconst CardRoot = styled(Paper, {\n  name: 'MuiCard',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})(() => {\n  return {\n    overflow: 'hidden'\n  };\n});\nconst Card = /*#__PURE__*/React.forwardRef(function Card(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiCard'\n  });\n  const {\n      className,\n      raised = false\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    raised\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(CardRoot, _extends({\n    className: clsx(classes.root, className),\n    elevation: raised ? 8 : undefined,\n    ref: ref,\n    ownerState: ownerState\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Card.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * If `true`, the card will use raised styling.\n   * @default false\n   */\n  raised: chainPropTypes(PropTypes.bool, props => {\n    if (props.raised && props.variant === 'outlined') {\n      return new Error('MUI: Combining `raised={true}` with `variant=\"outlined\"` has no effect.');\n    }\n    return null;\n  }),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default Card;","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getCardContentUtilityClass(slot) {\n  return generateUtilityClass('MuiCardContent', slot);\n}\nconst cardContentClasses = generateUtilityClasses('MuiCardContent', ['root']);\nexport default cardContentClasses;","'use client';\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"className\", \"component\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport styled from '../styles/styled';\nimport { useDefaultProps } from '../DefaultPropsProvider';\nimport { getCardContentUtilityClass } from './cardContentClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  return composeClasses(slots, getCardContentUtilityClass, classes);\n};\nconst CardContentRoot = styled('div', {\n  name: 'MuiCardContent',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})(() => {\n  return {\n    padding: 16,\n    '&:last-child': {\n      paddingBottom: 24\n    }\n  };\n});\nconst CardContent = /*#__PURE__*/React.forwardRef(function CardContent(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiCardContent'\n  });\n  const {\n      className,\n      component = 'div'\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    component\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(CardContentRoot, _extends({\n    as: component,\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardContent.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default CardContent;","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z\"\n}), 'Save');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M17.77 3.77 16 2 6 12l10 10 1.77-1.77L9.54 12z\"\n}), 'ArrowBackIosNewOutlined');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 6.5c3.79 0 7.17 2.13 8.82 5.5-1.65 3.37-5.02 5.5-8.82 5.5S4.83 15.37 3.18 12C4.83 8.63 8.21 6.5 12 6.5m0-2C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5m0 5c1.38 0 2.5 1.12 2.5 2.5s-1.12 2.5-2.5 2.5-2.5-1.12-2.5-2.5 1.12-2.5 2.5-2.5m0-2c-2.48 0-4.5 2.02-4.5 4.5s2.02 4.5 4.5 4.5 4.5-2.02 4.5-4.5-2.02-4.5-4.5-4.5\"\n}), 'RemoveRedEyeOutlined');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z\"\n}), 'KeyboardArrowLeft');","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nconst boxClasses = generateUtilityClasses('MuiBox', ['root']);\nexport default boxClasses;","'use client';\n\nimport { createBox } from '@mui/system';\nimport PropTypes from 'prop-types';\nimport { unstable_ClassNameGenerator as ClassNameGenerator } from '../className';\nimport { createTheme } from '../styles';\nimport THEME_ID from '../styles/identifier';\nimport boxClasses from './boxClasses';\nconst defaultTheme = createTheme();\nconst Box = createBox({\n  themeId: THEME_ID,\n  defaultTheme,\n  defaultClassName: boxClasses.root,\n  generateClassName: ClassNameGenerator.generate\n});\nprocess.env.NODE_ENV !== \"production\" ? Box.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * @ignore\n   */\n  children: PropTypes.node,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default Box;","'use client';\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"className\", \"component\"];\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport styled from '@mui/styled-engine';\nimport styleFunctionSx, { extendSxProp } from './styleFunctionSx';\nimport useTheme from './useTheme';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default function createBox(options = {}) {\n  const {\n    themeId,\n    defaultTheme,\n    defaultClassName = 'MuiBox-root',\n    generateClassName\n  } = options;\n  const BoxRoot = styled('div', {\n    shouldForwardProp: prop => prop !== 'theme' && prop !== 'sx' && prop !== 'as'\n  })(styleFunctionSx);\n  const Box = /*#__PURE__*/React.forwardRef(function Box(inProps, ref) {\n    const theme = useTheme(defaultTheme);\n    const _extendSxProp = extendSxProp(inProps),\n      {\n        className,\n        component = 'div'\n      } = _extendSxProp,\n      other = _objectWithoutPropertiesLoose(_extendSxProp, _excluded);\n    return /*#__PURE__*/_jsx(BoxRoot, _extends({\n      as: component,\n      ref: ref,\n      className: clsx(className, generateClassName ? generateClassName(defaultClassName) : defaultClassName),\n      theme: themeId ? theme[themeId] || theme : theme\n    }, other));\n  });\n  return Box;\n}"],"names":["ReportsTemplateMobCreation","storage","JSON","parse","localStorage","getItem","nav","useNavigate","contextObj","useContext","MyContext","locationState","useLocation","state","initialValue","Report_Type_Id","reportName","tables","tableJoins","currentTab","createdBy","UserId","inputValues","setInputValues","useState","reportTables","setReportTables","filterSlotsLevel1","setFilterSlotsLevel1","slot","enabled","tableId","columnName","type","filterSlotsLevel2","setFilterSlotsLevel2","selectedListTypes","setSelectedListTypes","openConfigPreview","setOpenConfigPreview","useEffect","stateValue","ReportState","isValidObject","prev","_stateValue$Report_Ty","_stateValue$reportNam","_stateValue$createdBy","_objectSpread","fetchLink","address","then","data","success","catch","e","console","error","length","assignments","allListTypes","Set","forEach","table","_table$columns","columns","column","Type","Array","isArray","push","Number","Table_Id","Column_Name","listType","List_Type","level","Level","String","split","map","lt","trim","filter","isNaN","add","level1Assignments","a","level2Assignments","newSlots","assignment","slotIndex","findIndex","size","from","getColumnsForTableId","inSelected","find","t","meta","Columns","c","_ref","_c$Column_Data_Type","_ref2","_c$IS_Default","_ref3","_c$IS_Join_Key","Column_Data_Type","IS_Default","IS_Join_Key","isColumnUsedInOtherSlot","currentSlotIdx","currentType","usedInSameLevel","some","s","idx","usedInOtherLevel","tablesSelectedCountLevel1","reduce","acc","columnsSelectedCountLevel1","tablesSelectedCountLevel2","totalTablesSelected","totalColumnsSelected","saveTemplate","async","details","buildDetails","listTypeToSave","join","toast","payload","updatedBy","res","method","bodyData","message","canPreview","isEqualNumber","Add_Rights","renderFilterSection","title","filterSlots","_jsxs","Box","className","sx","background","children","_jsx","Typography","variant","fontWeight","gutterBottom","Grid","container","spacing","_slot$tableId","_slot$columnName","label","concat","item","xs","display","alignItems","p","mb","borderRadius","border","minHeight","style","gap","width","checked","onChange","handleFilterToggle","arr","newEnabledState","height","flexDirection","color","value","val","target","ti","AliasName","Table_Name","disabled","ci","isUsedInOtherSlot","isCurrentlySelected","isSelectable","backgroundColor","fontStyle","justifyContent","textAlign","_Fragment","Card","Button","onClick","startIcon","KeyboardArrowLeft","CardContent","includes","x","Tooltip","RemoveRedEyeOutlined","Save","Dialog","open","onClose","fullWidth","maxWidth","DialogTitle","DialogContent","dividers","mt","i","tableMeta","tableLabel","md","DialogActions","ArrowBackIosNewOutlined","getCardUtilityClass","generateUtilityClass","generateUtilityClasses","_excluded","CardRoot","styled","Paper","name","overridesResolver","props","styles","root","overflow","React","inProps","ref","useDefaultProps","raised","other","_objectWithoutPropertiesLoose","ownerState","_extends","classes","composeClasses","useUtilityClasses","clsx","elevation","undefined","getCardContentUtilityClass","CardContentRoot","padding","paddingBottom","component","as","createSvgIcon","d","defaultTheme","createTheme","createBox","themeId","THEME_ID","defaultClassName","boxClasses","generateClassName","ClassNameGenerator","generate","options","arguments","BoxRoot","shouldForwardProp","prop","styleFunctionSx","theme","useTheme","_extendSxProp","extendSxProp"],"sourceRoot":""}