{"version":3,"file":"static/js/2620.6fd39b1e.chunk.js","mappings":"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","sources":["Pages/Sales/SalesInvoice/manageInvolvedStaff.jsx","Pages/Sales/SalesInvoice/addProducts.jsx","Pages/Sales/SalesInvoice/salesInvoiceCreation.jsx","../node_modules/@mui/icons-material/esm/Print.js","../node_modules/@mui/icons-material/esm/ReceiptLong.js","Pages/Sales/LRReport/SalesInvPrint/invTemplate.jsx"],"sourcesContent":["import { Button, IconButton } from \"@mui/material\";\r\nimport { useState } from \"react\";\r\nimport { salesInvoiceStaffInfo } from \"./variable\";\r\nimport { checkIsNumber, isEqualNumber, reactSelectFilterLogic, toArray } from \"../../../Components/functions\";\r\nimport { customSelectStyles } from \"../../../Components/tablecolumn\";\r\nimport { Delete } from \"@mui/icons-material\";\r\nimport Select from \"react-select\";\r\n\r\nconst InvolvedStaffs = ({ StaffArray = [], setStaffArray, costCenter = [], costCategory = [], }) => {\r\n\r\n    return (\r\n        <>\r\n\r\n            <div className=\"d-flex align-items-center flex-wrap mb-2 border-bottom pb-2\">\r\n                <h6 className=\"flex-grow-1 m-0\">Staff Involved</h6>\r\n                <Button\r\n                    variant=\"outlined\"\r\n                    color=\"primary\"\r\n                    type=\"button\"\r\n                    onClick={() => setStaffArray(pre => [...pre, { ...salesInvoiceStaffInfo }])}\r\n                >Add</Button>\r\n            </div>\r\n\r\n            <table className=\"table table-bordered\">\r\n\r\n                <thead>\r\n                    <tr>\r\n                        <th className=\"fa-13\">Sno</th>\r\n                        <th className=\"fa-13\">Staff Name</th>\r\n                        <th className=\"fa-13\">Category</th>\r\n                        <th className=\"fa-13\">#</th>\r\n                    </tr>\r\n                </thead>\r\n\r\n                <tbody>\r\n                    {toArray(StaffArray).map((row, index) => (\r\n                        <tr key={index}>\r\n                            <td className='fa-13 vctr text-center'>{index + 1}</td>\r\n                            <td className='fa-13 w-100 p-0'>\r\n                                <Select\r\n                                    value={{\r\n                                        value: row?.Emp_Id,\r\n                                        label: row?.Emp_Name,\r\n                                    }}\r\n                                    onChange={e => setStaffArray(prev => {\r\n                                        return prev.map((staffRow, ind) => {\r\n                                            if (isEqualNumber(ind, index)) {\r\n                                                const staff = toArray(costCenter).find(c => isEqualNumber(c?.Cost_Center_Id, e.value))\r\n                                                return {\r\n                                                    ...staffRow,\r\n                                                    Emp_Type_Id:\r\n                                                        checkIsNumber(staffRow?.Emp_Type_Id)\r\n                                                            ? Number(staffRow?.Emp_Type_Id)\r\n                                                            : checkIsNumber(staff.User_Type)\r\n                                                                ? Number(staff.User_Type)\r\n                                                                : 0,\r\n                                                    Emp_Id: Number(e.value),\r\n                                                    Emp_Name: e.label\r\n                                                }\r\n                                            }\r\n                                            return staffRow;\r\n                                        });\r\n                                    })}\r\n                                    options={\r\n                                        [...toArray(costCenter).filter(fil => (\r\n                                            !StaffArray.some(st => (\r\n                                                isEqualNumber(st.Emp_Id, fil.Cost_Center_Id)\r\n                                            ))\r\n                                        ))].map(st => ({\r\n                                            value: st.Cost_Center_Id,\r\n                                            label: st.Cost_Center_Name\r\n                                        }))\r\n                                    }\r\n                                    styles={customSelectStyles}\r\n                                    isSearchable={true}\r\n                                    placeholder={\"Select Staff\"}\r\n                                    filterOption={reactSelectFilterLogic}\r\n                                />\r\n                            </td>\r\n                            <td className='fa-13 vctr p-0' style={{ maxWidth: '130px', minWidth: '100px' }}>\r\n                                <select\r\n                                    value={row?.Emp_Type_Id}\r\n                                    onChange={e => setStaffArray((prev) => {\r\n                                        return prev.map((staffRow, ind) => {\r\n                                            if (isEqualNumber(ind, index)) {\r\n                                                return {\r\n                                                    ...staffRow,\r\n                                                    Emp_Type_Id: e.target.value\r\n                                                }\r\n                                            }\r\n                                            return staffRow;\r\n                                        });\r\n                                    })}\r\n                                    className=\"cus-inpt p-2 border-0\"\r\n                                >\r\n                                    <option value=\"\">Select</option>\r\n                                    {toArray(costCategory).map((st, sti) =>\r\n                                        <option value={st?.Cost_Category_Id} key={sti}>{st?.Cost_Category}</option>\r\n                                    )}\r\n                                </select>\r\n                            </td>\r\n                            <td className='fa-13 vctr p-0'>\r\n                                <IconButton\r\n                                    onClick={() => {\r\n                                        setStaffArray(prev => {\r\n                                            return prev.filter((_, filIndex) => index !== filIndex);\r\n                                        });\r\n                                    }}\r\n                                    size='small'\r\n                                >\r\n                                    <Delete color='error' />\r\n                                </IconButton>\r\n                            </td>\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n\r\n            </table>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default InvolvedStaffs;","import { useEffect, useState } from \"react\";\r\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle } from \"@mui/material\";\r\nimport { checkIsNumber, Division, isEqualNumber, isValidObject, Multiplication, onlynum, reactSelectFilterLogic, toArray, toNumber } from \"../../../Components/functions\";\r\nimport { ClearAll } from \"@mui/icons-material\";\r\nimport RequiredStar from \"../../../Components/requiredStar\";\r\nimport { calculateGSTDetails } from \"../../../Components/taxCalculator\";\r\nimport Select from \"react-select\";\r\nimport { customSelectStyles } from \"../../../Components/tablecolumn\";\r\nimport { toast } from \"react-toastify\";\r\nimport { fetchLink } from \"../../../Components/fetchComponent\";\r\n\r\nconst validStockValue = (Item_Id, Godown_Id, stockInGodown) => {\r\n    const godownStockValue = toArray(stockInGodown).find(\r\n        godownItem => (\r\n            isEqualNumber(godownItem?.Product_Id, Item_Id) &&\r\n            isEqualNumber(godownItem?.Godown_Id, Godown_Id)\r\n        )\r\n    )?.Act_Bal_Qty;\r\n\r\n    return toNumber(godownStockValue);\r\n};\r\n\r\nconst AddProductForm = ({\r\n    children,\r\n    orderProducts = [],\r\n    setOrderProducts,\r\n    open = false,\r\n    onClose,\r\n    products = [],\r\n    brands = [],\r\n    uom = [],\r\n    godowns = [],\r\n    GST_Inclusive,\r\n    IS_IGST,\r\n    editValues = null,\r\n    initialValue = {},\r\n    batchDetails = []\r\n}) => {\r\n\r\n    const [productDetails, setProductDetails] = useState(initialValue);\r\n\r\n    const isInclusive = isEqualNumber(GST_Inclusive, 1);\r\n    const isNotTaxableBill = isEqualNumber(GST_Inclusive, 2);\r\n\r\n    const [stockInGodowns, setStockInGodowns] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (isValidObject(editValues) && open) {\r\n            setProductDetails(pre => (\r\n                Object.fromEntries(\r\n                    Object.entries(pre).map(([key, value]) => [key, editValues[key] ? editValues[key] : value])\r\n                )\r\n            ))\r\n        }\r\n    }, [editValues])\r\n\r\n    const findProductDetails = (productid) => products?.find(obj => isEqualNumber(obj?.Product_Id, productid)) ?? {};\r\n\r\n    const closeDialog = () => {\r\n        setProductDetails(initialValue);\r\n        onClose();\r\n    }\r\n\r\n    const handleProductInputChange = () => {\r\n\r\n        setOrderProducts(pre => {\r\n            const existingProducts = pre.filter(ordered => !isEqualNumber(ordered.Item_Id, productDetails.Item_Id));\r\n\r\n            const currentProductDetails = Object.fromEntries(\r\n                Object.entries(initialValue).map(([key, value]) => {\r\n                    const productMaster = findProductDetails(productDetails.Item_Id);\r\n                    const gstPercentage = IS_IGST ? productMaster.Igst_P : productMaster.Gst_P;\r\n                    const isTaxable = gstPercentage > 0;\r\n\r\n                    const { Bill_Qty, Item_Rate, Amount } = productDetails;\r\n\r\n                    const taxType = isNotTaxableBill ? 'zerotax' : isInclusive ? 'remove' : 'add';\r\n                    const itemRateGst = calculateGSTDetails(Item_Rate, gstPercentage, taxType);\r\n                    const gstInfo = calculateGSTDetails(Amount, gstPercentage, taxType);\r\n\r\n                    const cgstPer = !IS_IGST ? gstInfo.cgst_per : 0;\r\n                    const igstPer = IS_IGST ? gstInfo.igst_per : 0;\r\n                    const Cgst_Amo = !IS_IGST ? gstInfo.cgst_amount : 0;\r\n                    const Igst_Amo = IS_IGST ? gstInfo.igst_amount : 0;\r\n\r\n                    switch (key) {\r\n                        case 'Item_Name': return [key, productMaster.Product_Name]\r\n                        case 'Taxable_Rate': return [key, itemRateGst.base_amount]\r\n                        case 'Total_Qty': return [key, Bill_Qty]\r\n                        case 'Taxble': return [key, isTaxable ? 1 : 0]\r\n                        case 'Taxable_Amount': return [key, gstInfo.base_amount]\r\n                        case 'Tax_Rate': return [key, gstPercentage]\r\n                        case 'Cgst':\r\n                        case 'Sgst': return [key, cgstPer ?? 0]\r\n                        case 'Cgst_Amo':\r\n                        case 'Sgst_Amo': return [key, isNotTaxableBill ? 0 : Cgst_Amo]\r\n                        case 'Igst': return [key, igstPer ?? 0]\r\n                        case 'Igst_Amo': return [key, isNotTaxableBill ? 0 : Igst_Amo]\r\n                        case 'Final_Amo': return [key, gstInfo.with_tax]\r\n\r\n                        default: return [key, productDetails[key] || value]\r\n                    }\r\n                })\r\n            );\r\n\r\n            return [...existingProducts, currentProductDetails];\r\n        });\r\n\r\n        closeDialog();\r\n    };\r\n\r\n    useEffect(() => {\r\n        setStockInGodowns([]);\r\n        if (checkIsNumber(productDetails.Item_Id) && !isEqualNumber(productDetails.Item_Id, 0)) {\r\n            fetchLink({ address: `sales/stockInGodown?Item_Id=${productDetails.Item_Id}` })\r\n                .then(data => {\r\n                    const stockInGodowns = (data.success ? data.data : []).sort(\r\n                        (a, b) => String(a?.stock_item_name).localeCompare(b?.stock_item_name)\r\n                    );\r\n                    setStockInGodowns(stockInGodowns);\r\n                })\r\n        }\r\n    }, [productDetails.Item_Id])\r\n\r\n    return (\r\n        <>\r\n            {children}\r\n\r\n            <Dialog\r\n                open={open}\r\n                onClose={closeDialog}\r\n                maxWidth='md' fullWidth\r\n            >\r\n                <DialogTitle className=\"border-bottom\">\r\n                    <span>Add Products Details</span>\r\n                </DialogTitle>\r\n                <form onSubmit={e => {\r\n                    e.preventDefault();\r\n                    if (productDetails.Item_Id) {\r\n                        handleProductInputChange();\r\n                    } else {\r\n                        toast.warn('Select Product');\r\n                    }\r\n                }}>\r\n                    <DialogContent>\r\n                        <div className=\"row pb-5\">\r\n\r\n                            {/* brand */}\r\n                            <div className=\"col-6 p-2\">\r\n                                <label>Brand</label>\r\n                                <Select\r\n                                    value={{ value: productDetails.BrandID, label: productDetails.Brand }}\r\n                                    onChange={(e) => setProductDetails(pre => ({ ...pre, BrandID: e.value, Brand: e.label }))}\r\n                                    options={[\r\n                                        { value: '', label: 'select', isDisabled: true },\r\n                                        ...brands.map(obj => ({ value: obj?.Brand, label: obj?.Brand_Name }))\r\n                                    ]}\r\n                                    styles={customSelectStyles}\r\n                                    menuPortalTarget={document.body}\r\n                                    isSearchable={true}\r\n                                    placeholder={\"Select Brand\"}\r\n                                    maxMenuHeight={200}\r\n                                    filterOption={reactSelectFilterLogic}\r\n                                />\r\n                            </div>\r\n\r\n                            {/* group */}\r\n                            <div className=\"col-6 p-2\">\r\n                                <label>Group</label>\r\n                                <Select\r\n                                    value={{ value: productDetails.GroupID, label: productDetails.Group }}\r\n                                    onChange={(e) =>\r\n                                        setProductDetails((pre) => ({ ...pre, GroupID: e.value, Group: e.label }))\r\n                                    }\r\n                                    options={[\r\n                                        { value: '', label: 'select', isDisabled: true },\r\n                                        ...products\r\n                                            .filter(\r\n                                                (pro) =>\r\n                                                    productDetails.BrandID\r\n                                                        ? isEqualNumber(pro.Brand, productDetails.BrandID)\r\n                                                        : true\r\n                                            )\r\n                                            .reduce((acc, pro) => {\r\n                                                if (\r\n                                                    !acc.some((grp) => grp.value === pro.Product_Group)\r\n                                                ) {\r\n                                                    acc.push({\r\n                                                        value: pro.Product_Group,\r\n                                                        label: pro.Pro_Group,\r\n                                                    });\r\n                                                }\r\n                                                return acc;\r\n                                            }, []),\r\n                                    ]}\r\n                                    styles={customSelectStyles}\r\n                                    menuPortalTarget={document.body}\r\n                                    isSearchable={true}\r\n                                    placeholder={\"Select Group\"}\r\n                                    maxMenuHeight={200}\r\n                                    filterOption={reactSelectFilterLogic}\r\n                                />\r\n                            </div>\r\n\r\n                            {/* item name */}\r\n                            <div className={\r\n                                Object.hasOwn(productDetails, 'GoDown_Id') ? 'col-md-8 p-2' : \"col-12 p-2\"\r\n                            }>\r\n                                <label>Item Name <RequiredStar /></label>\r\n                                <Select\r\n                                    value={{\r\n                                        value: productDetails.Item_Id,\r\n                                        label: (\r\n                                            findProductDetails(productDetails.Item_Id)?.Product_Name\r\n                                        )\r\n                                    }}\r\n                                    isDisabled={checkIsNumber(productDetails.Pre_Id)}\r\n                                    menuPortalTarget={document.body}\r\n                                    onChange={e => {\r\n                                        const productInfo = findProductDetails(e.value);\r\n                                        setProductDetails(pre => ({\r\n                                            ...pre,\r\n\r\n                                            Group: productInfo.Pro_Group ?? pre.Group,\r\n                                            GroupID: productInfo.Product_Group ?? pre.GroupID,\r\n                                            Brand: productInfo.Brand_Name ?? pre.Brand,\r\n                                            BrandID: productInfo.Brand ?? pre.BrandID,\r\n\r\n                                            Item_Id: e.value,\r\n                                            Item_Rate: productInfo.Item_Rate ?? 0,\r\n                                            GoDown_Id: '',\r\n                                            Bill_Qty: 0,\r\n                                            Amount: 0,\r\n                                            Unit_Id: productInfo.UOM_Id ?? pre.Unit_Id,\r\n                                            Unit_Name: productInfo.Units ?? pre.Unit_Name,\r\n                                            HSN_Code: productInfo?.HSN_Code\r\n                                        }));\r\n                                    }}\r\n                                    options={[\r\n                                        { value: '', label: 'select', isDisabled: true },\r\n                                        ...[\r\n                                            ...products\r\n                                                .filter(pro => productDetails.BrandID ? isEqualNumber(pro.Brand, productDetails.BrandID) : true)\r\n                                                .filter(pro => productDetails.GroupID ? isEqualNumber(pro.Product_Group, productDetails.GroupID) : true)\r\n                                        ].map(obj => ({\r\n                                            value: obj?.Product_Id,\r\n                                            label: obj?.Product_Name,\r\n                                            isDisabled: (\r\n                                                orderProducts.findIndex(ind => isEqualNumber(\r\n                                                    ind?.Item_Id, obj?.Product_Id\r\n                                                ))\r\n                                            ) === -1 ? false : true\r\n                                        }))\r\n                                    ]}\r\n                                    styles={customSelectStyles}\r\n                                    isSearchable={true}\r\n                                    required\r\n                                    placeholder={\"Select Product\"}\r\n                                    maxMenuHeight={200}\r\n                                    filterOption={reactSelectFilterLogic}\r\n                                />\r\n                            </div>\r\n\r\n                            {/* godown  */}\r\n                            {Object.hasOwn(productDetails, 'GoDown_Id') && (\r\n                                <div className=\"col-md-4 p-2\">\r\n                                    <label>Godown</label>\r\n                                    <Select\r\n                                        value={{\r\n                                            value: productDetails?.GoDown_Id,\r\n                                            label: godowns.find(g => isEqualNumber(g.Godown_Id, productDetails?.GoDown_Id))?.Godown_Name || ''\r\n                                        }}\r\n                                        onChange={(e) => setProductDetails(pre => ({ ...pre, GoDown_Id: e.value }))}\r\n                                        options={[\r\n                                            { value: '', label: 'select', isDisabled: true },\r\n                                            ...toArray(godowns).map(obj => ({\r\n                                                value: obj?.Godown_Id,\r\n                                                label: `${obj?.Godown_Name}${checkIsNumber(obj?.Godown_Id)\r\n                                                        ? ` (Bal: ${validStockValue(\r\n                                                            productDetails.Item_Id,\r\n                                                            obj?.Godown_Id,\r\n                                                            stockInGodowns\r\n                                                        )})`\r\n                                                        : ''\r\n                                                    }`\r\n\r\n                                            }))\r\n                                        ]}\r\n                                        styles={customSelectStyles}\r\n                                        isDisabled={!checkIsNumber(productDetails?.Item_Id)}\r\n                                        menuPortalTarget={document.body}\r\n                                        isSearchable={true}\r\n                                        placeholder={\"Select Godown\"}\r\n                                        filterOption={reactSelectFilterLogic}\r\n                                    // maxMenuHeight={200}  \r\n                                    />\r\n                                </div>\r\n                            )}\r\n\r\n                            {/* quantity */}\r\n                            <div className=\"col-lg-4 col-md-6 p-2\">\r\n                                <label>Quantity <RequiredStar /></label>\r\n                                <input\r\n                                    required\r\n                                    value={productDetails.Bill_Qty ? productDetails.Bill_Qty : ''}\r\n                                    onInput={onlynum}\r\n                                    disabled={!checkIsNumber(productDetails.Item_Id)}\r\n                                    onChange={e => {\r\n                                        if (productDetails.Item_Rate) {\r\n                                            setProductDetails(pre => ({\r\n                                                ...pre,\r\n                                                Amount: Multiplication(productDetails.Item_Rate, e.target.value),\r\n                                                Bill_Qty: e.target.value,\r\n                                            }))\r\n                                        } else if (productDetails.Amount) {\r\n                                            setProductDetails(pre => ({\r\n                                                ...pre,\r\n                                                Item_Rate: Division(pre.Amount, e.target.value),\r\n                                                Bill_Qty: e.target.value,\r\n                                            }))\r\n                                        } else {\r\n                                            setProductDetails(pre => ({\r\n                                                ...pre,\r\n                                                Bill_Qty: e.target.value,\r\n                                            }));\r\n                                        }\r\n                                    }}\r\n                                    className=\"cus-inpt\"\r\n                                    min={1}\r\n                                />\r\n                            </div>\r\n\r\n                            {Object.hasOwn(productDetails, 'Act_Qty') && (\r\n                                <div className=\"col-lg-4 col-md-6 p-2\">\r\n                                    <label>Actual Quantity </label>\r\n                                    <input\r\n                                        value={productDetails.Act_Qty ? productDetails.Act_Qty : ''}\r\n                                        onInput={onlynum}\r\n                                        disabled={!checkIsNumber(productDetails.Item_Id)}\r\n                                        onChange={e => setProductDetails(pre => ({\r\n                                            ...pre,\r\n                                            Act_Qty: e.target.value,\r\n                                        }))}\r\n                                        required\r\n                                        className=\"cus-inpt\"\r\n                                    />\r\n                                </div>\r\n                            )}\r\n\r\n                            {/* Rate */}\r\n                            <div className=\"col-lg-4 col-md-6 p-2\">\r\n                                <label>Rate </label>\r\n                                <input\r\n                                    value={productDetails.Item_Rate ? productDetails.Item_Rate : ''}\r\n                                    onInput={onlynum}\r\n                                    disabled={!checkIsNumber(productDetails.Item_Id)}\r\n                                    onChange={e => setProductDetails(pre => ({\r\n                                        ...pre,\r\n                                        Item_Rate: e.target.value,\r\n                                        Amount: pre.Bill_Qty ? Multiplication(e.target.value, pre.Bill_Qty) : pre.Amount\r\n                                    }))}\r\n                                    required\r\n                                    className=\"cus-inpt\"\r\n                                />\r\n                            </div>\r\n\r\n                            {/* UOM */}\r\n                            <div className=\"col-lg-4 col-md-6 p-2\">\r\n                                <label>UOM</label>\r\n                                <select\r\n                                    value={\r\n                                        Object.hasOwn(productDetails, 'UOM') ? productDetails.UOM :\r\n                                            Object.hasOwn(productDetails, 'Unit_Id') ? productDetails.Unit_Id : ''\r\n                                    }\r\n                                    onChange={e => {\r\n                                        const selectedIndex = e.target.selectedIndex;\r\n                                        const label = e.target.options[selectedIndex].text;\r\n                                        const value = e.target.value;\r\n                                        setProductDetails(pre => ({\r\n                                            ...pre,\r\n                                            UOM: value,\r\n                                            Unit_Id: value,\r\n                                            Units: label,\r\n                                            Unit_Name: label,\r\n                                        }));\r\n                                    }}\r\n                                    className=\"cus-inpt\"\r\n                                    disabled={!checkIsNumber(productDetails.Item_Id)}\r\n                                >\r\n                                    <option value=\"\" disabled>select</option>\r\n                                    {uom.map((o, i) => (\r\n                                        <option value={o.Unit_Id} key={i} >{o.Units}</option>\r\n                                    ))}\r\n                                </select>\r\n                            </div>\r\n\r\n                            {/* Amount */}\r\n                            <div className=\"col-lg-4 col-md-6 p-2\">\r\n                                <label>Amount</label>\r\n                                <input\r\n                                    required\r\n                                    value={productDetails.Amount ? productDetails.Amount : ''}\r\n                                    onInput={onlynum}\r\n                                    disabled={!checkIsNumber(productDetails.Item_Id)}\r\n                                    onChange={e => setProductDetails(pre => ({\r\n                                        ...pre,\r\n                                        Amount: e.target.value,\r\n                                        Item_Rate: pre.Bill_Qty ? Division(e.target.value, pre.Bill_Qty) : pre.Item_Rate\r\n                                    }))}\r\n                                    className=\"cus-inpt\"\r\n                                    min={1}\r\n                                />\r\n                            </div>\r\n\r\n                            {/* Batch */}\r\n                            <div className=\"col-lg-4 col-md-6 p-2\">\r\n                                <label>Batch</label>\r\n                                <Select\r\n                                    value={{\r\n                                        value: productDetails?.Batch_Name || '',\r\n                                        label: productDetails?.Batch_Name || ''\r\n                                    }}\r\n                                    onChange={e => setProductDetails(pre => ({ ...pre, Batch_Name: e.value }))}\r\n                                    options={\r\n                                        batchDetails.filter(\r\n                                            bat => (\r\n                                                isEqualNumber(bat.item_id, productDetails?.Item_Id)\r\n                                                && isEqualNumber(bat?.godown_id, productDetails?.GoDown_Id)\r\n                                                && toNumber(bat.pendingQuantity) >= toNumber(productDetails?.Bill_Qty)\r\n                                            )\r\n                                        ).map(\r\n                                            bat => ({ value: bat.batch, label: bat.batch })\r\n                                        )\r\n                                    }\r\n                                    styles={customSelectStyles}\r\n                                    isSearchable={true}\r\n                                    placeholder={\"Select Batch\"}\r\n                                    menuPortalTarget={document.body}\r\n                                    isDisabled={\r\n                                        !checkIsNumber(productDetails?.Item_Id)\r\n                                        || !checkIsNumber(productDetails?.GoDown_Id)\r\n                                        || isEqualNumber(productDetails?.Bill_Qty, 0)\r\n                                    }\r\n                                />\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                    </DialogContent>\r\n                    <DialogActions className=\"d-flex justify-content-between align-items-center\">\r\n                        <Button onClick={() => setProductDetails(initialValue)} type='button' startIcon={<ClearAll />}>Clear</Button>\r\n                        <span>\r\n                            <Button type=\"button\" onClick={closeDialog}>cancel</Button>\r\n                            <Button type='submit' variant=\"outlined\">Add</Button>\r\n                        </span>\r\n                    </DialogActions>\r\n                </form>\r\n            </Dialog>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddProductForm;","import { useState, useEffect } from \"react\";\r\nimport { Button, IconButton, CardContent, Card,Dialog,DialogTitle,DialogContent,DialogActions } from \"@mui/material\";\r\nimport { toast } from 'react-toastify';\r\nimport {\r\n    isEqualNumber, isValidObject, ISOString, getUniqueData, Addition, getSessionUser,\r\n    checkIsNumber, toNumber, toArray, stringCompare\r\n} from \"../../../Components/functions\";\r\nimport { Close } from \"@mui/icons-material\";\r\nimport { Add, Delete, Edit, ReceiptLong } from \"@mui/icons-material\";\r\nimport { fetchLink } from '../../../Components/fetchComponent';\r\nimport FilterableTable, { createCol } from \"../../../Components/filterableTable2\";\r\nimport { calculateGSTDetails } from '../../../Components/taxCalculator';\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport {\r\n    salesInvoiceGeneralInfo, salesInvoiceDetailsInfo, salesInvoiceExpencesInfo,\r\n    salesInvoiceStaffInfo, retailerDeliveryAddressInfo\r\n} from './variable';\r\nimport InvolvedStaffs from \"./manageInvolvedStaff\";\r\nimport ManageSalesInvoiceGeneralInfo from \"./manageGeneralInfo\";\r\nimport SalesInvoiceTaxDetails from \"./taxDetails\";\r\nimport AddProductsInSalesInvoice from \"./importFromSaleOrder\";\r\nimport ExpencesOfSalesInvoice from \"./manageExpences\";\r\nimport AddProductForm from \"./addProducts\";\r\nimport InvoiceTemplate from \"../LRReport/SalesInvPrint/invTemplate\";\r\n\r\n\r\nconst storage = getSessionUser().user;\r\n\r\nconst findProductDetails = (arr = [], productid) => arr.find(obj => isEqualNumber(obj.Product_Id, productid)) ?? {};\r\n\r\nconst CreateSalesInvoice = ({ loadingOn, loadingOff }) => {\r\n    const navigate = useNavigate();\r\n    const location = useLocation();\r\n    const editValues = location.state;\r\n    const [baseData, setBaseData] = useState({\r\n        products: [],\r\n        branch: [],\r\n        retailers: [],\r\n        voucherType: [],\r\n        uom: [],\r\n        staff: [],\r\n        staffType: [],\r\n        brand: [],\r\n        godown: [],\r\n        expence: [],\r\n        stockInGodown: [],\r\n        stockItemLedgerName: [],\r\n        batchDetails: []\r\n    });\r\n\r\n    const [dialog, setDialog] = useState({\r\n        addProductDialog: false,\r\n        importFromSaleOrder: false,\r\n    })\r\n\r\n    const [invoiceInfo, setInvoiceInfo] = useState(salesInvoiceGeneralInfo);\r\n    const [retailerDeliveryAddress, setRetailerDeliveryAddress] = useState(retailerDeliveryAddressInfo);\r\n    const [invoiceProducts, setInvoiceProduct] = useState([]);\r\n    const [invoiceExpences, setInvoiceExpences] = useState([]);\r\n    const [staffArray, setStaffArray] = useState([]);\r\n\r\n    const [selectedProductToEdit, setSelectedProductToEdit] = useState(null);\r\n\r\n    const isInclusive = isEqualNumber(invoiceInfo.GST_Inclusive, 1);\r\n    const isNotTaxableBill = isEqualNumber(invoiceInfo.GST_Inclusive, 2);\r\n    const IS_IGST = isEqualNumber(invoiceInfo.IS_IGST, 1);\r\n    const taxType = isNotTaxableBill ? 'zerotax' : isInclusive ? 'remove' : 'add';\r\n    const minimumRows = 3;\r\n    const dummyRowCount = minimumRows - invoiceProducts.length\r\nconst [printDialog, setPrintDialog] = useState({\r\n    open: false,\r\n    Do_Id: null\r\n});\r\n    useEffect(() => {\r\n\r\n        const fetchData = async () => {\r\n            try {\r\n                if (loadingOn) loadingOn();\r\n\r\n                const [\r\n                    branchResponse,\r\n                    productsResponse,\r\n                    retailerResponse,\r\n                    voucherTypeResponse,\r\n                    uomResponse,\r\n                    staffResponse,\r\n                    staffCategory,\r\n                    godownLocationsResponse,\r\n                    expenceResponse,\r\n                    // godownWiseStock,\r\n                    stockItemLedgerNameResponse,\r\n                    batchDetailsResponse\r\n                ] = await Promise.all([\r\n                    fetchLink({ address: `masters/branch/dropDown` }),\r\n                    fetchLink({ address: `masters/products` }),\r\n                    fetchLink({ address: `masters/retailers/dropDown?Company_Id=${storage?.Company_id}` }),\r\n                    fetchLink({ address: `masters/voucher?module=SALES` }),\r\n                    fetchLink({ address: `masters/uom` }),\r\n                    fetchLink({ address: `dataEntry/costCenter` }),\r\n                    fetchLink({ address: `dataEntry/costCenter/category` }),\r\n                    fetchLink({ address: `dataEntry/godownLocationMaster` }),\r\n                    fetchLink({ address: `masters/defaultAccountMaster` }),\r\n                    // fetchLink({ address: `sales/stockInGodown` }),\r\n                    fetchLink({ address: `purchase/stockItemLedgerName?type=SALES` }),\r\n                    fetchLink({ address: `inventory/batchMaster/stockBalance` })\r\n                ]);\r\n\r\n                const branchData = (branchResponse.success ? branchResponse.data : []).sort(\r\n                    (a, b) => String(a?.BranchName).localeCompare(b?.BranchName)\r\n                );\r\n                const productsData = (productsResponse.success ? productsResponse.data : []).sort(\r\n                    (a, b) => String(a?.Product_Name).localeCompare(b?.Product_Name)\r\n                );\r\n                const retailersData = (retailerResponse.success ? retailerResponse.data : []).sort(\r\n                    (a, b) => String(a?.Retailer_Name).localeCompare(b?.Retailer_Name)\r\n                );\r\n                const voucherType = (voucherTypeResponse.success ? voucherTypeResponse.data : []).sort(\r\n                    (a, b) => String(a?.Voucher_Type).localeCompare(b?.Voucher_Type)\r\n                );\r\n                const uomData = (uomResponse.success ? uomResponse.data : []).sort(\r\n                    (a, b) => String(a.Units).localeCompare(b.Units)\r\n                );\r\n                const staffData = (staffResponse.success ? staffResponse.data : []).sort(\r\n                    (a, b) => String(a?.Cost_Center_Name).localeCompare(b?.Cost_Center_Name)\r\n                );\r\n                const staffCategoryData = (staffCategory.success ? staffCategory.data : []).sort(\r\n                    (a, b) => String(a?.Cost_Category).localeCompare(b?.Cost_Category)\r\n                );\r\n                const godownLocations = (godownLocationsResponse.success ? godownLocationsResponse.data : []).sort(\r\n                    (a, b) => String(a?.Godown_Name).localeCompare(b?.Godown_Name)\r\n                );\r\n                const expencesMaster = (expenceResponse.success ? toArray(expenceResponse.data) : []).sort(\r\n                    (a, b) => String(a?.Account_Name).localeCompare(b?.Account_Name)\r\n                );\r\n                // const stockInGodowns = (godownWiseStock.success ? godownWiseStock.data : []).sort(\r\n                //     (a, b) => String(a?.stock_item_name).localeCompare(b?.stock_item_name)\r\n                // );\r\n                const stockItemLedgerName = (stockItemLedgerNameResponse.success ? stockItemLedgerNameResponse.data : []).sort(\r\n                    (a, b) => String(a?.Stock_Item_Ledger_Name).localeCompare(b?.Stock_Item_Ledger_Name)\r\n                );\r\n\r\n                setBaseData((pre) => ({\r\n                    ...pre,\r\n                    products: productsData,\r\n                    branch: branchData,\r\n                    retailers: retailersData,\r\n                    voucherType: voucherType,\r\n                    uom: uomData,\r\n                    staff: staffData,\r\n                    staffType: staffCategoryData,\r\n                    godown: godownLocations,\r\n                    brand: getUniqueData(productsData, 'Brand', ['Brand_Name']),\r\n                    expence: expencesMaster.filter(\r\n                        exp => !stringCompare(exp.Type, 'DEFAULT')\r\n                    ).map(exp => ({ Id: exp.Acc_Id, Expence_Name: exp.Account_Name })),\r\n                    // stockInGodown: stockInGodowns,\r\n                    stockItemLedgerName: stockItemLedgerName,\r\n                    batchDetails: toArray(batchDetailsResponse.data)\r\n                }));\r\n            } catch (e) {\r\n                console.error(\"Error fetching data:\", e);\r\n            } finally {\r\n                if (loadingOff) loadingOff();\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n\r\n    }, [storage?.Company_id])\r\n\r\n    const clearValues = () => {\r\n        setInvoiceInfo(salesInvoiceGeneralInfo);\r\n        setInvoiceProduct([]);\r\n        setInvoiceExpences([]);\r\n        setStaffArray([]);\r\n    }\r\n\r\n    useEffect(() => {\r\n        setInvoiceProduct(pre => {\r\n            const exist = [...pre];\r\n\r\n            return exist.map(item => {\r\n                return Object.fromEntries(\r\n                    Object.entries(item).map(([key, value]) => {\r\n                        const productMaster = findProductDetails(baseData.products, item?.Item_Id);\r\n                        const gstPercentage = IS_IGST ? productMaster.Igst_P : productMaster.Gst_P;\r\n                        const isTaxable = gstPercentage > 0;\r\n\r\n                        const { Bill_Qty, Item_Rate, Amount } = item;\r\n\r\n                        const itemRateGst = calculateGSTDetails(Item_Rate, gstPercentage, taxType);\r\n                        const gstInfo = calculateGSTDetails(Amount, gstPercentage, taxType);\r\n\r\n                        const cgstPer = !IS_IGST ? gstInfo.cgst_per : 0;\r\n                        const igstPer = IS_IGST ? gstInfo.igst_per : 0;\r\n                        const Cgst_Amo = !IS_IGST ? gstInfo.cgst_amount : 0;\r\n                        const Igst_Amo = IS_IGST ? gstInfo.igst_amount : 0;\r\n\r\n                        switch (key) {\r\n                            case 'Taxable_Rate': return [key, itemRateGst.base_amount]\r\n                            case 'Total_Qty': return [key, Bill_Qty]\r\n                            case 'Taxble': return [key, isTaxable ? 1 : 0]\r\n                            case 'Taxable_Amount': return [key, gstInfo.base_amount]\r\n                            case 'Tax_Rate': return [key, gstPercentage]\r\n                            case 'Cgst':\r\n                            case 'Sgst': return [key, cgstPer ?? 0]\r\n                            case 'Cgst_Amo':\r\n                            case 'Sgst_Amo': return [key, isNotTaxableBill ? 0 : Cgst_Amo]\r\n                            case 'Igst': return [key, igstPer ?? 0]\r\n                            case 'Igst_Amo': return [key, isNotTaxableBill ? 0 : Igst_Amo]\r\n                            case 'Final_Amo': return [key, gstInfo.with_tax]\r\n\r\n                            default: return [key, item[key] || value]\r\n                        }\r\n                    })\r\n                )\r\n            })\r\n        });\r\n    }, [\r\n        baseData.products,\r\n        IS_IGST,\r\n        taxType,\r\n    ]);\r\n\r\n    useEffect(() => {\r\n        setInvoiceExpences(pre => {\r\n            const exist = [...pre];\r\n\r\n            return exist.map(item => {\r\n                const\r\n                    Igst = IS_IGST ? toNumber(item?.Igst) : 0,\r\n                    Cgst = !IS_IGST ? toNumber(item?.Cgst) : 0,\r\n                    Sgst = !IS_IGST ? toNumber(item?.Sgst) : 0,\r\n                    Expence_Value = toNumber(item?.Expence_Value),\r\n                    taxPercentage = IS_IGST ? Igst : Addition(Cgst, Sgst);\r\n\r\n                const taxAmount = calculateGSTDetails(Expence_Value, taxPercentage, taxType);\r\n\r\n                return {\r\n                    ...item,\r\n                    Cgst, Sgst, Igst,\r\n                    Expence_Value,\r\n                    Cgst_Amo: Cgst > 0 ? taxAmount.cgst_amount : 0,\r\n                    Sgst_Amo: Sgst > 0 ? taxAmount.sgst_amount : 0,\r\n                    Igst_Amo: Igst > 0 ? taxAmount.igst_amount : 0,\r\n                }\r\n            })\r\n        })\r\n    }, [\r\n        baseData.expence,\r\n        IS_IGST,\r\n        taxType,\r\n    ])\r\n\r\n    useEffect(() => {\r\n        if (\r\n            isValidObject(editValues) &&\r\n            Array.isArray(editValues?.Products_List)\r\n        ) {\r\n            const { Products_List, Expence_Array, Staffs_Array } = editValues;\r\n            setInvoiceInfo(\r\n                Object.fromEntries(\r\n                    Object.entries(salesInvoiceGeneralInfo).map(([key, value]) => {\r\n                        if (key === 'Do_Date') return [key, editValues[key] ? ISOString(editValues[key]) : value]\r\n                        return [key, editValues[key] ?? value]\r\n                    })\r\n                )\r\n            );\r\n            setInvoiceProduct(\r\n                Products_List.map(item => Object.fromEntries(\r\n                    Object.entries(salesInvoiceDetailsInfo).map(([key, value]) => {\r\n                        return [key, item[key] ?? value]\r\n                    })\r\n                ))\r\n            );\r\n            setInvoiceExpences(\r\n                toArray(Expence_Array).map(item => Object.fromEntries(\r\n                    Object.entries(salesInvoiceExpencesInfo).map(([key, value]) => {\r\n                        return [key, item[key] ?? value]\r\n                    })\r\n                ))\r\n            );\r\n            setStaffArray(\r\n                toArray(Staffs_Array).map(item => Object.fromEntries(\r\n                    Object.entries(salesInvoiceStaffInfo).map(([key, value]) => {\r\n                        return [key, item[key] ?? value]\r\n                    })\r\n                ))\r\n            );\r\n        }\r\n    }, [editValues])\r\n\r\n    useEffect(() => {\r\n        if (checkIsNumber(editValues?.Retailer_Id) && !isEqualNumber(editValues?.Retailer_Id, 0)) {\r\n            const retailerDetails = baseData.retailers.find(ret => isEqualNumber(ret.Retailer_Id, editValues?.Retailer_Id)) || {};\r\n            const retailerAddress = toArray(retailerDetails?.deliveryAddresses).find(\r\n                addr => isEqualNumber(addr?.id, editValues?.deliveryAddressId)\r\n            ) ?? null;\r\n\r\n            if (retailerAddress) {\r\n\r\n                setRetailerDeliveryAddress({\r\n                    deliveryName: retailerAddress?.deliveryName,\r\n                    phoneNumber: retailerAddress?.phoneNumber,\r\n                    cityName: retailerAddress?.cityName,\r\n                    deliveryAddress: retailerAddress?.deliveryAddress,\r\n                    id: retailerAddress.id\r\n                })\r\n            }\r\n\r\n        }\r\n    }, [editValues, baseData.retailers])\r\n\r\nconst saveSalesInvoice = () => {\r\n    if (loadingOn) loadingOn();\r\n\r\n    fetchLink({\r\n        address: `sales/salesInvoice`,\r\n        method: checkIsNumber(invoiceInfo?.Do_Id) ? 'PUT' : 'POST',\r\n        bodyData: {\r\n            ...invoiceInfo,\r\n            delivery_id: retailerDeliveryAddress?.id,\r\n            deliveryName: retailerDeliveryAddress?.deliveryName,\r\n            phoneNumber: retailerDeliveryAddress?.phoneNumber,\r\n            cityName: retailerDeliveryAddress?.cityName,\r\n            deliveryAddress: retailerDeliveryAddress?.deliveryAddress,\r\n\r\n            Product_Array: invoiceProducts,\r\n            Staffs_Array: staffArray,\r\n            Expence_Array: invoiceExpences\r\n        }\r\n    }).then(data => {\r\n        if (data.success) {\r\n            const savedDoId = data.others?.Do_Id;\r\n            \r\n            toast.success(data.message);\r\n            \r\n            // Open print dialog with the saved Do_Id\r\n            setPrintDialog({\r\n                open: true,\r\n                Do_Id: savedDoId\r\n            });\r\n            \r\n            // Clear form after successful submission (optional)\r\n            // clearValues();\r\n        } else {\r\n            toast.warn(data.message);\r\n        }\r\n    }).catch(e => {\r\n        console.error(e);\r\n        toast.error(\"Failed to save invoice\");\r\n    }).finally(() => {\r\n        if (loadingOff) loadingOff();\r\n    })\r\n}\r\n\r\n    //     }).then(data => {\r\n    //         if (data.success) {\r\n    //             clearValues();\r\n    //             toast.success(data.message);\r\n    //             navigate('/erp/sales/invoice')\r\n    //         } else {\r\n    //             toast.warn(data.message)\r\n    //         }\r\n    //     }).catch(e => console.error(e)).finally(() => {\r\n    //         if (loadingOff) loadingOff();\r\n    //     })\r\n    // }\r\n\r\n    return (\r\n        <>\r\n\r\n            <AddProductForm\r\n                orderProducts={invoiceProducts}\r\n                setOrderProducts={setInvoiceProduct}\r\n                open={dialog.addProductDialog}\r\n                onClose={() => {\r\n                    setDialog(pre => ({ ...pre, addProductDialog: false }))\r\n                    setSelectedProductToEdit(null);\r\n                }}\r\n                products={baseData.products}\r\n                brands={baseData.brand}\r\n                uom={baseData.uom}\r\n                godowns={baseData.godown}\r\n                GST_Inclusive={invoiceInfo.GST_Inclusive}\r\n                IS_IGST={IS_IGST}\r\n                editValues={selectedProductToEdit}\r\n                initialValue={{ ...salesInvoiceDetailsInfo, Pre_Id: invoiceInfo.So_No }}\r\n                batchDetails={baseData.batchDetails}\r\n            />\r\n\r\n            <Card>\r\n                <div className='d-flex flex-wrap align-items-center border-bottom py-2 px-3'>\r\n                    <span className=\"flex-grow-1 fa-16 fw-bold\">Sales Invoice</span>\r\n                    <span>\r\n                        <Button type='button' onClick={() => {\r\n                            if (window.history.length > 1) {\r\n                                navigate(-1);\r\n                            } else {\r\n                                navigate('/erp/sales/invoice');\r\n                            }\r\n                        }}>Cancel</Button>\r\n                        <Button onClick={() => saveSalesInvoice()} variant=\"contained\">submit</Button>\r\n                    </span>\r\n                </div>\r\n                <CardContent>\r\n                    <div className=\"row p-0\">\r\n                        {/* staff info */}\r\n                        <div className=\"col-xxl-3 col-lg-4 col-md-5 p-2\">\r\n                            <div className=\"border p-2\" style={{ minHeight: '30vh', height: '100%' }}>\r\n                                <InvolvedStaffs\r\n                                    StaffArray={staffArray}\r\n                                    setStaffArray={setStaffArray}\r\n                                    costCenter={baseData.staff}\r\n                                    costCategory={baseData.staffType}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* general info */}\r\n                        <div className=\"col-xxl-9 col-lg-8 col-md-7 py-2 px-0\">\r\n                            <div className=\"border px-3 py-1\" style={{ minHeight: '30vh', height: '100%' }}>\r\n                                <ManageSalesInvoiceGeneralInfo\r\n                                    invoiceInfo={invoiceInfo}\r\n                                    setInvoiceInfo={setInvoiceInfo}\r\n                                    retailers={baseData.retailers}\r\n                                    branches={baseData.branch}\r\n                                    voucherType={baseData.voucherType}\r\n                                    stockItemLedgerName={baseData.stockItemLedgerName}\r\n                                    onChangeRetailer={() => {\r\n                                        setInvoiceProduct([]);\r\n                                        setInvoiceExpences([]);\r\n                                    }}\r\n                                    retailerDeliveryAddress={retailerDeliveryAddress}\r\n                                    setRetailerDeliveryAddress={setRetailerDeliveryAddress}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* product details */}\r\n                    <FilterableTable\r\n                        title=\"Items\"\r\n                        headerFontSizePx={13}\r\n                        bodyFontSizePx={13}\r\n                        EnableSerialNumber\r\n                        disablePagination\r\n                        ButtonArea={\r\n                            <>\r\n                                <Button\r\n                                    onClick={() => {\r\n                                        setSelectedProductToEdit(null);\r\n                                        setDialog(pre => ({ ...pre, addProductDialog: true }));\r\n                                    }}\r\n                                    sx={{ ml: 1 }}\r\n                                    variant='outlined'\r\n                                    type=\"button\"\r\n                                    startIcon={<Add />}\r\n                                    disabled={\r\n                                        !checkIsNumber(invoiceInfo.Retailer_Id)\r\n                                        || (invoiceProducts.length > 0\r\n                                            && checkIsNumber(invoiceInfo.So_No))\r\n                                    }\r\n                                >Add Product</Button>\r\n\r\n\r\n                                <AddProductsInSalesInvoice\r\n                                    loadingOn={loadingOn}\r\n                                    loadingOff={loadingOff}\r\n                                    open={dialog.importFromSaleOrder}\r\n                                    onClose={() => setDialog(pre => ({ ...pre, importFromSaleOrder: false }))}\r\n                                    retailer={invoiceInfo?.Retailer_Id}\r\n                                    selectedItems={invoiceProducts}\r\n                                    setSelectedItems={setInvoiceProduct}\r\n                                    staffArray={staffArray}\r\n                                    setStaffArray={setStaffArray}\r\n                                    products={baseData.products}\r\n                                    GST_Inclusive={invoiceInfo.GST_Inclusive}\r\n                                    IS_IGST={IS_IGST}\r\n                                    invoiceInfo={invoiceInfo}\r\n                                    setInvoiceInfo={setInvoiceInfo}\r\n                                    godowns={baseData.godown}\r\n                                    stockInGodown={baseData.stockInGodown}\r\n                                >\r\n                                    <Button\r\n                                        onClick={() => setDialog(pre => ({ ...pre, importFromSaleOrder: true }))}\r\n                                        disabled={\r\n                                            !checkIsNumber(invoiceInfo.Retailer_Id)\r\n                                            || (\r\n                                                invoiceProducts.length > 0\r\n                                                && !checkIsNumber(invoiceInfo.So_No)\r\n                                            )\r\n                                        }\r\n                                        sx={{ ml: 1 }}\r\n                                        type=\"button\"\r\n                                        variant='outlined'\r\n                                        startIcon={<ReceiptLong />}\r\n                                    >Choose Sale Order</Button>\r\n                                </AddProductsInSalesInvoice>\r\n                            </>\r\n                        }\r\n                        dataArray={[\r\n                            ...invoiceProducts,\r\n                            ...Array.from({\r\n                                length: dummyRowCount > 0 ? dummyRowCount : 0\r\n                            }).map(d => salesInvoiceDetailsInfo)\r\n                        ]}\r\n                        columns={[\r\n                            createCol('Item_Name', 'string'),\r\n                            createCol('Batch_Name', 'string'),\r\n                            createCol('Bill_Qty', 'number'),\r\n                            createCol('Act_Qty', 'number'),\r\n                            createCol('Item_Rate', 'number'),\r\n                            {\r\n                                isVisible: 1,\r\n                                ColumnHeader: 'Tax',\r\n                                isCustomCell: true,\r\n                                Cell: ({ row }) => {\r\n                                    const { Cgst = 0, Sgst = 0, Igst = 0, Cgst_Amo = 0, Sgst_Amo = 0, Igst_Amo = 0 } = row;\r\n                                    const taxPercentage = IS_IGST ? Igst : Addition(Cgst, Sgst);\r\n                                    const taxAmount = IS_IGST ? Igst_Amo : Addition(Cgst_Amo, Sgst_Amo);\r\n\r\n                                    return !checkIsNumber(row?.Item_Id) ? '' : `${taxAmount} - (${taxPercentage} %)`\r\n                                }\r\n                            },\r\n                            {\r\n                                isVisible: 1,\r\n                                ColumnHeader: 'Godown',\r\n                                isCustomCell: true,\r\n                                Cell: ({ row }) => baseData.godown.find(\r\n                                    godown => isEqualNumber(godown.Godown_Id, row?.GoDown_Id)\r\n                                )?.Godown_Name ?? ''\r\n                            },\r\n                            createCol('Amount', 'number'),\r\n                            {\r\n                                isCustomCell: true,\r\n                                Cell: ({ row }) => {\r\n                                    return (\r\n                                        <>\r\n                                            <IconButton\r\n                                                onClick={() => {\r\n                                                    setSelectedProductToEdit(row);\r\n                                                    setDialog(pre => ({ ...pre, addProductDialog: true }));\r\n                                                }}\r\n                                                size=\"small\"\r\n                                                type=\"button\"\r\n                                                disabled={!checkIsNumber(row?.Item_Id)}\r\n                                            >\r\n                                                <Edit />\r\n                                            </IconButton>\r\n                                            <IconButton\r\n                                                size=\"small\"\r\n                                                type=\"button\"\r\n                                                onClick={() => setInvoiceProduct(\r\n                                                    pre => pre.filter(obj => !isEqualNumber(obj.Item_Id, row.Item_Id))\r\n                                                )}\r\n                                                color='error'\r\n                                                disabled={!checkIsNumber(row?.Item_Id)}\r\n                                            >\r\n                                                <Delete />\r\n                                            </IconButton>\r\n                                        </>\r\n                                    )\r\n                                },\r\n                                ColumnHeader: 'Action',\r\n                                isVisible: 1,\r\n                            },\r\n                        ]}\r\n                    />\r\n                    \r\n  <Dialog\r\n                open={printDialog.open}\r\n                // onClose={() => setPrintDialog({ open: false, Do_Id: null })}\r\n    //                onClose={() => {\r\n    //     setPrintDialog({ open: false, Do_Id: null });\r\n    //     clearValues(); // Clear the form\r\n    //     navigate('/erp/sales/invoice'); // Navigate to listing\r\n    // }}\r\n                maxWidth=\"lg\"\r\n                fullWidth\r\n                scroll=\"paper\"\r\n            >\r\n                <DialogTitle>\r\n                    Print Invoice #{printDialog.Do_Id}\r\n                    <IconButton\r\n                        // onClick={() => setPrintDialog({ open: false, Do_Id: null })}\r\n                                    onClick={() => {\r\n                setPrintDialog({ open: false, Do_Id: null });\r\n                clearValues(); \r\n                navigate('/erp/sales/invoice');\r\n            }}\r\n\r\n                        style={{ position: 'absolute', right: 8, top: 8 }}\r\n                    >\r\n                        <Close />\r\n                    </IconButton>\r\n                </DialogTitle>\r\n                <DialogContent>\r\n                    {printDialog.Do_Id && (\r\n                        <InvoiceTemplate\r\n                            Do_Id={printDialog.Do_Id}\r\n                            loadingOn={loadingOn}\r\n                            loadingOff={loadingOff}\r\n                        />\r\n                    )}\r\n                </DialogContent>\r\n                  <DialogActions>\r\n        <Button \r\n            onClick={() => {\r\n                setPrintDialog({ open: false, Do_Id: null });\r\n                clearValues(); \r\n                navigate('/erp/sales/invoice');\r\n            }}\r\n        >\r\n            Close and Go to Listing\r\n        </Button>\r\n    </DialogActions>\r\n            </Dialog>\r\n                    <br />\r\n\r\n                    <ExpencesOfSalesInvoice\r\n                        invoiceExpences={invoiceExpences}\r\n                        setInvoiceExpences={setInvoiceExpences}\r\n                        expenceMaster={baseData.expence}\r\n                        IS_IGST={IS_IGST}\r\n                        taxType={taxType}\r\n                    />\r\n\r\n                    <br />\r\n\r\n                    <SalesInvoiceTaxDetails\r\n                        invoiceProducts={invoiceProducts}\r\n                        invoiceExpences={invoiceExpences}\r\n                        isNotTaxableBill={isNotTaxableBill}\r\n                        isInclusive={isInclusive}\r\n                        IS_IGST={IS_IGST}\r\n                        products={baseData.products}\r\n                        invoiceInfo={invoiceInfo}\r\n                        setInvoiceInfo={setInvoiceInfo}\r\n                    />\r\n                </CardContent>\r\n            </Card>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CreateSalesInvoice;","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3m-3 11H8v-5h8zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m-1-9H6v4h12z\"\n}), 'Print');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon([/*#__PURE__*/_jsx(\"path\", {\n  d: \"M19.5 3.5 18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2v14H3v3c0 1.66 1.34 3 3 3h12c1.66 0 3-1.34 3-3V2zM19 19c0 .55-.45 1-1 1s-1-.45-1-1v-3H8V5h11z\"\n}, \"0\"), /*#__PURE__*/_jsx(\"path\", {\n  d: \"M9 7h6v2H9zm7 0h2v2h-2zm-7 3h6v2H9zm7 0h2v2h-2z\"\n}, \"1\")], 'ReceiptLong');","import { useEffect, useRef, useState } from \"react\";\r\nimport { toArray, checkIsNumber, numberToWords, NumberFormat } from \"../../../../Components/functions\";\r\nimport { fetchLink } from \"../../../../Components/fetchComponent\";\r\nimport { useReactToPrint } from \"react-to-print\";\r\nimport { Button } from \"@mui/material\";\r\nimport { Print } from \"@mui/icons-material\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport a5BackgroundImage from './plain.jpeg';\r\n\r\nconst InvoiceTemplate = ({ Do_Id, Do_Ids = [], loadingOn, loadingOff, isCombinedPrint = false }) => {\r\n  const [data, setData] = useState([]); \r\n  const printRef = useRef(null);\r\n  const nav = useNavigate();\r\n  const location = useLocation();\r\n  const [companyInfo, setCompanyInfo] = useState({});\r\n  const storage = JSON.parse(localStorage.getItem('user'));\r\n  \r\n\r\n  const isMultiple = Array.isArray(Do_Ids) && Do_Ids.length > 0;\r\n  const idsToFetch = isMultiple ? Do_Ids : (Do_Id ? [Do_Id] : []);\r\n  const [printReady, setPrintReady] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (idsToFetch.length === 0) return;\r\n    \r\n    loadingOn?.();\r\n    \r\n\r\n    fetchLink({\r\n      address: `masters/company?Company_id=${storage?.Company_id}`\r\n    }).then(data => {\r\n      if (data.success) {\r\n        setCompanyInfo(data?.data[0] ? data?.data[0] : {});\r\n      }\r\n    }).catch(e => console.error(e));\r\n    \r\n   \r\n    const fetchAllInvoices = async () => {\r\n      try {\r\n        const promises = idsToFetch.map(id => \r\n          fetchLink({\r\n            address: `sales/salesInvoice/printOuts/invoicePrint?Do_Id=${id}`,\r\n            loadingOn: () => {},\r\n            loadingOff: () => {},\r\n          })\r\n        );\r\n        \r\n        const results = await Promise.all(promises);\r\n        const allData = results\r\n          .filter(result => result?.success && result?.data?.[0])\r\n          .map(result => result.data[0]);\r\n        \r\n        setData(allData);\r\n        setPrintReady(true);\r\n      } catch (error) {\r\n        console.error('Error fetching invoices:', error);\r\n      } finally {\r\n        loadingOff?.();\r\n      }\r\n    };\r\n\r\n    fetchAllInvoices();\r\n  }, [JSON.stringify(idsToFetch)]);\r\n\r\n  const handlePrint = useReactToPrint({ \r\n    content: () => printRef.current,\r\n    onAfterPrint: () => console.log(\"Print completed\")\r\n  });\r\n\r\n\r\n  if (!isCombinedPrint && data.length > 0) {\r\n    return (\r\n      <div style={{ \r\n        display: \"flex\", \r\n        flexDirection: \"column\", \r\n        alignItems: \"center\"\r\n      }}>\r\n        <style>\r\n          {`\r\n            @media print {\r\n              @page {\r\n                size: A5 landscape;\r\n                margin: 0mm;\r\n              }\r\n              body {\r\n                margin: 0;\r\n                -webkit-print-color-adjust: exact;\r\n              }\r\n              .print-container {\r\n                width: 21cm !important;\r\n                height: 14.8cm !important;\r\n                margin: 0 auto !important;\r\n                padding: 0 !important;\r\n                position: relative !important;\r\n              }\r\n              .no-print {\r\n                display: none !important;\r\n              }\r\n            }\r\n            \r\n            @media screen {\r\n              .preview-center {\r\n                margin-left: 1cm;\r\n              }\r\n            }\r\n          `}\r\n        </style>\r\n\r\n        <Button onClick={handlePrint} startIcon={<Print />} className=\"no-print\" style={{ margin: \"20px\" }}>\r\n          Print Preview {data.length > 1 ? `(${data.length} invoices)` : ''}\r\n        </Button>\r\n\r\n        <div ref={printRef}>\r\n          {data.map((invoice, index) => (\r\n            <div key={index} style={{ marginBottom: data.length > 1 ? '50px' : '0' }}>\r\n              <SingleInvoice \r\n                data={invoice} \r\n                companyInfo={companyInfo} \r\n                isPreview={true}\r\n              />\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Combined print mode (for dialog)\r\n  return (\r\n    <div ref={printRef}>\r\n      {data.map((invoice, index) => (\r\n        <div \r\n          key={index} \r\n          className=\"invoice-page\"\r\n          style={{ \r\n            pageBreakAfter: index < data.length - 1 ? 'always' : 'auto'\r\n          }}\r\n        >\r\n          <SingleInvoice \r\n            data={invoice} \r\n            companyInfo={companyInfo} \r\n            isPreview={false}\r\n          />\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Single Invoice Component (your exact design)\r\nconst SingleInvoice = ({ data, companyInfo, isPreview }) => {\r\n  const products = toArray(data?.productDetails);\r\n  const expenses = toArray(data?.expencessDetails)\r\n    .filter(e => !e.expenseName?.toLowerCase().includes(\"round off\"));\r\n  const broker = toArray(data?.staffDetails).find(e => e.empType === \"Broker\");\r\n  const transport = toArray(data?.staffDetails).find(e => e.empType === \"Transport\");\r\n\r\n  const totalAmount = products.reduce((a, b) => a + Number(b.amount || 0), 0);\r\n  const totalExpenses = expenses.reduce((a, b) => a + Number(b.expenseValue || 0), 0);\r\n  const netAmount = totalAmount + totalExpenses + Number(data?.roundOffValue || 0);\r\n\r\n  const groupHSNSummary = (list) => {\r\n    const map = new Map();\r\n    list.forEach(p => {\r\n      const hsn = p?.hsnCode || \"\";\r\n      const amt = Number(p?.amount) || 0;\r\n      map.set(hsn, (map.get(hsn) || 0) + amt);\r\n    });\r\n    return Array.from(map.entries()).map(([hsn, amount]) => ({ hsn, amount }));\r\n  };\r\n  const hsnSummary = groupHSNSummary(products);\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        width: \"21cm\",\r\n        height: \"14.8cm\",\r\n        position: \"relative\",\r\n        margin: isPreview ? \"0 auto\" : \"0\",\r\n        boxSizing: \"border-box\"\r\n      }}\r\n    >\r\n      {/* Background Image */}\r\n      <img \r\n        src={a5BackgroundImage}\r\n        alt=\"A5 Invoice Layout\"\r\n        style={{\r\n          position: \"absolute\",\r\n          top: 0,\r\n          left: 0,\r\n          width: \"100%\",\r\n          height: \"100%\",\r\n          zIndex: 0\r\n        }}\r\n      />\r\n\r\n      {/* Content Overlay */}\r\n      <div style={{\r\n        position: \"absolute\",\r\n        top: 0,\r\n        left: 0,\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        zIndex: 1,\r\n        boxSizing: \"border-box\"\r\n      }}>\r\n        <div style={{\r\n          position: \"absolute\",\r\n          top: \"0.4cm\",\r\n          width: \"100%\",\r\n          display: \"flex\"\r\n        }}>\r\n          {/* ================= LEFT SIDE ================= */}\r\n          <div style={{ position: \"relative\", width: \"60%\" }}>\r\n            <div style={{ position: \"absolute\", left: \"0cm\", width: \"9cm\", padding: \"0px\" }}>\r\n              <div style={{\r\n                position: \"absolute\",\r\n                left: \"5.3cm\",\r\n                fontWeight: \"bold\",\r\n                top: \"0.2cm\",\r\n                fontSize: \"25px\",\r\n                width: \"7cm\",\r\n                padding: \"3px\",\r\n                color: \"#000\"\r\n              }}>\r\n                {companyInfo?.Company_Name}\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{\r\n              position: \"absolute\",\r\n              left: \"4.2cm\",\r\n              fontSize: \"15px\",\r\n              width: \"10cm\",\r\n              marginTop: \"1cm\",\r\n              color: \"#000\"\r\n            }}>\r\n              <p>H.O: 153, Chitrakara Street, Madurai -01</p>\r\n\r\n              <div style={{\r\n                position: \"absolute\",\r\n                fontSize: \"14px\",\r\n                width: \"10cm\",\r\n                bottom: \"0cm\",\r\n                left: \"10px\",\r\n                top: \"0.0cm\",\r\n                padding: \"0px\",\r\n                color: \"#000\"\r\n              }}>\r\n                <br/>\r\n                <p>G.O:746 Puliyur, Sayanapuram, Svga</p>\r\n              </div>\r\n              \r\n              <div style={{\r\n                position: \"absolute\",\r\n                fontSize: \"14px\",\r\n                width: \"10cm\",\r\n                bottom: \"0cm\",\r\n                top: \"15px\",\r\n                right: \"20px\",\r\n                padding: \"0px\",\r\n                color: \"#000\"\r\n              }}>\r\n                <br/>\r\n                <p>Bill of Supply- Disclaimer Affidavit Filed -Exempted</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* ================= RIGHT SIDE (STATIC DATA) ================= */}\r\n          <div style={{\r\n            position: \"relative\",\r\n            width: \"40%\",\r\n            fontSize: \"13px\",\r\n            color: \"#000\",\r\n            paddingRight: \"1cm\",\r\n            textAlign: \"right\",\r\n            top: \"15px\"\r\n          }}>\r\n            <div><strong>GSTIN :</strong> 33AADFS4987M1ZL</div>\r\n            <div><strong>Phone :</strong> 0452 - 4371625</div>\r\n            <div><strong></strong> 9786131353</div>\r\n            <div><strong>FSSAI No</strong> 12418012000176</div>\r\n          </div>\r\n        </div>\r\n\r\n        <div style={{\r\n          position: \"absolute\",\r\n          top: \"2.7cm\",\r\n          width: \"100%\"\r\n        }}>\r\n          <p style={{\r\n            position: \"absolute\",\r\n            left: \"1.0cm\",\r\n            fontSize: \"13px\",\r\n            top: \"0.0cm\",\r\n            width: \"9cm\",\r\n            padding: \"2.5px\"\r\n          }}>\r\n            {/* To */}\r\n          </p>\r\n\r\n          <div style={{\r\n            position: \"absolute\",\r\n            left: \"3.25cm\",\r\n            fontSize: \"13px\",\r\n            top: \"0.3cm\",\r\n            width: \"9cm\",\r\n            padding: \"2.5px\"\r\n          }}>\r\n            <div style={{ color: \"#000\" }}>{data.mailingName},{data.Party_Location}</div>\r\n            <div style={{ color: \"#000\" }}>{data.mailingAddress}</div>\r\n            <div style={{ color: \"#000\" }}>{data.mailingNumber}</div>\r\n            <div style={{ color: \"#000\" }}>GSTIN: {data.retailerGstNumber}</div>\r\n          </div>\r\n\r\n          <div style={{\r\n            position: \"absolute\",\r\n            left: \"12cm\",\r\n            width: \"8cm\",\r\n            fontSize: \"12px\",\r\n            padding: \"0px\",\r\n            top: \"0.3cm\"\r\n          }}>\r\n            <div style={{ \r\n              height: \"0.7cm\", \r\n              display: \"flex\", \r\n              justifyContent: \"space-between\",\r\n              alignItems: \"center\"\r\n            }}>\r\n              <div style={{ display: \"flex\", alignItems: \"center\", gap: \"5px\" }}>\r\n                <span style={{ fontWeight: \"bold\", color: \"#000\" }}>\r\n                  {/* Date: */}\r\n                </span>\r\n                <span style={{ color: \"#000\", marginLeft: \"30px\" }}>\r\n                  {data.createdOn && new Date(data.createdOn).toLocaleDateString(\"en-GB\")}\r\n                </span>\r\n              </div>\r\n              <div style={{ display: \"flex\", alignItems: \"center\", gap: \"5px\" }}>\r\n                <span style={{ fontWeight: \"bold\", color: \"#000\", marginLeft: \"50px\" }}>\r\n                  {/* Bill Type: */}\r\n                </span>\r\n                <b style={{ color: \"#000\", marginLeft: \"50px\" }}>\r\n                  {data.voucherTypeGet}\r\n                </b>\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{ \r\n              height: \"0.7cm\",\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              gap: \"5px\"\r\n            }}>\r\n              <span style={{ fontWeight: \"bold\", color: \"#000\" }}>\r\n                {/* Bill No: */}\r\n              </span>\r\n              <b style={{ color: \"#000\", marginLeft: \"50px\" }}>{data.voucherNumber}</b>\r\n            </div>\r\n\r\n            <div style={{ \r\n              height: \"1cm\", \r\n              display: \"flex\", \r\n              justifyContent: \"space-between\",\r\n              alignItems: \"center\"\r\n            }}>\r\n              <div style={{ display: \"flex\", alignItems: \"center\", gap: \"5px\" }}>\r\n                <span style={{ fontWeight: \"bold\", color: \"#000\" }}>\r\n                  {/* Broker: */}\r\n                </span>\r\n                <span style={{ color: \"#000\", marginLeft: \"50px\" }}>{broker?.empName || \"-\"}</span>\r\n              </div>\r\n              <div style={{ display: \"flex\" }}>\r\n                <span style={{ fontWeight: \"bold\", color: \"#000\" }}>\r\n                  {/* Transport: */}\r\n                </span>\r\n                <span style={{ color: \"#000\", alignItems: \"center\", gap: \"5px\" }}>{transport?.empName || \"-\"}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* PRODUCTS TABLE AREA */}\r\n        <div style={{\r\n          position: \"absolute\",\r\n          top: \"5.2cm\",\r\n          left: \"0\",\r\n          width: \"20cm\",\r\n          fontSize: \"12px\"\r\n        }}>\r\n          {/* COLUMN HEADERS */}\r\n          <div style={{\r\n            display: \"flex\",\r\n            height: \"0.5cm\",\r\n            lineHeight: \"0.5cm\",\r\n            alignItems: \"left\",\r\n            fontWeight: \"bold\",\r\n            marginBottom: \"0.3cm\"\r\n          }}>\r\n            <div style={{ width: \"1cm\", textAlign: \"right\", marginLeft: \"0.4cm\" }}>\r\n              {/* No */}\r\n            </div>\r\n            <div style={{ marginLeft: \"0.2cm\", width: \"8.2cm\", color: \"#000\" }}>\r\n              {/* ITEMS */}\r\n            </div>\r\n            <div style={{ width: \"2cm\", color: \"#000\" }}>\r\n              {/* HSN */}\r\n            </div>\r\n            <div style={{ width: \"1.5cm\", color: \"#000\" }}>\r\n              {/* GST */}\r\n            </div>\r\n            <div style={{ width: \"1.2cm\", color: \"#000\" }}></div>\r\n            <div style={{ width: \"3cm\", color: \"#000\" }}></div>\r\n            <div style={{ width: \"1cm\", color: \"#000\" }}></div>\r\n            <div style={{ width: \"3.5cm\", textAlign: \"right\", color: \"#000\" }}></div>\r\n          </div>\r\n\r\n          {products.filter(p => p.itemName).map((p, i) => (\r\n            <div\r\n              key={i}\r\n              style={{\r\n                display: \"flex\",\r\n                height: \"0.5cm\",          \r\n                lineHeight: \"0.5cm\",      \r\n                alignItems: \"center\",\r\n              }}\r\n            >\r\n              <div style={{ \r\n                width: \"1cm\", \r\n                textAlign: \"right\",\r\n                marginLeft: \"1.7cm\",\r\n                fontWeight: \"bold\",\r\n                color: \"#000\",\r\n                flexShrink: 0 \r\n              }}>\r\n                {i + 1}\r\n              </div>\r\n\r\n              <div style={{ \r\n                marginLeft: \"0.5cm\",\r\n                width: \"6.8cm\",\r\n                color: \"#000\",\r\n                fontWeight: \"bold\",\r\n                whiteSpace: \"nowrap\",\r\n                overflow: \"hidden\",\r\n                textOverflow: \"ellipsis\",\r\n                flexShrink: 0\r\n              }}>\r\n                {p.itemName}\r\n              </div>\r\n\r\n              <div style={{ \r\n                width: \"1cm\", \r\n                color: \"#000\",\r\n                marginLeft: \"0.1cm\",\r\n                textAlign: \"center\",\r\n                fontWeight: \"bold\",\r\n                flexShrink: 0\r\n              }}>\r\n                {p.hsnCode}\r\n              </div>\r\n\r\n              <div style={{ \r\n                width: \"1cm\",  \r\n                color: \"#000\",\r\n                textAlign: \"right\",\r\n                fontWeight: \"bold\",\r\n                flexShrink: 0,\r\n                marginRight: \"0.15cm\"\r\n              }}>\r\n                {p.gstPercentage}\r\n              </div>\r\n\r\n              <div style={{ \r\n                width: \"5cm\", \r\n                color: \"#000\",\r\n                textAlign: \"center\",\r\n                fontWeight: \"bold\",\r\n              }}>{p.quantity}</div>\r\n\r\n              <div style={{ \r\n                width: \"4.7cm\", \r\n                color: \"#000\",\r\n                textAlign: \"center\",\r\n                fontWeight: \"bold\",\r\n                marginRight: \"0.5cm\"\r\n              }}>{p.itemRate}</div>\r\n\r\n              <div style={{ \r\n                width: \"1.2cm\",\r\n                color: \"#000\",\r\n                fontWeight: \"bold\",\r\n                marginLeft: \"1cm\",\r\n                textAlign: \"left\",\r\n                marginRight: \"0.9cm\"\r\n              }}>{p.billQuantity}</div>\r\n\r\n              <div style={{ \r\n                width: \"5cm\", \r\n                textAlign: \"right\", \r\n                fontWeight: \"bold\",\r\n                color: \"#000\",\r\n              }}>\r\n                {NumberFormat(p.amount)}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <p style={{\r\n          position: \"absolute\",\r\n          fontWeight: \"bold\",\r\n          top: \"9.95cm\",\r\n          left: \"2.5cm\"\r\n        }}>\r\n          TMB A/C NO: 002530350870041  IFSC : TMBL0000002\r\n        </p>\r\n\r\n        <div style={{\r\n          position: \"absolute\",\r\n          top: \"10.6cm\",\r\n          left: \"2.5cm\",\r\n          color: \"#000\",\r\n          width: \"15cm\"\r\n        }}>\r\n          <span>INR</span>   {numberToWords(parseInt(netAmount))}\r\n        </div>\r\n\r\n        <div style={{ \r\n          position: \"absolute\",\r\n          top: \"9.1cm\",\r\n          left: \"0cm\",\r\n          width: \"20cm\"\r\n        }}>\r\n          {/* EXPENSES */}\r\n          {expenses.map((e, i) => (\r\n            <div\r\n              key={i}\r\n              style={{\r\n                position: \"absolute\",\r\n                top: `${i * 0.5}cm`,\r\n                display: \"flex\",\r\n                height: \"0.5cm\",\r\n                lineHeight: \"0.5cm\",\r\n                alignItems: \"center\",\r\n                width: \"100%\"\r\n              }}\r\n            >\r\n              <div style={{ width: \"5.0cm\" }}></div>\r\n              <div style={{ width: \"0.3cm\" }}></div>\r\n              <div style={{ width: \"1.9cm\" }}></div>\r\n              <div style={{ width: \"0.9cm\" }}></div>\r\n              <div style={{ width: \"1.3cm\" }}></div>\r\n\r\n              <div style={{\r\n                width: \"4.2cm\",\r\n                marginLeft: \"4.5cm\",\r\n                lineHeight: \"normal\",\r\n                color: \"#000\",\r\n                fontSize: '10px'\r\n              }}>\r\n                {e.expenseName}\r\n              </div>\r\n\r\n              <div style={{ width: \"0cm\" }}></div>\r\n\r\n              <div style={{\r\n                width: \"1.5cm\",\r\n                textAlign: \"right\",\r\n                color: \"#000\",\r\n                fontSize: '12px',\r\n                marginRight: \"auto\"\r\n              }}>\r\n                {NumberFormat(e.expenseValue)}\r\n              </div>\r\n            </div>\r\n          ))}\r\n\r\n          {data?.roundOffValue ? (\r\n            <div style={{\r\n              position: \"absolute\",\r\n              top: \"0.5cm\", \r\n              display: \"flex\", \r\n              height: \"0.5cm\", \r\n              fontWeight: \"bold\",\r\n              alignItems: \"center\",\r\n              width: \"100%\"\r\n            }}>\r\n              <div style={{ width: \"5.0cm\" }}></div>\r\n              <div style={{ width: \"0.3cm\" }}></div>\r\n              <div style={{ width: \"1.9cm\" }}></div>\r\n              <div style={{ width: \"0.9cm\" }}></div>\r\n              <div style={{ width: \"1.3cm\" }}></div>\r\n\r\n              <div style={{\r\n                width: \"4.2cm\",\r\n                marginLeft: \"8.5cm\",\r\n                lineHeight: \"normal\",\r\n                color: \"#000\",\r\n                fontSize: '10px',\r\n                fontWeight: \"bold\"\r\n              }}>\r\n                {/* Empty or you can add \"Round Off:\" label here */}\r\n              </div>\r\n\r\n              <div style={{ width: \"0cm\" }}></div>\r\n\r\n              {/* Round Off Value - Fixed position */}\r\n              <div style={{\r\n                position: \"absolute\",\r\n                right: \"0.5cm\",\r\n                textAlign: \"right\",\r\n                color: \"#000\",\r\n                fontSize: '12px',\r\n                fontWeight: \"bold\",\r\n                top: \"0.45cm\"\r\n              }}>\r\n                {NumberFormat(data.roundOffValue)}\r\n              </div>\r\n            </div>\r\n          ) : null}\r\n\r\n          {/* NET AMOUNT */}\r\n          <div style={{\r\n            position: \"absolute\",\r\n            top: \"1.6cm\",\r\n            left: \"14cm\",\r\n            fontWeight: \"bold\",\r\n            textAlign: \"center\",\r\n            color: \"#000\",\r\n            fontSize: \"18px\",\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            gap: \"140px\"\r\n          }}>\r\n            <span></span>\r\n            {(Number(parseFloat(netAmount || 0)).toFixed(2))}\r\n          </div>\r\n        </div>\r\n\r\n     {/* HSN Summary */}\r\n<div style={{\r\n  position: \"absolute\",\r\n  top: \"11.6cm\",\r\n  fontSize: \"11px\",\r\n  left: \"3cm\",\r\n  width: \"10cm\"\r\n}}>\r\n  {hsnSummary.map((h, i) => (\r\n    <div\r\n      key={i}\r\n      style={{\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        width: \"100%\",\r\n        marginBottom: \"0.1cm\"\r\n      }}\r\n    >\r\n      <span style={{ \r\n        color: \"#000\",\r\n        fontWeight: \"bold\",\r\n        width: \"3cm\",\r\n        textAlign: \"left\"\r\n      }}>\r\n        {h.hsn}\r\n      </span>\r\n      <span style={{ \r\n        color: \"#000\",\r\n        fontWeight: \"bold\",\r\n        width: \"3cm\",\r\n        textAlign: \"right\",\r\n        // marginLeft: \"auto\"\r\n      }}>\r\n        {NumberFormat(h.amount)}\r\n      </span>\r\n    </div>\r\n  ))}\r\n  {/* Total Row */}\r\n  <div style={{\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    width: \"100%\",\r\n    marginTop: \"0.1cm\",\r\n\r\n    paddingTop: \"0.1cm\",\r\n    fontWeight: \"bold\"\r\n  }}>\r\n    <span style={{ \r\n      color: \"#000\",\r\n      width: \"3cm\",\r\n      textAlign: \"left\"\r\n    }}>\r\n     \r\n    </span>\r\n    <span style={{ \r\n      color: \"#000\",\r\n      width: \"3cm\",\r\n      textAlign: \"right\",\r\n      // marginLeft: \"auto\"\r\n    }}>\r\n      {NumberFormat(\r\n        hsnSummary.reduce(\r\n          (sum, item) => sum + Number(item.amount || 0),\r\n          0\r\n        )\r\n      )}\r\n    </span>\r\n  </div>\r\n</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InvoiceTemplate;"],"names":["_ref","StaffArray","setStaffArray","costCenter","costCategory","_jsxs","_Fragment","children","className","_jsx","Button","variant","color","type","onClick","pre","_objectSpread","salesInvoiceStaffInfo","toArray","map","row","index","Select","value","Emp_Id","label","Emp_Name","onChange","e","prev","staffRow","ind","isEqualNumber","staff","find","c","Cost_Center_Id","Emp_Type_Id","checkIsNumber","Number","User_Type","options","filter","fil","some","st","Cost_Center_Name","styles","customSelectStyles","isSearchable","placeholder","filterOption","reactSelectFilterLogic","style","maxWidth","minWidth","target","sti","Cost_Category_Id","Cost_Category","IconButton","_","filIndex","size","Delete","validStockValue","Item_Id","Godown_Id","stockInGodown","_toArray$find","godownStockValue","godownItem","Product_Id","Act_Bal_Qty","toNumber","_findProductDetails","_godowns$find","orderProducts","setOrderProducts","open","onClose","products","brands","uom","godowns","GST_Inclusive","IS_IGST","editValues","initialValue","batchDetails","productDetails","setProductDetails","useState","isInclusive","isNotTaxableBill","stockInGodowns","setStockInGodowns","useEffect","isValidObject","Object","fromEntries","entries","_ref2","key","findProductDetails","productid","_products$find","obj","closeDialog","fetchLink","address","concat","then","data","success","sort","a","b","String","stock_item_name","localeCompare","Dialog","fullWidth","DialogTitle","onSubmit","preventDefault","ordered","_ref3","productMaster","gstPercentage","Igst_P","Gst_P","isTaxable","Bill_Qty","Item_Rate","Amount","taxType","itemRateGst","calculateGSTDetails","gstInfo","cgstPer","cgst_per","igstPer","igst_per","Cgst_Amo","cgst_amount","Igst_Amo","igst_amount","Product_Name","base_amount","with_tax","toast","warn","DialogContent","BrandID","Brand","isDisabled","Brand_Name","menuPortalTarget","document","body","maxMenuHeight","GroupID","Group","pro","reduce","acc","grp","Product_Group","push","Pro_Group","hasOwn","RequiredStar","Pre_Id","productInfo","_productInfo$Pro_Grou","_productInfo$Product_","_productInfo$Brand_Na","_productInfo$Brand","_productInfo$Item_Rat","_productInfo$UOM_Id","_productInfo$Units","GoDown_Id","Unit_Id","UOM_Id","Unit_Name","Units","HSN_Code","findIndex","required","g","Godown_Name","onInput","onlynum","disabled","Multiplication","Division","min","Act_Qty","UOM","selectedIndex","text","o","i","Batch_Name","bat","item_id","godown_id","pendingQuantity","batch","DialogActions","startIcon","ClearAll","storage","getSessionUser","user","loadingOn","loadingOff","navigate","useNavigate","useLocation","state","baseData","setBaseData","branch","retailers","voucherType","staffType","brand","godown","expence","stockItemLedgerName","dialog","setDialog","addProductDialog","importFromSaleOrder","invoiceInfo","setInvoiceInfo","salesInvoiceGeneralInfo","retailerDeliveryAddress","setRetailerDeliveryAddress","retailerDeliveryAddressInfo","invoiceProducts","setInvoiceProduct","invoiceExpences","setInvoiceExpences","staffArray","selectedProductToEdit","setSelectedProductToEdit","dummyRowCount","length","printDialog","setPrintDialog","Do_Id","async","branchResponse","productsResponse","retailerResponse","voucherTypeResponse","uomResponse","staffResponse","staffCategory","godownLocationsResponse","expenceResponse","stockItemLedgerNameResponse","batchDetailsResponse","Promise","all","Company_id","branchData","BranchName","productsData","retailersData","Retailer_Name","Voucher_Type","uomData","staffData","staffCategoryData","godownLocations","expencesMaster","Account_Name","Stock_Item_Ledger_Name","getUniqueData","exp","stringCompare","Type","Id","Acc_Id","Expence_Name","console","error","fetchData","clearValues","item","_arr$find","arguments","undefined","Igst","Cgst","Sgst","Expence_Value","taxPercentage","Addition","taxAmount","Sgst_Amo","sgst_amount","Array","isArray","Products_List","Expence_Array","Staffs_Array","_editValues$key","ISOString","salesInvoiceDetailsInfo","_ref4","_item$key","salesInvoiceExpencesInfo","_ref5","_item$key2","_ref6","_item$key3","Retailer_Id","retailerDetails","ret","retailerAddress","deliveryAddresses","addr","id","deliveryAddressId","deliveryName","phoneNumber","cityName","deliveryAddress","AddProductForm","So_No","Card","window","history","method","bodyData","delivery_id","Product_Array","_data$others","savedDoId","others","message","catch","finally","CardContent","minHeight","height","InvolvedStaffs","ManageSalesInvoiceGeneralInfo","branches","onChangeRetailer","FilterableTable","title","headerFontSizePx","bodyFontSizePx","EnableSerialNumber","disablePagination","ButtonArea","sx","ml","Add","AddProductsInSalesInvoice","retailer","selectedItems","setSelectedItems","ReceiptLong","dataArray","from","d","columns","createCol","isVisible","ColumnHeader","isCustomCell","Cell","_ref7","_ref8","_baseData$godown$find","_baseData$godown$find2","_ref9","Edit","scroll","position","right","top","Close","InvoiceTemplate","ExpencesOfSalesInvoice","expenceMaster","SalesInvoiceTaxDetails","createSvgIcon","SingleInvoice","companyInfo","isPreview","expenses","expencessDetails","_e$expenseName","expenseName","toLowerCase","includes","broker","staffDetails","empType","transport","netAmount","amount","expenseValue","roundOffValue","hsnSummary","list","Map","forEach","p","hsn","hsnCode","amt","set","get","groupHSNSummary","width","margin","boxSizing","src","a5BackgroundImage","alt","left","zIndex","display","padding","fontWeight","fontSize","Company_Name","marginTop","bottom","paddingRight","textAlign","mailingName","Party_Location","mailingAddress","mailingNumber","retailerGstNumber","justifyContent","alignItems","gap","marginLeft","createdOn","Date","toLocaleDateString","voucherTypeGet","voucherNumber","empName","lineHeight","marginBottom","itemName","flexShrink","whiteSpace","overflow","textOverflow","marginRight","quantity","itemRate","billQuantity","NumberFormat","numberToWords","parseInt","parseFloat","toFixed","h","paddingTop","sum","Do_Ids","isCombinedPrint","setData","printRef","useRef","setCompanyInfo","JSON","parse","localStorage","getItem","idsToFetch","printReady","setPrintReady","promises","allData","result","_result$data","fetchAllInvoices","stringify","handlePrint","useReactToPrint","content","current","onAfterPrint","log","flexDirection","Print","ref","invoice","pageBreakAfter"],"sourceRoot":""}