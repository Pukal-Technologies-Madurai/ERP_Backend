"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[7293],{21301(e,a,l){l.r(a),l.d(a,{default:()=>k});var o=l(89379),d=l(65043),s=l(83462),t=l(26600),r=l(35316),i=l(29347),n=l(11906),c=(l(92342),l(27285)),m=l(34625),u=l(3805),v=l(7807),p=l(83806),h=l(7204),T=l(63406),x=l(65074),b=l(97707),j=l(70579);const k=()=>{var e,a;const l=localStorage.getItem("user"),k=JSON.parse(l),A={Emp_Id:"",Project_Id:0,Task_Id:0,from:(0,b.ny)(),to:(0,b.ny)(),EmpGet:"All Employee",ProjectGet:"All Project",TaskGet:"All Task",TaskTypeGet:"",TaskType:""},[_,N]=(0,d.useState)([]),[f,S]=(0,d.useState)({}),[g,y]=(0,d.useState)(!1),[C,I]=(0,d.useState)(A),[E,D]=(0,d.useState)([]),[P,M]=(0,d.useState)([]),[R,G]=(0,d.useState)([]),[w,O]=(0,d.useState)([]);(0,d.useEffect)(()=>{(0,x.z)({address:"taskManagement/task/work/groupd?Emp_Id=".concat(C.Emp_Id,"&Project_Id=").concat(C.Project_Id,"&from=").concat(C.from,"&to=").concat(C.to,"&Task_Id=").concat(C.Task_Id)}).then(e=>{e.success&&N(e.data)}).catch(e=>console.error(e))},[C.Emp_Id,C.Project_Id,C.Task_Id,C.from,C.to]),(0,d.useEffect)(()=>{(0,x.z)({address:"taskManagement/project/dropDown?Company_id=".concat(null===k||void 0===k?void 0:k.Company_id)}).then(e=>{var a;e.success&&D(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.sort((e,a)=>String(null===e||void 0===e?void 0:e.Project_Name).localeCompare(null===a||void 0===a?void 0:a.Project_Name)))}).catch(e=>console.error(e)),(0,x.z)({address:"masters/users/employee/dropDown?Company_id=".concat(null===k||void 0===k?void 0:k.Company_id)}).then(e=>{var a;e.success&&M(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.sort((e,a)=>String(null===e||void 0===e?void 0:e.Name).localeCompare(null===a||void 0===a?void 0:a.Name)))}).catch(e=>console.error(e)),(0,x.z)({address:"taskManagement/task/assignEmployee/task/dropDown"}).then(e=>{var a;e.success&&G(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.sort((e,a)=>String(null===e||void 0===e?void 0:e.Task_Name).localeCompare(null===a||void 0===a?void 0:a.Task_Name)))}).catch(e=>console.error(e)),(0,x.z)({address:"masters/taskType"}).then(e=>{if(e.success&&e.data.length>0){var a;const l=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.sort((e,a)=>String(null===e||void 0===e?void 0:e.Task_Type).localeCompare(null===a||void 0===a?void 0:a.Task_Type));O(l),I(e=>{var a,d;return(0,o.A)((0,o.A)({},e),{},{TaskType:null===(a=l[0])||void 0===a?void 0:a.Task_Type_Id,TaskTypeGet:null===(d=l[0])||void 0===d?void 0:d.Task_Type})})}}).catch(e=>console.error(e))},[null===k||void 0===k?void 0:k.BranchId]);const W=e=>{const[a,l]=e.split(":").map(Number);let o=a%12;o=o||12;const d=a<12?"AM":"PM",s=l<10?"0"+l:l;return"".concat(o<10?"0"+o:o,":").concat(s," ").concat(d)},B=(0,d.useMemo)(()=>{if(!(_.length>0))return[];for(let l=0;l<_.length;l++){var e,a;if(Number(null===(e=_[l])||void 0===e?void 0:e.Task_Type_Id)===Number(null===C||void 0===C?void 0:C.TaskType))return null===(a=_[l])||void 0===a?void 0:a.TASK_GROUP}},[C.TaskType,_]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-xxl-2 col-lg-3 col-md-4 col-sm-4 p-2",children:(0,j.jsx)(h.Ay,{value:{value:null===C||void 0===C?void 0:C.Emp_Id,label:null===C||void 0===C?void 0:C.EmpGet},onChange:e=>I((0,o.A)((0,o.A)({},C),{},{Emp_Id:e.value,EmpGet:e.label})),options:[{value:"",label:"All Employee"},...P.map(e=>({value:e.UserId,label:e.Name}))],styles:T.MR,isSearchable:!0,placeholder:"Employee Name"})}),(0,j.jsx)("div",{className:"col-xxl-2 col-lg-3 col-md-4 col-sm-4 p-2",children:(0,j.jsx)(h.Ay,{value:{value:null===C||void 0===C?void 0:C.Project_Id,label:null===C||void 0===C?void 0:C.ProjectGet},onChange:e=>I((0,o.A)((0,o.A)({},C),{},{Project_Id:e.value,ProjectGet:e.label})),options:[...E.map(e=>({value:e.Project_Id,label:0===Number(e.Project_Id)?"All Project":e.Project_Name}))],styles:T.MR,isSearchable:!0,placeholder:"Project Title"})}),(0,j.jsx)("div",{className:"col-xxl-2 col-lg-3 col-md-4 col-sm-4 p-2",children:(0,j.jsx)(h.Ay,{value:{value:null===C||void 0===C?void 0:C.Task_Id,label:null===C||void 0===C?void 0:C.TaskGet},onChange:e=>I((0,o.A)((0,o.A)({},C),{},{Task_Id:e.value,TaskGet:e.label})),options:[{value:0,label:"All Task"},...R.map(e=>({value:e.Task_Id,label:e.Task_Name}))],styles:T.MR,isSearchable:!0,placeholder:"Select Task"})}),(0,j.jsx)("div",{className:"col-xxl-2 col-lg-3 col-md-4 col-sm-4 p-2",children:(0,j.jsx)(h.Ay,{value:{value:null===C||void 0===C?void 0:C.TaskType,label:null===C||void 0===C?void 0:C.TaskTypeGet},onChange:e=>I((0,o.A)((0,o.A)({},C),{},{TaskType:e.value,TaskTypeGet:e.label})),options:[...w.map(e=>({value:e.Task_Type_Id,label:e.Task_Type}))],styles:T.MR,isSearchable:!0,placeholder:"Select Task Type"})})]}),(0,j.jsxs)("div",{className:"px-3 py-2 calendar",children:[(0,j.jsxs)("h4",{className:"mb-3 text-center text-primary",children:["Task Group - ",null===C||void 0===C?void 0:C.TaskTypeGet]}),(0,j.jsx)(c.A,{plugins:[u.A,p.A,m.A,v.Ay],initialView:"dayGridMonth",initialDate:new Date,events:B.map(e=>({title:null===e||void 0===e?void 0:e.Task_Name,start:new Date(null===e||void 0===e?void 0:e.Work_Dt).toISOString().split("T")[0]+"T"+(null===e||void 0===e?void 0:e.Start_Time),end:new Date(null===e||void 0===e?void 0:e.Work_Dt).toISOString().split("T")[0]+"T"+(null===e||void 0===e?void 0:e.End_Time),objectData:e})),headerToolbar:{left:"prev next",center:"title",right:"timeGridDay, timeGridWeek, dayGridMonth, listMonth"},slotDuration:"00:20:00",slotMinTime:"08:00:00",slotMaxTime:"22:00:00",showNonCurrentDates:!1,editable:!1,selectMirror:!0,eventClick:e=>{const a=e.event.extendedProps.objectData;S(a),y(!0)},datesSet:e=>{I(a=>(0,o.A)((0,o.A)({},a),{},{from:e.startStr.split("T")[0],to:e.endStr.split("T")[0]}))},height:1200})]}),(0,j.jsxs)(s.A,{open:g,maxWidth:"sm",fullWidth:!0,onClose:()=>{y(!1),S({})},children:[(0,j.jsx)(t.A,{className:"fa-18",children:"Work Details"}),(0,j.jsx)(r.A,{className:"pb-0",children:(0,j.jsx)("div",{className:"table-responsive pb-0",children:(0,j.jsx)("table",{className:"table mb-0",children:(0,j.jsxs)("tbody",{children:[(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{className:"border-1 fa-14",children:"EmpName"}),(0,j.jsx)("td",{className:"border-1 fa-14",children:null===f||void 0===f?void 0:f.EmployeeName})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{className:"border-1 fa-14",children:"Task"}),(0,j.jsx)("td",{className:"border-1 fa-14",children:null===f||void 0===f?void 0:f.Task_Name})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{className:"border-1 fa-14",children:"Date"}),(0,j.jsx)("td",{className:"border-1 fa-14",children:(null===f||void 0===f?void 0:f.Work_Dt)&&new Date(null===f||void 0===f?void 0:f.Work_Dt).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"})})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{className:"border-1 fa-14",children:"Start Time"}),(0,j.jsx)("td",{className:"border-1 fa-14",children:(null===f||void 0===f?void 0:f.Start_Time)&&W(null===f||void 0===f?void 0:f.Start_Time)})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{className:"border-1 fa-14",children:"End Time"}),(0,j.jsx)("td",{className:"border-1 fa-14",children:(null===f||void 0===f?void 0:f.End_Time)&&W(null===f||void 0===f?void 0:f.End_Time)})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{className:"border-1 fa-14",children:"Duration"}),(0,j.jsxs)("td",{className:"border-1 fa-14",children:[null===f||void 0===f?void 0:f.Tot_Minutes," ( Minutes )"]})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{className:"border-1 fa-14",children:"Description"}),(0,j.jsx)("td",{className:"border-1 fa-14",children:null===f||void 0===f?void 0:f.Work_Done})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{className:"border-1 fa-14",children:"Status"}),(0,j.jsx)("td",{className:"border-1 fa-14",children:null===f||void 0===f?void 0:f.WorkStatus})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{className:"border-1 fa-14",children:"Project"}),(0,j.jsx)("td",{className:"border-1 fa-14",children:null===f||void 0===f?void 0:f.Project_Name})]}),(null===f||void 0===f||null===(e=f.Work_Param)||void 0===e?void 0:e.length)>0&&(0,j.jsx)("tr",{children:(0,j.jsx)("td",{colSpan:2,className:"border-1 fa-14 text-center text-uppercase",children:"Parameter Values"})}),null===f||void 0===f||null===(a=f.Work_Param)||void 0===a?void 0:a.map((e,a)=>(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{className:"border-1 fa-14",children:null===e||void 0===e?void 0:e.Paramet_Name}),(0,j.jsx)("td",{className:"border-1 fa-14",children:isNaN(null===e||void 0===e?void 0:e.Current_Value)||"number"!==(null===e||void 0===e?void 0:e.Paramet_Data_Type)?null===e||void 0===e?void 0:e.Current_Value:Number(null===e||void 0===e?void 0:e.Current_Value).toLocaleString("en-IN")})]},a))]})})})}),(0,j.jsx)(i.A,{children:(0,j.jsx)(n.A,{onClick:()=>{y(!1),S({})},children:"close"})})]})]})}},63406(e,a,l){l.d(a,{zU:()=>r,ex:()=>i,MR:()=>t,Ap:()=>s,FX:()=>n});var o=l(89379);const d=l.p+"static/media/smt.aa4d4f940bbebff07a57.png",s={table:{style:{width:"auto",backgroundColor:"transparent"}},rows:{style:{backgroundColor:"transparent"}},headCells:{style:{backgroundColor:"#6b9080f8",color:"white",fontSize:"14px"}}},t={menu:(e,a)=>(0,o.A)((0,o.A)({},e),{},{zIndex:9999}),menuPortal:e=>(0,o.A)((0,o.A)({},e),{},{zIndex:9999}),groupHeading:e=>(0,o.A)((0,o.A)({},e),{},{backgroundColor:"#f5f5f5",color:"#333",fontWeight:"bold",fontSize:"14px",padding:"8px 12px",borderBottom:"1px solid #ddd",textTransform:"uppercase"}),option:(e,a)=>(0,o.A)((0,o.A)({},e),{},{backgroundColor:a.isSelected?"#2684FF":a.isFocused?"#E2ECF9":"white",color:a.isSelected?"white":"#333",padding:"10px 12px"})},r=[{id:1,headname:"Menu ID",variant:"head",align:"left",width:100},{id:2,headname:"MenuName"},{id:3,headname:"Read Rights"},{id:4,headname:"Add Rights"},{id:5,headname:"Edit Rights"},{id:6,headname:"Delete Rights"},{id:7,headname:"Print Rights"},{id:8,headname:"Action"}],i=[{dataBase:1,name:"SHANKAR TRADERS",business:"Wholesale Merchant in Dhall",address:"32, Chitrakara Street, Madurai - 01 <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:d,gstin:"33AADFS6973R1ZD",phone:"984-313-1353, 984-335-5166",fssai:"12418012000818",bankAccount:"0021 5032 0885 122",ifsc:"TMBL0000002"},{dataBase:2,name:"SMT AGRO PRODUCTS",business:"",address:"H.O: 153, Chitrakara Street, 2nd Floor, Madurai -01 <br /> G.O: 746 Puliyur, Sayanapuram, Svga <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:d,gstin:"33ACMFS3420Q1ZQ",phone:"0452-4371625",fssai:"12418012000818",bankAccount:"0025 3031 0875 947",ifsc:"TMBL0000002"},{dataBase:3,name:"BHAVANI TRADERS",business:"",address:"H.O: 152-A, Chitrakara Street, Madurai -01 <br /> G.O: 30/1-Rajman Nagar, Chintamani Main Road, Mdu-01 <br /> Tax Invoice",logo:d,gstin:"33AAEFB6728J1ZG",phone:"958-559-7641, 958-559-7614",fssai:"12418012000670",bankAccount:"0021 5005 0800 309",ifsc:"TMBL0000002"}],n=[{name:"PURCHASE_ORDER"},{name:"PURCHASE_INVOICE"},{name:"SALE_ORDER"},{name:"SALE_INVOICE"},{name:"JOURNAL"},{name:"STOCK_JOURNAL"},{name:"PAYMENT"},{name:"RECEIPT"},{name:"CONTRA"}]}}]);
//# sourceMappingURL=7293.31160d76.chunk.js.map