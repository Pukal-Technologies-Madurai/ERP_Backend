"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[7699],{5933:(e,l,a)=>{a.d(l,{A:()=>u});var s=a(89379),d=a(97707),i=a(48471),t=a(65043),n=a(20656),o=a(63406),r=a(65074),c=a(70579);const u=e=>{let{loadingOn:l,loadingOff:a,Fromdate:u,Todate:v,retailerId:m}=e;const[h,p]=(0,t.useState)([]),[x,_]=(0,t.useState)([]),[j,N]=(0,t.useState)({customer:{value:"",label:"Select Retailer"}});(0,t.useEffect)(()=>{(0,r.z)({address:"masters/retailers/whoHasClosingStock"}).then(e=>{e.success&&p(e.data)}).catch(e=>console.error(e))},[]),(0,t.useEffect)(()=>{const e=m||(null===j||void 0===j?void 0:j.customer.value);e&&(0,r.z)({address:"reports/customerClosingStock/retailerBased/detailedInfo?\n                Retailer_Id=".concat(e,"&\n                Fromdate=").concat(u,"&\n                Todate=").concat(v),loadingOn:l,loadingOff:a}).then(e=>{e.success&&_((0,d.$r)(null===e||void 0===e?void 0:e.data))}).catch(e=>console.error(e))},[null===j||void 0===j?void 0:j.customer.value,u,v,m]);const I=[(0,i.Lj)("Product_Name","string"),(0,i.Lj)("deliveryDisplayDate","string","Entry Date"),(0,i.Lj)("closingDisplayDate","string","Update Date"),(0,i.Lj)("entryDays","number","Entry Days"),(0,i.Lj)("updateDays","number","Update Days"),(0,i.Lj)("stockQuantityOfItem","number"," Quantity"),(0,i.Lj)("stockRateOfItem","number","Rate"),(0,i.Lj)("stockValueOfItem","number","Stock-Value")],g=((0,i.Lj)("Brand_Name","string","Brand"),(0,i.Lj)("entryDate","string","Entry Date"),(0,i.Lj)("updateDate","string","Update Date"),(0,i.Lj)("entryDays","number","Entry Days"),(0,i.Lj)("updateDays","number","Update Days"),(0,i.Lj)("totalQty","number"," Quantity"),(0,i.Lj)("totalValue","number","Stock-Value"),(0,t.useMemo)(()=>(0,d.jG)(x.reduce((e,l)=>(0,d.Lr)(e,l.stockValueOfItem),0)),[x])),b=(0,t.useMemo)(()=>{let e=" Stock value: \u20b9"+g;return(0,d.gf)(m)&&(e+=" \t From "+(0,d.yc)(u)+" \t To "+(0,d.yc)(v)),e},[m,g]);return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(i.Ay,{title:b,headerFontSizePx:12,bodyFontSizePx:12,ButtonArea:(0,c.jsx)(c.Fragment,{children:!(0,d.gf)(m)&&(0,c.jsx)("div",{style:{minWidth:"360px",marginRight:"10px"},children:(0,c.jsx)(n.Ay,{value:j.customer,onChange:e=>{N((0,s.A)((0,s.A)({},j),{},{customer:e}))},options:[...h.map(e=>({value:null===e||void 0===e?void 0:e.Retailer_Id,label:null===e||void 0===e?void 0:e.Retailer_Name}))],menuPortalTarget:document.body,styles:o.MR,isSearchable:!0,placeholder:"Retailer Name",filterOption:d.GI})})}),EnableSerialNumber:!0,dataArray:x,columns:I})})}},10489:(e,l,a)=>{a.d(l,{A:()=>r});a(65043);var s=a(83462),d=a(26600),i=a(35316),t=a(29347),n=a(11906),o=a(70579);const r=e=>{let{open:l=!1,onClose:a,children:r,title:c,onSubmit:u,submitText:v="Submit",closeText:m="Close",maxWidth:h="sm",fullWidth:p=!0,isSubmit:x=!1,startAction:_}=e;return(0,o.jsxs)(s.A,{open:l,onClose:a,fullWidth:p,maxWidth:h,children:[c&&(0,o.jsx)(d.A,{children:c}),(0,o.jsx)(i.A,{children:r}),(0,o.jsxs)(t.A,{className:"".concat(_?"d-flex justify-content-between":""),children:[_&&(0,o.jsx)("div",{children:_}),(0,o.jsxs)("div",{children:[(0,o.jsx)(n.A,{onClick:a,children:m}),u&&(0,o.jsx)(n.A,{variant:"contained",onClick:u,type:x?"submit":"button",className:"ms-2",children:v})]})]})]})}},18584:(e,l,a)=>{a.d(l,{A:()=>i});var s=a(59662),d=a(70579);const i=(0,s.A)((0,d.jsx)("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"}),"Done")},24651:(e,l,a)=>{a.d(l,{A:()=>t});var s=a(89379),d=a(97707),i=a(70579);const t=e=>{let{IS_IGST:l,invoiceInfo:a={},setInvoiceInfo:t,invExpencesTotal:n,Total_Invoice_value:o,taxSplitUp:r}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("table",{className:"table",children:(0,i.jsxs)("tbody",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsxs)("td",{className:"border p-2",rowSpan:l?5:6,children:["Total in words: ",(0,d.GF)(parseInt(o))]}),(0,i.jsx)("td",{className:"border p-2",children:"Total Taxable Amount"}),(0,i.jsx)("td",{className:"border p-2",children:(0,d.Ro)(null===r||void 0===r?void 0:r.totalTaxable)})]}),l?(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{className:"border p-2",children:"IGST"}),(0,i.jsx)("td",{className:"border p-2",children:(0,d.Ro)(null===r||void 0===r?void 0:r.igst)})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{className:"border p-2",children:"CGST"}),(0,i.jsx)("td",{className:"border p-2",children:(0,d.Ro)(null===r||void 0===r?void 0:r.cgst)})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{className:"border p-2",children:"SGST"}),(0,i.jsx)("td",{className:"border p-2",children:(0,d.Ro)(null===r||void 0===r?void 0:r.sgst)})]})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{className:"border p-2",children:"Total Expences"}),(0,i.jsx)("td",{className:"border p-2",children:(0,d.e3)(n)})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{className:"border p-2",children:"Round Off"}),(0,i.jsx)("td",{className:"border p-0",children:(0,i.jsx)("input",{value:(null===a||void 0===a?void 0:a.Round_off)||(null===r||void 0===r?void 0:r.roundOff)||0,className:"cus-inpt p-2 m-0 border-0",onInput:d.rV,onChange:e=>t(l=>(0,s.A)((0,s.A)({},l),{},{Round_off:parseFloat(e.target.value)||0}))})})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{className:"border p-2",children:"Total"}),(0,i.jsx)("td",{className:"border p-2",children:(0,d.jG)(Math.round(o))})]})]})})})}},33438:(e,l,a)=>{a.d(l,{A:()=>i});var s=a(59662),d=a(70579);const i=(0,s.A)((0,d.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},34104:(e,l,a)=>{a.d(l,{A:()=>_,K:()=>x});var s=a(89379),d=a(65043),i=a(97707),t=a(83462),n=a(26600),o=a(17392),r=a(35316),c=a(11906),u=a(65074),v=a(18584),m=a(97280),h=a(14844),p=(a(63406),a(70579));const x=(e,l,a)=>{var s;const d=null===(s=(0,i.$r)(a).find(a=>(0,i.id)(null===a||void 0===a?void 0:a.Product_Id,e)&&(0,i.id)(null===a||void 0===a?void 0:a.Godown_Id,l)))||void 0===s?void 0:s.Act_Bal_Qty;return(0,i.Ro)(d)},_=e=>{let{loadingOn:l,loadingOff:a,open:_,onClose:j,retailer:N,children:I,selectedItems:g=[],setSelectedItems:b,staffArray:A=[],setStaffArray:y,products:f=[],GST_Inclusive:S,IS_IGST:C,invoiceInfo:T={},setInvoiceInfo:D,godowns:R=[],stockInGodown:G=[]}=e;const w=(0,i.id)(S,1),E=(0,i.id)(S,2),[P,L]=(0,d.useState)([]),[k,O]=(0,d.useState)({Fromdate:(0,i.ny)(),Todate:(0,i.ny)(),search:!1,Godown:{value:"",label:"Select Godown For Stock Details"}});(0,d.useEffect)(()=>{if((0,i.IQ)(N)&&_){const{Fromdate:e,Todate:s}=k;l&&l(),(0,u.z)({address:"sales/saleOrder?Fromdate=".concat(e,"&Todate=").concat(s,"&Retailer_Id=").concat(N)}).then(e=>{e.success?L(e.data):L([])}).catch(e=>console.error(e)).finally(()=>{a&&a()})}},[k.search]);const F=function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(arguments.length>2?arguments[2]:void 0)return D(e=>(0,s.A)((0,s.A)({},e),{},{So_No:""})),void b([]);D(l=>(0,s.A)((0,s.A)({},l),{},{So_No:Number(null===e||void 0===e?void 0:e.So_Id)})),b(a=>{const s=[...a];return(0,i.$r)(null===e||void 0===e?void 0:e.Products_List).map((e,a)=>Object.fromEntries(Object.entries(m.a4).map(d=>{var t,n,o,r,c,u,v,m;let[p,x]=d;const _=(e=>{var l;return null!==(l=null===f||void 0===f?void 0:f.find(l=>(0,i.id)(null===l||void 0===l?void 0:l.Product_Id,e)))&&void 0!==l?l:{}})(e.Item_Id),j=C?_.Igst_P:_.Gst_P,N=j>0,{Item_Rate:I,Bill_Qty:g,Amount:b}=e,A=E?"zerotax":w?"remove":"add",y=(0,h.v)(I,j,A),S=(0,h.v)(b,j,A),T=C?0:S.cgst_per,D=C?S.igst_per:0,R=C?0:S.cgst_amount,G=C?S.igst_amount:0;switch(p){case"rowId":return[p,(0,i.aG)()];case"S_No":return[p,null!==(t=a+1)&&void 0!==t?t:x];case"Item_Id":return[p,null!==(n=e.Item_Id)&&void 0!==n?n:x];case"Item_Name":return[p,null!==(o=null===_||void 0===_?void 0:_.Product_Name)&&void 0!==o?o:x];case"Item_Rate":return[p,(0,i.Ro)(I)];case"Bill_Qty":case"Act_Qty":case"Alt_Act_Qty":case"Total_Qty":return[p,(0,i.Ro)(g)];case"Amount":return[p,b];case"HSN_Code":return[p,null!==(r=_.HSN_Code)&&void 0!==r?r:x];case"Unit_Id":return[p,null!==(c=e.Unit_Id)&&void 0!==c?c:x];case"Act_unit_Id":return[p,null!==(u=e.Unit_Id)&&void 0!==u?u:x];case"Alt_Act_Unit_Id":return[p,null!==(v=e.Unit_Id)&&void 0!==v?v:x];case"Unit_Name":return[p,null!==(m=e.Units)&&void 0!==m?m:x];case"GoDown_Id":{var P;const a=(0,i.IQ)(null===l||void 0===l?void 0:l.Godown_Id),d=(0,i.IQ)(null===l||void 0===l?void 0:l.Item_Id),t=(0,i.id)(null===e||void 0===e?void 0:e.Item_Id,null===l||void 0===l?void 0:l.Item_Id),n=null===(P=s.find(l=>(0,i.id)(l.Item_Id,null===e||void 0===e?void 0:e.Item_Id)))||void 0===P?void 0:P.GoDown_Id;return[p,a&&d&&t?l.Godown_Id:(0,i.IQ)(n)?n:x]}case"Taxable_Rate":return[p,y.base_amount];case"Taxble":return[p,N?1:0];case"Taxable_Amount":return[p,S.base_amount];case"Tax_Rate":return[p,j];case"Cgst":case"Sgst":return[p,null!==T&&void 0!==T?T:0];case"Cgst_Amo":case"Sgst_Amo":return[p,E?0:R];case"Igst":return[p,null!==D&&void 0!==D?D:0];case"Igst_Amo":return[p,E?0:G];case"Final_Amo":return[p,S.with_tax];default:return[p,x]}})))});const a=[...new Map((0,i.$r)(null===e||void 0===e?void 0:e.Staff_Involved_List).filter(e=>!A.some(l=>(0,i.id)(l.Emp_Id,e.Involved_Emp_Id))).map(e=>[e.Involved_Emp_Id,e])).values()];a.length>0&&y(e=>[...e,...a.map(e=>Object.fromEntries(Object.entries(m.Ud).map(l=>{let[a,s]=l;switch(a){case"Emp_Id":return[a,null===e||void 0===e?void 0:e.Involved_Emp_Id];case"Emp_Name":return[a,null===e||void 0===e?void 0:e.EmpName];case"Emp_Type_Id":return[a,null===e||void 0===e?void 0:e.Cost_Center_Type_Id];default:return[a,s]}})))])},V=()=>{j&&j(),L([])};return(0,p.jsxs)(p.Fragment,{children:[I,(0,p.jsxs)(t.A,{open:_,onClose:V,fullScreen:!0,children:[(0,p.jsx)(n.A,{children:(0,p.jsxs)("div",{className:"d-flex flex-wrap align-items-center ",children:[(0,p.jsx)("span",{className:"flex-grow-1",children:"Select Sale Order"}),(0,p.jsx)(o.A,{onClick:V,color:"success",children:(0,p.jsx)(v.A,{className:"fa-20"})})]})}),(0,p.jsxs)(r.A,{children:[(0,p.jsxs)("div",{className:"d-flex flex-wrap align-items-end",children:[(0,p.jsxs)("div",{className:"p-2",children:[(0,p.jsx)("label",{className:"d-block ms-2",children:"From Date"}),(0,p.jsx)("input",{className:"cus-inpt p-2 w-auto",type:"date",value:null===k||void 0===k?void 0:k.Fromdate,onChange:e=>O(l=>(0,s.A)((0,s.A)({},l),{},{Fromdate:e.target.value})),required:!0})]}),(0,p.jsxs)("div",{className:"p-2",children:[(0,p.jsx)("label",{className:"d-block ms-2",children:"To Date"}),(0,p.jsx)("input",{className:"cus-inpt p-2 w-auto",type:"date",min:k.Fromdate,value:null===k||void 0===k?void 0:k.Todate,onChange:e=>O(l=>(0,s.A)((0,s.A)({},l),{},{Todate:e.target.value})),required:!0})]}),(0,p.jsx)("div",{className:"p-2",children:(0,p.jsx)(c.A,{variant:"outlined",type:"button",onClick:()=>O(e=>(0,s.A)((0,s.A)({},e),{},{search:!e.search})),children:"search"})})]}),(0,p.jsx)("br",{}),P.map((e,l)=>{const{So_Inv_No:a,So_Date:s,VoucherTypeGet:d,Branch_Name:t,Sales_Person_Name:n,Total_Tax:o,Total_Invoice_value:r,Products_List:c}=e,u=(0,i.id)(null===T||void 0===T?void 0:T.So_No,e.So_Id);return(0,p.jsx)("div",{className:"container-fluid",children:(0,p.jsxs)("div",{className:"\n                                        invoice-card bg-white p-4 shadow-sm mb-4 border rounded  \n                                        ".concat(u?" border-primary ":"","\n                                        "),children:[(0,p.jsxs)("h5",{className:"d-flex align-items-center flex-wrap",children:[(0,p.jsx)("span",{className:"me-2",children:(0,p.jsx)("input",{className:"form-check-input shadow-none pointer",style:{padding:"0.7em"},type:"checkbox",checked:u,onChange:()=>{F(e,null,!!u)}})}),(0,p.jsxs)("span",{children:["Invoice No: ",(0,p.jsx)("span",{className:"text-primary",children:a})]})]}),(0,p.jsxs)("div",{className:"invoice-header d-flex justify-content-between flex-wrap border-bottom pb-3 mb-3",children:[(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("strong",{children:"Invoice Date:"})," ",(0,i.yc)(s)]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("strong",{children:"Voucher Type:"})," ",d]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("strong",{children:"Branch:"})," ",t]})]}),(0,p.jsxs)("div",{className:"text-end",children:[(0,p.jsxs)("h5",{className:"mt-2",children:[(0,p.jsx)("strong",{children:"Total Invoice:"})," \u20b9",r]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("strong",{children:"Tax:"})," \u20b9",o]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("strong",{children:"Salesperson:"})," ",n]})]})]}),(0,p.jsx)("div",{className:"table-responsive",children:(0,p.jsxs)("table",{className:"table table-bordered table-striped product-table",children:[(0,p.jsx)("thead",{className:"table-light",children:(0,p.jsx)("tr",{children:["#","Product","Qty","Rate","Amount","Tax %","Final Amount","Godown"].map((e,l)=>(0,p.jsx)("th",{style:{minWidth:"150px",maxWidth:"160px"},children:e},l))})}),(0,p.jsx)("tbody",{children:c.map((l,a)=>{var s;return(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:a+1}),(0,p.jsx)("td",{children:l.Product_Name}),(0,p.jsxs)("td",{children:[l.Bill_Qty,(0,i.IQ)(k.Godown.value)&&" (Bal: "+x(l.Item_Id,k.Godown.value,G)+") "]}),(0,p.jsxs)("td",{children:["\u20b9",l.Item_Rate]}),(0,p.jsxs)("td",{children:["\u20b9",l.Amount]}),(0,p.jsxs)("td",{children:[l.Tax_Rate,"%"]}),(0,p.jsxs)("td",{children:["\u20b9",l.Final_Amo]}),(0,p.jsx)("td",{children:(0,p.jsxs)("select",{disabled:!u,className:"cus-inpt p-2",value:null===(s=(0,i.$r)(R).find(e=>(0,i.$r)(g).find(a=>(0,i.id)(a.Item_Id,null===l||void 0===l?void 0:l.Item_Id)&&u&&(0,i.id)(null===e||void 0===e?void 0:e.Godown_Id,null===a||void 0===a?void 0:a.GoDown_Id))))||void 0===s?void 0:s.Godown_Id,onChange:a=>F(e,{Godown_Id:a.target.value,Item_Id:null===l||void 0===l?void 0:l.Item_Id},!1),children:[(0,p.jsx)("option",{value:"",disabled:!0,children:"Select"}),(0,p.jsx)("optgroup",{label:"Stock-Available-Godown",children:(0,i.$r)(R).filter(e=>(0,i.$r)(G).some(a=>(0,i.id)(null===a||void 0===a?void 0:a.Godown_Id,null===e||void 0===e?void 0:e.Godown_Id)&&(0,i.id)(null===l||void 0===l?void 0:l.Item_Id,null===a||void 0===a?void 0:a.Product_Id))).map((e,a)=>(0,p.jsx)("option",{value:null===e||void 0===e?void 0:e.Godown_Id,children:(null===e||void 0===e?void 0:e.Godown_Name)+" (Bal: "+x(null===l||void 0===l?void 0:l.Item_Id,null===e||void 0===e?void 0:e.Godown_Id,G)+")"},a))}),(0,p.jsx)("optgroup",{label:"Other-Godown",children:(0,i.$r)(R).filter(e=>!(0,i.$r)(G).some(a=>(0,i.id)(null===a||void 0===a?void 0:a.Godown_Id,null===e||void 0===e?void 0:e.Godown_Id)&&(0,i.id)(null===l||void 0===l?void 0:l.Item_Id,null===a||void 0===a?void 0:a.Product_Id))).map((e,l)=>(0,p.jsx)("option",{value:null===e||void 0===e?void 0:e.Godown_Id,children:null===e||void 0===e?void 0:e.Godown_Name},l))})]})})]},l.SO_St_Id)})})]})}),(0,p.jsx)("div",{className:"invoice-summary border-top pt-3 mt-3 text-end"})]})},l)})]})]})]})}},35786:(e,l,a)=>{a.d(l,{A:()=>p});var s=a(89379),d=a(12110),i=a(11906),t=a(17392),n=a(97707),o=a(97280),r=a(63406),c=a(51387),u=a(20656),v=a(14844),m=a(65043),h=a(70579);const p=e=>{let{invoiceExpences:l=[],setInvoiceExpences:a,expenceMaster:p=[],IS_IGST:x,taxType:_,Total_Invoice_value:j=0,invoiceProducts:N=[],findProductDetails:I,products:g=[]}=e;const b=(0,m.useMemo)(()=>{const e=N.reduce((e,l)=>{var a;const s=null===l||void 0===l?void 0:l.Alt_Act_Qty,d=(0,n.Ro)(null===(a=I(g,null===l||void 0===l?void 0:l.Item_Id))||void 0===a?void 0:a.Coolie),i=(0,n.JH)(d,s);return(0,n.Lr)(e,i)},0);return e},[N]);return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(d.A,{children:[(0,h.jsxs)("div",{className:"d-flex align-items-center justify-content-between flex-wrap px-3 py-2",children:[(0,h.jsx)("h5",{className:"m-0",children:"Expenses"}),(0,h.jsx)(i.A,{variant:"outlined",type:"button",onClick:()=>{a(e=>[...e,(0,s.A)((0,s.A)({},o.ju),{},{Sno:e.length})])},children:"Add"})]}),(0,h.jsx)("div",{className:"table-responsive",children:(0,h.jsxs)("table",{className:"table table-bordered m-0",children:[(0,h.jsx)("thead",{className:"table-light",children:(0,h.jsx)("tr",{children:["S.No","Expense","Expense Value","Action"].map((e,l)=>(0,h.jsx)("th",{className:"fa-13 bg-light",children:e},l))})}),(0,h.jsxs)("tbody",{style:{fontSize:"13px"},children:[l.map((e,d)=>{var i;const o=(null===(i=p.find(l=>(0,n.id)(l.Id,null===e||void 0===e?void 0:e.Expense_Id)))||void 0===i?void 0:i.Expence_Name)||"";return(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:d+1}),(0,h.jsx)("td",{className:"p-0 vctr",style:{minWidth:"180px"},children:(0,h.jsx)(u.Ay,{value:{value:null===e||void 0===e?void 0:e.Expense_Id,label:o},onChange:e=>((e,l)=>{const d=p.find(e=>(0,n.id)(e.Id,l.value))||{};if(console.log(d),(0,n.xL)(null===d||void 0===d?void 0:d.Expence_Name,"COOLIE EXPENSES"))a(l=>l.map((l,a)=>a!==e?l:(0,s.A)((0,s.A)({},l),{},{Expense_Id:d.Id,Expence_Value:(0,n.e3)(b)})));else{const l=(0,n.gf)(null===d||void 0===d?void 0:d.percentageValue)?(0,n.Nj)(j,d.percentageValue):0;a(a=>a.map((a,i)=>i!==e?a:(0,s.A)((0,s.A)({},a),{},{Expense_Id:d.Id,Expence_Value:(0,n.e3)(l)})))}})(d,e),options:p.filter(a=>!!(0,n.id)(a.Id,null===e||void 0===e?void 0:e.Expense_Id)||!l.some((e,l)=>l!==d&&(0,n.id)(e.Expense_Id,a.Id))).map(e=>({value:e.Id,label:e.Expence_Name})),styles:r.MR,menuPortalTarget:document.body,isSearchable:!0,placeholder:"Select Expense",filterOption:n.GI})}),(0,h.jsx)("td",{className:"p-0 vctr",children:(0,h.jsx)("input",{onInput:n.rV,className:"cus-inpt p-2 border-0",value:e.Expence_Value||"",disabled:!(0,n.IQ)(e.Expense_Id),onChange:e=>{((e,l,d)=>{a(a=>a.map((a,i)=>{if(i!==e)return a;const t=(0,s.A)((0,s.A)({},a),{},{[l]:d});if("Expence_Value"===l){const e=a.Cgst?(0,n.Ro)(a.Cgst):0,l=a.Sgst?(0,n.Ro)(a.Sgst):0,s=a.Igst?(0,n.Ro)(a.Igst):0,i=(0,n.Ro)(d),o=x?s:(0,n.Lr)(e,l),r=(0,v.v)(i,o,_);t.Cgst_Amo=e>0&&!x?r.cgst_amount:0,t.Sgst_Amo=l>0&&!x?r.sgst_amount:0,t.Igst_Amo=s>0&&x?r.igst_amount:0}if("Igst"===l){const e=x?(0,n.Ro)(d):0,l=x?0:(0,n.SX)((0,n.Ro)(d),2),s=x?0:(0,n.SX)((0,n.Ro)(d),2),i=(0,n.Ro)(a.Expence_Value),o=x?e:(0,n.Lr)(l,s),r=(0,v.v)(i,o,_);t.Cgst=l,t.Sgst=s,t.Cgst_Amo=l>0?r.cgst_amount:0,t.Sgst_Amo=s>0?r.sgst_amount:0,t.Igst_Amo=e>0?r.igst_amount:0}return t}))})(d,"Expence_Value",e.target.value)}})}),(0,h.jsx)("td",{className:"p-0 vctr  text-center ",children:(0,h.jsx)(t.A,{onClick:()=>(e=>{a(l=>l.filter((l,a)=>a!==e))})(d),size:"small",children:(0,h.jsx)(c.A,{color:"error",fontSize:"small"})})})]},d)}),0===l.length&&(0,h.jsx)("tr",{children:(0,h.jsx)("td",{className:"text-center",colSpan:6,children:"No rows"})})]})]})})]})})}},79399:(e,l,a)=>{a.d(l,{A:()=>N});var s=a(89379),d=a(20656),i=a(63406),t=a(97707),n=a(14792),o=a(97280),r=a(65043),c=a(81e3),u=a(59395),v=a(24056),m=a(70579);const h=e=>{let{tabData:l=[],defaultTab:a=0}=e;const s=a>=0&&a<l.length?a:0,[d,i]=(0,r.useState)(s);return(0,r.useEffect)(()=>{i(s)},[s]),l.length?(0,m.jsxs)(c.A,{children:[(0,m.jsx)(u.A,{value:d,onChange:(e,l)=>i(l),indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto",children:l.map((e,l)=>(0,m.jsx)(v.A,{label:e.label,disabled:e.disabled,id:"app-tab-".concat(l),"aria-controls":"app-tabpanel-".concat(l)},e.key||l))}),l.map((e,l)=>(0,m.jsx)("div",{role:"tabpanel",hidden:d!==l,id:"app-tabpanel-".concat(l),"aria-labelledby":"app-tab-".concat(l),children:d===l&&(0,m.jsx)(c.A,{children:e.children})},e.key||l))]}):null};var p=a(5933),x=a(10489),_=a(17392);const j=(0,a(59662).A)((0,m.jsx)("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"InfoOutlined"),N=e=>{var l;let{invoiceInfo:a={},setInvoiceInfo:c,retailers:u=[],voucherType:v=[],branches:N=[],stockItemLedgerName:I=[],retailerDeliveryAddress:g=o.zA,setRetailerDeliveryAddress:b,shippingAddress:A=o.zA,setShippingAddress:y,onChangeRetailer:f,retailerSalesStatus:S={},staffArray:C=[],setStaffArray:T,loadingOn:D,loadingOff:R}=e;const G="cus-inpt p-2",[w,E]=(0,r.useState)(!1),P=(0,t.IQ)(null===a||void 0===a?void 0:a.Retailer_Id)&&!(0,t.id)(null===a||void 0===a?void 0:a.Retailer_Id,0),L=(0,r.useMemo)(()=>(0,t.$r)(u).find(e=>(0,t.id)(e.Retailer_Id,null===a||void 0===a?void 0:a.Retailer_Id))||{},[null===a||void 0===a?void 0:a.Retailer_Id]),k=(e,l)=>{const a=(0,t.$r)(null===L||void 0===L?void 0:L.deliveryAddresses).find(a=>(0,t.xL)(a[e],l));a?((0,o.vD)(a,b),(0,o.vD)(a,y)):(b(a=>(0,s.A)((0,s.A)({},a),{},{[e]:l,id:null})),y(a=>(0,s.A)((0,s.A)({},a),{},{[e]:l,id:null})))},O=(e,l)=>{const a=(0,t.$r)(null===L||void 0===L?void 0:L.deliveryAddresses).find(a=>(0,t.xL)(a[e],l));a?(0,o.vD)(a,y):y(a=>(0,s.A)((0,s.A)({},a),{},{[e]:l,id:null}))};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"row",children:(0,m.jsx)(h,{tabData:[{label:"General Info",children:(0,m.jsxs)("div",{className:"row",children:[(0,m.jsxs)("div",{className:"col-sm-8 p-2",children:[(0,m.jsxs)("label",{className:"fa-13",children:["Party Name ",(0,m.jsx)(n.A,{})]}),(0,m.jsxs)("div",{className:"d-flex",children:[(0,m.jsx)("div",{className:"flex-grow-1",children:(0,m.jsx)(d.Ay,{value:{value:null===a||void 0===a?void 0:a.Retailer_Id,label:null===a||void 0===a?void 0:a.Retailer_Name},onChange:e=>{c(l=>(0,s.A)((0,s.A)({},l),{},{Retailer_Id:e.value,Retailer_Name:e.label})),f&&f()},options:[{value:"",label:"Search",isDisabled:!0},...(0,t.$r)(u).map(e=>({value:null===e||void 0===e?void 0:e.Retailer_Id,label:null===e||void 0===e?void 0:e.Retailer_Name}))],styles:i.MR,isSearchable:!0,placeholder:"Select Vendor",maxMenuHeight:300,filterOption:t.GI,isDisabled:(0,t.gf)(null===a||void 0===a?void 0:a.So_No)})}),(0,m.jsx)(_.A,{onClick:()=>E(!0),disabled:!(0,t.gf)(null===a||void 0===a?void 0:a.Retailer_Id),children:(0,m.jsx)(j,{})})]})]}),(0,m.jsxs)("div",{className:"col-sm-4 p-2",children:[(0,m.jsxs)("label",{className:"fa-13",children:["Voucher Type ",(0,m.jsx)(n.A,{})]}),(0,m.jsx)(d.Ay,{value:{value:a.Voucher_Type,label:null===(l=(0,t.$r)(v).find(e=>(0,t.id)(e.Vocher_Type_Id,a.Voucher_Type)))||void 0===l?void 0:l.Voucher_Type},onChange:e=>c(l=>(0,s.A)((0,s.A)({},l),{},{Voucher_Type:e.value})),options:[{value:"",label:"Search",isDisabled:!0},...(0,t.$r)(v).filter(e=>"SALES"===(null===e||void 0===e?void 0:e.Type)).map(e=>({value:null===e||void 0===e?void 0:e.Vocher_Type_Id,label:null===e||void 0===e?void 0:e.Voucher_Type}))],styles:i.MR,isSearchable:!0,required:!0,placeholder:"Select Voucher Type",maxMenuHeight:300,filterOption:t.GI,isDisabled:(0,t.gf)(a.Do_Id)})]}),!1===S.invoiceCreationStatus&&(0,m.jsx)("div",{className:"col-12 alert alert-danger p-2",children:"The retailer has exceeded the credit limit or credit days."}),(0,m.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,m.jsxs)("label",{className:"fa-13",children:["Entry Date ",(0,m.jsx)(n.A,{})]}),(0,m.jsx)("input",{value:(null===a||void 0===a?void 0:a.Do_Date)||"",type:"date",required:!0,className:G,onChange:e=>c(l=>(0,s.A)((0,s.A)({},l),{},{Do_Date:e.target.value}))})]}),(0,m.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,m.jsxs)("label",{className:"fa-13",children:["Branch ",(0,m.jsx)(n.A,{})]}),(0,m.jsxs)("select",{className:G,value:null===a||void 0===a?void 0:a.Branch_Id,required:!0,onChange:e=>c(l=>(0,s.A)((0,s.A)({},l),{},{Branch_Id:e.target.value})),children:[(0,m.jsx)("option",{value:"",children:"select"}),N.map((e,l)=>(0,m.jsx)("option",{value:null===e||void 0===e?void 0:e.BranchId,children:null===e||void 0===e?void 0:e.BranchName},l))]})]}),(0,m.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,m.jsxs)("label",{className:"fa-13",children:["GST Type ",(0,m.jsx)(n.A,{})]}),(0,m.jsxs)("select",{className:G,onChange:e=>c(l=>(0,s.A)((0,s.A)({},l),{},{GST_Inclusive:Number(e.target.value)})),value:a.GST_Inclusive,required:!0,children:[(0,m.jsx)("option",{value:1,children:"Inclusive Tax"}),(0,m.jsx)("option",{value:0,children:"Exclusive Tax"}),(0,m.jsx)("option",{value:2,children:"Not Taxable"})]})]}),(0,m.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,m.jsx)("label",{className:"fa-13",children:"Tax Type"}),(0,m.jsxs)("select",{className:G,onChange:e=>c(l=>(0,s.A)((0,s.A)({},l),{},{IS_IGST:Number(e.target.value)})),value:a.IS_IGST,children:[(0,m.jsx)("option",{value:"0",children:"GST"}),(0,m.jsx)("option",{value:"1",children:"IGST"})]})]}),(0,m.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,m.jsx)("label",{className:"fa-13",children:"Stock Item Ledger Name"}),(0,m.jsx)(d.Ay,{value:{value:a.Stock_Item_Ledger_Name,label:a.Stock_Item_Ledger_Name},onChange:e=>c(l=>(0,s.A)((0,s.A)({},l),{},{Stock_Item_Ledger_Name:e.value})),options:[{value:"",label:"Search",isDisabled:!0},...I.map(e=>({value:null===e||void 0===e?void 0:e.Stock_Item_Ledger_Name,label:null===e||void 0===e?void 0:e.Stock_Item_Ledger_Name}))],styles:i.MR,menuPortalTarget:document.body,required:!0,isSearchable:!0,placeholder:"Select",maxMenuHeight:300,filterOption:t.GI})]}),(0,m.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,m.jsx)("label",{className:"fa-13",children:"Purchase Ref"}),(0,m.jsx)("input",{value:null===a||void 0===a?void 0:a.Ref_Inv_Number,className:G,onChange:e=>c(l=>(0,s.A)((0,s.A)({},l),{},{Ref_Inv_Number:String(e.target.value).trim()}))})]}),(0,m.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,m.jsx)("label",{className:"fa-13",children:"Status"}),(0,m.jsxs)("select",{value:null===a||void 0===a?void 0:a.Cancel_status,className:G,onChange:e=>c(l=>(0,s.A)((0,s.A)({},l),{},{Cancel_status:e.target.value})),children:[(0,m.jsx)("option",{value:"",disabled:!0,children:"Select"}),(0,m.jsx)("option",{value:"1",children:"New"}),(0,m.jsx)("option",{value:"2",children:"Progess"}),(0,m.jsx)("option",{value:"3",children:"Completed"}),(0,m.jsx)("option",{value:"0",children:"Canceled"})]})]}),(0,t.gf)(null===a||void 0===a?void 0:a.Do_Id)&&(0,m.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,m.jsxs)("label",{className:"fa-13",children:["Edit Reason ",(0,m.jsx)(n.A,{})]}),(0,m.jsx)("input",{value:null===a||void 0===a?void 0:a.Alter_Reason,className:G,onChange:e=>c(l=>(0,s.A)((0,s.A)({},l),{},{Alter_Reason:e.target.value}))})]})]})},{label:"Billing Info",children:(0,m.jsxs)("div",{className:"row",children:[(0,m.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,m.jsx)("label",{children:"GSTNO"}),(0,m.jsx)("input",{id:"billingGSTNI",list:"billingGSTINData",value:(null===g||void 0===g?void 0:g.gstNumber)||"",className:G,placeholder:"ex: 15-CHAR-STRING",onChange:e=>k("gstNumber",e.target.value),disabled:!P,autoComplete:"off"}),(0,m.jsx)("datalist",{id:"billingGSTINData",children:(0,t.$r)(null===L||void 0===L?void 0:L.deliveryAddresses).map((e,l)=>(0,m.jsx)("option",{value:null===e||void 0===e?void 0:e.gstNumber,children:null===e||void 0===e?void 0:e.gstNumber},l))})]}),(0,m.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,m.jsx)("label",{htmlFor:"nameInput",children:"Mailing Name"}),(0,m.jsx)("input",{id:"nameInput",list:"deliveryName",value:(null===g||void 0===g?void 0:g.deliveryName)||"",className:G,placeholder:"ex: Party name / Other",onChange:e=>k("deliveryName",e.target.value),disabled:!P,autoComplete:"off"}),(0,m.jsx)("datalist",{id:"deliveryName",children:(0,t.$r)(null===L||void 0===L?void 0:L.deliveryAddresses).map((e,l)=>(0,m.jsx)("option",{value:null===e||void 0===e?void 0:e.deliveryName,children:null===e||void 0===e?void 0:e.deliveryName},l))})]}),(0,m.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,m.jsx)("label",{htmlFor:"phoneInput",children:"Phone Number"}),(0,m.jsx)("input",{id:"phoneInput",list:"phoneNumber",value:(null===g||void 0===g?void 0:g.phoneNumber)||"",className:G,placeholder:"ex: 9876543210",onChange:e=>k("phoneNumber",e.target.value),disabled:!P,autoComplete:"off"}),(0,m.jsx)("datalist",{id:"phoneNumber",children:(0,t.$r)(null===L||void 0===L?void 0:L.deliveryAddresses).map((e,l)=>(0,m.jsx)("option",{value:null===e||void 0===e?void 0:e.phoneNumber,children:null===e||void 0===e?void 0:e.phoneNumber},l))})]}),(0,m.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,m.jsx)("label",{htmlFor:"cityInput",children:"City Name"}),(0,m.jsx)("input",{id:"cityInput",list:"cityName",value:(null===g||void 0===g?void 0:g.cityName)||"",className:G,placeholder:"ex: Madurai",onChange:e=>k("cityName",e.target.value),disabled:!P,autoComplete:"off"}),(0,m.jsx)("datalist",{id:"cityName",children:(0,t.$r)(null===L||void 0===L?void 0:L.deliveryAddresses).map((e,l)=>(0,m.jsx)("option",{value:null===e||void 0===e?void 0:e.cityName,children:null===e||void 0===e?void 0:e.cityName},l))})]}),(0,m.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,m.jsx)("label",{htmlFor:"billingStateInput",children:"State name"}),(0,m.jsx)("input",{id:"billingStateInput",list:"billingState",value:(null===g||void 0===g?void 0:g.stateName)||"",className:G,placeholder:"ex: TamilNadu",onChange:e=>k("stateName",e.target.value),disabled:!P,autoComplete:"off"}),(0,m.jsx)("datalist",{id:"billingState",children:(0,t.$r)(null===L||void 0===L?void 0:L.deliveryAddresses).map((e,l)=>(0,m.jsx)("option",{value:null===e||void 0===e?void 0:e.stateName,children:null===e||void 0===e?void 0:e.stateName},l))})]}),(0,m.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,m.jsx)("label",{htmlFor:"addressInput",children:"Address"}),(0,m.jsx)("input",{id:"addressInput",list:"deliveryAddress",value:(null===g||void 0===g?void 0:g.deliveryAddress)||"",className:G,placeholder:"ex: 123, ABC Street",onChange:e=>k("deliveryAddress",e.target.value),disabled:!P,autoComplete:"off"}),(0,m.jsx)("datalist",{id:"deliveryAddress",children:(0,t.$r)(null===L||void 0===L?void 0:L.deliveryAddresses).map((e,l)=>(0,m.jsx)("option",{value:null===e||void 0===e?void 0:e.deliveryAddress,children:null===e||void 0===e?void 0:e.deliveryAddress},l))})]})]})},{label:"Shipping Info",children:(0,m.jsxs)("div",{className:"row",children:[(0,m.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,m.jsx)("label",{htmlFor:"shippingGSTNI",children:"GSTNO"}),(0,m.jsx)("input",{id:"shippingGSTNI",list:"shippingGSTINData",value:(null===A||void 0===A?void 0:A.gstNumber)||"",className:G,placeholder:"ex: 15-CHAR-STRING",onChange:e=>O("gstNumber",e.target.value),disabled:!P,autoComplete:"off"}),(0,m.jsx)("datalist",{id:"shippingGSTINData",children:(0,t.$r)(null===L||void 0===L?void 0:L.deliveryAddresses).map((e,l)=>(0,m.jsx)("option",{value:null===e||void 0===e?void 0:e.gstNumber,children:null===e||void 0===e?void 0:e.gstNumber},l))})]}),(0,m.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,m.jsx)("label",{htmlFor:"shippingNameInput",children:"Mailing Name"}),(0,m.jsx)("input",{id:"shippingNameInput",list:"shippingName",value:(null===A||void 0===A?void 0:A.deliveryName)||"",className:G,placeholder:"ex: Party name / Other",onChange:e=>O("deliveryName",e.target.value),disabled:!P,autoComplete:"off"}),(0,m.jsx)("datalist",{id:"shippingName",children:(0,t.$r)(null===L||void 0===L?void 0:L.deliveryAddresses).map((e,l)=>(0,m.jsx)("option",{value:null===e||void 0===e?void 0:e.deliveryName,children:null===e||void 0===e?void 0:e.deliveryName},l))})]}),(0,m.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,m.jsx)("label",{htmlFor:"shippingPhoneNumber",children:"Phone Number"}),(0,m.jsx)("input",{id:"shippingPhoneNumber",list:"shippingPhoneNumberData",value:(null===A||void 0===A?void 0:A.phoneNumber)||"",className:G,placeholder:"ex: 9876543210",onChange:e=>O("phoneNumber",e.target.value),disabled:!P,autoComplete:"off"}),(0,m.jsx)("datalist",{id:"shippingPhoneNumberData",children:(0,t.$r)(null===L||void 0===L?void 0:L.deliveryAddresses).map((e,l)=>(0,m.jsx)("option",{value:null===e||void 0===e?void 0:e.phoneNumber,children:null===e||void 0===e?void 0:e.phoneNumber},l))})]}),(0,m.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,m.jsx)("label",{htmlFor:"shippingCityInput",children:"City Name"}),(0,m.jsx)("input",{id:"shippingCityInput",list:"shippingCityName",value:(null===A||void 0===A?void 0:A.cityName)||"",className:G,placeholder:"ex: Madurai",onChange:e=>O("cityName",e.target.value),disabled:!P,autoComplete:"off"}),(0,m.jsx)("datalist",{id:"shippingCityName",children:(0,t.$r)(null===L||void 0===L?void 0:L.deliveryAddresses).map((e,l)=>(0,m.jsx)("option",{value:null===e||void 0===e?void 0:e.cityName,children:null===e||void 0===e?void 0:e.cityName},l))})]}),(0,m.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,m.jsx)("label",{htmlFor:"shippingStateInput",children:"State name"}),(0,m.jsx)("input",{id:"shippingStateInput",list:"shippingState",value:(null===A||void 0===A?void 0:A.stateName)||"",className:G,placeholder:"ex: TamilNadu",onChange:e=>O("stateName",e.target.value),disabled:!P,autoComplete:"off"}),(0,m.jsx)("datalist",{id:"shippingState",children:(0,t.$r)(null===L||void 0===L?void 0:L.deliveryAddresses).map((e,l)=>(0,m.jsx)("option",{value:null===e||void 0===e?void 0:e.stateName,children:null===e||void 0===e?void 0:e.stateName},l))})]}),(0,m.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,m.jsx)("label",{htmlFor:"shippingAddressInput",children:"Address"}),(0,m.jsx)("input",{id:"shippingAddressInput",list:"shippingAddress",value:(null===A||void 0===A?void 0:A.deliveryAddress)||"",className:G,placeholder:"ex: 123, ABC Street",onChange:e=>O("deliveryAddress",e.target.value),disabled:!P,autoComplete:"off"}),(0,m.jsx)("datalist",{id:"shippingAddress",children:(0,t.$r)(null===L||void 0===L?void 0:L.deliveryAddresses).map((e,l)=>(0,m.jsx)("option",{value:null===e||void 0===e?void 0:e.deliveryAddress,children:null===e||void 0===e?void 0:e.deliveryAddress},l))})]})]})},{label:"Invoice Status",children:(0,m.jsxs)("div",{className:"row",children:[(0,m.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,m.jsx)("label",{className:"fa-13",children:"Delivery Status"}),(0,m.jsxs)("select",{className:"cus-inpt p-2",onChange:e=>c((0,s.A)((0,s.A)({},a),{},{Delivery_Status:(0,t.Ro)(e.target.value)})),value:(0,t.Ro)(a.Delivery_Status),children:[(0,m.jsx)("option",{value:0,children:"Select"}),(0,m.jsx)("option",{value:5,children:"Pending"}),(0,m.jsx)("option",{value:7,children:"Delivered"}),(0,m.jsx)("option",{value:6,children:"Return"})]})]}),(0,m.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,m.jsx)("label",{className:"fa-13",children:"Payment Status"}),(0,m.jsxs)("select",{className:"cus-inpt p-2",onChange:e=>c((0,s.A)((0,s.A)({},a),{},{Payment_Status:(0,t.Ro)(e.target.value)})),value:(0,t.Ro)(a.Payment_Status),children:[(0,m.jsx)("option",{value:0,children:"Select"}),(0,m.jsx)("option",{value:1,children:"Pending"}),(0,m.jsx)("option",{value:3,children:"Complete"})]})]}),(0,m.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,m.jsx)("label",{className:"fa-13",children:"Payment Mode"}),(0,m.jsxs)("select",{className:"cus-inpt p-2",onChange:e=>c((0,s.A)((0,s.A)({},a),{},{Payment_Mode:(0,t.Ro)(e.target.value)})),value:(0,t.Ro)(a.Payment_Mode),children:[(0,m.jsx)("option",{value:0,children:"Select"}),(0,m.jsx)("option",{value:1,children:"Cash"}),(0,m.jsx)("option",{value:3,children:"QR-Pay"}),(0,m.jsx)("option",{value:2,children:"G-Pay"})]})]})]})},{label:"Transaction Limit",children:(0,m.jsxs)("div",{className:"row",children:[(0,m.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,m.jsx)("label",{className:"fa-13",children:"Outstanding"}),(0,m.jsx)("input",{className:"cus-inpt p-2",value:null===S||void 0===S?void 0:S.outstanding})]}),(0,m.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,m.jsx)("label",{className:"fa-13",children:"Credit Limit"}),(0,m.jsx)("input",{className:"cus-inpt p-2",value:(0,t.id)(null===S||void 0===S?void 0:S.creditLimit,0)?"Unlimited":null===S||void 0===S?void 0:S.creditLimit})]}),(0,m.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,m.jsx)("label",{className:"fa-13",children:"Due Days"}),(0,m.jsx)("input",{className:"cus-inpt p-2",value:(0,t.id)(null===S||void 0===S?void 0:S.creditDays,0)?"Unlimited":null===S||void 0===S?void 0:S.creditDays})]}),(0,m.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,m.jsx)("label",{className:"fa-13",children:"Recent Sales Date"}),(0,m.jsx)("input",{className:"cus-inpt p-2",value:null!==S&&void 0!==S&&S.recentDate?(0,t.yc)(null===S||void 0===S?void 0:S.recentDate):""})]}),(0,m.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,m.jsx)("label",{className:"fa-13",children:"Due Date"}),(0,m.jsx)("input",{className:"cus-inpt p-2",value:(0,t.yc)((0,t.My)(30,null===S||void 0===S?void 0:S.recentDate))})]})]})}]})}),(0,m.jsx)(x.A,{open:w,onClose:()=>E(!1),title:"Previous Invoice",maxWidth:"lg",children:(0,m.jsx)(p.A,{loadingOn:D,loadingOff:R,Fromdate:(0,t.IS)(30),Todate:(0,t.ny)(),retailerId:null===a||void 0===a?void 0:a.Retailer_Id})})]})}},83560:(e,l,a)=>{a.d(l,{A:()=>i});var s=a(59662),d=a(70579);const i=(0,s.A)((0,d.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},97280:(e,l,a)=>{a.d(l,{$B:()=>p,NP:()=>o,Q4:()=>c,Ud:()=>m,WS:()=>t,a4:()=>u,ju:()=>v,p7:()=>n,vD:()=>h,zA:()=>r});var s=a(89379),d=a(97707);const i=(0,d.aN)().user;function t(e){const{outstanding:l,creditLimit:a,creditDays:s,recentDate:i}=e,t=new Date(i),n=new Date(t);n.setDate(n.getDate()+(0,d.Ro)(s));const o=new Date,r=(0,d.Ro)(l)>(0,d.Ro)(a),c=o>n;return!((0,d.Ro)(a)>0&&r||(0,d.Ro)(s)>0&&c)}const n=[0,1],o={outstanding:0,creditLimit:0,creditDays:0,recentDate:new Date,invoiceCreationStatus:null,forceCreateInvoice:!1,dialog:!1},r={id:null,retailerId:null,deliveryName:"",phoneNumber:"",cityName:"",deliveryAddress:"",gstNumber:"",stateName:""},c={Do_Id:"",Do_No:"",Do_Year:"",Do_Inv_No:"",Voucher_Type:"",Do_Date:(0,d.ny)(),Retailer_Id:"",Retailer_Name:"",Delivery_Person_Id:"",Branch_Id:i.BranchId||"",GST_Inclusive:2,IS_IGST:0,Narration:"",Cancel_status:3,So_No:"",Trans_Type:"",CSGT_Total:0,SGST_Total:0,IGST_Total:0,Total_Expences:0,Round_off:0,Total_Before_Tax:0,Total_Tax:0,Total_Invoice_value:0,Stock_Item_Ledger_Name:"",Ref_Inv_Number:"",deliveryAddressId:null,deliveryAddressDetails:r,shipingAddressId:null,shipingAddressDetails:r,Delivery_Status:0,Payment_Mode:0,Payment_Status:0,Alter_Reason:"",Alter_Id:"",Created_by:null===i||void 0===i?void 0:i.UserId,Altered_by:null===i||void 0===i?void 0:i.UserId,Created_on:"",Alterd_on:""},u={rowId:"",DO_St_Id:"",Do_Date:"",Delivery_Order_Id:"",GoDown_Id:"",Godown_Stock:0,S_No:"",Item_Id:"",Item_Name:"",HSN_Code:"",Taxble:"",Batch_Name:"",Bill_Qty:"",Alt_Bill_Qty:"",Act_Qty:"",Alt_Act_Qty:"",Free_Qty:"",Total_Qty:"",Item_Rate:"",Taxable_Rate:"",Amount:"",Unit_Id:"",Unit_Name:"",Act_unit_Id:"",Alt_Act_Unit_Id:"",Taxable_Amount:"",Tax_Rate:"",Cgst:"",Sgst:"",Igst:"",Cgst_Amo:"",Sgst_Amo:"",Igst_Amo:"",Final_Amo:"",Created_on:""},v={Id:"",Do_Id:"",Sno:"",Expense_Id:"",Cgst:0,Cgst_Amo:0,Sgst:0,Sgst_Amo:0,Igst:0,Igst_Amo:0,Expence_Value:0},m={Id:"",Do_Id:"",Emp_Id:"",Emp_Name:"",Emp_Type_Id:""},h=(e,l)=>{const{deliveryName:a="",phoneNumber:d="",cityName:i="",deliveryAddress:t="",gstNumber:n="",stateName:o="",id:r=null}=e;l(e=>(0,s.A)((0,s.A)({},e),{},{deliveryName:a,phoneNumber:d,cityName:i,deliveryAddress:t,gstNumber:n,stateName:o,id:r}))},p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const l=["Broker","Others5","Transport"];return(0,d.$r)(e).filter(e=>l.includes(null===e||void 0===e?void 0:e.Cost_Category)).map(e=>(0,s.A)((0,s.A)({},m),{},{Emp_Type_Id:null===e||void 0===e?void 0:e.Cost_Category_Id}))}}}]);
//# sourceMappingURL=7699.9e23067b.chunk.js.map