"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[2110,3677,9729],{12110:(e,t,a)=>{a.d(t,{A:()=>p});var s=a(58168),r=a(98587),o=a(65043),n=a(58387),l=a(68606),c=a(34535),d=a(6431),i=a(63336),u=a(57056),m=a(32400);function h(e){return(0,m.Ay)("MuiCard",e)}(0,u.A)("MuiCard",["root"]);var x=a(70579);const A=["className","raised"],j=(0,c.Ay)(i.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),p=o.forwardRef(function(e,t){const a=(0,d.b)({props:e,name:"MuiCard"}),{className:o,raised:c=!1}=a,i=(0,r.A)(a,A),u=(0,s.A)({},a,{raised:c}),m=(e=>{const{classes:t}=e;return(0,l.A)({root:["root"]},h,t)})(u);return(0,x.jsx)(j,(0,s.A)({className:(0,n.A)(m.root,o),elevation:c?8:void 0,ref:t,ownerState:u},i))})},26494:(e,t,a)=>{a.d(t,{A:()=>j});var s=a(58168),r=a(98587),o=a(65043),n=a(58387),l=a(68606),c=a(34535),d=a(6431),i=a(57056),u=a(32400);function m(e){return(0,u.Ay)("MuiCardContent",e)}(0,i.A)("MuiCardContent",["root"]);var h=a(70579);const x=["className","component"],A=(0,c.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),j=o.forwardRef(function(e,t){const a=(0,d.b)({props:e,name:"MuiCardContent"}),{className:o,component:c="div"}=a,i=(0,r.A)(a,x),u=(0,s.A)({},a,{component:c}),j=(e=>{const{classes:t}=e;return(0,l.A)({root:["root"]},m,t)})(u);return(0,h.jsx)(A,(0,s.A)({as:c,className:(0,n.A)(j.root,o),ownerState:u,ref:t},i))})},43677:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var s=a(89379),r=a(65043),o=a(59662),n=a(70579);const l=(0,o.A)((0,n.jsx)("path",{d:"M12 5.83 15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15z"}),"UnfoldMoreOutlined");var c=a(91036),d=a(17392),i=a(12110),u=a(26494),m=a(83462),h=a(26600),x=a(35316),A=a(29347),j=a(11906),p=a(58786),v=a(45777),b=a(97707),f=a(65074);const y=()=>{const{contextObj:e}=(0,r.useContext)(v.i),[t,a]=(0,r.useState)([]),o=JSON.parse(localStorage.getItem("user")),[y,C]=(0,r.useState)({searchData:"",payStatus:"0"}),[N,g]=(0,r.useState)(!1),S={date:(0,b.ny)(),discribtion:"",verifyStatus:0,Pay_Id:""},[_,w]=(0,r.useState)(S),[D,I]=(0,r.useState)(!1),[R,M]=(0,r.useState)(null),[P,L]=(0,r.useState)([]),[O,k]=(0,r.useState)([]);(0,r.useEffect)(()=>{a([]),(0,f.z)({address:"userModule/customer/isCustomer?UserId=".concat(null===o||void 0===o?void 0:o.UserId)}).then(e=>{e.success?M(!0):M(!1)}).catch(e=>console.error(e))},[]),(0,r.useEffect)(()=>{null===R||!0!==R&&!1!==R||(a([]),(0,f.z)({address:"userModule/customer/payment?payStatus=".concat(y.payStatus,"&Auth=").concat(o.Autheticate_Id)}).then(e=>{e.success&&(e.data.forEach(e=>{e.Created_At=new Date(e.Created_At),e.Total_Amount=Number(e.Total_Amount)}),a(e.data))}).catch(e=>console.error(e)))},[D,y.payStatus,R]),(0,r.useEffect)(()=>{const e=t.filter(e=>Object.values(e).some(e=>String(e).toLowerCase().includes(y.searchData.toLowerCase())));L(e)},[y.searchData,t]),(0,r.useEffect)(()=>{k(P&&P.length>0?P:""===y.searchData?t:[])},[P,y.searchData]);const B=()=>{w(S)},T=[{name:"Date",selector:e=>e.Created_At,cell:e=>(0,b.yc)(e.Created_At),sortable:!0},{name:"Name",selector:e=>e.Customer_name,sortable:!0},{name:"Bills",selector:e=>e.Bill_Count,sortable:!0},{name:"Amount",selector:e=>e.Total_Amount,cell:e=>(0,b.jG)(e.Total_Amount),sortable:!0},{name:"Company",selector:e=>e.Company_Name,sortable:!0},{name:"OrderId",selector:e=>e.Order_Id},{name:"Status",selector:e=>e.Payment_Status,sortable:!0},{name:"Action",cell:t=>(0,b.id)(null===e||void 0===e?void 0:e.Edit_Rights,1)&&(0,b.id)(y.payStatus,0)?(0,n.jsx)(d.A,{onClick:()=>{g(!0),w((0,s.A)((0,s.A)({},_),{},{Pay_Id:t.Id}))},children:(0,n.jsx)(l,{})}):(0,n.jsx)(n.Fragment,{}),sortable:!0}],E=[{name:"Date",selector:e=>e.Created_At,cell:e=>(0,b.yc)(e.Created_At),sortable:!0},{name:"Name",selector:e=>e.Customer_name,sortable:!0},{name:"Bills",selector:e=>e.Bill_Count,sortable:!0},{name:"Amount",selector:e=>e.Total_Amount,cell:e=>(0,b.jG)(e.Total_Amount),sortable:!0},{name:"Company",selector:e=>e.Company_Name,sortable:!0},{name:"OrderId",selector:e=>e.Order_Id},{name:"Status",selector:e=>e.Payment_Status,sortable:!0}],z=()=>(0,n.jsx)(p.Ay,{data:O,columns:R?E:T,expandableRows:!0,pagination:!0,highlightOnHover:!0,fixedHeader:!0,fixedHeaderScrollHeight:"58vh",expandableRowsComponent:e=>(0,n.jsx)("div",{className:"table-responisve m-2",style:{width:"fit-content"},children:(0,n.jsxs)("table",{className:"table mb-0",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"border fa-14",children:"SNo"}),(0,n.jsx)("td",{className:"border fa-14",children:"Invoice No"}),(0,n.jsx)("td",{className:"border fa-14",children:"Bill Amount"}),(0,n.jsx)("td",{className:"border fa-14",children:"Ledger No"})]})}),(0,n.jsx)("tbody",{children:e.data.PaymentDetails.map((e,t)=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"border",children:t+1}),(0,n.jsx)("td",{className:"border",children:e.Invoice_No}),(0,n.jsx)("td",{className:"border",children:e.Bal_Amount}),(0,n.jsx)("td",{className:"border",children:e.Ledger_Name})]},t))})]})})});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i.A,{children:[(0,n.jsx)("div",{className:"p-3 border-bottom",children:(0,n.jsx)("h6",{className:"fa-18 mb-0",children:"Payment Report"})}),(0,n.jsxs)(u.A,{children:[(0,n.jsxs)("div",{className:"d-sm-flex justify-content-between mb-3",children:[(0,n.jsxs)("select",{style:{padding:10},className:"cus-inpt w-auto rounded-2",value:y.payStatus,onChange:e=>C((0,s.A)((0,s.A)({},y),{},{payStatus:e.target.value})),children:[(0,n.jsx)("option",{value:"0",children:"Verification Pending List"}),(0,n.jsx)("option",{value:"1",children:"Verified"}),(0,n.jsx)("option",{value:"2",children:"Rejected"})]}),(0,n.jsx)("div",{className:"flex-column mt-sm-0 mt-2",children:(0,n.jsx)("input",{type:"search",className:"cus-inpt w-auto rounded-5",value:y.searchData,onChange:e=>{C((0,s.A)((0,s.A)({},y),{},{searchData:e.target.value}))},placeholder:"Search..."})})]}),(0,n.jsx)(z,{})]})]}),(0,n.jsxs)(m.A,{open:N,onClose:()=>{g(!1),B()},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",maxWidth:"md",fullWidth:!0,children:[(0,n.jsx)(h.A,{id:"alert-dialog-title",children:"Payment Action"}),(0,n.jsxs)(x.A,{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{children:"Discrition"}),(0,n.jsx)("textarea",{rows:"3",className:"cus-inpt shadow-none",maxLength:330,onChange:e=>w((0,s.A)((0,s.A)({},_),{},{discribtion:e.target.value})),value:_.discribtion})]}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsxs)("div",{className:"col-md-6 ",children:[(0,n.jsx)("label",{children:"Verification Date"}),(0,n.jsx)("input",{type:"date",className:"cus-inpt",onChange:e=>w((0,s.A)((0,s.A)({},_),{},{date:e.target.value})),value:_.date})]}),(0,n.jsxs)("div",{className:"col-md-6 ",children:[(0,n.jsx)("label",{children:"Status"}),(0,n.jsxs)("select",{style:{padding:12},className:"cus-inpt",onChange:e=>w((0,s.A)((0,s.A)({},_),{},{verifyStatus:e.target.value})),value:_.verifyStatus,children:[(0,n.jsx)("option",{value:"0",children:"Verification Pending"}),(0,n.jsx)("option",{value:"1",children:"Verify"}),(0,n.jsx)("option",{value:"2",children:"Reject"})]})]})]})]}),(0,n.jsxs)(A.A,{children:[(0,n.jsx)(j.A,{onClick:()=>{g(!1),B()},children:"Close"}),(0,n.jsx)(j.A,{onClick:()=>{R||(0,f.z)({address:"userModule/customer/payment/verification",method:"POST",bodyData:{Pay_Id:_.Pay_Id,description:_.discribtion,verifiedDate:_.date,verifyStatus:_.verifyStatus}}).then(e=>{e.success?(c.oR.success(e.message),B(),g(!1),I(!D)):c.oR.error(e.message)}).catch(e=>console.error(e))},autoFocus:!0,children:"Submit"})]})]})]})}}}]);
//# sourceMappingURL=3677.892121d4.chunk.js.map