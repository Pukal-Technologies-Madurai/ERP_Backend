"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[9284],{15710:(e,n,a)=>{a.d(n,{A:()=>c});var t=a(58168),l=a(98587),o=a(65043),r=a(59395),i=a(22016),s=a(70579);const d=["children"],c=o.forwardRef(function(e,n){const{children:a}=e,c=(0,l.A)(e,d),m=(0,i.QM)();if(null===m)throw new TypeError("No TabContext provided");const u=o.Children.map(a,e=>o.isValidElement(e)?o.cloneElement(e,{"aria-controls":(0,i.eR)(m,e.props.value),id:(0,i.vU)(m,e.props.value)}):null);return(0,s.jsx)(r.A,(0,t.A)({},c,{ref:n,value:m.value,children:u}))})},22016:(e,n,a)=>{a.d(n,{Ay:()=>r,QM:()=>i,eR:()=>s,vU:()=>d});var t=a(65043),l=a(70579);const o=t.createContext(null);function r(e){const{children:n,value:a}=e,r=function(){const[e,n]=t.useState(null);return t.useEffect(()=>{n("mui-p-".concat(Math.round(1e5*Math.random())))},[]),e}(),i=t.useMemo(()=>({idPrefix:r,value:a}),[r,a]);return(0,l.jsx)(o.Provider,{value:i,children:n})}function i(){return t.useContext(o)}function s(e,n){const{idPrefix:a}=e;return null===a?null:"".concat(e.idPrefix,"-P-").concat(n)}function d(e,n){const{idPrefix:a}=e;return null===a?null:"".concat(e.idPrefix,"-T-").concat(n)}},33438:(e,n,a)=>{a.d(n,{A:()=>o});var t=a(59662),l=a(70579);const o=(0,t.A)((0,l.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},48471:(e,n,a)=>{a.d(n,{Ay:()=>Q,JT:()=>z,Lj:()=>O,wF:()=>E});var t=a(89379),l=a(65043),o=a(77739),r=a(17392),i=a(41020),s=a(30922),d=a(32143),c=a(2050),m=a(48734),u=a(28076),p=a(39652),_=a(12110),x=a(63336),h=a(79650),v=a(71806),g=a(84882),N=a(58093),A=a(73460),y=a(31159),b=a(22520),C=a(47968),j=a(692),f=a(8737),D=a(58558),T=a(30599),F=a(433),S=a(37762),w=(a(20557),a(11238)),P=a(70579);const k=(e,n)=>e.map(e=>{const a={};return n.forEach((n,t)=>{if(n.isVisible||n.Defult_Display)if(n.isCustomCell&&n.Cell){const l=n.Cell({row:e}),o=n.ColumnHeader?String(n.ColumnHeader).replace(/\s+/g,"_").toLowerCase():"field_".concat(t+1);"string"!==typeof l&&"number"!==typeof l&&"bigint"!==typeof l||(a[o]=l)}else{let t=n.Field_Name;a[t]=e[t]||""}}),a}),O=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"string",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"left",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"center",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return(0,t.A)({isVisible:r,Field_Name:e,Fied_Data:n,align:l,verticalAlign:o},a&&{ColumnHeader:a})},E=e=>{let{buttonsData:n=[],ToolTipText:a="Options"}=e;const[t,u]=(0,l.useState)(null),p=Boolean(t);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(o.A,{title:a,children:(0,P.jsx)(r.A,{"aria-describedby":p,onClick:e=>{u(e.currentTarget)},className:"ms-2",size:"small",children:(0,P.jsx)(D.A,{})})}),(0,P.jsx)(i.Ay,{open:p,anchorEl:t,onClose:()=>{u(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:(0,P.jsx)(s.A,{children:n.map((e,n)=>(0,P.jsxs)(d.A,{onClick:()=>(null===e||void 0===e?void 0:e.onclick)&&(null===e||void 0===e?void 0:e.onclick()),disabled:null===e||void 0===e?void 0:e.disabled,children:[(0,P.jsx)(c.A,{children:null===e||void 0===e?void 0:e.icon}),(0,P.jsx)(m.A,{children:null===e||void 0===e?void 0:e.name})]},n))})})]})},z=(e,n)=>{switch(n){case"number":return e?(0,b.jG)(e):e;case"date":return e?(0,b.yc)(e):e;case"time":return e?(0,b.JG)(e):e;case"string":return e;default:return""}},I=e=>{let{dataArray:n=[],columns:a=[],onClickFun:o=null,isExpendable:i=!1,expandableComp:s=null,tableMaxHeight:d=550,initialPageCount:c=20,EnableSerialNumber:m=!1,CellSize:D="small",disablePagination:O=!1,title:I="",PDFPrintOption:Q=!1,ExcelPrintOption:B=!1,maxHeightOption:R=!1,ButtonArea:G=null,MenuButtons:L=[],bodyFontSizePx:M=13,headerFontSizePx:V=13}=e;const[H,W]=(0,l.useState)(0),[U,$]=(0,l.useState)(c),[J,Y]=(0,l.useState)([]),[q,K]=(0,l.useState)(!0),X=q&&R?" max-content ":d,Z=[{type:"left",class:"text-start"},{type:"right",class:"text-end"},{type:"center",class:"text-center"}],ee=[{type:"top",class:" vtop "},{type:"bottom",class:" vbottom "},{type:"center",class:" vctr "}],ne=(e=>{if(!J.length)return e;return[...e].sort((e,n)=>{for(const a of J){const{columnId:t,direction:l}=a,o=e[t],r=n[t];if(o!==r)return"asc"===l?o>r?1:-1:o<r?1:-1}return 0})})(n),ae=H*U,te=ae+U,le=ne.slice(ae,te),oe=e=>{let{row:n,index:t}=e;const[d,c]=(0,l.useState)(!1),_="20px";return(0,P.jsxs)(l.Fragment,{children:[(0,P.jsxs)(u.A,{children:[!0===i&&s&&(0,P.jsx)(p.A,{className:"border-end text-center vtop",sx:{fontSize:"".concat(M,"px")},children:(0,P.jsx)(r.A,{size:"small",onClick:()=>c(e=>!e),children:d?(0,P.jsx)(f.A,{sx:{fontSize:_}}):(0,P.jsx)(j.A,{sx:{fontSize:_}})})}),!0===m&&(0,P.jsx)(p.A,{className:"border-end text-center vtop",sx:{fontSize:"".concat(M,"px")},children:U*H+t+1}),null===a||void 0===a?void 0:a.map((e,a)=>{var l,r;const i=(0,b.id)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,b.id)(null===e||void 0===e?void 0:e.isVisible,1),s=Boolean(null===e||void 0===e?void 0:e.isCustomCell)&&e.Cell,d=!s,c=(n,a,t)=>null!==e&&void 0!==e&&e.tdClass?" ".concat(null===e||void 0===e?void 0:e.tdClass({row:n,Field_Name:a,index:t})," "):"",m=e.align?null===(l=Z.find(n=>n.type===String(e.align).toLowerCase()))||void 0===l?void 0:l.class:"",u=e.verticalAlign?null===(r=ee.find(n=>n.type===String(e.verticalAlign).toLowerCase()))||void 0===r?void 0:r.class:" vctr ";if(i&&d){const l=Object.entries(n).find(n=>{let[a]=n;return a===e.Field_Name});return(0,P.jsx)(p.A,{className:"border-end ".concat(m," ").concat(u," ").concat(c(n,e.Field_Name,t)),sx:{fontSize:"".concat(M,"px")},onClick:()=>o?o(n):console.log("Function not supplied"),children:l?z(l[1],null===e||void 0===e?void 0:e.Fied_Data):"-"},a)}return i&&s?(0,P.jsx)(p.A,{className:"border-end ".concat(m," ").concat(u," ").concat(c(n,e.Field_Name,t)),sx:{fontSize:"".concat(M,"px")},children:e.Cell({row:n,Field_Name:e.Field_Name,index:t})},a):(0,P.jsx)(p.A,{sx:{fontSize:"".concat(M,"px")},className:"border-end ".concat(m," ").concat(u),children:"-"},a)})]}),!0===i&&s&&d&&(0,P.jsx)(u.A,{children:(0,P.jsx)(p.A,{colSpan:Number(null===a||void 0===a?void 0:a.length)+(!0===m?2:1),children:s({row:n,index:t})})})]})};return(0,P.jsxs)(_.A,{className:"rounded-3 bg-white overflow-hidden",component:x.A,children:[(0,P.jsxs)("div",{className:"d-flex align-items-center flex-wrap px-3 py-2 flex-row-reverse ",children:[(Q||B||L.length>0||R)&&(0,P.jsx)(E,{ToolTipText:"Table Options",buttonsData:[...R?[{name:"Max Height",icon:q?(0,P.jsx)(F.A,{fontSize:"small",color:"primary"}):(0,P.jsx)(T.A,{fontSize:"small"}),onclick:()=>K(e=>!e),disabled:(0,b.id)(null===n||void 0===n?void 0:n.length,0)}]:[],...Q?[{name:"PDF Print",icon:(0,P.jsx)(C.A,{fontSize:"small",color:"primary"}),onclick:()=>((e,n)=>{try{const a=new S.default,l=k(e,n),o=n.filter(e=>e.isVisible||e.Defult_Display).map(e=>e.Field_Name||String(e.ColumnHeader).replace(/\s+/g,"_").toLowerCase()),r=l.map(e=>o.map(n=>e[n])).map((e,n)=>(0,t.A)((0,t.A)({},e),{},{Sno:n+1}));a.autoTable({head:[o],body:r}),a.save("table.pdf")}catch(a){console.error(a)}})(n,a),disabled:(0,b.id)(null===n||void 0===n?void 0:n.length,0)}]:[],...B?[{name:"Excel Print",icon:(0,P.jsx)(C.A,{fontSize:"small",color:"primary"}),onclick:()=>((e,n)=>{try{const a=k(e,n),t=w.Wp.json_to_sheet(a),l=w.Wp.book_new();w.Wp.book_append_sheet(l,t,"Data"),w._h(l,"table.xlsx")}catch(a){console.error(a)}})(n,a),disabled:(0,b.id)(null===n||void 0===n?void 0:n.length,0)}]:[],...L]}),G&&G,I&&(0,P.jsx)("h6",{className:"fw-bold text-muted flex-grow-1 m-0",children:I})]}),(0,P.jsx)(h.A,{sx:{maxHeight:X},children:(0,P.jsxs)(v.A,{stickyHeader:!0,size:D,children:[(0,P.jsx)(g.A,{children:(0,P.jsxs)(u.A,{children:[i&&s&&(0,P.jsx)(p.A,{className:"fw-bold border-end border-top text-center",sx:{fontSize:"".concat(V,"px"),backgroundColor:"#EDF0F7"},children:"#"}),m&&(0,P.jsx)(p.A,{className:"fw-bold border-end border-top text-center",sx:{fontSize:"".concat(V,"px"),backgroundColor:"#EDF0F7"},children:"SNo"}),a.map((e,n)=>{const a=(0,b.id)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,b.id)(null===e||void 0===e?void 0:e.isVisible,1),l=!1===Boolean(null===e||void 0===e?void 0:e.isCustomCell)||!e.Cell,o=J.find(n=>n.columnId===e.Field_Name),r=o?o.direction:"asc";var i,s,d,c;return a?l?(0,P.jsx)(p.A,{className:"fw-bold border-end border-top "+(e.align?null===(i=Z.find(n=>n.type===String(e.align).toLowerCase()))||void 0===i?void 0:i.class:""),sx:{fontSize:"".concat(V,"px"),backgroundColor:"#EDF0F7"},sortDirection:!!o&&r,children:(0,P.jsx)(N.A,{active:!!o,direction:r,onClick:()=>(e=>{const n=J.find(n=>n.columnId===e);if(n){const a="asc"===n.direction;Y(J.map(n=>n.columnId===e?(0,t.A)((0,t.A)({},n),{},{direction:a?"desc":"asc"}):n))}else Y([...J,{columnId:e,direction:"asc"}])})(e.Field_Name),children:e.ColumnHeader||(null===e||void 0===e||null===(s=e.Field_Name)||void 0===s?void 0:s.replace(/_/g," "))})},n):(0,P.jsx)(p.A,{className:"".concat(e.ColumnHeader||null!==e&&void 0!==e&&e.Field_Name?" fw-bold border-end border-top p-2 appFont ":" p-0 "," ")+(e.align?null===(d=Z.find(n=>n.type===String(e.align).toLowerCase()))||void 0===d?void 0:d.class:""),sx:{fontSize:"".concat(V,"px"),backgroundColor:"#EDF0F7"},children:e.ColumnHeader||(null===e||void 0===e||null===(c=e.Field_Name)||void 0===c?void 0:c.replace(/_/g," "))},n):null})]})}),(0,P.jsxs)(A.A,{children:[(O?ne:le).map((e,n)=>(0,P.jsx)(oe,{row:e,index:n},n)),0===n.length&&(0,P.jsx)(u.A,{children:(0,P.jsx)(p.A,{colSpan:a.length+(!0===i&&s?1:0)+(!0===m?1:0),sx:{textAlign:"center"},children:"No Data"})})]})]})}),!O&&0!==le.length&&(0,P.jsx)("div",{className:"p-2 pb-0",children:(0,P.jsx)(y.A,{component:"div",count:n.length,page:H,onPageChange:(e,n)=>{W(n)},rowsPerPage:U,onRowsPerPageChange:e=>{$(parseInt(e.target.value,10)),W(0)},rowsPerPageOptions:Array.from(new Set([c,5,20,50,100,200,500,1e3,2e3])).sort((e,n)=>e-n),labelRowsPerPage:"Rows per page",showFirstButton:!0,showLastButton:!0})})]})};I.defaultProps={dataArray:[],columns:[],onClickFun:null,isExpendable:!1,expandableComp:null,tableMaxHeight:550,initialPageCount:20,EnableSerialNumber:!1,CellSize:"small",disablePagination:!1,title:void 0,PDFPrintOption:!1,ExcelPrintOption:!1,maxHeightOption:!1,ButtonArea:null,MenuButtons:[],headerFontSizePx:13,bodyFontSizePx:13};const Q=I},52900:(e,n,a)=>{a.d(n,{A:()=>o});var t=a(64775),l=a(45527);function o(e){let{props:n,name:a,defaultTheme:o,themeId:r}=e,i=(0,l.A)(o);r&&(i=i[r]||i);return(0,t.A)({theme:i,name:a,props:n})}},59284:(e,n,a)=>{a.r(n),a.d(n,{default:()=>U});var t=a(89379),l=a(22016),o=a(15710),r=a(86506),i=a(17392),s=a(81e3),d=a(24056),c=a(65043),m=a(22520),u=a(79484),p=a(65074),_=a(48471),x=a(12412),h=a(51962),v=a(67784),g=a(11906),N=a(77739),A=a(83462),y=a(35316),b=a(29347),C=a(26600),j=a(12110),f=a(63336),D=a(4598),T=a(85865),F=a(79650),S=a(71806),w=a(84882),P=a(28076),k=a(39652),O=a(73460),E=a(12249),z=a(5793),I=a(32069),Q=a(8846),B=a(59383),R=a(91036),G=a(33438),L=a(70579);const M=(0,L.jsx)(E.A,{fontSize:"small"}),V=(0,L.jsx)(z.A,{fontSize:"small"}),H=e=>{let{loadingOn:n,loadingOff:a,Fromdate:l,Todate:o,api:r="itemWise",defaultGrouping:s="",storageStockColumns:d=[],groupingOption:u=!0,reportName:E="",url:z=""}=e;const[H,W]=(0,c.useState)([]),[U,$]=(0,c.useState)({}),[J,Y]=(0,c.useState)(s),[q,K]=(0,c.useState)([]),[X,Z]=(0,c.useState)(!1),[ee,ne]=(0,c.useState)(!1),[ae,te]=(0,c.useState)([]),[le,oe]=(0,c.useState)([]),[re,ie]=(0,c.useState)(!1),[se,de]=(0,c.useState)([]),[ce,me]=(0,c.useState)({}),ue=d.map((e,n)=>{const a=le.find(n=>(0,m.xL)(n.columnName,null===e||void 0===e?void 0:e.Column_Name))||{};return{isVisible:1,Field_Name:null===e||void 0===e?void 0:e.Column_Name,Fied_Data:null===e||void 0===e?void 0:e.Data_Type,OrderBy:(null===a||void 0===a?void 0:a.orderNum)||n+1,isEnabled:!0}}),[pe,_e]=(0,c.useState)(ue);(0,c.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("user")),t=null===e||void 0===e?void 0:e.Company_id;n(),Promise.all([(0,p.z)({address:"reports/storageStock/".concat(r,"?Fromdate=").concat(l,"&Todate=").concat(o)}),(0,p.z)({address:"reports/reportState/columnVisiblity?reportName=".concat(E,"&reportUrl=").concat(z)}),(0,p.z)({address:"masters/displayLosColumn?company_id=".concat(t)})]).then(e=>{let[n,a,t]=e;n.success&&W((0,m.$r)(n.data));const l=a.success?(0,m.$r)(a.data):[];oe(l);const o=t.success?(0,m.$r)(t.data):[];te(o);const r=d.map((e,n)=>{const a=l.find(n=>(0,m.xL)(n.columnName,null===e||void 0===e?void 0:e.Column_Name)),t=o.find(n=>(0,m.xL)(n.Column_Name,null===e||void 0===e?void 0:e.Column_Name));return{Field_Name:null===e||void 0===e?void 0:e.Column_Name,Fied_Data:null===e||void 0===e?void 0:e.Data_Type,OrderBy:(null===a||void 0===a?void 0:a.orderNum)||n+1,isEnabled:!0,isVisible:a?1:0,Alias_Name:(null===t||void 0===t?void 0:t.Alias_Name)||(null===e||void 0===e?void 0:e.Alias_Name)}});_e(r)}).catch(e=>console.error("Fetch error:",e)).finally(()=>a())},[l,o,r,E,z,n,a]);const xe=(0,c.useMemo)(()=>[...pe].sort((e,n)=>(null===e||void 0===e?void 0:e.OrderBy)-(null===n||void 0===n?void 0:n.OrderBy)),[pe]),he=(0,c.useMemo)(()=>xe.filter(e=>(0,m.id)(e.isVisible,1)&&e.isEnabled),[xe]),ve=(0,c.useMemo)(()=>{const e=Object.keys(U).length>0,n=!!J,a=e?q:H,l=n?(0,m.Sq)(a,J):[],o=he.filter(e=>"number"===(0,m.iw)(e.Fied_Data)).map(e=>e.Field_Name),r=l.map(e=>(0,t.A)((0,t.A)({},e),Object.fromEntries(o.map(n=>{var a;return[n,null===e||void 0===e||null===(a=e.groupedData)||void 0===a?void 0:a.reduce((e,a)=>(0,m.Lr)(e,(0,m.Ro)(a[n])||0),0)]}))));return n?r:a},[U,H,q,J,he]),ge=e=>{if(!e)return"";const n=ae.find(n=>{var a,t;return(null===(a=n.Column_Name)||void 0===a?void 0:a.toLowerCase())===(null===e||void 0===e?void 0:e.toLowerCase())||(null===(t=n.ColumnName)||void 0===t?void 0:t.toLowerCase())===(null===e||void 0===e?void 0:e.toLowerCase())});if(null!==n&&void 0!==n&&n.Alias_Name)return n.Alias_Name;const a=d.find(n=>{var a;return(null===(a=n.Column_Name)||void 0===a?void 0:a.toLowerCase())===(null===e||void 0===e?void 0:e.toLowerCase())});return null!==a&&void 0!==a&&a.Alias_Name?a.Alias_Name:null===e||void 0===e?void 0:e.replace(/_/g," ")};(0,c.useEffect)(()=>{Ae()},[U]);const Ne=(e,n)=>{$(a=>(0,t.A)((0,t.A)({},a),{},{[e]:n}))},Ae=()=>{let e=[...H];for(const a of xe)if(U[a.Field_Name])if("range"===U[a.Field_Name].type){const{min:n,max:t}=U[a.Field_Name];e=e.filter(e=>{const l=e[a.Field_Name];return(void 0===n||l>=n)&&(void 0===t||l<=t)})}else if("date"===U[a.Field_Name].type){const{start:n,end:t}=U[a.Field_Name].value;e=e.filter(e=>{const l=new Date(e[a.Field_Name]);return(void 0===n||l>=new Date(n))&&(void 0===t||l<=new Date(t))})}else if(Array.isArray(U[a.Field_Name])){var n;e=(null===(n=U[a.Field_Name])||void 0===n?void 0:n.length)>0?e.filter(e=>{var n;return U[a.Field_Name].includes(null===(n=e[a.Field_Name])||void 0===n?void 0:n.toLowerCase().trim())}):e}K(e)},ye=e=>{let t=null,i=null,s="",d="";var c,u,_,x;(console.log("row",e),e.groupedData&&e.groupedData.length>0)?(t=null===(c=e.groupedData[0])||void 0===c?void 0:c.Product_Id,i=null===(u=e.groupedData[0])||void 0===u?void 0:u.Godown_Id,s=(null===(_=e.groupedData[0])||void 0===_?void 0:_.stock_item_name)||"",d=(null===(x=e.groupedData[0])||void 0===x?void 0:x.Godown_Name)||e[J]||""):(t=e.Product_Id,i=e.Godown_Id,s=e.stock_item_name||"",d=e.Godown_Name||"");if(!t)return void R.oR.error("Product ID is not available for this item");const h="godownWise"===r;n();let v="",g="?Fromdate=".concat(l,"&Todate=").concat(o,"&Product_Id=").concat(t);h&&i?(g+="&Godown_Id=".concat(i),v="reports/godownexpenseReport"):v="reports/itemexpenseReport",(0,p.z)({address:"".concat(v).concat(g)}).then(e=>{e.success?(de((0,m.$r)(e.data)),me({productId:t,productName:s,godownId:i,godownName:d,fromDate:l,toDate:o,reportType:h?"godownWise":"itemWise"}),ie(!0)):R.oR.error(e.message||"Failed to fetch expense report")}).catch(e=>{console.error("Error fetching expense report:",e),R.oR.error("Error fetching expense report")}).finally(()=>a())},be=e=>{const{Field_Name:n,Fied_Data:a}=e;var l,o,r,i,s,d,c,m,u,p;if("number"===a)return(0,L.jsxs)("div",{className:"d-flex justify-content-between px-2",children:[(0,L.jsx)("input",{placeholder:"Min",type:"number",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(l=null===(o=U[n])||void 0===o?void 0:o.min)&&void 0!==l?l:"",onChange:e=>Ne(n,(0,t.A)((0,t.A)({type:"range"},U[n]),{},{min:e.target.value?parseFloat(e.target.value):void 0}))}),(0,L.jsx)("input",{placeholder:"Max",type:"number",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(r=null===(i=U[n])||void 0===i?void 0:i.max)&&void 0!==r?r:"",onChange:e=>Ne(n,(0,t.A)((0,t.A)({type:"range"},U[n]),{},{max:e.target.value?parseFloat(e.target.value):void 0}))})]});if("date"===a)return(0,L.jsxs)("div",{className:"d-flex justify-content-between px-2",children:[(0,L.jsx)("input",{placeholder:"Start Date",type:"date",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(s=null===(d=U[n])||void 0===d||null===(c=d.value)||void 0===c?void 0:c.start)&&void 0!==s?s:"",onChange:e=>{var a;return Ne(n,{type:"date",value:(0,t.A)((0,t.A)({},null===(a=U[n])||void 0===a?void 0:a.value),{},{start:e.target.value||void 0})})}}),(0,L.jsx)("input",{placeholder:"End Date",type:"date",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(m=null===(u=U[n])||void 0===u||null===(p=u.value)||void 0===p?void 0:p.end)&&void 0!==m?m:"",onChange:e=>{var a;return Ne(n,{type:"date",value:(0,t.A)((0,t.A)({},null===(a=U[n])||void 0===a?void 0:a.value),{},{end:e.target.value||void 0})})}})]});if("string"===a){const e=[...new Set(H.map(e=>{var a,t;return null===(a=e[n])||void 0===a||null===(t=a.toLowerCase())||void 0===t?void 0:t.trim()}))];return(0,L.jsx)(x.A,{multiple:!0,id:"".concat(n,"-filter"),options:e,disableCloseOnSelect:!0,getOptionLabel:e=>e,value:U[n]||[],onChange:(e,a)=>Ne(n,a),renderOption:(e,n,a)=>{let{selected:l}=a;return(0,L.jsxs)("li",(0,t.A)((0,t.A)({},e),{},{children:[(0,L.jsx)(h.A,{icon:M,checkedIcon:V,style:{marginRight:8},checked:l}),n]}))},isOptionEqualToValue:(e,n)=>e===n,renderInput:e=>(0,L.jsx)(v.A,(0,t.A)((0,t.A)({},e),{},{label:ge(n),placeholder:"Select ".concat(ge(n))}))})}},Ce=()=>{Z(!1),ne(!1)},je={Field_Name:"__action__",ColumnHeader:"Action",isVisible:1,isEnabled:!0,isCustomCell:!0,align:"center",Cell:e=>{let{row:n}=e;return(0,L.jsx)(g.A,{size:"small",variant:"outlined",onClick:e=>{e.stopPropagation(),ye(n)},children:"View"})}},fe=e=>{if(!e)return"";return new Date(e).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})},De=(()=>{const e={inQty:0,outQty:0,amount:0};return se.forEach(n=>{e.inQty+=Number(n.In_Qty)||0,e.outQty+=Number(n.Out_Qty)||0,e.amount+=Number(n.Amount)||0}),e})(),Te={Field_Name:"__godown_action__",ColumnHeader:"Action",isVisible:1,isEnabled:!0,isCustomCell:!0,align:"center",Cell:e=>{let{row:n}=e;return(0,L.jsx)(g.A,{size:"small",variant:"outlined",onClick:e=>{e.stopPropagation(),ye(n)},children:"View"})}},Fe=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return new Intl.NumberFormat("en-IN",{minimumFractionDigits:n,maximumFractionDigits:n}).format(Number(e||0))};return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(_.Ay,{title:"godownWise"===r?"Godown Wise":"Item Wise",EnableSerialNumber:!0,headerFontSizePx:12,bodyFontSizePx:12,maxHeightOption:!0,ButtonArea:(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(N.A,{title:"Column Visibility",children:(0,L.jsx)(i.A,{size:"small",onClick:()=>Z(!0),children:(0,L.jsx)(I.A,{})})}),(0,L.jsx)(N.A,{title:"Clear Filters",children:(0,L.jsx)(i.A,{size:"small",onClick:()=>$({}),children:(0,L.jsx)(Q.A,{})})}),(0,L.jsx)(N.A,{title:"Filters",children:(0,L.jsx)(i.A,{onClick:()=>ne(!0),size:"small",children:(0,L.jsx)(B.A,{})})}),u&&(0,L.jsxs)("div",{className:"d-flex align-items-center flex-wrap",children:[(0,L.jsx)("span",{children:"Group-By:"}),(0,L.jsxs)("select",{className:"cus-inpt p-2 w-auto m-1",value:J,onChange:e=>Y(e.target.value),children:[(0,L.jsx)("option",{value:"",children:"select group"}),he.filter(e=>"string"===(0,m.iw)(e.Fied_Data)&&"Ledger_Name"!==e.Field_Name&&e.isEnabled).map((e,n)=>(0,L.jsx)("option",{value:e.Field_Name,children:ge(e.Field_Name)},n))]})]})]}),ExcelPrintOption:!0,dataArray:ve,columns:[...(J?he.filter(e=>ve.length>0&&Object.keys(ve[0]).includes(e.Field_Name)&&e.isEnabled):he.filter(e=>e.isEnabled)).map(e=>(0,t.A)((0,t.A)({},e),{},{ColumnHeader:ge(e.Field_Name)})),..."itemWise"===r?[je]:[]],isExpendable:Boolean(J),expandableComp:e=>{let{row:n}=e;return(0,L.jsx)(_.Ay,{EnableSerialNumber:!0,headerFontSizePx:12,bodyFontSizePx:12,dataArray:(0,m.$r)(null===n||void 0===n?void 0:n.groupedData),columns:[...he.filter(e=>!(0,m.xL)(e.Field_Name,J)&&e.isEnabled).map(e=>(0,t.A)((0,t.A)({},e),{},{ColumnHeader:ge(e.Field_Name)})),..."godownWise"===r?[Te]:[]]})}}),(0,L.jsxs)(A.A,{open:ee,onClose:Ce,maxWidth:"sm",fullWidth:!0,children:[(0,L.jsxs)(y.A,{children:[(0,L.jsxs)("h5",{className:"d-flex justify-content-between px-2",children:[(0,L.jsx)("span",{children:"Filters"}),(0,L.jsxs)("span",{children:[(0,L.jsx)(N.A,{title:"Column Visibility",children:(0,L.jsx)(i.A,{size:"small",onClick:()=>Z(!0),children:(0,L.jsx)(I.A,{})})}),(0,L.jsx)(N.A,{title:"Clear Filters",children:(0,L.jsx)(i.A,{size:"small",onClick:()=>$({}),children:(0,L.jsx)(Q.A,{})})})]})]}),(0,L.jsxs)("div",{className:"border rounded-3",children:[he.filter(e=>e.isEnabled).map((e,n)=>(0,L.jsxs)("div",{className:"py-3 px-3 hov-bg border-bottom",children:[(0,L.jsx)("label",{className:"mt-2 mb-1",children:ge(null===e||void 0===e?void 0:e.Field_Name)}),be(e)]},n)),(0,L.jsx)("br",{})]})]}),(0,L.jsx)(b.A,{children:(0,L.jsx)(g.A,{onClick:Ce,color:"error",children:"Close"})})]}),(0,L.jsxs)(A.A,{open:X,onClose:()=>Z(!1),maxWidth:"lg",fullWidth:!0,children:[(0,L.jsx)(C.A,{children:"Column Settings"}),(0,L.jsx)(y.A,{children:(0,L.jsx)("div",{className:"row",children:pe.map((e,n)=>(0,L.jsx)("div",{className:"col-lg-4 col-md-6 p-2",children:(0,L.jsxs)(j.A,{component:f.A,className:"p-2 d-flex justify-content-between align-items-center flex-wrap ".concat(n%2!==0?"bg-light":""," ").concat(e.isEnabled?"":"opacity-50"),children:[(0,L.jsxs)("div",{className:"d-flex justify-content-between align-items-center flex-wrap",children:[(0,L.jsx)(D.A,{checked:Boolean(null===e||void 0===e?void 0:e.isVisible)&&e.isEnabled,onChange:n=>e.isEnabled&&_e(a=>a.map(a=>a.Field_Name===(null===e||void 0===e?void 0:e.Field_Name)?(0,t.A)((0,t.A)({},a),{},{isVisible:n.target.checked?1:0}):a))}),(0,L.jsxs)("h6",{className:"fa-13 mb-0 fw-bold",children:[ge(e.Field_Name),!e.isEnabled&&(0,L.jsx)("span",{className:"text-muted small"})]})]}),(0,L.jsx)("input",{type:"number",value:(0,m.IQ)(null===e||void 0===e?void 0:e.OrderBy)?null===e||void 0===e?void 0:e.OrderBy:"",onChange:n=>e.isEnabled&&_e(a=>a.map(a=>a.Field_Name===(null===e||void 0===e?void 0:e.Field_Name)?(0,t.A)((0,t.A)({},a),{},{OrderBy:n.target.value}):a)),disabled:!e.isEnabled,className:"mt-2 p-1 border-0 cus-inpt",style:{width:"80px"},placeholder:"Order"})]})},n))})}),(0,L.jsxs)(b.A,{className:"d-flex justify-content-between align-items-center flex-wrap",children:[(0,L.jsx)(g.A,{onClick:()=>{const e=pe.filter(e=>(0,m.id)(e.isVisible,1));(0,p.z)({address:"reports/reportState/columnVisiblity",method:"POST",bodyData:{visibleColumns:e.map(e=>({ColumnName:e.Field_Name,ColumnOrder:e.OrderBy})),reportName:E,reportUrl:z,reportGroup:"STOCK_IN_HAND_ITEM_WISE"}}).then(n=>{n.success?(R.oR.success(n.message),oe(e.map(e=>({columnName:e.Field_Name,orderNum:e.OrderBy}))),Z(!1)):R.oR.error(n.message)}).catch(e=>console.error(e))},variant:"outlined",children:"Save State"}),(0,L.jsxs)("span",{children:[(0,L.jsx)(g.A,{onClick:()=>{const e=ue.map(e=>{const n=le.find(n=>(0,m.xL)(n.columnName,e.Field_Name));return(0,t.A)((0,t.A)({},e),{},{isVisible:n?1:0,OrderBy:(null===n||void 0===n?void 0:n.orderNum)||e.OrderBy})});_e(e)},variant:"outlined",children:"Reset"}),(0,L.jsx)(g.A,{onClick:()=>Z(!1),color:"error",children:"Close"})]})]})]}),(0,L.jsxs)(A.A,{open:re,onClose:()=>ie(!1),maxWidth:"lg",fullWidth:!0,maxHeight:"90vh",children:[(0,L.jsxs)(C.A,{children:[(0,L.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,L.jsx)(T.A,{variant:"h6",children:ce.productName}),(0,L.jsx)(i.A,{onClick:()=>ie(!1),children:(0,L.jsx)(G.A,{})})]}),(0,L.jsxs)(T.A,{variant:"body2",color:"textSecondary",children:["Period: ",fe(ce.fromDate)," to ",fe(ce.toDate)]})]}),(0,L.jsx)(y.A,{dividers:!0,children:0===se.length?(0,L.jsx)(T.A,{align:"center",color:"textSecondary",children:"No expense data found for this product"}):(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(F.A,{component:f.A,style:{maxHeight:500},children:(0,L.jsxs)(S.A,{stickyHeader:!0,size:"small",children:[(0,L.jsx)(w.A,{children:(0,L.jsxs)(P.A,{children:[(0,L.jsx)(k.A,{children:(0,L.jsx)("strong",{children:"Invoice No"})}),(0,L.jsx)(k.A,{children:(0,L.jsx)("strong",{children:"Date"})}),(0,L.jsx)(k.A,{children:(0,L.jsx)("strong",{children:"Particulars"})}),(0,L.jsx)(k.A,{children:(0,L.jsx)("strong",{children:"Month/Year"})}),(0,L.jsx)(k.A,{align:"right",children:(0,L.jsx)("strong",{children:"In Qty"})}),(0,L.jsx)(k.A,{align:"right",children:(0,L.jsx)("strong",{children:"Out Qty"})}),(0,L.jsx)(k.A,{align:"right",children:(0,L.jsx)("strong",{children:"Rate"})}),(0,L.jsx)(k.A,{align:"right",children:(0,L.jsx)("strong",{children:"Amount"})}),(0,L.jsx)(k.A,{children:(0,L.jsx)("strong",{children:"Retailer"})}),(0,L.jsx)(k.A,{children:(0,L.jsx)("strong",{children:"Voucher"})})]})}),(0,L.jsx)(O.A,{children:se.map((e,n)=>(0,L.jsxs)(P.A,{children:[(0,L.jsx)(k.A,{children:e.invoice_no||""}),(0,L.jsx)(k.A,{children:fe(e.Ledger_Date)}),(0,L.jsx)(k.A,{children:e.Particulars||""}),(0,L.jsx)(k.A,{children:e.Month_Year||""}),(0,L.jsx)(k.A,{align:"right",children:Fe(e.In_Qty)}),(0,L.jsx)(k.A,{align:"right",children:Fe(e.Out_Qty)}),(0,L.jsx)(k.A,{align:"right",children:Fe(e.Rate)}),(0,L.jsx)(k.A,{align:"right",children:Fe(e.Amount)}),(0,L.jsx)(k.A,{children:e.Retailer_Name||"-"}),(0,L.jsx)(k.A,{children:e.voucher_name||"-"})]},n))})]})}),(0,L.jsxs)("div",{className:"mt-4 p-3 border rounded bg-light",children:[(0,L.jsx)(T.A,{variant:"h6",gutterBottom:!0,children:"Summary"}),(0,L.jsxs)("div",{className:"row",children:[(0,L.jsx)("div",{className:"col-md-4",children:(0,L.jsxs)(T.A,{children:[(0,L.jsx)("strong",{children:"Total In Quantity:"})," ",Fe(De.inQty)]})}),(0,L.jsx)("div",{className:"col-md-4",children:(0,L.jsxs)(T.A,{children:[(0,L.jsx)("strong",{children:"Total Out Quantity:"})," ",Fe(De.outQty)]})}),(0,L.jsx)("div",{className:"col-md-4",children:(0,L.jsxs)(T.A,{children:[(0,L.jsx)("strong",{children:"Total Amount:"})," ","\u20b9",Fe(De.amount)]})})]}),(0,L.jsx)("div",{className:"mt-2",children:(0,L.jsxs)(T.A,{variant:"body2",color:"textSecondary",children:[(0,L.jsx)("strong",{children:"Net Quantity:"})," ",Fe(De.inQty-De.outQty)]})})]})]})}),(0,L.jsx)(b.A,{children:(0,L.jsx)(g.A,{onClick:()=>ie(!1),color:"primary",variant:"contained",children:"Close"})})]})]})};var W=a(68052);const U=e=>{let{loadingOn:n,loadingOff:a}=e;const[p,_]=(0,c.useState)(1),[x,h]=(0,c.useState)({Fromdate:(0,m.ny)(),Todate:(0,m.ny)(),FilterFromDate:(0,m.ny)(),FilterTodate:(0,m.ny)()}),v=[{name:"Item Wise",component:(0,L.jsx)(H,{loadingOn:n,loadingOff:a,Fromdate:x.Fromdate,Todate:x.Todate,api:"itemWise",defaultGrouping:"",storageStockColumns:W.fN,reportName:"stockInHand_itemWise",url:"/erp/reports/stockInHand"})},{name:"Godown Wise",component:(0,L.jsx)(H,{loadingOn:n,loadingOff:a,Fromdate:x.Fromdate,Todate:x.Todate,api:"godownWise",defaultGrouping:"Godown_Name",storageStockColumns:W.uM,groupingOption:!1,reportName:"stockInHand_GodownWise",url:"/erp/reports/stockInHand"})}];return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)("div",{className:"d-flex align-items-center flex-wrap mb-3",children:[(0,L.jsx)("label",{htmlFor:"from",className:"me-1 fw-bold ",children:"Fromdate: "}),(0,L.jsx)("input",{type:"date",id:"from",className:"cus-inpt p-2 w-auto me-2",value:x.FilterFromDate,onChange:e=>h(n=>(0,t.A)((0,t.A)({},n),{},{FilterFromDate:e.target.value}))}),(0,L.jsx)("label",{htmlFor:"to",className:"me-1 fw-bold ",children:"Todate: "}),(0,L.jsx)("input",{type:"date",id:"to",className:"cus-inpt p-2 w-auto",value:x.FilterTodate,onChange:e=>h(n=>(0,t.A)((0,t.A)({},n),{},{FilterTodate:e.target.value}))}),(0,L.jsx)(i.A,{size:"small",onClick:()=>h(e=>(0,t.A)((0,t.A)({},e),{},{Fromdate:e.FilterFromDate?e.FilterFromDate:e.Fromdate,Todate:e.FilterTodate?e.FilterTodate:e.Todate})),children:(0,L.jsx)(u.A,{})})]}),(0,L.jsxs)(l.Ay,{value:p,children:[(0,L.jsx)(s.A,{sx:{borderBottom:1,borderColor:"divider"},children:(0,L.jsx)(o.A,{indicatorColor:"transparant",onChange:(e,n)=>_(n),variant:"scrollable",scrollButtons:"auto",children:v.map((e,n)=>(0,L.jsx)(d.A,{sx:p===n+1?{backgroundColor:"#c6d7eb"}:{},label:e.name,value:n+1},n))})}),v.map((e,n)=>(0,L.jsx)(r.A,{value:n+1,sx:{p:0,pt:2},children:e.component},n))]})]})}},64775:(e,n,a)=>{a.d(n,{A:()=>l});var t=a(22018);function l(e){const{theme:n,name:a,props:l}=e;return n&&n.components&&n.components[a]&&n.components[a].defaultProps?(0,t.A)(n.components[a].defaultProps,l):l}},68052:(e,n,a)=>{a.d(n,{fN:()=>t,gY:()=>o,uM:()=>l});const t=[{Column_Name:"Trans_Date",Data_Type:"date"},{Column_Name:"Group_Name",Data_Type:"string"},{Column_Name:"stock_item_name",Data_Type:"string"},{Column_Name:"OB_Bal_Qty",Data_Type:"number"},{Column_Name:"OB_Act_Qty",Data_Type:"number"},{Column_Name:"Pur_Qty",Data_Type:"number"},{Column_Name:"Sal_Qty",Data_Type:"number"},{Column_Name:"Bal_Qty",Data_Type:"number"},{Column_Name:"Bal_Act_Qty",Data_Type:"number"},{Column_Name:"Pur_Act_Qty",Data_Type:"number"},{Column_Name:"Sal_Act_Qty",Data_Type:"number"},{Column_Name:"Stock_Item",Data_Type:"string"},{Column_Name:"Group_ST",Data_Type:"string"},{Column_Name:"Bag",Data_Type:"string"},{Column_Name:"Stock_Group",Data_Type:"string"},{Column_Name:"Product_Rate",Data_Type:"number"},{Column_Name:"S_Sub_Group_1",Data_Type:"string"},{Column_Name:"Grade_Item_Group",Data_Type:"string"},{Column_Name:"Item_Name_Modified",Data_Type:"string"}],l=[{Column_Name:"Godown_Name",Data_Type:"string"},{Column_Name:"stock_item_name",Data_Type:"string"},{Column_Name:"Bal_Qty",Data_Type:"number"},{Column_Name:"CL_Value",Data_Type:"number"},{Column_Name:"OB_Bal_Qty",Data_Type:"number"},{Column_Name:"OB_Act_Qty",Data_Type:"number"},{Column_Name:"Pur_Qty",Data_Type:"number"},{Column_Name:"Sal_Qty",Data_Type:"number"},{Column_Name:"Act_Bal_Qty",Data_Type:"number"},{Column_Name:"Pur_Act_Qty",Data_Type:"number"},{Column_Name:"Sal_Act_Qty",Data_Type:"number"},{Column_Name:"Stock_Item",Data_Type:"string"},{Column_Name:"Group_ST",Data_Type:"string"},{Column_Name:"Bag",Data_Type:"string"},{Column_Name:"Stock_Group",Data_Type:"string"},{Column_Name:"Product_Rate",Data_Type:"number"},{Column_Name:"S_Sub_Group_1",Data_Type:"string"},{Column_Name:"Grade_Item_Group",Data_Type:"string"},{Column_Name:"Item_Name_Modified",Data_Type:"string"},{Column_Name:"CL_Rate",Data_Type:"number"}],o=[{Column_Name:"Group_Name",Data_Type:"string"},{Column_Name:"Brand",Data_Type:"string"},{Column_Name:"Group_ST",Data_Type:"string"},{Column_Name:"Stock_Group",Data_Type:"string"},{Column_Name:"S_Sub_Group_1",Data_Type:"string"},{Column_Name:"Grade_Item_Group",Data_Type:"string"},{Column_Name:"Trans_Date",Data_Type:"date"},{Column_Name:"OB_Bal_Qty",Data_Type:"number"},{Column_Name:"OB_Rate",Data_Type:"number"},{Column_Name:"OB_Value",Data_Type:"number"},{Column_Name:"Pur_Qty",Data_Type:"number"},{Column_Name:"Pur_Rate",Data_Type:"number"},{Column_Name:"Pur_value",Data_Type:"number"},{Column_Name:"Adj_Pur_Qty",Data_Type:"number"},{Column_Name:"Adj_Pur_Rate",Data_Type:"number"},{Column_Name:"Adj_Pur_value",Data_Type:"number"},{Column_Name:"IN_Qty",Data_Type:"number"},{Column_Name:"IN_Rate",Data_Type:"number"},{Column_Name:"IN_Value",Data_Type:"number"},{Column_Name:"Sal_Qty",Data_Type:"number"},{Column_Name:"Sal_Rate",Data_Type:"number"},{Column_Name:"Sal_value",Data_Type:"number"},{Column_Name:"Adj_Sal_Qty",Data_Type:"number"},{Column_Name:"Adj_Sal_Rate",Data_Type:"number"},{Column_Name:"Adj_Sal_value",Data_Type:"number"},{Column_Name:"OUT_Qty",Data_Type:"number"},{Column_Name:"Out_Rate",Data_Type:"number"},{Column_Name:"Out_Value",Data_Type:"number"},{Column_Name:"Expense_value",Data_Type:"number"},{Column_Name:"Act_Expense",Data_Type:"number"},{Column_Name:"Bal_Qty",Data_Type:"number"},{Column_Name:"CL_Rate",Data_Type:"number"},{Column_Name:"CL_Value",Data_Type:"number"},{Column_Name:"CR_CL_Rate",Data_Type:"number"},{Column_Name:"Pre_Qty",Data_Type:"number"},{Column_Name:"Pre_Rate",Data_Type:"number"},{Column_Name:"Pre_CL_Value",Data_Type:"number"}]},72876:(e,n,a)=>{a.d(n,{A:()=>r});var t=a(52900),l=a(15170),o=a(13375);function r(e){let{props:n,name:a}=e;return(0,t.A)({props:n,name:a,defaultTheme:l.A,themeId:o.A})}},79484:(e,n,a)=>{a.d(n,{A:()=>o});var t=a(59662),l=a(70579);const o=(0,t.A)((0,l.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},86506:(e,n,a)=>{a.d(n,{A:()=>h});var t=a(58168),l=a(98587),o=a(65043),r=a(58387),i=a(34535),s=a(72876),d=a(68606),c=a(32400);function m(e){return(0,c.Ay)("MuiTabPanel",e)}(0,a(57056).A)("MuiTabPanel",["root"]);var u=a(22016),p=a(70579);const _=["children","className","value"],x=(0,i.Ay)("div",{name:"MuiTabPanel",slot:"Root",overridesResolver:(e,n)=>n.root})(e=>{let{theme:n}=e;return{padding:n.spacing(3)}}),h=o.forwardRef(function(e,n){const a=(0,s.A)({props:e,name:"MuiTabPanel"}),{children:o,className:i,value:c}=a,h=(0,l.A)(a,_),v=(0,t.A)({},a),g=(e=>{const{classes:n}=e;return(0,d.A)({root:["root"]},m,n)})(v),N=(0,u.QM)();if(null===N)throw new TypeError("No TabContext provided");const A=(0,u.eR)(N,c),y=(0,u.vU)(N,c);return(0,p.jsx)(x,(0,t.A)({"aria-labelledby":y,className:(0,r.A)(g.root,i),hidden:c!==N.value,id:A,ref:n,role:"tabpanel",ownerState:v},h,{children:c===N.value&&o}))})}}]);
//# sourceMappingURL=9284.fd4a76e5.chunk.js.map