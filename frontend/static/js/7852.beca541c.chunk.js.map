{"version":3,"file":"static/js/7852.beca541c.chunk.js","mappings":"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","sources":["Components/requiredStar.jsx","Components/tablecolumn.js","Components/taxCalculator.js","Pages/Sales/SaleOrder/addItemToCart.jsx","Pages/Sales/SalesInvoice/importFromSaleOrder.jsx","Pages/Sales/SalesInvoice/variable.js"],"sourcesContent":["const RequiredStar = () => (\r\n    <span style={{ color: 'red', fontWeight: 'bold', fontSize: '1em' }}> *</span>\r\n);\r\n\r\nexport default RequiredStar;\r\n","\r\nimport SMT_LOGO from './smt.png';\r\n\r\nexport const customTableStyles = {\r\n    table: {\r\n        style: {\r\n            width: 'auto',\r\n            backgroundColor: 'transparent',\r\n            // borderRadius: '5px',\r\n        }\r\n    },\r\n    rows: {\r\n        style: {\r\n            backgroundColor: 'transparent',\r\n        },\r\n    },\r\n    headCells: {\r\n        style: {\r\n            backgroundColor: '#6b9080f8',\r\n            color: 'white',\r\n            fontSize: '14px',\r\n            // borderRadius: '5px',\r\n        },\r\n    },\r\n};\r\n\r\nexport const customSelectStyles = {\r\n    // control: (provided, state) => ({\r\n    //     ...provided,\r\n    //     height: '45px',\r\n    //     background: 'rgba(255, 255, 255, 0.322)'\r\n    // }),\r\n    menu: (provided, state) => ({\r\n        ...provided,\r\n        zIndex: 9999,\r\n    }),\r\n    menuPortal: base => ({ ...base, zIndex: 9999 }),\r\n    groupHeading: (base) => ({\r\n        ...base,\r\n        backgroundColor: '#f5f5f5',\r\n        color: '#333',\r\n        fontWeight: 'bold',\r\n        fontSize: '14px',\r\n        padding: '8px 12px',\r\n        borderBottom: '1px solid #ddd',\r\n        textTransform: 'uppercase',\r\n    }),\r\n    option: (base, state) => ({\r\n        ...base,\r\n        backgroundColor: state.isSelected\r\n            ? '#2684FF'\r\n            : state.isFocused\r\n                ? '#E2ECF9'\r\n                : 'white',\r\n        color: state.isSelected ? 'white' : '#333',\r\n        padding: '10px 12px',\r\n    }),\r\n};\r\n\r\nexport const customSelectStyles2 = {\r\n    control: (provided, state) => ({\r\n        ...provided,\r\n        background: 'transparent',\r\n        border: 'none',\r\n        color: 'rgba(255, 255, 255, 0.322)',\r\n        // minWidth: '160px'\r\n    }),\r\n    menu: (provided, state) => ({\r\n        ...provided,\r\n        color: 'black',\r\n        zIndex: 9999,\r\n    }),\r\n};\r\n\r\nexport const MainMenu = [\r\n    {\r\n        id: 1,\r\n        headname: 'Menu ID',\r\n        variant: 'head',\r\n        align: 'left',\r\n        width: 100\r\n    },\r\n    {\r\n        id: 2,\r\n        headname: 'MenuName',\r\n    },\r\n    {\r\n        id: 3,\r\n        headname: 'Read Rights'\r\n    },\r\n    {\r\n        id: 4,\r\n        headname: 'Add Rights'\r\n    },\r\n    {\r\n        id: 5,\r\n        headname: 'Edit Rights'\r\n    },\r\n    {\r\n        id: 6,\r\n        headname: 'Delete Rights'\r\n    },\r\n    {\r\n        id: 7,\r\n        headname: 'Print Rights'\r\n    },\r\n    {\r\n        id: 8,\r\n        headname: 'Action'\r\n    }\r\n];\r\n\r\nexport const companyDetails = [\r\n    {\r\n        dataBase: 1,\r\n        name: 'SHANKAR TRADERS',\r\n        business: 'Wholesale Merchant in Dhall',\r\n        address: '32, Chitrakara Street, Madurai - 01 <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped',\r\n        logo: SMT_LOGO,\r\n        gstin: '33AADFS6973R1ZD',\r\n        phone: '984-313-1353, 984-335-5166',\r\n        fssai: '12418012000818',\r\n        bankAccount: '0021 5032 0885 122',\r\n        ifsc: 'TMBL0000002'\r\n    },\r\n    {\r\n        dataBase: 2,\r\n        name: 'SMT AGRO PRODUCTS',\r\n        business: '',\r\n        address: 'H.O: 153, Chitrakara Street, 2nd Floor, Madurai -01 <br /> G.O: 746 Puliyur, Sayanapuram, Svga <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped',\r\n        logo: SMT_LOGO,\r\n        gstin: '33ACMFS3420Q1ZQ',\r\n        phone: '0452-4371625',\r\n        fssai: '12418012000818',\r\n        bankAccount: '0025 3031 0875 947',\r\n        ifsc: 'TMBL0000002'\r\n    },\r\n    {\r\n        dataBase: 3,\r\n        name: 'BHAVANI TRADERS',\r\n        business: '',\r\n        address: 'H.O: 152-A, Chitrakara Street, Madurai -01 <br /> G.O: 30/1-Rajman Nagar, Chintamani Main Road, Mdu-01 <br /> Tax Invoice',\r\n        logo: SMT_LOGO,\r\n        gstin: '33AAEFB6728J1ZG',\r\n        phone: '958-559-7641, 958-559-7614',\r\n        fssai: '12418012000670',\r\n        bankAccount: '0021 5005 0800 309',\r\n        ifsc: 'TMBL0000002'\r\n    },\r\n]\r\n\r\nexport const erpModules = [\r\n    { name: 'PURCHASE ORDER' },\r\n    { name: 'PURCHASE INVOICE' },\r\n    { name: 'SALE ORDER' },\r\n    { name: 'SALE INVOICE' },\r\n    { name: 'JOURNAL' },\r\n    { name: 'STOCK JOURNAL' },\r\n    { name: 'PAYMENT' },\r\n    { name: 'RECEIPT' },\r\n    { name: 'CONTRA' },\r\n]","/**\r\n * @param {number} amount \r\n * @param {number} gstRate \r\n * @param {string} type 3 Types add, remove, zerotax\r\n * @returns {object} \r\n */\r\n\r\nimport { toNumber } from \"./functions\";\r\n\r\nexport const calculateGSTDetails = (amount, gstRate, type = 'add') => {\r\n\r\n    const validatedAmount = toNumber(amount);\r\n    const validatedGstRate = toNumber(gstRate);\r\n\r\n    const halfGstRate = validatedGstRate / 2;\r\n    let baseAmount, taxAmount, withTax, withoutTax;\r\n\r\n    if (type === 'zerotax') {\r\n        baseAmount = validatedAmount; // No tax applied\r\n        taxAmount = 0;\r\n        withTax = validatedAmount;\r\n        withoutTax = validatedAmount;\r\n    } else if (type === 'add') {\r\n        taxAmount = (validatedAmount * validatedGstRate) / 100;\r\n        baseAmount = validatedAmount;\r\n        withTax = validatedAmount + taxAmount;\r\n        withoutTax = validatedAmount;\r\n    } else if (type === 'remove') {\r\n        baseAmount = validatedAmount / (1 + validatedGstRate / 100);\r\n        taxAmount = validatedAmount - baseAmount;\r\n        withTax = validatedAmount;\r\n        withoutTax = baseAmount;\r\n    } else {\r\n        throw new Error(\"Invalid type. Use 'add', 'remove', or 'zerotax'.\");\r\n    }\r\n\r\n    const sgstAmount = (taxAmount / 2).toFixed(2);\r\n    const cgstAmount = (taxAmount / 2).toFixed(2);\r\n    const igstAmount = taxAmount.toFixed(2);\r\n\r\n    return {\r\n        base_amount: Number(baseAmount).toFixed(2),\r\n        with_tax: Number(withTax).toFixed(2),\r\n        without_tax: Number(withoutTax).toFixed(2),\r\n        tax_per: Number(validatedGstRate),\r\n        tax_amount: Number(taxAmount).toFixed(2),\r\n        sgst_per: Number(halfGstRate),\r\n        sgst_amount: Number(sgstAmount),\r\n        cgst_per: Number(halfGstRate),\r\n        cgst_amount: Number(cgstAmount),\r\n        igst_per: Number(validatedGstRate),\r\n        igst_amount: Number(igstAmount),\r\n        type,\r\n    };\r\n};","import { useEffect, useState } from \"react\";\r\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle } from \"@mui/material\";\r\nimport { checkIsNumber, Division, isEqualNumber, isValidObject, Multiplication, onlynum, RoundNumber, toArray, toNumber } from \"../../../Components/functions\";\r\nimport { ClearAll } from \"@mui/icons-material\";\r\nimport RequiredStar from \"../../../Components/requiredStar\";\r\nimport { calculateGSTDetails } from \"../../../Components/taxCalculator\";\r\nimport Select from \"react-select\";\r\nimport { customSelectStyles } from \"../../../Components/tablecolumn\";\r\nimport { toast } from \"react-toastify\";\r\nimport { validStockValue } from \"../SalesInvoice/importFromSaleOrder\";\r\n\r\nconst AddItemToSaleOrderCart = ({\r\n    children,\r\n    orderProducts = [],\r\n    setOrderProducts,\r\n    open = false,\r\n    onClose,\r\n    products = [],\r\n    brands = [],\r\n    uom = [],\r\n    godowns = [],\r\n    GST_Inclusive,\r\n    IS_IGST,\r\n    editValues = null,\r\n    initialValue = {},\r\n    stockInGodown = [],\r\n}) => {\r\n\r\n    const [productDetails, setProductDetails] = useState(initialValue);\r\n\r\n    const isInclusive = isEqualNumber(GST_Inclusive, 1);\r\n    const isNotTaxableBill = isEqualNumber(GST_Inclusive, 2);\r\n\r\n    useEffect(() => {\r\n        if (isValidObject(editValues) && open) {\r\n            setProductDetails(pre => (\r\n                Object.fromEntries(\r\n                    Object.entries(pre).map(([key, value]) => [key, editValues[key] ? editValues[key] : value])\r\n                )\r\n            ))\r\n        }\r\n    }, [editValues])\r\n\r\n    const findProductDetails = (productid) => products?.find(obj => isEqualNumber(obj?.Product_Id, productid)) ?? {};\r\n\r\n    const closeDialog = () => {\r\n        setProductDetails(initialValue);\r\n        onClose();\r\n    }\r\n\r\n    const handleProductInputChange = () => {\r\n\r\n        setOrderProducts(pre => {\r\n            const existingProducts = pre.filter(ordered => !isEqualNumber(ordered.Item_Id, productDetails.Item_Id));\r\n\r\n            const currentProductDetails = Object.fromEntries(\r\n                Object.entries(initialValue).map(([key, value]) => {\r\n                    const productMaster = findProductDetails(productDetails.Item_Id);\r\n                    const gstPercentage = IS_IGST ? productMaster.Igst_P : productMaster.Gst_P;\r\n                    const isTaxable = gstPercentage > 0;\r\n\r\n                    const { Bill_Qty, Item_Rate, Amount } = productDetails;\r\n\r\n                    const taxType = isNotTaxableBill ? 'zerotax' : isInclusive ? 'remove' : 'add';\r\n                    const itemRateGst = calculateGSTDetails(Item_Rate, gstPercentage, taxType);\r\n                    const gstInfo = calculateGSTDetails(Amount, gstPercentage, taxType);\r\n\r\n                    const cgstPer = !IS_IGST ? gstInfo.cgst_per : 0;\r\n                    const igstPer = IS_IGST ? gstInfo.igst_per : 0;\r\n                    const Cgst_Amo = !IS_IGST ? gstInfo.cgst_amount : 0;\r\n                    const Igst_Amo = IS_IGST ? gstInfo.igst_amount : 0;\r\n\r\n                    switch (key) {\r\n                        case 'Item_Name': return [key, productMaster.Product_Name]\r\n                        case 'Taxable_Rate': return [key, itemRateGst.base_amount]\r\n                        case 'Total_Qty': return [key, Bill_Qty]\r\n                        case 'Taxble': return [key, isTaxable ? 1 : 0]\r\n                        case 'Taxable_Amount': return [key, gstInfo.base_amount]\r\n                        case 'Tax_Rate': return [key, gstPercentage]\r\n                        case 'Cgst':\r\n                        case 'Sgst': return [key, cgstPer ?? 0]\r\n                        case 'Cgst_Amo':\r\n                        case 'Sgst_Amo': return [key, isNotTaxableBill ? 0 : Cgst_Amo]\r\n                        case 'Igst': return [key, igstPer ?? 0]\r\n                        case 'Igst_Amo': return [key, isNotTaxableBill ? 0 : Igst_Amo]\r\n                        case 'Final_Amo': return [key, gstInfo.with_tax]\r\n\r\n                        default: return [key, productDetails[key] || value]\r\n                    }\r\n                })\r\n            );\r\n\r\n            return [...existingProducts, currentProductDetails];\r\n        });\r\n\r\n        closeDialog();\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {children}\r\n\r\n            <Dialog\r\n                open={open}\r\n                onClose={closeDialog}\r\n                maxWidth='md' fullWidth\r\n            >\r\n                <DialogTitle className=\"border-bottom\">\r\n                    <span>Add Products Details</span>\r\n                </DialogTitle>\r\n                <form onSubmit={e => {\r\n                    e.preventDefault();\r\n                    if (productDetails.Item_Id) {\r\n                        handleProductInputChange();\r\n                    } else {\r\n                        toast.warn('Select Product');\r\n                    }\r\n                }}>\r\n                    <DialogContent>\r\n                        <div className=\"row pb-5\">\r\n\r\n                            {/* brand */}\r\n                            <div className=\"col-6 p-2\">\r\n                                <label>Brand</label>\r\n                                <Select\r\n                                    value={{ value: productDetails.BrandID, label: productDetails.Brand }}\r\n                                    onChange={(e) => setProductDetails(pre => ({ ...pre, BrandID: e.value, Brand: e.label }))}\r\n                                    options={[\r\n                                        { value: '', label: 'select', isDisabled: true },\r\n                                        ...brands.map(obj => ({ value: obj?.Brand, label: obj?.Brand_Name }))\r\n                                    ]}\r\n                                    styles={customSelectStyles}\r\n                                    menuPortalTarget={document.body}\r\n                                    isSearchable={true}\r\n                                    placeholder={\"Select Brand\"}\r\n                                    maxMenuHeight={200}\r\n                                />\r\n                            </div>\r\n\r\n                            {/* group */}\r\n                            <div className=\"col-6 p-2\">\r\n                                <label>Group</label>\r\n                                <Select\r\n                                    value={{ value: productDetails.GroupID, label: productDetails.Group }}\r\n                                    onChange={(e) =>\r\n                                        setProductDetails((pre) => ({ ...pre, GroupID: e.value, Group: e.label }))\r\n                                    }\r\n                                    options={[\r\n                                        { value: '', label: 'select', isDisabled: true },\r\n                                        ...products\r\n                                            .filter(\r\n                                                (pro) =>\r\n                                                    productDetails.BrandID\r\n                                                        ? isEqualNumber(pro.Brand, productDetails.BrandID)\r\n                                                        : true\r\n                                            )\r\n                                            .reduce((acc, pro) => {\r\n                                                if (\r\n                                                    !acc.some((grp) => grp.value === pro.Product_Group)\r\n                                                ) {\r\n                                                    acc.push({\r\n                                                        value: pro.Product_Group,\r\n                                                        label: pro.Pro_Group,\r\n                                                    });\r\n                                                }\r\n                                                return acc;\r\n                                            }, []),\r\n                                    ]}\r\n                                    styles={customSelectStyles}\r\n                                    menuPortalTarget={document.body}\r\n                                    isSearchable={true}\r\n                                    placeholder={\"Select Group\"}\r\n                                    maxMenuHeight={200}\r\n                                />\r\n                            </div>\r\n\r\n                            {/* item name */}\r\n                            <div className={\r\n                                Object.hasOwn(productDetails, 'GoDown_Id') ? 'col-md-8 p-2' : \"col-12 p-2\"\r\n                            }>\r\n                                <label>Item Name <RequiredStar /></label>\r\n                                <Select\r\n                                    value={{\r\n                                        value: productDetails.Item_Id,\r\n                                        label: (\r\n                                            findProductDetails(productDetails.Item_Id)?.Product_Name\r\n                                        )\r\n                                    }}\r\n                                    isDisabled={checkIsNumber(productDetails.Pre_Id)}\r\n                                    menuPortalTarget={document.body}\r\n                                    onChange={e => {\r\n                                        const productInfo = findProductDetails(e.value);\r\n                                        setProductDetails(pre => ({\r\n                                            ...pre,\r\n\r\n                                            Group: productInfo.Pro_Group ?? pre.Group,\r\n                                            GroupID: productInfo.Product_Group ?? pre.GroupID,\r\n                                            Brand: productInfo.Brand_Name ?? pre.Brand,\r\n                                            BrandID: productInfo.Brand ?? pre.BrandID,\r\n\r\n                                            Item_Id: e.value,\r\n                                            Item_Rate: productInfo.Item_Rate ?? 0,\r\n                                            Bill_Qty: 0,\r\n                                            Amount: 0,\r\n                                            Unit_Id: productInfo.UOM_Id ?? pre.Unit_Id,\r\n                                            Unit_Name: productInfo.Units ?? pre.Unit_Name,\r\n                                            HSN_Code: productInfo?.HSN_Code\r\n                                        }));\r\n                                    }}\r\n                                    options={[\r\n                                        { value: '', label: 'select', isDisabled: true },\r\n                                        ...[\r\n                                            ...products\r\n                                                .filter(pro => productDetails.BrandID ? isEqualNumber(pro.Brand, productDetails.BrandID) : true)\r\n                                                .filter(pro => productDetails.GroupID ? isEqualNumber(pro.Product_Group, productDetails.GroupID) : true)\r\n                                        ].map(obj => ({\r\n                                            value: obj?.Product_Id,\r\n                                            label: obj?.Product_Name,\r\n                                            isDisabled: (\r\n                                                orderProducts.findIndex(ind => isEqualNumber(\r\n                                                    ind?.Item_Id, obj?.Product_Id\r\n                                                ))\r\n                                            ) === -1 ? false : true\r\n                                        }))\r\n                                    ]}\r\n                                    styles={customSelectStyles}\r\n                                    isSearchable={true}\r\n                                    required\r\n                                    placeholder={\"Select Product\"}\r\n                                    maxMenuHeight={200}\r\n                                />\r\n                            </div>\r\n\r\n                            {/* godown  */}\r\n                            {Object.hasOwn(productDetails, 'GoDown_Id') && (\r\n                                <div className=\"col-md-4 p-2\">\r\n                                    <label>Godown</label>\r\n                                    <Select\r\n                                        value={{\r\n                                            value: productDetails?.GoDown_Id,\r\n                                            label: godowns.find(g => isEqualNumber(g.Godown_Id, productDetails?.GoDown_Id))?.Godown_Name || ''\r\n                                        }}\r\n                                        onChange={(e) => setProductDetails(pre => ({ ...pre, GoDown_Id: e.value }))}\r\n                                        options={[\r\n                                            { value: '', label: 'select', isDisabled: true },\r\n                                            {\r\n                                                label: 'Stock-Available-Godowns',\r\n                                                options: toArray(godowns).filter(fil => {\r\n                                                    const stockList = toArray(stockInGodown);\r\n\r\n                                                    if (stockList.length === 0) return false;\r\n\r\n                                                    return stockList.some(\r\n                                                        fnd => (\r\n                                                            isEqualNumber(fnd?.Godown_Id, fil?.Godown_Id)\r\n                                                            && isEqualNumber(productDetails?.Item_Id, fnd?.Product_Id)\r\n                                                        )\r\n                                                    )\r\n                                                }).map(obj => ({\r\n                                                    value: obj?.Godown_Id,\r\n                                                    label: obj?.Godown_Name\r\n                                                        + \" (Bal: \"\r\n                                                        + validStockValue(productDetails?.Item_Id, obj?.Godown_Id, stockInGodown)\r\n                                                        + \")\"\r\n                                                }))\r\n                                            },\r\n                                            {\r\n                                                label: 'Other Godowns',\r\n                                                options: toArray(godowns).filter(fil => {\r\n                                                    const stockList = toArray(stockInGodown);\r\n\r\n                                                    if (stockList.length === 0) return true;\r\n\r\n                                                    return !stockList.some(fnd =>\r\n                                                        isEqualNumber(fnd?.Godown_Id, fil?.Godown_Id) &&\r\n                                                        isEqualNumber(productDetails?.Item_Id, fnd?.Product_Id)\r\n                                                    );\r\n                                                }).map(obj => ({\r\n                                                    value: obj?.Godown_Id,\r\n                                                    label: obj?.Godown_Name\r\n                                                }))\r\n                                            }\r\n                                        ]}\r\n                                        styles={customSelectStyles}\r\n                                        isDisabled={!checkIsNumber(productDetails?.Item_Id)}\r\n                                        menuPortalTarget={document.body}\r\n                                        isSearchable={true}\r\n                                        placeholder={\"Select Godown\"}\r\n                                        // maxMenuHeight={200}  \r\n                                    />\r\n                                </div>\r\n                            )}\r\n\r\n                            {/* quantity */}\r\n                            <div className=\"col-lg-4 col-md-6 p-2\">\r\n                                <label>Quantity <RequiredStar /></label>\r\n                                <input\r\n                                    required\r\n                                    value={productDetails.Bill_Qty ? productDetails.Bill_Qty : ''}\r\n                                    onInput={onlynum}\r\n                                    disabled={!checkIsNumber(productDetails.Item_Id)}\r\n                                    onChange={e => {\r\n                                        if (productDetails.Item_Rate) {\r\n                                            setProductDetails(pre => ({\r\n                                                ...pre,\r\n                                                Amount: Multiplication(productDetails.Item_Rate, e.target.value),\r\n                                                Bill_Qty: e.target.value,\r\n                                            }))\r\n                                        } else if (productDetails.Amount) {\r\n                                            setProductDetails(pre => ({\r\n                                                ...pre,\r\n                                                Item_Rate: Division(pre.Amount, e.target.value),\r\n                                                Bill_Qty: e.target.value,\r\n                                            }))\r\n                                        } else {\r\n                                            setProductDetails(pre => ({\r\n                                                ...pre,\r\n                                                Bill_Qty: e.target.value,\r\n                                            }));\r\n                                        }\r\n                                    }}\r\n                                    className=\"cus-inpt\"\r\n                                    min={1}\r\n                                />\r\n                            </div>\r\n\r\n                            {Object.hasOwn(productDetails, 'Act_Qty') && (\r\n                                <div className=\"col-lg-4 col-md-6 p-2\">\r\n                                    <label>Actual Quantity </label>\r\n                                    <input\r\n                                        value={productDetails.Act_Qty ? productDetails.Act_Qty : ''}\r\n                                        onInput={onlynum}\r\n                                        disabled={!checkIsNumber(productDetails.Item_Id)}\r\n                                        onChange={e => setProductDetails(pre => ({\r\n                                            ...pre,\r\n                                            Act_Qty: e.target.value,\r\n                                        }))}\r\n                                        required\r\n                                        className=\"cus-inpt\"\r\n                                    />\r\n                                </div>\r\n                            )}\r\n\r\n                            {/* Rate */}\r\n                            <div className=\"col-lg-4 col-md-6 p-2\">\r\n                                <label>Rate </label>\r\n                                <input\r\n                                    value={productDetails.Item_Rate ? productDetails.Item_Rate : ''}\r\n                                    onInput={onlynum}\r\n                                    disabled={!checkIsNumber(productDetails.Item_Id)}\r\n                                    onChange={e => setProductDetails(pre => ({\r\n                                        ...pre,\r\n                                        Item_Rate: e.target.value,\r\n                                        Amount: pre.Bill_Qty ? Multiplication(e.target.value, pre.Bill_Qty) : pre.Amount\r\n                                    }))}\r\n                                    required\r\n                                    className=\"cus-inpt\"\r\n                                />\r\n                            </div>\r\n\r\n                            {/* UOM */}\r\n                            <div className=\"col-lg-4 col-md-6 p-2\">\r\n                                <label>UOM</label>\r\n                                <select\r\n                                    value={\r\n                                        Object.hasOwn(productDetails, 'UOM') ? productDetails.UOM : \r\n                                        Object.hasOwn(productDetails, 'Unit_Id') ? productDetails.Unit_Id : '' \r\n                                    }\r\n                                    onChange={e => {\r\n                                        const selectedIndex = e.target.selectedIndex;\r\n                                        const label = e.target.options[selectedIndex].text;\r\n                                        const value = e.target.value;\r\n                                        setProductDetails(pre => ({ \r\n                                            ...pre, \r\n                                            UOM: value, \r\n                                            Unit_Id: value, \r\n                                            Units: label,\r\n                                            Unit_Name: label, \r\n                                        }));\r\n                                    }}\r\n                                    className=\"cus-inpt\"\r\n                                    disabled={!checkIsNumber(productDetails.Item_Id)}\r\n                                >\r\n                                    <option value=\"\" disabled>select</option>\r\n                                    {uom.map((o, i) => (\r\n                                        <option value={o.Unit_Id} key={i} >{o.Units}</option>\r\n                                    ))}\r\n                                </select>\r\n                            </div>\r\n\r\n                            {/* Amount */}\r\n                            <div className=\"col-md-6 p-2\">\r\n                                <label>Amount</label>\r\n                                <input\r\n                                    required\r\n                                    value={productDetails.Amount ? productDetails.Amount : ''}\r\n                                    onInput={onlynum}\r\n                                    disabled={!checkIsNumber(productDetails.Item_Id)}\r\n                                    onChange={e => setProductDetails(pre => ({\r\n                                        ...pre,\r\n                                        Amount: e.target.value,\r\n                                        Item_Rate: pre.Bill_Qty ? Division(e.target.value, pre.Bill_Qty) : pre.Item_Rate\r\n                                    }))}\r\n                                    className=\"cus-inpt\"\r\n                                    min={1}\r\n                                />\r\n                            </div>\r\n\r\n\r\n                        </div>\r\n\r\n                    </DialogContent>\r\n                    <DialogActions className=\"d-flex justify-content-between align-items-center\">\r\n                        <Button onClick={() => setProductDetails(initialValue)} type='button' startIcon={<ClearAll />}>Clear</Button>\r\n                        <span>\r\n                            <Button type=\"button\" onClick={closeDialog}>cancel</Button>\r\n                            <Button type='submit' variant=\"outlined\">Add</Button>\r\n                        </span>\r\n                    </DialogActions>\r\n                </form>\r\n            </Dialog>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddItemToSaleOrderCart;","import { useEffect, useState } from \"react\";\r\nimport { checkIsNumber, isEqualNumber, ISOString, LocalDate, toArray, toNumber } from \"../../../Components/functions\";\r\nimport { Button, Dialog, DialogContent, DialogTitle, IconButton } from \"@mui/material\";\r\nimport { fetchLink } from \"../../../Components/fetchComponent\";\r\nimport { Done } from \"@mui/icons-material\";\r\nimport { salesInvoiceDetailsInfo, salesInvoiceStaffInfo } from \"./variable\";\r\nimport { calculateGSTDetails } from \"../../../Components/taxCalculator\";\r\nimport Select from \"react-select\";\r\nimport { customSelectStyles } from \"../../../Components/tablecolumn\";\r\n\r\nconst validStockValue = (Item_Id, Godown_Id, stockInGodown) => {\r\n    const godownStockValue = toArray(stockInGodown).find(\r\n        godownItem => (\r\n            isEqualNumber(godownItem?.Product_Id, Item_Id) &&\r\n            isEqualNumber(godownItem?.Godown_Id, Godown_Id)\r\n        )\r\n    )?.Act_Bal_Qty;\r\n\r\n    if (\r\n        godownStockValue === null ||\r\n        godownStockValue === undefined ||\r\n        Number.isNaN(godownStockValue) ||\r\n        godownStockValue == 0\r\n    ) {\r\n        return 0;\r\n    }\r\n\r\n    return godownStockValue;\r\n};\r\n\r\nconst AddProductsInSalesInvoice = ({\r\n    loadingOn,\r\n    loadingOff,\r\n    open,\r\n    onClose,\r\n    retailer,\r\n    children,\r\n    selectedItems = [],\r\n    setSelectedItems,\r\n    staffArray = [],\r\n    setStaffArray,\r\n    products = [],\r\n    GST_Inclusive,\r\n    IS_IGST,\r\n    invoiceInfo = {},\r\n    setInvoiceInfo,\r\n    godowns = [],\r\n    stockInGodown = [],\r\n}) => {\r\n\r\n    const isInclusive = isEqualNumber(GST_Inclusive, 1);\r\n    const isNotTaxableBill = isEqualNumber(GST_Inclusive, 2);\r\n\r\n    const findProductDetails = (productid) => products?.find(obj => isEqualNumber(obj?.Product_Id, productid)) ?? {};\r\n\r\n    const [saleOrders, setSaleOrders] = useState([]);\r\n    const [filters, setFilters] = useState({\r\n        Fromdate: ISOString(),\r\n        Todate: ISOString(),\r\n        search: false,\r\n        Godown: { value: '', label: 'Select Godown For Stock Details' }\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (checkIsNumber(retailer) && open) {\r\n            const { Fromdate, Todate } = filters;\r\n            if (loadingOn) loadingOn();\r\n            fetchLink({\r\n                address: `sales/saleOrder?Fromdate=${Fromdate}&Todate=${Todate}&Retailer_Id=${retailer}`\r\n            }).then(data => {\r\n                if (data.success) setSaleOrders(data.data);\r\n                else setSaleOrders([]);\r\n            }).catch(e => console.error(e)).finally(() => {\r\n                if (loadingOff) loadingOff();\r\n            })\r\n        }\r\n    }, [filters.search])\r\n\r\n    const changeSelectedItems = (itemDetail, godownDetails = {}, deleteRow) => {\r\n\r\n        if (deleteRow) {\r\n            setInvoiceInfo(pre => ({ ...pre, So_No: '' }));\r\n            setSelectedItems([])\r\n            return;\r\n        }\r\n\r\n        setInvoiceInfo(pre => ({ ...pre, So_No: Number(itemDetail?.So_Id) }));\r\n\r\n        setSelectedItems(pre => {\r\n            const oldData = [...pre];\r\n            return toArray(itemDetail?.Products_List).map((cur, curIndex) => (\r\n                Object.fromEntries(\r\n                    Object.entries(salesInvoiceDetailsInfo).map(([key, value]) => {\r\n\r\n                        const productMaster = findProductDetails(cur.Item_Id);\r\n                        const gstPercentage = IS_IGST ? productMaster.Igst_P : productMaster.Gst_P;\r\n                        const isTaxable = gstPercentage > 0;\r\n\r\n                        const { Item_Rate, Bill_Qty, Amount } = cur;\r\n\r\n                        const taxType = isNotTaxableBill ? 'zerotax' : isInclusive ? 'remove' : 'add';\r\n                        const itemRateGst = calculateGSTDetails(Item_Rate, gstPercentage, taxType);\r\n                        const gstInfo = calculateGSTDetails(Amount, gstPercentage, taxType);\r\n\r\n                        const cgstPer = !IS_IGST ? gstInfo.cgst_per : 0;\r\n                        const igstPer = IS_IGST ? gstInfo.igst_per : 0;\r\n                        const Cgst_Amo = !IS_IGST ? gstInfo.cgst_amount : 0;\r\n                        const Igst_Amo = IS_IGST ? gstInfo.igst_amount : 0;\r\n\r\n                        switch (key) {\r\n                            case 'S_No': return [key, curIndex + 1 ?? value];\r\n                            case 'Item_Id': return [key, cur['Item_Id'] ?? value];\r\n                            case 'Item_Name': return [key, productMaster?.Product_Name ?? value];\r\n                            case 'Item_Rate': return [key, toNumber(Item_Rate)];\r\n\r\n                            case 'Bill_Qty': return [key, toNumber(Bill_Qty)];\r\n                            case 'Act_Qty': return [key, toNumber(Bill_Qty)];\r\n                            case 'Alt_Act_Qty': return [key, toNumber(Bill_Qty)];\r\n\r\n                            case 'Amount': return [key, Amount];\r\n                            case 'HSN_Code': return [key, productMaster.HSN_Code ?? value];\r\n\r\n                            case 'Unit_Id': return [key, cur['Unit_Id'] ?? value];\r\n                            case 'Act_unit_Id': return [key, cur['Unit_Id'] ?? value];\r\n                            case 'Alt_Act_Unit_Id': return [key, cur['Unit_Id'] ?? value];\r\n                            case 'Unit_Name': return [key, cur['Units'] ?? value];\r\n                            case 'GoDown_Id': {\r\n                                const isValidGodown = checkIsNumber(godownDetails?.Godown_Id);\r\n                                const isValidItem = checkIsNumber(godownDetails?.Item_Id);\r\n                                const isSameItem = isEqualNumber(cur?.Item_Id, godownDetails?.Item_Id);\r\n                                const oldGodown = oldData.find(\r\n                                    fndOld => isEqualNumber(fndOld.Item_Id, cur?.Item_Id)\r\n                                )?.GoDown_Id\r\n\r\n                                const newValue = (isValidGodown && isValidItem && isSameItem)\r\n                                    ? godownDetails.Godown_Id\r\n                                    : checkIsNumber(oldGodown) ? oldGodown : value;\r\n\r\n                                return [key, newValue];\r\n                            }\r\n\r\n                            case 'Taxable_Rate': return [key, itemRateGst.base_amount]\r\n                            case 'Total_Qty': return [key, toNumber(Bill_Qty)]\r\n                            case 'Taxble': return [key, isTaxable ? 1 : 0]\r\n                            case 'Taxable_Amount': return [key, gstInfo.base_amount]\r\n                            case 'Tax_Rate': return [key, gstPercentage]\r\n                            case 'Cgst':\r\n                            case 'Sgst': return [key, cgstPer ?? 0]\r\n                            case 'Cgst_Amo':\r\n                            case 'Sgst_Amo': return [key, isNotTaxableBill ? 0 : Cgst_Amo]\r\n                            case 'Igst': return [key, igstPer ?? 0]\r\n                            case 'Igst_Amo': return [key, isNotTaxableBill ? 0 : Igst_Amo]\r\n                            case 'Final_Amo': return [key, gstInfo.with_tax]\r\n\r\n                            default: return [key, value]\r\n                        }\r\n                    })\r\n                )\r\n            ))\r\n        });\r\n\r\n        const notInStaffList = [...new Map(\r\n            toArray(itemDetail?.Staff_Involved_List).filter(\r\n                staff => !staffArray.some(\r\n                    arrObj => isEqualNumber(arrObj.Emp_Id, staff.Involved_Emp_Id)\r\n                )\r\n            ).map(staff => [staff.Involved_Emp_Id, staff])\r\n        ).values()];\r\n\r\n        if (notInStaffList.length > 0) {\r\n            setStaffArray(prevStaffArray => [\r\n                ...prevStaffArray,\r\n                ...notInStaffList.map(staff => Object.fromEntries(\r\n                    Object.entries(salesInvoiceStaffInfo).map(([key, value]) => {\r\n                        switch (key) {\r\n                            case 'Emp_Id': return [key, staff?.Involved_Emp_Id];\r\n                            case 'Emp_Name': return [key, staff?.EmpName];\r\n                            case 'Emp_Type_Id': return [key, staff?.Cost_Center_Type_Id];\r\n                            default: return [key, value];\r\n                        }\r\n                    })\r\n                ))\r\n            ]);\r\n        }\r\n\r\n        // closeDialog();\r\n    }\r\n\r\n    const closeDialog = () => {\r\n        if (onClose) onClose();\r\n        setSaleOrders([]);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {children}\r\n\r\n            <Dialog\r\n                open={open}\r\n                onClose={closeDialog}\r\n                fullScreen\r\n            >\r\n                <DialogTitle>\r\n                    <div className=\"d-flex flex-wrap align-items-center \">\r\n                        <span className=\"flex-grow-1\">Select Sale Order</span>\r\n                        <IconButton\r\n                            onClick={closeDialog}\r\n                            color='success'\r\n                        >\r\n                            <Done className=\"fa-20\" />\r\n                        </IconButton>\r\n                    </div>\r\n                </DialogTitle>\r\n                <DialogContent>\r\n\r\n                    <div className=\"d-flex flex-wrap align-items-end\">\r\n                        <div className=\"p-2\">\r\n                            <label className='d-block ms-2'>From Date</label>\r\n                            <input\r\n                                className=\"cus-inpt p-2 w-auto\"\r\n                                type=\"date\"\r\n                                value={filters?.Fromdate}\r\n                                onChange={e => setFilters(pre => ({ ...pre, Fromdate: e.target.value }))}\r\n                                required\r\n                            />\r\n                        </div>\r\n                        <div className=\"p-2\">\r\n                            <label className='d-block ms-2'>To Date</label>\r\n                            <input\r\n                                className=\"cus-inpt p-2 w-auto\"\r\n                                type=\"date\"\r\n                                min={filters.Fromdate}\r\n                                value={filters?.Todate}\r\n                                onChange={e => setFilters(pre => ({ ...pre, Todate: e.target.value }))}\r\n                                required\r\n                            />\r\n                        </div>\r\n                        {/* <div style={{ minWidth: '170px', maxWidth: '100%' }} className=\"p-2\">\r\n                            <label className='d-block ms-2'>Godown</label>\r\n                            <Select\r\n                                value={filters.Godown}\r\n                                onChange={e => setFilters(pre => ({ ...pre, Godown: e }))}\r\n                                options={[\r\n                                    { value: '', label: 'select', isDisabled: true },\r\n                                    ...toArray(godowns).map(obj => ({ value: obj?.Godown_Id, label: obj?.Godown_Name }))\r\n                                ]}\r\n                                styles={customSelectStyles}\r\n                                menuPortalTarget={document.body}\r\n                                isSearchable={true}\r\n                                placeholder={\"Select Godown\"}\r\n                                maxMenuHeight={200}\r\n                            />\r\n                        </div> */}\r\n                        <div className=\"p-2\">\r\n                            <Button\r\n                                variant=\"outlined\"\r\n                                type=\"button\"\r\n                                onClick={() => setFilters(pre => ({ ...pre, search: !pre.search }))}\r\n                            >search</Button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <br />\r\n\r\n                    {saleOrders.map((invoice, ind) => {\r\n                        const {\r\n                            So_Inv_No, So_Date, VoucherTypeGet, Branch_Name,\r\n                            Sales_Person_Name, Total_Tax, Total_Invoice_value, Products_List\r\n                        } = invoice;\r\n\r\n                        const isChecked = isEqualNumber(invoiceInfo?.So_No, invoice.So_Id)\r\n\r\n                        return (\r\n                            <div className=\"container-fluid\" key={ind} >\r\n                                <div\r\n                                    className={`\r\n                                        invoice-card bg-white p-4 shadow-sm mb-4 border rounded  \r\n                                        ${isChecked ? ' border-primary ' : ''}\r\n                                        `\r\n                                    }\r\n                                >\r\n                                    {/* Header */}\r\n                                    <h5 className=\"d-flex align-items-center flex-wrap\">\r\n                                        <span className=\"me-2\">\r\n                                            <input\r\n                                                className=\"form-check-input shadow-none pointer\"\r\n                                                style={{ padding: '0.7em' }}\r\n                                                type=\"checkbox\"\r\n                                                checked={isChecked}\r\n                                                onChange={() => {\r\n                                                    if (isChecked) changeSelectedItems(invoice, null, true)\r\n                                                    else changeSelectedItems(invoice, null, false)\r\n                                                }}\r\n                                            />\r\n                                        </span>\r\n                                        <span>Invoice No: <span className=\"text-primary\">{So_Inv_No}</span></span>\r\n                                    </h5>\r\n                                    <div className=\"invoice-header d-flex justify-content-between flex-wrap border-bottom pb-3 mb-3\">\r\n                                        <div>\r\n                                            <div><strong>Invoice Date:</strong> {LocalDate(So_Date)}</div>\r\n                                            <div><strong>Voucher Type:</strong> {VoucherTypeGet}</div>\r\n                                            <div><strong>Branch:</strong> {Branch_Name}</div>\r\n                                        </div>\r\n                                        <div className=\"text-end\">\r\n                                            <h5 className=\"mt-2\"><strong>Total Invoice:</strong> {Total_Invoice_value}</h5>\r\n                                            {/* <div><strong>Subtotal:</strong> {Total_Before_Tax}</div> */}\r\n                                            <div><strong>Tax:</strong> {Total_Tax}</div>\r\n                                            {/* <div><strong>Round Off:</strong> {Round_off}</div> */}\r\n                                            <div><strong>Salesperson:</strong> {Sales_Person_Name}</div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {/* Product Table */}\r\n                                    <div className=\"table-responsive\">\r\n                                        <table className=\"table table-bordered table-striped product-table\">\r\n                                            <thead className=\"table-light\">\r\n                                                <tr>\r\n                                                    {['#', 'Product', 'Qty', 'Rate', 'Amount', 'Tax %', 'Final Amount', 'Godown'].map(\r\n                                                        (o, i) => (\r\n                                                            <th\r\n                                                                key={i}\r\n                                                                style={{\r\n                                                                    minWidth: '150px',\r\n                                                                    maxWidth: '160px'\r\n                                                                }}\r\n                                                            >{o}</th>\r\n                                                        )\r\n                                                    )}\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody>\r\n                                                {Products_List.map((item, index) => (\r\n                                                    <tr key={item.SO_St_Id}>\r\n                                                        <td>{index + 1}</td>\r\n                                                        <td>{item.Product_Name}</td>\r\n                                                        <td>\r\n                                                            {item.Bill_Qty}\r\n                                                            {checkIsNumber(filters.Godown.value) && (\r\n                                                                ' (Bal: ' + validStockValue(item.Item_Id, filters.Godown.value, stockInGodown) + ') '\r\n                                                            )}\r\n                                                        </td>\r\n                                                        <td>{item.Item_Rate}</td>\r\n                                                        <td>{item.Amount}</td>\r\n                                                        <td>{item.Tax_Rate}%</td>\r\n                                                        <td>{item.Final_Amo}</td>\r\n                                                        <td>\r\n                                                            <select\r\n                                                                disabled={!isChecked}\r\n                                                                className=\"cus-inpt p-2\"\r\n                                                                value={\r\n                                                                    toArray(godowns).find(\r\n                                                                        godFnd => toArray(selectedItems).find(\r\n                                                                            fnd => (\r\n                                                                                isEqualNumber(fnd.Item_Id, item?.Item_Id)\r\n                                                                                && isChecked\r\n                                                                                && isEqualNumber(godFnd?.Godown_Id, fnd?.GoDown_Id)\r\n                                                                            )\r\n                                                                        )\r\n                                                                    )?.Godown_Id\r\n                                                                }\r\n                                                                onChange={e => changeSelectedItems(\r\n                                                                    invoice,\r\n                                                                    {\r\n                                                                        Godown_Id: e.target.value,\r\n                                                                        Item_Id: item?.Item_Id\r\n                                                                    },\r\n                                                                    false\r\n                                                                )}\r\n                                                            >\r\n                                                                <option value=\"\" disabled>Select</option>\r\n                                                                <optgroup label=\"Stock-Available-Godown\">\r\n                                                                    {\r\n                                                                        toArray(godowns).filter(\r\n                                                                            fil => (\r\n                                                                                toArray(stockInGodown).some(\r\n                                                                                    fnd => (\r\n                                                                                        isEqualNumber(fnd?.Godown_Id, fil?.Godown_Id)\r\n                                                                                        && isEqualNumber(item?.Item_Id, fnd?.Product_Id)\r\n                                                                                    )\r\n                                                                                )\r\n                                                                            )\r\n                                                                        ).map((obj, objInd) => (\r\n                                                                            <option\r\n                                                                                value={obj?.Godown_Id}\r\n                                                                                key={objInd}\r\n                                                                            >\r\n                                                                                {obj?.Godown_Name\r\n                                                                                    + ' (Bal: '\r\n                                                                                    + validStockValue(item?.Item_Id, obj?.Godown_Id, stockInGodown)\r\n                                                                                    + ')'\r\n                                                                                }\r\n                                                                            </option>\r\n                                                                        ))\r\n                                                                    }\r\n                                                                </optgroup>\r\n                                                                <optgroup label=\"Other-Godown\">\r\n                                                                    {\r\n                                                                        toArray(godowns).filter(\r\n                                                                            fil => !(\r\n                                                                                toArray(stockInGodown).some(\r\n                                                                                    fnd => (\r\n                                                                                        isEqualNumber(fnd?.Godown_Id, fil?.Godown_Id)\r\n                                                                                        && isEqualNumber(item?.Item_Id, fnd?.Product_Id)\r\n                                                                                    )\r\n                                                                                )\r\n                                                                            )\r\n                                                                        ).map((obj, objInd) => (\r\n                                                                            <option value={obj?.Godown_Id} key={objInd}>{obj?.Godown_Name}</option>\r\n                                                                        ))\r\n                                                                    }\r\n                                                                </optgroup>\r\n                                                            </select>\r\n                                                        </td>\r\n                                                    </tr>\r\n                                                ))}\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </div>\r\n\r\n                                    {/* Summary */}\r\n                                    <div className=\"invoice-summary border-top pt-3 mt-3 text-end\">\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                    })}\r\n\r\n                </DialogContent>\r\n            </Dialog>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddProductsInSalesInvoice;\r\nexport {\r\n    validStockValue,\r\n}","import { getSessionUser, ISOString } from \"../../../Components/functions\";\r\n\r\nconst storage = getSessionUser().user;\r\n\r\nexport const salesInvoiceGeneralInfo = {\r\n    Do_Id: '',\r\n    Do_No: '',\r\n    Do_Year: '',\r\n    Do_Inv_No: '',\r\n    \r\n    Voucher_Type: '',\r\n    Do_Date: ISOString(),\r\n    Retailer_Id: '',\r\n    Retailer_Name: '',      // for Front-end purpose\r\n    Delivery_Person_Id: '', // not used in sales invoice\r\n    Branch_Id: '',\r\n    GST_Inclusive: 2,\r\n    IS_IGST: 0,\r\n    Narration: '',\r\n    Cancel_status: 1,\r\n    So_No: '',              // SALE ORDER ID (ONE TO MANY INVOICE MAPPING)\r\n    Trans_Type: '',\r\n\r\n    CSGT_Total: '',\r\n    SGST_Total: '',\r\n    IGST_Total: '',\r\n    Total_Expences: '',\r\n    Round_off: '',\r\n    Total_Before_Tax: '',\r\n    Total_Tax: '',\r\n    Total_Invoice_value: '',\r\n    Stock_Item_Ledger_Name: '',\r\n\r\n    // Delivery_Status: '',\r\n    // Delivery_Time: '',\r\n    // Delivery_Location: '',\r\n    // Delivery_Latitude: '',\r\n    // Delivery_Longitude: '',\r\n    // Collected_By: '',\r\n    // Collected_Status: '',\r\n    // Payment_Mode: '',\r\n    // Payment_Ref_No: '',\r\n    // Payment_Status: '',\r\n\r\n    Alter_Id: '',\r\n    Created_by: storage?.UserId,\r\n    Altered_by: storage?.UserId,\r\n    Created_on: '',\r\n    Alterd_on: '',\r\n}\r\n\r\n\r\nexport const salesInvoiceDetailsInfo = {\r\n    DO_St_Id: '',\r\n    Do_Date: '',\r\n    Delivery_Order_Id: '',\r\n\r\n    GoDown_Id: '',\r\n    S_No: '',\r\n    Item_Id: '',                // From front-end\r\n    Item_Name: '',\r\n    HSN_Code: '',\r\n    Taxble: '',\r\n\r\n    Bill_Qty: '',               // From front-end\r\n    Act_Qty: '',\r\n    Alt_Act_Qty: '',\r\n    Free_Qty: '',\r\n    Total_Qty: '',\r\n\r\n    Item_Rate: '',              // From front-end\r\n    Taxable_Rate: '',\r\n    Amount: '',                 // From front-end\r\n    \r\n    Unit_Id: '',                // From front-end\r\n    Unit_Name: '',\r\n    Act_unit_Id: '',\r\n    Alt_Act_Unit_Id: '',\r\n    \r\n    Taxable_Amount: '',\r\n    Tax_Rate: '',\r\n\r\n    Cgst: '',\r\n    Sgst: '',\r\n    Igst: '',\r\n    Cgst_Amo: '',\r\n    Sgst_Amo: '',\r\n    Igst_Amo: '',\r\n\r\n    Final_Amo: '',\r\n    Created_on: '',\r\n}\r\n\r\n\r\nexport const salesInvoiceExpencesInfo = {\r\n    Id: '',\r\n    Do_Id: '',\r\n    Sno: '',\r\n    Expense_Id: '',\r\n    Cgst: 0,\r\n    Cgst_Amo: 0,\r\n    Sgst: 0,\r\n    Sgst_Amo: 0,\r\n    Igst: 0,\r\n    Igst_Amo: 0,\r\n    Expence_Value: 0\r\n}\r\n\r\n\r\nexport const salesInvoiceStaffInfo = {\r\n    Id: '',\r\n    Do_Id: '',\r\n    Emp_Id: '',\r\n    Emp_Name: '',       // for Front-end purpose\r\n    Emp_Type_Id: '',\r\n}"],"names":["RequiredStar","_jsx","style","color","fontWeight","fontSize","children","customTableStyles","table","width","backgroundColor","rows","headCells","customSelectStyles","menu","provided","state","zIndex","menuPortal","base","groupHeading","padding","borderBottom","textTransform","option","isSelected","isFocused","MainMenu","id","headname","variant","align","companyDetails","dataBase","name","business","address","logo","SMT_LOGO","gstin","phone","fssai","bankAccount","ifsc","erpModules","calculateGSTDetails","amount","gstRate","type","arguments","length","undefined","validatedAmount","toNumber","validatedGstRate","halfGstRate","baseAmount","taxAmount","withTax","withoutTax","Error","sgstAmount","toFixed","cgstAmount","igstAmount","base_amount","Number","with_tax","without_tax","tax_per","tax_amount","sgst_per","sgst_amount","cgst_per","cgst_amount","igst_per","igst_amount","_ref","_findProductDetails","_godowns$find","orderProducts","setOrderProducts","open","onClose","products","brands","uom","godowns","GST_Inclusive","IS_IGST","editValues","initialValue","stockInGodown","productDetails","setProductDetails","useState","isInclusive","isEqualNumber","isNotTaxableBill","useEffect","isValidObject","pre","Object","fromEntries","entries","map","_ref2","key","value","findProductDetails","productid","_products$find","find","obj","Product_Id","closeDialog","_jsxs","_Fragment","Dialog","maxWidth","fullWidth","DialogTitle","className","onSubmit","e","preventDefault","Item_Id","filter","ordered","_ref3","productMaster","gstPercentage","Igst_P","Gst_P","isTaxable","Bill_Qty","Item_Rate","Amount","taxType","itemRateGst","gstInfo","cgstPer","igstPer","Cgst_Amo","Igst_Amo","Product_Name","toast","warn","DialogContent","Select","BrandID","label","Brand","onChange","options","isDisabled","Brand_Name","styles","menuPortalTarget","document","body","isSearchable","placeholder","maxMenuHeight","GroupID","Group","pro","reduce","acc","some","grp","Product_Group","push","Pro_Group","hasOwn","checkIsNumber","Pre_Id","productInfo","_productInfo$Pro_Grou","_productInfo$Product_","_productInfo$Brand_Na","_productInfo$Brand","_productInfo$Item_Rat","_productInfo$UOM_Id","_productInfo$Units","Unit_Id","UOM_Id","Unit_Name","Units","HSN_Code","findIndex","ind","required","GoDown_Id","g","Godown_Id","Godown_Name","toArray","fil","stockList","fnd","validStockValue","onInput","onlynum","disabled","Multiplication","target","Division","min","Act_Qty","UOM","selectedIndex","text","o","i","DialogActions","Button","onClick","startIcon","ClearAll","_toArray$find","godownStockValue","godownItem","Act_Bal_Qty","isNaN","loadingOn","loadingOff","retailer","selectedItems","setSelectedItems","staffArray","setStaffArray","invoiceInfo","setInvoiceInfo","saleOrders","setSaleOrders","filters","setFilters","Fromdate","ISOString","Todate","search","Godown","fetchLink","then","data","success","catch","console","error","finally","changeSelectedItems","itemDetail","godownDetails","So_No","So_Id","oldData","Products_List","cur","curIndex","salesInvoiceDetailsInfo","_cur$Item_Id","_productMaster$Produc","_productMaster$HSN_Co","_cur$Unit_Id","_cur$Unit_Id2","_cur$Unit_Id3","_cur$Units","_oldData$find","isValidGodown","isValidItem","isSameItem","oldGodown","fndOld","notInStaffList","Map","Staff_Involved_List","staff","arrObj","Emp_Id","Involved_Emp_Id","values","prevStaffArray","salesInvoiceStaffInfo","_ref4","EmpName","Cost_Center_Type_Id","fullScreen","IconButton","Done","invoice","So_Inv_No","So_Date","VoucherTypeGet","Branch_Name","Sales_Person_Name","Total_Tax","Total_Invoice_value","isChecked","checked","LocalDate","minWidth","item","index","_toArray$find2","Tax_Rate","Final_Amo","godFnd","objInd","SO_St_Id","storage","getSessionUser","user","salesInvoiceGeneralInfo","Do_Id","Do_No","Do_Year","Do_Inv_No","Voucher_Type","Do_Date","Retailer_Id","Retailer_Name","Delivery_Person_Id","Branch_Id","Narration","Cancel_status","Trans_Type","CSGT_Total","SGST_Total","IGST_Total","Total_Expences","Round_off","Total_Before_Tax","Stock_Item_Ledger_Name","Alter_Id","Created_by","UserId","Altered_by","Created_on","Alterd_on","DO_St_Id","Delivery_Order_Id","S_No","Item_Name","Taxble","Alt_Act_Qty","Free_Qty","Total_Qty","Taxable_Rate","Act_unit_Id","Alt_Act_Unit_Id","Taxable_Amount","Cgst","Sgst","Igst","Sgst_Amo","salesInvoiceExpencesInfo","Id","Sno","Expense_Id","Expence_Value","Emp_Name","Emp_Type_Id"],"sourceRoot":""}