"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[2383],{12383:(e,t,l)=>{l.r(t),l.d(t,{default:()=>f});var a=l(89379),n=l(65043),i=l(17392),r=l(11906),d=l(83462),c=l(26600),s=l(35316),o=l(29347),u=l(48471),_=l(73216),y=l(65074),p=l(97707),m=l(34496),v=l(83560),b=l(59383),h=l(79484),A=l(16851),x=l(38198),j=l(20656),g=l(63406),F=l(70579);const f=e=>{let{loadingOn:t,loadingOff:l,AddRights:f,EditRights:C,DeleteRights:T,pageID:L}=e;const N=sessionStorage.getItem("filterValues"),I={Fromdate:(0,p.ny)(),Todate:(0,p.ny)(),voucherType_Filter:{label:"ALL",value:""},debit_accounts_Filter:{label:"ALL",value:""},credit_accounts_Filter:{label:"ALL",value:""},created_by_Filter:{label:"ALL",value:""},payment_status:"",payment_type:""},[R,S]=(0,n.useState)((0,a.A)((0,a.A)({},I),{},{filterDialog:!1})),[D,E]=(0,n.useState)([]),[P,k]=(0,n.useState)({voucherType:[],debit_accounts:[],credit_accounts:[],created_by:[]}),O=(0,_.Zp)();(0,n.useEffect)(()=>{const e=(0,p.vU)(L),{Fromdate:t,Todate:l,voucherType_Filter:n=I.voucherType_Filter,debit_accounts_Filter:i=I.debit_accounts_Filter,credit_accounts_Filter:r=I.credit_accounts_Filter,created_by_Filter:d=I.created_by_Filter,payment_status:c=I.payment_status,payment_type:s=I.payment_type}=e;S(e=>(0,a.A)((0,a.A)({},e),{},{Fromdate:t,Todate:l,voucherType_Filter:n,debit_accounts_Filter:i,credit_accounts_Filter:r,created_by_Filter:d,payment_status:c,payment_type:s}))},[N,L]),(0,n.useEffect)(()=>{(0,y.z)({address:"payment/paymentMaster/filtersValues"}).then(e=>{e.success&&k(t=>{var l,n,i,r;return(0,a.A)((0,a.A)({},t),{},{voucherType:(0,p.$r)(null===e||void 0===e||null===(l=e.others)||void 0===l?void 0:l.voucherType),debit_accounts:(0,p.$r)(null===e||void 0===e||null===(n=e.others)||void 0===n?void 0:n.debit_accounts),credit_accounts:(0,p.$r)(null===e||void 0===e||null===(i=e.others)||void 0===i?void 0:i.credit_accounts),created_by:(0,p.$r)(null===e||void 0===e||null===(r=e.others)||void 0===r?void 0:r.created_by)})})})},[]),(0,n.useEffect)(()=>{const e=(0,p.vU)(L),{Fromdate:a,Todate:n,voucherType_Filter:i=I.voucherType_Filter,debit_accounts_Filter:r=I.debit_accounts_Filter,credit_accounts_Filter:d=I.credit_accounts_Filter,created_by_Filter:c=I.created_by_Filter,payment_status:s=I.payment_status,payment_type:o=I.payment_type}=e;(0,y.z)({address:"payment/paymentMaster?\n            Fromdate=".concat(a,"&\n            Todate=").concat(n,"&\n            voucher=").concat((null===i||void 0===i?void 0:i.value)||"","&\n            debit=").concat((null===r||void 0===r?void 0:r.value)||"","&\n            credit=").concat((null===d||void 0===d?void 0:d.value)||"","&\n            createdBy=").concat((null===c||void 0===c?void 0:c.value)||"","&\n            status=").concat(s,"&\n            payment_type=").concat(o),loadingOff:l,loadingOn:t}).then(e=>{e.success&&E(e.data)}).catch(e=>console.error(e))},[N,L]);const w=(0,n.useMemo)(()=>D.filter(e=>!(0,p.id)(e.status,0)).reduce((e,t)=>(0,p.Lr)(e,null===t||void 0===t?void 0:t.debit_amount),0),[D]),V=()=>S(e=>(0,a.A)((0,a.A)({},e),{},{filterDialog:!1})),G=" bg-info fw-bold fa-11 px-2 py-1 rounded-3 ",M=" bg-warning fw-bold fa-11 px-2 py-1 rounded-3 ",U=" bg-success text-light fa-11 px-2 py-1 rounded-3 ",z=" bg-danger text-light fw-bold fa-11 px-2 py-1 rounded-3 ",B=e=>{switch(e){case 1:return G;case 2:return M;case 3:return U;case 0:return z;default:return""}};return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(u.Ay,{title:"Payments",headerFontSizePx:12,bodyFontSizePx:12,ButtonArea:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(i.A,{onClick:()=>S(e=>(0,a.A)((0,a.A)({},e),{},{filterDialog:!0})),size:"small",className:"mx-1",children:(0,F.jsx)(b.A,{className:"fa-20"})}),f&&(0,F.jsx)(r.A,{onClick:()=>O("create"),variant:"outlined",children:"Add"}),f&&(0,F.jsx)(r.A,{onClick:()=>O("addReference"),variant:"outlined",className:"me-2",children:"Add Reference"}),(0,F.jsx)("span",{className:"bg-light text-light fa-11 px-1 shadow-sm py-1 rounded-3 mx-1",children:(0,p.Ro)(w)>0&&(0,F.jsxs)("h6",{className:"m-0 text-end text-muted px-3",children:["Total: ",(0,p.jG)(w)]})})]}),dataArray:D,columns:[(0,u.Lj)("payment_date","date","Date"),(0,u.Lj)("payment_invoice_no","string","Payment ID"),(0,u.Lj)("debit_amount","number","Amount"),(0,u.Lj)("TotalReferencedAmount","number","Added Ref"),(0,u.Lj)("debit_ledger_name","string","Debit-Acc"),(0,u.Lj)("credit_ledger_name","string","Credit-Acc"),(0,u.Lj)("Voucher_Type","string","Voucher"),{isVisible:1,ColumnHeader:"Bill Type",isCustomCell:!0,Cell:e=>{var t;let{row:l}=e;return null===(t=x.Gp.find(e=>(0,p.id)(e.value,l.pay_bill_type)))||void 0===t?void 0:t.label}},(0,u.Lj)("remarks","string","Narration"),{isVisible:1,ColumnHeader:"Status",isCustomCell:!0,Cell:e=>{let{row:t}=e;const l=x.DQ.find(e=>(0,p.id)(e.value,null===t||void 0===t?void 0:t.status));return(0,F.jsx)("span",{className:B(l.value),children:String(l.label).replace(" ","")})}},{isVisible:1,ColumnHeader:"Action",isCustomCell:!0,Cell:e=>{let{row:t}=e;return(0,F.jsx)(u.wF,{buttonsData:[{name:"Edit",icon:(0,F.jsx)(v.A,{}),onclick:()=>O("create",{state:t}),disabled:!C},{name:"Add Reference",icon:(0,F.jsx)(A.A,{}),onclick:()=>O("addReference",{state:t}),disabled:!C||(0,p.id)(t.pay_bill_type,2)||(0,p.id)(t.pay_bill_type,4)}]})}}],EnableSerialNumber:!0}),(0,F.jsxs)(d.A,{open:R.filterDialog,onClose:V,fullWidth:!0,maxWidth:"sm",children:[(0,F.jsx)(c.A,{children:"Filters"}),(0,F.jsx)(s.A,{children:(0,F.jsx)("div",{className:"table-responsive pb-4",children:(0,F.jsx)("table",{className:"table",children:(0,F.jsxs)("tbody",{children:[(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{style:{verticalAlign:"middle"},children:"From"}),(0,F.jsx)("td",{children:(0,F.jsx)("input",{type:"date",value:R.Fromdate,onChange:e=>S((0,a.A)((0,a.A)({},R),{},{Fromdate:e.target.value})),className:"cus-inpt"})})]}),(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{style:{verticalAlign:"middle"},children:"To"}),(0,F.jsx)("td",{children:(0,F.jsx)("input",{type:"date",value:R.Todate,onChange:e=>S((0,a.A)((0,a.A)({},R),{},{Todate:e.target.value})),className:"cus-inpt"})})]}),(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{style:{verticalAlign:"middle"},children:"Debit Account"}),(0,F.jsx)("td",{children:(0,F.jsx)(j.Ay,{value:null===R||void 0===R?void 0:R.debit_accounts_Filter,onChange:e=>S((0,a.A)((0,a.A)({},R),{},{debit_accounts_Filter:e})),options:[{value:"",label:"ALL"},...P.debit_accounts],styles:g.MR,isSearchable:!0,placeholder:"Debit Account",menuPortalTarget:document.body,filterOption:p.GI})})]}),(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{style:{verticalAlign:"middle"},children:"Credit Account "}),(0,F.jsx)("td",{children:(0,F.jsx)(j.Ay,{value:null===R||void 0===R?void 0:R.credit_accounts_Filter,onChange:e=>S((0,a.A)((0,a.A)({},R),{},{credit_accounts_Filter:e})),options:[{value:"",label:"ALL"},...P.credit_accounts],styles:g.MR,isSearchable:!0,placeholder:"Credit Account",menuPortalTarget:document.body,filterOption:p.GI})})]}),(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{style:{verticalAlign:"middle"},children:"Payment Type "}),(0,F.jsx)("td",{children:(0,F.jsxs)("select",{className:"cus-inpt p-2",value:R.payment_type,onChange:e=>S(t=>(0,a.A)((0,a.A)({},t),{},{payment_type:e.target.value})),children:[(0,F.jsx)("option",{value:"",children:"ALL"}),x.Gp.map((e,t)=>(0,F.jsx)("option",{value:e.value,children:e.label},t))]})})]}),(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{style:{verticalAlign:"middle"},children:"Voucher Type "}),(0,F.jsx)("td",{children:(0,F.jsx)(j.Ay,{value:null===R||void 0===R?void 0:R.voucherType_Filter,onChange:e=>S((0,a.A)((0,a.A)({},R),{},{voucherType_Filter:e})),options:[{value:"",label:"ALL"},...P.voucherType],styles:g.MR,isSearchable:!0,placeholder:"Voucher Type",menuPortalTarget:document.body,filterOption:p.GI})})]}),(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{style:{verticalAlign:"middle"},children:"Payment Status"}),(0,F.jsx)("td",{children:(0,F.jsxs)("select",{type:"date",value:R.payment_status,onChange:e=>S((0,a.A)((0,a.A)({},R),{},{payment_status:e.target.value})),className:"cus-inpt",children:[(0,F.jsx)("option",{value:"",children:"All"}),x.DQ.map((e,t)=>(0,F.jsx)("option",{value:e.value,children:e.label},t))]})})]}),(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{style:{verticalAlign:"middle"},children:"Created By"}),(0,F.jsx)("td",{children:(0,F.jsx)(j.Ay,{value:null===R||void 0===R?void 0:R.created_by_Filter,onChange:e=>S(t=>(0,a.A)((0,a.A)({},t),{},{created_by_Filter:e})),options:[{value:"",label:"ALL"},...P.created_by],styles:g.MR,isSearchable:!0,placeholder:"Sales Person Name",menuPortalTarget:document.body,filterOption:p.GI})})]})]})})})}),(0,F.jsxs)(o.A,{className:"d-flex align-items-center justify-content-between",children:[(0,F.jsx)(r.A,{variant:"outlined",onClick:()=>{S(e=>(0,a.A)((0,a.A)({},e),I))},startIcon:(0,F.jsx)(m.A,{}),children:"clear"}),(0,F.jsxs)("span",{children:[(0,F.jsx)(r.A,{onClick:V,children:"close"}),(0,F.jsx)(r.A,{onClick:()=>{V(),(0,p.Mb)({Fromdate:null===R||void 0===R?void 0:R.Fromdate,Todate:R.Todate,pageID:L,voucherType_Filter:R.voucherType_Filter,debit_accounts_Filter:R.debit_accounts_Filter,credit_accounts_Filter:R.credit_accounts_Filter,created_by_Filter:R.created_by_Filter,payment_status:R.payment_status,payment_type:R.payment_type})},startIcon:(0,F.jsx)(h.A,{}),variant:"contained",children:"Search"})]})]})]})]})}},38198:(e,t,l)=>{l.d(t,{DQ:()=>o,Gp:()=>c,Pr:()=>d,Xh:()=>r,YK:()=>i,zd:()=>s});var a=l(97707);const n=(0,a.aN)().user,i={pay_id:"",year_id:"",payment_voucher_type_id:"",payment_sno:"",payment_invoice_no:"",payment_date:(0,a.ny)(),pay_bill_type:1,is_new_ref:0,credit_ledger:"",credit_ledger_name:"Select",credit_amount:0,debit_ledger:"",debit_ledger_name:"Select",debit_amount:0,remarks:"",status:1,transaction_type:"",check_no:"",check_date:"",bank_name:"",bank_date:"",created_by:(0,a.IQ)(null===n||void 0===n?void 0:n.UserId)?null===n||void 0===n?void 0:n.UserId:"",altered_by:(0,a.IQ)(null===n||void 0===n?void 0:n.UserId)?null===n||void 0===n?void 0:n.UserId:"",created_on:"",alterd_on:""},r={auto_id:"",created_on:"",payment_id:"",payment_no:"",payment_date:"",bill_type:"",DR_CR_Acc_Id:"",pay_bill_id:"",JournalBillType:"",bill_name:"",bill_ref_number:"",bill_amount:0,Debit_Amo:0,Credit_Amo:0,PurchaseInvoiceDate:"",StockJournalDate:"",TotalPaidAmount:0,PendingAmount:0},d={auto_id:"",payment_id:"",payment_no:"",payment_date:"",bill_type:"",Debit_Ledger_Id:"",created_on:"",pay_bill_id:"",JournalBillType:"",arr_id:"",item_id:"",item_name:"",expence_value:0,itemQuantity:0,PaidAmount:0},c=[{value:1,label:"VENDOR - PURCHASE INVOICE"},{value:2,label:"EXPENCES / OTHERS (IN-DIRECT)"},{value:3,label:"EXPENCES - STOCK JOURNAL (DIRECT)"},{value:4,label:"ON ACCOUNT"}],s=[{label:"MATERIAL INWARD",value:1},{label:"GODOWN TRANSFER",value:2},{label:"PROCESSING",value:3}],o=[{label:"New",value:1},{label:"Process",value:2},{label:"Completed",value:3},{label:"Canceled",value:0}]}}]);
//# sourceMappingURL=2383.8c4d6fa7.chunk.js.map