"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[5674],{5658:(e,s,t)=>{t.d(s,{A:()=>n,K:()=>i});var a=t(57056),o=t(32400);function i(e){return(0,o.Ay)("MuiDivider",e)}const n=(0,a.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"])},28052:(e,s,t)=>{t.d(s,{A:()=>n,b:()=>i});var a=t(57056),o=t(32400);function i(e){return(0,o.Ay)("MuiListItemText",e)}const n=(0,a.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"])},32143:(e,s,t)=>{t.d(s,{A:()=>T});var a=t(98587),o=t(58168),i=t(65043),n=t(58387),c=t(68606),d=t(67266),r=t(34535),l=t(61475),u=t(6431),m=t(51347),h=t(75429),p=t(55013),v=t(95849),x=t(5658),A=t(71424),g=t(28052),b=t(57056),j=t(32400);function y(e){return(0,j.Ay)("MuiMenuItem",e)}const f=(0,b.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var C=t(70579);const N=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],I=(0,r.Ay)(h.A,{shouldForwardProp:e=>(0,l.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:t}=e;return[s.root,t.dense&&s.dense,t.divider&&s.divider,!t.disableGutters&&s.gutters]}})(e=>{let{theme:s,ownerState:t}=e;return(0,o.A)({},s.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:"1px solid ".concat((s.vars||s).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(s.vars||s).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(f.selected)]:{backgroundColor:s.vars?"rgba(".concat(s.vars.palette.primary.mainChannel," / ").concat(s.vars.palette.action.selectedOpacity,")"):(0,d.X4)(s.palette.primary.main,s.palette.action.selectedOpacity),["&.".concat(f.focusVisible)]:{backgroundColor:s.vars?"rgba(".concat(s.vars.palette.primary.mainChannel," / calc(").concat(s.vars.palette.action.selectedOpacity," + ").concat(s.vars.palette.action.focusOpacity,"))"):(0,d.X4)(s.palette.primary.main,s.palette.action.selectedOpacity+s.palette.action.focusOpacity)}},["&.".concat(f.selected,":hover")]:{backgroundColor:s.vars?"rgba(".concat(s.vars.palette.primary.mainChannel," / calc(").concat(s.vars.palette.action.selectedOpacity," + ").concat(s.vars.palette.action.hoverOpacity,"))"):(0,d.X4)(s.palette.primary.main,s.palette.action.selectedOpacity+s.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:s.vars?"rgba(".concat(s.vars.palette.primary.mainChannel," / ").concat(s.vars.palette.action.selectedOpacity,")"):(0,d.X4)(s.palette.primary.main,s.palette.action.selectedOpacity)}},["&.".concat(f.focusVisible)]:{backgroundColor:(s.vars||s).palette.action.focus},["&.".concat(f.disabled)]:{opacity:(s.vars||s).palette.action.disabledOpacity},["& + .".concat(x.A.root)]:{marginTop:s.spacing(1),marginBottom:s.spacing(1)},["& + .".concat(x.A.inset)]:{marginLeft:52},["& .".concat(g.A.root)]:{marginTop:0,marginBottom:0},["& .".concat(g.A.inset)]:{paddingLeft:36},["& .".concat(A.A.root)]:{minWidth:36}},!t.dense&&{[s.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&(0,o.A)({minHeight:32,paddingTop:4,paddingBottom:4},s.typography.body2,{["& .".concat(A.A.root," svg")]:{fontSize:"1.25rem"}}))}),T=i.forwardRef(function(e,s){const t=(0,u.b)({props:e,name:"MuiMenuItem"}),{autoFocus:d=!1,component:r="li",dense:l=!1,divider:h=!1,disableGutters:x=!1,focusVisibleClassName:A,role:g="menuitem",tabIndex:b,className:j}=t,f=(0,a.A)(t,N),T=i.useContext(m.A),M=i.useMemo(()=>({dense:l||T.dense||!1,disableGutters:x}),[T.dense,l,x]),S=i.useRef(null);(0,p.A)(()=>{d&&S.current&&S.current.focus()},[d]);const k=(0,o.A)({},t,{dense:M.dense,divider:h,disableGutters:x}),R=(e=>{const{disabled:s,dense:t,divider:a,disableGutters:i,selected:n,classes:d}=e,r={root:["root",t&&"dense",s&&"disabled",!i&&"gutters",a&&"divider",n&&"selected"]},l=(0,c.A)(r,y,d);return(0,o.A)({},d,l)})(t),z=(0,v.A)(S,s);let D;return t.disabled||(D=void 0!==b?b:-1),(0,C.jsx)(m.A.Provider,{value:M,children:(0,C.jsx)(I,(0,o.A)({ref:z,role:g,tabIndex:D,component:r,focusVisibleClassName:(0,n.A)(R.focusVisible,A),className:(0,n.A)(R.root,j)},f,{ownerState:k,classes:R}))})})},51387:(e,s,t)=>{t.d(s,{A:()=>i});var a=t(59662),o=t(70579);const i=(0,a.A)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},71424:(e,s,t)=>{t.d(s,{A:()=>n,f:()=>i});var a=t(57056),o=t(32400);function i(e){return(0,o.Ay)("MuiListItemIcon",e)}const n=(0,a.A)("MuiListItemIcon",["root","alignItemsFlexStart"])},75155:(e,s,t)=>{t.d(s,{A:()=>i});var a=t(59662),o=t(70579);const i=(0,a.A)((0,o.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People")},75674:(e,s,t)=>{t.r(s),t.d(s,{default:()=>L});var a=t(89379),o=t(65043),i=t(75155),n=t(59662),c=t(70579);const d=(0,n.A)((0,c.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-2 12H6v-2h12zm0-3H6V9h12zm0-3H6V6h12z"}),"Message"),r=(0,n.A)((0,c.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Article");var l=t(76447);const u=(0,n.A)((0,c.jsx)("path",{d:"M22 9V7h-2v2h-2v2h2v2h2v-2h2V9zM8 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4m4.51-8.95C13.43 5.11 14 6.49 14 8s-.57 2.89-1.49 3.95C14.47 11.7 16 10.04 16 8s-1.53-3.7-3.49-3.95m4.02 9.78C17.42 14.66 18 15.7 18 17v3h2v-3c0-1.45-1.59-2.51-3.47-3.17"}),"GroupAdd");var m,h=t(83560),p=t(51387),v=t(77739),x=t(17392),A=t(32143),g=t(83462),b=t(26600),j=t(35316),y=t(29347),f=t(11906),C=t(45777),N=t(16053),I=t(91036),T=(t(92342),t(60235)),M=t(51962),S=t(67784),k=t(12412),R=t(34109),z=t(26581),D=t(73216),V=t(65074),O=t(97707);const U={Description:"",Id:"",Topic:"",Company_id:null===(m=JSON.parse(localStorage.getItem("user")))||void 0===m?void 0:m.Company_id},_=(0,c.jsx)(R.A,{fontSize:"small"}),w=(0,c.jsx)(z.A,{fontSize:"small"}),L=()=>{const e=localStorage.getItem("user"),s=JSON.parse(e),[t,n]=(0,o.useState)([]),[m,R]=(0,o.useState)(!1),[z,L]=(0,o.useState)(!1),[H,E]=(0,o.useState)(!1),[F,P]=(0,o.useState)(U),[G,B]=(0,o.useState)({}),[W,X]=(0,o.useState)(!1),{contextObj:J}=(0,o.useContext)(C.i),[q,K]=(0,o.useState)(!1),[Y,Z]=(0,o.useState)([]),Q=(0,D.Zp)();(0,o.useEffect)(()=>{(0,V.z)({address:"discussionForum/discussionTopic?UserId=".concat(null===s||void 0===s?void 0:s.UserId,"&UserTypeId=").concat(null===s||void 0===s?void 0:s.UserTypeId,"&Company_id=").concat(null===s||void 0===s?void 0:s.Company_id)}).then(e=>{if(e.success){const t=[];e.data.forEach(e=>{var a;null===e||void 0===e||null===(a=e.InvolvedUsers)||void 0===a||a.forEach(a=>{Number(null===a||void 0===a?void 0:a.UserId)===Number(null===s||void 0===s?void 0:s.UserId)&&t.push(e)})}),n(0===Number(s.UserTypeId)||1===Number(s.UserTypeId)?null===e||void 0===e?void 0:e.data:t)}}).catch(e=>console.log(e))},[q,null===s||void 0===s?void 0:s.UserId,null===s||void 0===s?void 0:s.UserTypeId]),(0,o.useEffect)(()=>{(0,V.z)({address:"masters/users/employeeAndSalesPerson/dropDown?Company_id=".concat(null===s||void 0===s?void 0:s.Company_id)}).then(e=>{e.success&&Z(e.data)}).catch(e=>console.log(e))},[null===s||void 0===s?void 0:s.BranchId]);const $=()=>{R(!1),P(U),X(!1)},ee=()=>{L(!1),P(U)},se=()=>{E(!1),B({})};return 1===Number(J.Read_Rights)?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(I.N9,{}),(0,c.jsx)("div",{className:"cus-card",children:(0,c.jsxs)("div",{className:"p-3",children:[(0,c.jsxs)("div",{className:"d-flex mb-4 ",children:[(0,c.jsx)("p",{className:"fw-bold fa-18 px-2 flex-grow-1",children:"Topics"}),(0,O.id)(J.Add_Rights,1)&&(0,c.jsx)("button",{className:"btn btn-primary rounded-5 px-3 fa-13 shadow",onClick:()=>R(!0),children:"Create Topic"})]}),t.length>0?(0,c.jsx)("table",{className:"table",children:(0,c.jsx)("tbody",{children:t.map((e,s)=>(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{className:"fa-14 border-0",children:(0,c.jsxs)("div",{className:"d-flex align-items-start justify-content-center flex-column",children:[(0,c.jsx)("p",{className:"mb-0 fw-bold fa-14 under-blue ".concat(0===Number(null===e||void 0===e?void 0:e.Project_Id)?"text-primary":"text-secondary"),onClick:()=>Q("chats",{state:e}),children:null===e||void 0===e?void 0:e.Topic}),(0,c.jsx)("p",{className:"mb-0 py-2 text-muted",children:null===e||void 0===e?void 0:e.Description})]})}),(0,c.jsx)("td",{className:"fa-14 text-center border-0",children:(0,c.jsx)(v.A,{title:"Team Size",children:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(i.A,{className:"fa-18 text-primary mx-1"})," ",null===e||void 0===e?void 0:e.InvolvedUsersCount]})})}),(0,c.jsx)("td",{className:"fa-14 text-center border-0",children:(0,c.jsx)(v.A,{title:"Messages Count",children:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(d,{className:"fa-18 text-primary mx-1"})," ",null===e||void 0===e?void 0:e.TotalMessages]})})}),(0,c.jsx)("td",{className:"fa-14 border-0",children:(0,c.jsx)(v.A,{title:"Documents Shared",children:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(r,{className:"fa-18 text-primary me-1"})," "," "+(null===e||void 0===e?void 0:e.DocumentsShared)]})})}),(0,c.jsx)("td",{className:"fa-14 border-0",children:(0,c.jsxs)("span",{className:"d-flex",children:[(0,c.jsx)(x.A,{size:"small",onClick:()=>Q("chats",{state:e}),children:(0,c.jsx)(l.A,{className:" text-primary"})}),((0,O.id)(J.Edit_Rights,1)||(0,O.id)(J.Delete_Rights,1))&&(0,c.jsxs)(T.A,{children:[(0,c.jsx)(T.A.Toggle,{variant:"success",id:"actions",className:"rounded-5 bg-transparent text-dark border-0 btn"}),(0,c.jsxs)(T.A.Menu,{children:[(0,O.id)(J.Edit_Rights,1)&&(0,c.jsxs)(A.A,{onClick:()=>(B(e),void E(!0)),children:[(0,c.jsx)(u,{className:"fa-in text-primary me-2"})," Manage Team"]}),(0,O.id)(J.Edit_Rights,1)&&(0,O.id)(null===e||void 0===e?void 0:e.Project_Id,0)&&(0,c.jsxs)(A.A,{onClick:()=>{return s=e,X(!0),P(s),void R(!0);var s},children:[(0,c.jsx)(h.A,{className:"fa-in me-2"})," Edit"]}),(0,O.id)(J.Delete_Rights,1)&&(0,O.id)(null===e||void 0===e?void 0:e.Project_Id,0)&&(0,c.jsxs)(A.A,{onClick:()=>{return s=e,L(!0),void P(s);var s},children:[(0,c.jsx)(p.A,{className:"fa-in me-2 text-danger"})," Delete"]})]})]})]})})]},s))})}):(0,c.jsx)("h5",{className:"text-center mb-5",children:(0,O.id)(s.UserTypeId,0)||(0,O.id)(s.UserTypeId,1)?"No Topics Available":"You are not involved in any discussion"})]})}),(0,c.jsxs)(g.A,{open:m,onClose:$,maxWidth:"sm",fullWidth:!0,children:[(0,c.jsx)(b.A,{children:W?"Modify Topic":"Create Discussion Topic"}),(0,c.jsx)(j.A,{children:(0,c.jsx)("table",{className:"table",children:(0,c.jsxs)("tbody",{children:[(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{className:"border-0",children:"Topic"}),(0,c.jsx)("td",{className:"border-0",children:(0,c.jsx)("input",{className:"cus-inpt",onChange:e=>P((0,a.A)((0,a.A)({},F),{},{Topic:e.target.value})),value:F.Topic,maxLength:100,placeholder:"ex: Morning Activiey",autoFocus:!0})})]}),(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{className:"border-0",children:"Describtion"}),(0,c.jsx)("td",{className:"border-0",children:(0,c.jsx)("textarea",{className:"cus-inpt",value:F.Description,rows:5,maxLength:300,placeholder:"maximum 300 character",onChange:e=>P((0,a.A)((0,a.A)({},F),{},{Description:e.target.value}))})})]})]})})}),(0,c.jsxs)(y.A,{children:[(0,c.jsx)(f.A,{onClick:$,children:"Close"}),(0,c.jsx)(f.A,{onClick:W?async()=>{null!==F&&void 0!==F&&F.Id&&1===Number(null===J||void 0===J?void 0:J.Edit_Rights)&&1===Number(null===J||void 0===J?void 0:J.Add_Rights)&&(0,V.z)({address:"discussionForum/discussionTopic",method:"PUT",bodyData:F}).then(e=>{e.success?(I.oR.success(e.message),K(!q),$()):I.oR.error(e.message)}).catch(e=>console.log(e))}:async()=>{1===Number(null===J||void 0===J?void 0:J.Add_Rights)&&(0,V.z)({address:"discussionForum/discussionTopic",method:"POST",bodyData:F}).then(e=>{e.success?(I.oR.success(e.message),K(!q),$()):I.oR.error(e.message)}).catch(e=>console.log(e))},children:W?"Update":"Create"})]})]}),(0,c.jsxs)(g.A,{open:z,onClose:ee,children:[(0,c.jsx)(b.A,{children:"Confirmation"}),(0,c.jsxs)(j.A,{children:["Do you want to delete the ",(0,c.jsx)("span",{className:"text-primary fw-bold",children:null===F||void 0===F?void 0:F.Topic})," Topic?"]}),(0,c.jsxs)(y.A,{children:[(0,c.jsx)(f.A,{onClick:ee,children:"Close"}),(0,c.jsx)(f.A,{onClick:async()=>{null!==F&&void 0!==F&&F.Id&&1===Number(null===J||void 0===J?void 0:J.Delete_Rights)&&(0,V.z)({address:"discussionForum/discussionTopic",method:"DELETE",bodyData:F}).then(e=>{e.success?(I.oR.success(e.message),ee(),K(!q)):I.oR.error(e.message)}).catch(e=>console.log(e))},color:"error",children:"Delete"})]})]}),(0,c.jsxs)(g.A,{open:H,onClose:se,maxWidth:"sm",fullWidth:!0,children:[(0,c.jsx)(b.A,{children:"Manage Team"}),(0,c.jsx)(j.A,{children:(0,c.jsx)(k.A,{multiple:!0,id:"checkboxes-tags-demo",options:Y,disableCloseOnSelect:!0,getOptionLabel:e=>null===e||void 0===e?void 0:e.Name,value:(null===G||void 0===G?void 0:G.InvolvedUsers)||[],onChange:(e,s)=>B((0,a.A)((0,a.A)({},G),{},{InvolvedUsers:s})),renderOption:(e,s,t)=>{let{selected:o}=t;return(0,c.jsxs)("li",(0,a.A)((0,a.A)({},e),{},{children:[(0,c.jsx)(M.A,{icon:_,checkedIcon:w,style:{marginRight:8},checked:o}),null===s||void 0===s?void 0:s.Name]}))},className:"pt-2",isOptionEqualToValue:(e,s)=>(null===e||void 0===e?void 0:e.UserId)===(null===s||void 0===s?void 0:s.UserId),renderInput:e=>(0,c.jsx)(S.A,(0,a.A)((0,a.A)({},e),{},{label:"Users",placeholder:"Select Team Members"}))})}),(0,c.jsxs)(y.A,{children:[(0,c.jsx)(f.A,{onClick:se,children:"Close"}),(0,c.jsx)(f.A,{color:"success",onClick:async()=>{1===Number(null===J||void 0===J?void 0:J.Add_Rights)&&(0,V.z)({address:"discussionForum/modifyTeam",method:"POST",bodyData:{Teams:null===G||void 0===G?void 0:G.InvolvedUsers,Topic_Id:null===G||void 0===G?void 0:G.Id}}).then(e=>{e.success?(I.oR.success(e.message),K(!q),se()):I.oR.error(e.message)}).catch(e=>console.log(e))},children:"Save"})]})]})]}):(0,c.jsx)(N.A,{})}},76447:(e,s,t)=>{t.d(s,{A:()=>i});var a=t(59662),o=t(70579);const i=(0,a.A)((0,o.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"Launch")},83560:(e,s,t)=>{t.d(s,{A:()=>i});var a=t(59662),o=t(70579);const i=(0,a.A)((0,o.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")}}]);
//# sourceMappingURL=5674.5f78caf6.chunk.js.map