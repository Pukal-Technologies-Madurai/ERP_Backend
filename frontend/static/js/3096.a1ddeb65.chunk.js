"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[3096],{6593:(e,t,l)=>{l.d(t,{A:()=>o});const o=l(44708).A},10204:(e,t,l)=>{l.d(t,{T:()=>o,X:()=>a});const o=[{id:0,label:"New",color:" bg-info text-white "},{id:1,label:"Verified",color:" bg-warning text-white "},{id:2,label:"Converted",color:" bg-success text-white "},{id:3,label:"Canceled",color:" bg-danger text-white "}],a=[{id:1,label:"New",color:" bg-info text-white "},{id:2,label:"Progess",color:" bg-warning text-white "},{id:3,label:"Completed",color:" bg-success text-white "},{id:4,label:"Canceled",color:" bg-danger text-white "}]},24651:(e,t,l)=>{l.d(t,{A:()=>i});var o=l(89379),a=l(65043),s=l(97707),n=l(14844),r=l(70579);const d=function(){var e;let t=arguments.length>1?arguments[1]:void 0;return null!==(e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find(e=>(0,s.id)(e.Product_Id,t)))&&void 0!==e?e:{}},i=e=>{let{invoiceProducts:t=[],invoiceExpences:l=[],isNotTaxableBill:i,isInclusive:c,IS_IGST:u,products:m=[],invoiceInfo:v={},setInvoiceInfo:_}=e;const p=(0,a.useMemo)(()=>(0,s.$r)(l).reduce((e,t)=>(0,s.Lr)(e,null===t||void 0===t?void 0:t.Expence_Value),0),[l]),I=(0,a.useMemo)(()=>{const e=t.reduce((e,t)=>{const l=(0,s.e3)(null===t||void 0===t?void 0:t.Amount);if(i)return(0,s.Lr)(e,l);const o=d(m,t.Item_Id),a=u?o.Igst_P:o.Gst_P;return c?(0,s.Lr)(e,(0,n.v)(l,a,"remove").with_tax):(0,s.Lr)(e,(0,n.v)(l,a,"add").with_tax)},0);return(0,s.Lr)(e,p)},[t,i,m,u,c,p]),x=(0,a.useMemo)(()=>{if(!t||0===t.length)return{};let e=0,l=0;t.forEach(t=>{const o=(0,s.e3)((null===t||void 0===t?void 0:t.Amount)||0);if(i)return void(e=(0,s.Lr)(e,o));const a=d(m,t.Item_Id),r=(0,s.id)(u,1)?a.Igst_P:a.Gst_P,v=(0,n.v)(o,r,c?"remove":"add");e=(0,s.Lr)(e,parseFloat(v.without_tax)),l=(0,s.Lr)(l,parseFloat(v.tax_amount))});const o=(0,s.Lr)(e,l),a=(0,s.Lr)(o,p),r=Math.round(a),v=(0,s.e3)(r-a),_=(0,s.id)(u,1)?0:(0,s.e3)(l/2),I=(0,s.id)(u,1)?0:(0,s.e3)(l/2),x=(0,s.id)(u,1)?(0,s.e3)(l):0;return{totalTaxable:(0,s.e3)(e),totalTax:(0,s.e3)(l),cgst:_,sgst:I,igst:x,roundOff:v,invoiceTotal:r}},[t,m,u,i,c,p]);return(0,a.useMemo)(()=>{void 0!==x.roundOff&&x.roundOff!==v.Round_off&&_(e=>(0,o.A)((0,o.A)({},e),{},{Round_off:x.roundOff}))},[x.roundOff]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("table",{className:"table",children:(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsxs)("td",{className:"border p-2",rowSpan:u?5:6,children:["Total in words: ",(0,s.GF)(parseInt(I))]}),(0,r.jsx)("td",{className:"border p-2",children:"Total Taxable Amount"}),(0,r.jsx)("td",{className:"border p-2",children:x.totalTaxable})]}),u?(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"border p-2",children:"IGST"}),(0,r.jsx)("td",{className:"border p-2",children:x.igst})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"border p-2",children:"CGST"}),(0,r.jsx)("td",{className:"border p-2",children:x.cgst})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"border p-2",children:"SGST"}),(0,r.jsx)("td",{className:"border p-2",children:x.sgst})]})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"border p-2",children:"Total Expences"}),(0,r.jsx)("td",{className:"border p-2",children:(0,s.e3)(p)})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"border p-2",children:"Round Off"}),(0,r.jsx)("td",{className:"border p-0",children:(0,r.jsx)("input",{value:v.Round_off||x.roundOff||0,className:"cus-inpt p-2 m-0 border-0",onInput:s.rV,onChange:e=>_(t=>(0,o.A)((0,o.A)({},t),{},{Round_off:parseFloat(e.target.value)||0}))})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"border p-2",children:"Total"}),(0,r.jsx)("td",{className:"border p-2",children:(0,s.jG)(Math.round(I))})]})]})})})}},33438:(e,t,l)=>{l.d(t,{A:()=>s});var o=l(59662),a=l(70579);const s=(0,o.A)((0,a.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},35786:(e,t,l)=>{l.d(t,{A:()=>_});var o=l(89379),a=l(12110),s=l(11906),n=l(17392),r=(l(48471),l(97707)),d=l(97280),i=(l(65043),l(63406)),c=l(51387),u=l(20656),m=l(14844),v=l(70579);const _=e=>{let{invoiceExpences:t=[],setInvoiceExpences:l,expenceMaster:_=[],IS_IGST:p,taxType:I}=e;return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)(a.A,{children:[(0,v.jsxs)("div",{className:"d-flex align-items-center justify-content-between flex-wrap px-3 py-2",children:[(0,v.jsx)("h5",{className:"m-0",children:"Expenses"}),(0,v.jsx)(s.A,{variant:"outlined",type:"button",onClick:()=>{l(e=>[...e,(0,o.A)((0,o.A)({},d.ju),{},{Sno:e.length})])},children:"Add"})]}),(0,v.jsx)("div",{className:"table-responsive",children:(0,v.jsxs)("table",{className:"table table-bordered m-0",children:[(0,v.jsx)("thead",{className:"table-light",children:(0,v.jsx)("tr",{children:["S.No","Expense","Expense Value","Action"].map((e,t)=>(0,v.jsx)("th",{className:"fa-13 bg-light",children:e},t))})}),(0,v.jsxs)("tbody",{style:{fontSize:"13px"},children:[t.map((e,a)=>{var s;const d=(null===(s=_.find(t=>(0,r.id)(t.Id,null===e||void 0===e?void 0:e.Expense_Id)))||void 0===s?void 0:s.Expence_Name)||"";return(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{children:a+1}),(0,v.jsx)("td",{className:"p-0 vctr",style:{minWidth:"180px"},children:(0,v.jsx)(u.Ay,{value:{value:null===e||void 0===e?void 0:e.Expense_Id,label:d},onChange:e=>((e,t)=>{const a=_.find(e=>(0,r.id)(e.Id,t.value))||{};l(t=>t.map((t,l)=>l!==e?t:(0,o.A)((0,o.A)({},t),{},{Expense_Id:a.Id,Expence_Value:0})))})(a,e),options:_.filter(l=>!!(0,r.id)(l.Id,null===e||void 0===e?void 0:e.Expense_Id)||!t.some((e,t)=>t!==a&&(0,r.id)(e.Expense_Id,l.Id))).map(e=>({value:e.Id,label:e.Expence_Name})),styles:i.MR,menuPortalTarget:document.body,isSearchable:!0,placeholder:"Select Expense",filterOption:r.GI})}),(0,v.jsx)("td",{className:"p-0 vctr",children:(0,v.jsx)("input",{onInput:r.rV,className:"cus-inpt p-2 border-0",value:e.Expence_Value||"",disabled:!(0,r.IQ)(e.Expense_Id),onChange:e=>{((e,t,a)=>{l(l=>l.map((l,s)=>{if(s!==e)return l;const n=(0,o.A)((0,o.A)({},l),{},{[t]:a});if("Expence_Value"===t){const e=l.Cgst?(0,r.Ro)(l.Cgst):0,t=l.Sgst?(0,r.Ro)(l.Sgst):0,o=l.Igst?(0,r.Ro)(l.Igst):0,s=(0,r.Ro)(a),d=p?o:(0,r.Lr)(e,t),i=(0,m.v)(s,d,I);n.Cgst_Amo=e>0&&!p?i.cgst_amount:0,n.Sgst_Amo=t>0&&!p?i.sgst_amount:0,n.Igst_Amo=o>0&&p?i.igst_amount:0}if("Igst"===t){const e=p?(0,r.Ro)(a):0,t=p?0:(0,r.SX)((0,r.Ro)(a),2),o=p?0:(0,r.SX)((0,r.Ro)(a),2),s=(0,r.Ro)(l.Expence_Value),d=p?e:(0,r.Lr)(t,o),i=(0,m.v)(s,d,I);n.Cgst=t,n.Sgst=o,n.Cgst_Amo=t>0?i.cgst_amount:0,n.Sgst_Amo=o>0?i.sgst_amount:0,n.Igst_Amo=e>0?i.igst_amount:0}return n}))})(a,"Expence_Value",e.target.value)}})}),(0,v.jsx)("td",{className:"p-0 vctr  text-center ",children:(0,v.jsx)(n.A,{onClick:()=>(e=>{l(t=>t.filter((t,l)=>l!==e))})(a),size:"small",children:(0,v.jsx)(c.A,{color:"error",fontSize:"small"})})})]},a)}),0===t.length&&(0,v.jsx)("tr",{children:(0,v.jsx)("td",{className:"text-center",colSpan:6,children:"No rows"})})]})]})})]})})}},38641:(e,t,l)=>{l.d(t,{A:()=>i});var o=l(89379),a=(l(65043),l(20656)),s=l(63406),n=l(97707),r=l(14792),d=l(70579);const i=e=>{var t;let{invoiceInfo:l={},setInvoiceInfo:i,retailers:c=[],voucherType:u=[],branches:m=[],onChangeRetailer:v,stockItemLedgerName:_=[]}=e;const p="cus-inpt p-2";return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"row",children:[(0,d.jsxs)("div",{className:"col-sm-8 p-2",children:[(0,d.jsx)("label",{className:"fa-13",children:"Party Name"}),(0,d.jsx)(a.Ay,{value:{value:null===l||void 0===l?void 0:l.Retailer_Id,label:null===l||void 0===l?void 0:l.Retailer_Name},onChange:e=>{i(t=>(0,o.A)((0,o.A)({},t),{},{Retailer_Id:e.value,Retailer_Name:e.label})),v&&v()},options:[{value:"",label:"Search",isDisabled:!0},...(0,n.$r)(c).map(e=>({value:null===e||void 0===e?void 0:e.Retailer_Id,label:null===e||void 0===e?void 0:e.Retailer_Name}))],styles:s.MR,isSearchable:!0,placeholder:"Select Vendor",maxMenuHeight:300,filterOption:n.GI})]}),(0,d.jsxs)("div",{className:"col-sm-4 p-2",children:[(0,d.jsx)("label",{className:"fa-13",children:"Voucher Type"}),(0,d.jsx)(a.Ay,{value:{value:l.Voucher_Type,label:null===(t=(0,n.$r)(u).find(e=>(0,n.id)(e.Vocher_Type_Id,l.Voucher_Type)))||void 0===t?void 0:t.Voucher_Type},onChange:e=>i(t=>(0,o.A)((0,o.A)({},t),{},{Voucher_Type:e.value})),options:[{value:"",label:"Search",isDisabled:!0},...(0,n.$r)(u).filter(e=>"SALES"===(null===e||void 0===e?void 0:e.Type)).map(e=>({value:null===e||void 0===e?void 0:e.Vocher_Type_Id,label:null===e||void 0===e?void 0:e.Voucher_Type}))],styles:s.MR,isSearchable:!0,required:!0,placeholder:"Select Voucher Type",maxMenuHeight:300,filterOption:n.GI})]}),(0,d.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,d.jsxs)("label",{className:"fa-13",children:["Entry Date ",(0,d.jsx)(r.A,{})]}),(0,d.jsx)("input",{value:(null===l||void 0===l?void 0:l.Do_Date)||"",type:"date",required:!0,className:p,onChange:e=>i(t=>(0,o.A)((0,o.A)({},t),{},{Do_Date:e.target.value}))})]}),(0,d.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,d.jsxs)("label",{className:"fa-13",children:["Branch ",(0,d.jsx)(r.A,{})]}),(0,d.jsxs)("select",{className:p,value:null===l||void 0===l?void 0:l.Branch_Id,required:!0,onChange:e=>i(t=>(0,o.A)((0,o.A)({},t),{},{Branch_Id:e.target.value})),children:[(0,d.jsx)("option",{value:"",children:"select"}),m.map((e,t)=>(0,d.jsx)("option",{value:null===e||void 0===e?void 0:e.BranchId,children:null===e||void 0===e?void 0:e.BranchName},t))]})]}),(0,d.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,d.jsxs)("label",{className:"fa-13",children:["GST Type ",(0,d.jsx)(r.A,{})]}),(0,d.jsxs)("select",{className:p,onChange:e=>i(t=>(0,o.A)((0,o.A)({},t),{},{GST_Inclusive:Number(e.target.value)})),value:l.GST_Inclusive,required:!0,children:[(0,d.jsx)("option",{value:1,children:"Inclusive Tax"}),(0,d.jsx)("option",{value:0,children:"Exclusive Tax"}),(0,d.jsx)("option",{value:2,children:"Not Taxable"})]})]}),(0,d.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,d.jsx)("label",{className:"fa-13",children:"Tax Type"}),(0,d.jsxs)("select",{className:p,onChange:e=>i(t=>(0,o.A)((0,o.A)({},t),{},{IS_IGST:Number(e.target.value)})),value:l.IS_IGST,children:[(0,d.jsx)("option",{value:"0",children:"GST"}),(0,d.jsx)("option",{value:"1",children:"IGST"})]})]}),(0,d.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,d.jsx)("label",{className:"fa-13",children:"Stock Item Ledger Name"}),(0,d.jsx)(a.Ay,{value:{value:l.Stock_Item_Ledger_Name,label:l.Stock_Item_Ledger_Name},onChange:e=>i(t=>(0,o.A)((0,o.A)({},t),{},{Stock_Item_Ledger_Name:e.value})),options:[{value:"",label:"Search",isDisabled:!0},..._.map(e=>({value:null===e||void 0===e?void 0:e.Stock_Item_Ledger_Name,label:null===e||void 0===e?void 0:e.Stock_Item_Ledger_Name}))],styles:s.MR,menuPortalTarget:document.body,required:!0,isSearchable:!0,placeholder:"Select",maxMenuHeight:300,filterOption:n.GI})]}),(0,d.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,d.jsx)("label",{className:"fa-13",children:"Status"}),(0,d.jsxs)("select",{value:null===l||void 0===l?void 0:l.Cancel_status,className:p,onChange:e=>i(t=>(0,o.A)((0,o.A)({},t),{},{Cancel_status:e.target.value})),children:[(0,d.jsx)("option",{value:"",disabled:!0,children:"Select"}),(0,d.jsx)("option",{value:"1",children:"New"}),(0,d.jsx)("option",{value:"2",children:"Progess"}),(0,d.jsx)("option",{value:"3",children:"Completed"}),(0,d.jsx)("option",{value:"0",children:"Canceled"})]})]})]}),(0,d.jsx)("label",{className:"fa-13",children:"Narration"}),(0,d.jsx)("textarea",{className:"cus-inpt fa-14",rows:2,value:l.Narration,onChange:e=>i(t=>(0,o.A)((0,o.A)({},t),{},{Narration:e.target.value}))})]})}},40039:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.createSvgIcon}});var o=l(81512)},42841:(e,t,l)=>{var o=l(24994);t.A=void 0;var a=o(l(40039)),s=l(70579);t.A=(0,a.default)((0,s.jsx)("path",{d:"M6 6v2h8.59L5 17.59 6.41 19 16 9.41V18h2V6z"}),"ArrowOutward")},43735:(e,t,l)=>{l.d(t,{A:()=>w});var o=l(89379),a=l(65043),s=l(83462),n=l(12110),r=l(17392),d=l(11906),i=l(26494),c=l(20656),u=l(63406),m=l(91036),v=l(97707),_=l(70141),p=l(33438),I=l(51387),x=l(83560),h=l(65074),g=l(48471),A=l(14844),b=l(97280),f=l(38641),j=l(24651),C=l(56779),N=l(34104),y=l(35786),S=l(70579);const T=(0,v.aN)().user,w=e=>{let{loadingOn:t,loadingOff:l,open:c,onClose:u,editValues:w,defaultValues:E,transactionType:R,onSuccess:P}=e;const[B,O]=(0,a.useState)({products:[],branch:[],retailers:[],voucherType:[],uom:[],staff:[],staffType:[],brand:[],godown:[],expence:[],stockInGodown:[],stockItemLedgerName:[]}),[D,k]=(0,a.useState)({addProductDialog:!1,importFromSaleOrder:!1}),[L,Q]=(0,a.useState)(b.Q4),[V,M]=(0,a.useState)([]),[F,z]=(0,a.useState)([]),[U,H]=(0,a.useState)([]),[$,q]=(0,a.useState)(null),W=(0,v.id)(L.GST_Inclusive,1),X=(0,v.id)(L.GST_Inclusive,2),J=(0,v.id)(L.IS_IGST,1),K=X?"zerotax":W?"remove":"add",Y=3-V.length;(0,a.useEffect)(()=>{if(!c)return;(async()=>{try{t&&t();const[e,l,a,s,n,r,d,i,c,u,m]=await Promise.all([(0,h.z)({address:"masters/branch/dropDown"}),(0,h.z)({address:"masters/products"}),(0,h.z)({address:"masters/retailers/dropDown?Company_Id=".concat(null===T||void 0===T?void 0:T.Company_id)}),(0,h.z)({address:"purchase/voucherType"}),(0,h.z)({address:"masters/uom"}),(0,h.z)({address:"dataEntry/costCenter"}),(0,h.z)({address:"dataEntry/costCenter/category"}),(0,h.z)({address:"dataEntry/godownLocationMaster"}),(0,h.z)({address:"masters/defaultAccountMaster"}),(0,h.z)({address:"sales/stockInGodown"}),(0,h.z)({address:"purchase/stockItemLedgerName?type=SALES"})]),_=(e.success?e.data:[]).sort((e,t)=>String(null===e||void 0===e?void 0:e.BranchName).localeCompare(null===t||void 0===t?void 0:t.BranchName)),p=(l.success?l.data:[]).sort((e,t)=>String(null===e||void 0===e?void 0:e.Product_Name).localeCompare(null===t||void 0===t?void 0:t.Product_Name)),I=(a.success?a.data:[]).sort((e,t)=>String(null===e||void 0===e?void 0:e.Retailer_Name).localeCompare(null===t||void 0===t?void 0:t.Retailer_Name)),x=(s.success?s.data:[]).sort((e,t)=>String(null===e||void 0===e?void 0:e.Voucher_Type).localeCompare(null===t||void 0===t?void 0:t.Voucher_Type)),g=(n.success?n.data:[]).sort((e,t)=>String(e.Units).localeCompare(t.Units)),A=(r.success?r.data:[]).sort((e,t)=>String(null===e||void 0===e?void 0:e.Cost_Center_Name).localeCompare(null===t||void 0===t?void 0:t.Cost_Center_Name)),b=(d.success?d.data:[]).sort((e,t)=>String(null===e||void 0===e?void 0:e.Cost_Category).localeCompare(null===t||void 0===t?void 0:t.Cost_Category)),f=(i.success?i.data:[]).sort((e,t)=>String(null===e||void 0===e?void 0:e.Godown_Name).localeCompare(null===t||void 0===t?void 0:t.Godown_Name)),j=(c.success?(0,v.$r)(c.data):[]).sort((e,t)=>String(null===e||void 0===e?void 0:e.Account_Name).localeCompare(null===t||void 0===t?void 0:t.Account_Name)),C=(u.success?u.data:[]).sort((e,t)=>String(null===e||void 0===e?void 0:e.stock_item_name).localeCompare(null===t||void 0===t?void 0:t.stock_item_name)),N=(m.success?m.data:[]).sort((e,t)=>String(null===e||void 0===e?void 0:e.Stock_Item_Ledger_Name).localeCompare(null===t||void 0===t?void 0:t.Stock_Item_Ledger_Name));O(e=>(0,o.A)((0,o.A)({},e),{},{products:p,branch:_,retailers:I,voucherType:x,uom:g,staff:A,staffType:b,godown:f,brand:(0,v.Mn)(p,"Brand",["Brand_Name"]),expence:j.filter(e=>!(0,v.xL)(e.Type,"DEFAULT")).map(e=>({Id:e.Acc_Id,Expence_Name:e.Account_Name})),stockInGodown:C,stockItemLedgerName:N}))}catch(e){console.error("Error fetching data:",e)}finally{l&&l()}})()},[null===T||void 0===T?void 0:T.Company_id,c]);(0,a.useEffect)(()=>{M(e=>[...e].map(e=>Object.fromEntries(Object.entries(e).map(t=>{let[l,o]=t;const a=function(){var e;let t=arguments.length>1?arguments[1]:void 0;return null!==(e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find(e=>(0,v.id)(e.Product_Id,t)))&&void 0!==e?e:{}}(B.products,null===e||void 0===e?void 0:e.Item_Id),s=J?a.Igst_P:a.Gst_P,n=s>0,{Bill_Qty:r,Item_Rate:d,Amount:i}=e,c=(0,A.v)(d,s,K),u=(0,A.v)(i,s,K),m=J?0:u.cgst_per,_=J?u.igst_per:0,p=J?0:u.cgst_amount,I=J?u.igst_amount:0;switch(l){case"Taxable_Rate":return[l,c.base_amount];case"Total_Qty":return[l,r];case"Taxble":return[l,n?1:0];case"Taxable_Amount":return[l,u.base_amount];case"Tax_Rate":return[l,s];case"Cgst":case"Sgst":return[l,null!==m&&void 0!==m?m:0];case"Cgst_Amo":case"Sgst_Amo":return[l,X?0:p];case"Igst":return[l,null!==_&&void 0!==_?_:0];case"Igst_Amo":return[l,X?0:I];case"Final_Amo":return[l,u.with_tax];default:return[l,e[l]||o]}}))))},[B.products,J,K]),(0,a.useEffect)(()=>{z(e=>[...e].map(e=>{const t=J?(0,v.Ro)(null===e||void 0===e?void 0:e.Igst):0,l=J?0:(0,v.Ro)(null===e||void 0===e?void 0:e.Cgst),a=J?0:(0,v.Ro)(null===e||void 0===e?void 0:e.Sgst),s=(0,v.Ro)(null===e||void 0===e?void 0:e.Expence_Value),n=J?t:(0,v.Lr)(l,a),r=(0,A.v)(s,n,K);return(0,o.A)((0,o.A)({},e),{},{Cgst:l,Sgst:a,Igst:t,Expence_Value:s,Cgst_Amo:l>0?r.cgst_amount:0,Sgst_Amo:a>0?r.sgst_amount:0,Igst_Amo:t>0?r.igst_amount:0})}))},[B.expence,J,K]),(0,a.useEffect)(()=>{if((0,v.aF)(w)&&Array.isArray(null===w||void 0===w?void 0:w.ProductList)&&B.staff.length>0&&B.staffType.length>0){const{ProductList:e,Staffs_Array:t,Broker_Id:l,Broker_Name:a,Expence_Array:s,Transporter_Id:n,Transporter_Name:r}=w,d=(w.Expence_Array||w.expenceArray||w.Expenses||w.expenses||w.ExpenceList||w.expenceList,w.Retailer_Id||w.Custome_Id||0),i=B.retailers.find(e=>(0,v.id)(e.Retailer_Id,d));z((0,v.$r)(s).map(e=>Object.fromEntries(Object.entries(b.ju).map(t=>{var l;let[o,a]=t;return[o,null!==(l=e[o])&&void 0!==l?l:a]})))),Q(e=>(0,o.A)((0,o.A)({},e),{},{Do_Id:w.Pre_Id||"",So_No:w.Pre_Id||"",So_Date:w.Pre_Date?(0,v.ny)(w.Pre_Date):"",Retailer_Id:w.Custome_Id||(null===w||void 0===w?void 0:w.Retailer_Id)||"",Retailer_Name:(null===i||void 0===i?void 0:i.Retailer_Name)||"",Broker_Id:w.Broker_Id||"",Broker_Name:w.Broker_Name||"",Transporter_Id:w.Transporter_Id||"",Transporter_Name:w.Transporter_Name||"",TrasnportType:w.TrasnportType||2,Voucher_Type:w.baseData||0,Status:w.Status||"",isConverted:w.isConverted||0,Total_Invoice_value:w.Total_Invoice_value||0})),M(e.map(e=>(0,o.A)((0,o.A)({},b.a4),{},{Item_Id:e.Item_Id||"",Item_Name:e.Product_Name||"",HSN_Code:e.HSN_Code||"",Bill_Qty:e.Bill_Qty||0,Act_Qty:e.Bill_Qty||0,Item_Rate:e.Item_Rate||0,Amount:e.Amount||0,GoDown_Id:e.Godown_Id||"",Tax_Rate:e.Tax_Rate||0,Cgst:e.Cgst||0,UOM:e.Unit_Id||0,Units:e.Unit_Name||"",Sgst:e.Sgst||0,Igst:e.Igst||0,Cgst_Amo:e.Cgst_Amo||0,Sgst_Amo:e.Sgst_Amo||0,Igst_Amo:e.Igst_Amo||0,Taxable_Amount:e.Taxable_Amount||0,Final_Amo:e.Final_Amo||0})));let c=[];const u=e=>{const t=B.staffType.find(t=>(0,v.xL)(t.Cost_Category,e));return(null===t||void 0===t?void 0:t.Cost_Category_Id)||""};if(l&&!(0,v.id)(l,0)){const e=B.staff.find(e=>(0,v.id)(e.Cost_Center_Id,l)),t=u("Broker");e&&c.push({Involved_Emp_Id:e.Cost_Center_Id,EmpName:e.Cost_Center_Name,Cost_Center_Type_Id:t,Cost_Center_Type:"Broker"})}if(n&&!(0,v.id)(n,0)){const e=B.staff.find(e=>(0,v.id)(e.Cost_Center_Id,n)),t=u("Transport");e&&c.push({Involved_Emp_Id:e.Cost_Center_Id,EmpName:e.Cost_Center_Name,Cost_Center_Type_Id:t,Cost_Center_Type:"Transporter"})}(0,v.$r)(t).forEach((e,t)=>{const l=B.staff.find(t=>(0,v.id)(t.Cost_Center_Id,e.Staff_Id));let o=e.Cost_Cat_Id,a=e.Cost_Cat_Name;!o&&a&&(o=u(a)),l&&c.push({Involved_Emp_Id:l.Cost_Center_Id,EmpName:l.Cost_Center_Name,Cost_Center_Type_Id:o||"",Cost_Center_Type:a||""})}),H(c)}},[w,B.staff,B.staffType,B.retailers]),(0,a.useEffect)(()=>{z(e=>[...e].map(e=>{const t=J?(0,v.Ro)(null===e||void 0===e?void 0:e.Igst):0,l=J?0:(0,v.Ro)(null===e||void 0===e?void 0:e.Cgst),a=J?0:(0,v.Ro)(null===e||void 0===e?void 0:e.Sgst),s=(0,v.Ro)(null===e||void 0===e?void 0:e.Expence_Value),n=J?t:(0,v.Lr)(l,a),r=(0,A.v)(s,n,K);return(0,o.A)((0,o.A)({},e),{},{Cgst:l,Sgst:a,Igst:t,Expence_Value:s,Cgst_Amo:l>0?r.cgst_amount:0,Sgst_Amo:a>0?r.sgst_amount:0,Igst_Amo:t>0?r.igst_amount:0})}))},[B.expence,J,K]);const Z=()=>{t&&t();const e=U.map(e=>({Involved_Emp_Id:e.Involved_Emp_Id,Cost_Center_Type_Id:e.Cost_Center_Type_Id})),a=V.filter(e=>!(0===Number(e.Bill_Qty)&&0===Number(e.Act_Qty)));(0,h.z)({address:"sales/salesOrderSalesInvoice",method:"POST",bodyData:(0,o.A)((0,o.A)((0,o.A)({},E),L),{},{Pre_Id:L.Do_Id,Product_Array:a,staff_Involved_List:e,Expence_Array:F,transactionType:R})}).then(e=>{e.success?(Q(b.Q4),M([]),z([]),H([]),m.oR.success(e.message),P&&P(),u(!0)):m.oR.warn(e.message)}).catch(e=>console.error(e)).finally(()=>{l&&l()})};return c?(0,S.jsx)(s.A,{open:c,onClose:()=>u(!1),maxWidth:"xl",fullWidth:!0,children:(0,S.jsxs)("div",{style:{maxHeight:"90vh",overflow:"auto"},children:[(0,S.jsx)(C.A,{orderProducts:V,setOrderProducts:M,open:D.addProductDialog,onClose:()=>{k(e=>(0,o.A)((0,o.A)({},e),{},{addProductDialog:!1})),q(null)},products:B.products,brands:B.brand,uom:B.uom,godowns:B.godown,GST_Inclusive:L.GST_Inclusive,IS_IGST:J,editValues:$,initialValue:(0,o.A)((0,o.A)({},b.a4),{},{Pre_Id:L.So_No}),stockInGodown:B.stockInGodown}),(0,S.jsxs)(n.A,{children:[(0,S.jsxs)("div",{className:"d-flex flex-wrap align-items-center border-bottom py-2 px-3",children:[(0,S.jsx)("span",{className:"flex-grow-1 fa-16 fw-bold",children:"Sales Invoice"}),(0,S.jsxs)("span",{children:[(0,S.jsx)(r.A,{onClick:()=>u(!1),children:(0,S.jsx)(p.A,{})}),(0,S.jsx)(d.A,{onClick:()=>Z(),variant:"contained",children:"Submit"})]})]}),(0,S.jsxs)(i.A,{children:[(0,S.jsxs)("div",{className:"row p-0",children:[(0,S.jsx)("div",{className:"col-xxl-3 col-lg-4 col-md-5 p-2",children:(0,S.jsx)("div",{className:"border p-2",style:{minHeight:"30vh",height:"100%"},children:(0,S.jsx)(G,{StaffArray:U,setStaffArray:e=>{H(e)},costCenter:B.staff,costCategory:B.staffType})})}),(0,S.jsx)("div",{className:"col-xxl-9 col-lg-8 col-md-7 py-2 px-0",children:(0,S.jsx)("div",{className:"border px-3 py-1",style:{minHeight:"30vh",height:"100%"},children:(0,S.jsx)(f.A,{invoiceInfo:L,setInvoiceInfo:Q,retailers:B.retailers,branches:B.branch,voucherType:B.voucherType,stockItemLedgerName:B.stockItemLedgerName,onChangeRetailer:()=>{M([]),z([])}})})})]}),(0,S.jsx)(g.Ay,{title:"Items",headerFontSizePx:13,bodyFontSizePx:13,EnableSerialNumber:!0,disablePagination:!0,ButtonArea:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(d.A,{onClick:()=>{q(null),k(e=>(0,o.A)((0,o.A)({},e),{},{addProductDialog:!0}))},sx:{ml:1},variant:"outlined",type:"button",startIcon:(0,S.jsx)(_.A,{}),disabled:!(0,v.IQ)(L.Retailer_Id)||V.length>0&&(0,v.IQ)(L.So_No),children:"Add Product"}),(0,S.jsx)(N.A,{loadingOn:t,loadingOff:l,open:D.importFromSaleOrder,onClose:()=>k(e=>(0,o.A)((0,o.A)({},e),{},{importFromSaleOrder:!1})),retailer:null===L||void 0===L?void 0:L.Retailer_Id,selectedItems:V,setSelectedItems:M,staffArray:U,setStaffArray:H,products:B.products,GST_Inclusive:L.GST_Inclusive,IS_IGST:J,invoiceInfo:L,setInvoiceInfo:Q,godowns:B.godown,stockInGodown:B.stockInGodown})]}),dataArray:[...[...V,...Array.from({length:Y>0?Y:0}).map(e=>b.a4)].filter(e=>!(0===Number(e.Bill_Qty)&&0===Number(e.Act_Qty)))],columns:[(0,g.Lj)("Item_Name","string"),(0,g.Lj)("HSN_Code","string"),(0,g.Lj)("Bill_Qty","number"),(0,g.Lj)("Act_Qty","number"),(0,g.Lj)("Item_Rate","number"),{isVisible:1,ColumnHeader:"Tax",isCustomCell:!0,Cell:e=>{let{row:t}=e;const{Cgst:l=0,Sgst:o=0,Igst:a=0,Cgst_Amo:s=0,Sgst_Amo:n=0,Igst_Amo:r=0}=t,d=J?a:(0,v.Lr)(l,o),i=J?r:(0,v.Lr)(s,n);return(0,v.IQ)(null===t||void 0===t?void 0:t.Item_Id)?"".concat(i," - (").concat(d," %)"):""}},{isVisible:1,ColumnHeader:"Godown",isCustomCell:!0,Cell:e=>{var t,l;let{row:o}=e;return null!==(t=null===(l=B.godown.find(e=>(0,v.id)(e.Godown_Id,null===o||void 0===o?void 0:o.GoDown_Id)))||void 0===l?void 0:l.Godown_Name)&&void 0!==t?t:""}},(0,g.Lj)("Amount","number"),{isCustomCell:!0,Cell:e=>{let{row:t}=e;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(r.A,{onClick:()=>{q(t),k(e=>(0,o.A)((0,o.A)({},e),{},{addProductDialog:!0}))},size:"small",type:"button",disabled:!(0,v.IQ)(null===t||void 0===t?void 0:t.Item_Id),children:(0,S.jsx)(x.A,{})}),(0,S.jsx)(r.A,{size:"small",type:"button",onClick:()=>M(e=>e.filter(e=>!(0,v.id)(e.Item_Id,t.Item_Id))),color:"error",disabled:!(0,v.IQ)(null===t||void 0===t?void 0:t.Item_Id),children:(0,S.jsx)(I.A,{})})]})},ColumnHeader:"Action",isVisible:1}]}),(0,S.jsx)("br",{}),(0,S.jsx)(y.A,{invoiceExpences:F,setInvoiceExpences:z,expenceMaster:B.expence,IS_IGST:J,taxType:K}),(0,S.jsx)("br",{}),(0,S.jsx)(j.A,{invoiceProducts:V,invoiceExpences:F,isNotTaxableBill:X,isInclusive:W,IS_IGST:J,products:B.products,invoiceInfo:L,setInvoiceInfo:Q})]})]})]})}):null},G=e=>{let{StaffArray:t=[],setStaffArray:l,costCenter:a=[],costCategory:s=[]}=e;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:"d-flex align-items-center flex-wrap mb-2 border-bottom pb-2",children:[(0,S.jsx)("h6",{className:"flex-grow-1 m-0",children:"Staff Involved"}),(0,S.jsx)(d.A,{variant:"outlined",color:"primary",type:"button",onClick:()=>l(e=>[...e,{Involved_Emp_Id:"",EmpName:"",Cost_Center_Type_Id:"",Cost_Center_Type:""}]),children:"Add"})]}),(0,S.jsxs)("table",{className:"table table-bordered",children:[(0,S.jsx)("thead",{children:(0,S.jsxs)("tr",{children:[(0,S.jsx)("th",{className:"fa-13",children:"Sno"}),(0,S.jsx)("th",{className:"fa-13",children:"Staff Name"}),(0,S.jsx)("th",{className:"fa-13",children:"Category"}),(0,S.jsx)("th",{className:"fa-13",children:"#"})]})}),(0,S.jsx)("tbody",{children:(0,v.$r)(t).map((e,n)=>{const d=e.Cost_Center_Type_Id||(e=>{const t=s.find(t=>(0,v.xL)(t.Cost_Category,e));return(null===t||void 0===t?void 0:t.Cost_Category_Id)||""})(e.Cost_Center_Type);return(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{className:"fa-13 vctr text-center",children:n+1}),(0,S.jsx)("td",{className:"fa-13 w-100 p-0",children:(0,S.jsx)(c.Ay,{value:{value:e.Involved_Emp_Id,label:e.EmpName||"Select Staff"},onChange:e=>{a.find(t=>(0,v.id)(t.Cost_Center_Id,e.value));const s=t.map((t,l)=>l===n?(0,o.A)((0,o.A)({},t),{},{Involved_Emp_Id:Number(e.value),EmpName:e.label}):t);l(s)},options:a.filter(e=>!t.some((t,l)=>l!==n&&(0,v.id)(t.Involved_Emp_Id,e.Cost_Center_Id))).map(e=>({value:e.Cost_Center_Id,label:e.Cost_Center_Name})),styles:u.MR,isSearchable:!0,placeholder:"Select Staff"})}),(0,S.jsx)("td",{className:"fa-13 vctr p-0",style:{maxWidth:"130px",minWidth:"100px"},children:(0,S.jsxs)("select",{value:d,onChange:e=>{const a=s.find(t=>(0,v.id)(t.Cost_Category_Id,e.target.value)),r=t.map((t,l)=>l===n?(0,o.A)((0,o.A)({},t),{},{Cost_Center_Type_Id:e.target.value,Cost_Center_Type:(null===a||void 0===a?void 0:a.Cost_Category)||""}):t);l(r)},className:"cus-inpt p-2 border-0",children:[(0,S.jsx)("option",{value:"",children:"Select"}),s.map((e,t)=>(0,S.jsx)("option",{value:e.Cost_Category_Id,children:e.Cost_Category},t))]})}),(0,S.jsx)("td",{className:"fa-13 vctr p-0",children:(0,S.jsx)(r.A,{onClick:()=>{const e=t.filter((e,t)=>t!==n);l(e)},size:"small",children:(0,S.jsx)(I.A,{color:"error"})})})]},n)})})]})]})}},56779:(e,t,l)=>{l.d(t,{A:()=>g});var o=l(89379),a=l(65043),s=l(83462),n=l(26600),r=l(35316),d=l(29347),i=l(11906),c=l(97707),u=l(34496),m=l(14792),v=l(14844),_=l(20656),p=l(63406),I=l(91036),x=l(34104),h=l(70579);const g=e=>{var t,l;let{children:g,orderProducts:A=[],setOrderProducts:b,open:f=!1,onClose:j,products:C=[],brands:N=[],uom:y=[],godowns:S=[],GST_Inclusive:T,IS_IGST:w,editValues:G=null,initialValue:E={},stockInGodown:R=[]}=e;const[P,B]=(0,a.useState)(E),O=(0,c.id)(T,1),D=(0,c.id)(T,2);(0,a.useEffect)(()=>{(0,c.aF)(G)&&f&&B(e=>Object.fromEntries(Object.entries(e).map(e=>{let[t,l]=e;return[t,G[t]?G[t]:l]})))},[G]);const k=e=>{var t;return null!==(t=null===C||void 0===C?void 0:C.find(t=>(0,c.id)(null===t||void 0===t?void 0:t.Product_Id,e)))&&void 0!==t?t:{}},L=()=>{B(E),j()};return(0,h.jsxs)(h.Fragment,{children:[g,(0,h.jsxs)(s.A,{open:f,onClose:L,maxWidth:"md",fullWidth:!0,children:[(0,h.jsx)(n.A,{className:"border-bottom",children:(0,h.jsx)("span",{children:"Add Products Details"})}),(0,h.jsxs)("form",{onSubmit:e=>{e.preventDefault(),P.Item_Id?(b(e=>[...e.filter(e=>!(0,c.id)(e.Item_Id,P.Item_Id)),Object.fromEntries(Object.entries(E).map(e=>{let[t,l]=e;const o=k(P.Item_Id),a=w?o.Igst_P:o.Gst_P,s=a>0,{Bill_Qty:n,Item_Rate:r,Amount:d}=P,i=D?"zerotax":O?"remove":"add",c=(0,v.v)(r,a,i),u=(0,v.v)(d,a,i),m=w?0:u.cgst_per,_=w?u.igst_per:0,p=w?0:u.cgst_amount,I=w?u.igst_amount:0;switch(t){case"Item_Name":return[t,o.Product_Name];case"Taxable_Rate":return[t,c.base_amount];case"Total_Qty":return[t,n];case"Taxble":return[t,s?1:0];case"Taxable_Amount":return[t,u.base_amount];case"Tax_Rate":return[t,a];case"Cgst":case"Sgst":return[t,null!==m&&void 0!==m?m:0];case"Cgst_Amo":case"Sgst_Amo":return[t,D?0:p];case"Igst":return[t,null!==_&&void 0!==_?_:0];case"Igst_Amo":return[t,D?0:I];case"Final_Amo":return[t,u.with_tax];default:return[t,P[t]||l]}}))]),L()):I.oR.warn("Select Product")},children:[(0,h.jsx)(r.A,{children:(0,h.jsxs)("div",{className:"row pb-5",children:[(0,h.jsxs)("div",{className:"col-6 p-2",children:[(0,h.jsx)("label",{children:"Brand"}),(0,h.jsx)(_.Ay,{value:{value:P.BrandID,label:P.Brand},onChange:e=>B(t=>(0,o.A)((0,o.A)({},t),{},{BrandID:e.value,Brand:e.label})),options:[{value:"",label:"select",isDisabled:!0},...N.map(e=>({value:null===e||void 0===e?void 0:e.Brand,label:null===e||void 0===e?void 0:e.Brand_Name}))],styles:p.MR,menuPortalTarget:document.body,isSearchable:!0,placeholder:"Select Brand",maxMenuHeight:200,filterOption:c.GI})]}),(0,h.jsxs)("div",{className:"col-6 p-2",children:[(0,h.jsx)("label",{children:"Group"}),(0,h.jsx)(_.Ay,{value:{value:P.GroupID,label:P.Group},onChange:e=>B(t=>(0,o.A)((0,o.A)({},t),{},{GroupID:e.value,Group:e.label})),options:[{value:"",label:"select",isDisabled:!0},...C.filter(e=>!P.BrandID||(0,c.id)(e.Brand,P.BrandID)).reduce((e,t)=>(e.some(e=>e.value===t.Product_Group)||e.push({value:t.Product_Group,label:t.Pro_Group}),e),[])],styles:p.MR,menuPortalTarget:document.body,isSearchable:!0,placeholder:"Select Group",maxMenuHeight:200,filterOption:c.GI})]}),(0,h.jsxs)("div",{className:Object.hasOwn(P,"GoDown_Id")?"col-md-8 p-2":"col-12 p-2",children:[(0,h.jsxs)("label",{children:["Item Name ",(0,h.jsx)(m.A,{})]}),(0,h.jsx)(_.Ay,{value:{value:P.Item_Id,label:null===(t=k(P.Item_Id))||void 0===t?void 0:t.Product_Name},isDisabled:(0,c.IQ)(P.Pre_Id),menuPortalTarget:document.body,onChange:e=>{const t=k(e.value);B(l=>{var a,s,n,r,d,i,c;return(0,o.A)((0,o.A)({},l),{},{Group:null!==(a=t.Pro_Group)&&void 0!==a?a:l.Group,GroupID:null!==(s=t.Product_Group)&&void 0!==s?s:l.GroupID,Brand:null!==(n=t.Brand_Name)&&void 0!==n?n:l.Brand,BrandID:null!==(r=t.Brand)&&void 0!==r?r:l.BrandID,Item_Id:e.value,Item_Rate:null!==(d=t.Item_Rate)&&void 0!==d?d:0,Bill_Qty:0,Amount:0,Unit_Id:null!==(i=t.UOM_Id)&&void 0!==i?i:l.Unit_Id,Unit_Name:null!==(c=t.Units)&&void 0!==c?c:l.Unit_Name,HSN_Code:null===t||void 0===t?void 0:t.HSN_Code})})},options:[{value:"",label:"select",isDisabled:!0},...[...C.filter(e=>!P.BrandID||(0,c.id)(e.Brand,P.BrandID)).filter(e=>!P.GroupID||(0,c.id)(e.Product_Group,P.GroupID))].map(e=>({value:null===e||void 0===e?void 0:e.Product_Id,label:null===e||void 0===e?void 0:e.Product_Name,isDisabled:-1!==A.findIndex(t=>(0,c.id)(null===t||void 0===t?void 0:t.Item_Id,null===e||void 0===e?void 0:e.Product_Id))}))],styles:p.MR,isSearchable:!0,required:!0,placeholder:"Select Product",maxMenuHeight:200,filterOption:c.GI})]}),Object.hasOwn(P,"GoDown_Id")&&(0,h.jsxs)("div",{className:"col-md-4 p-2",children:[(0,h.jsx)("label",{children:"Godown"}),(0,h.jsx)(_.Ay,{value:{value:null===P||void 0===P?void 0:P.GoDown_Id,label:(null===(l=S.find(e=>(0,c.id)(e.Godown_Id,null===P||void 0===P?void 0:P.GoDown_Id)))||void 0===l?void 0:l.Godown_Name)||""},onChange:e=>B(t=>(0,o.A)((0,o.A)({},t),{},{GoDown_Id:e.value})),options:[{value:"",label:"select",isDisabled:!0},{label:"Stock-Available-Godowns",options:(0,c.$r)(S).filter(e=>{const t=(0,c.$r)(R);return 0!==t.length&&t.some(t=>(0,c.id)(null===t||void 0===t?void 0:t.Godown_Id,null===e||void 0===e?void 0:e.Godown_Id)&&(0,c.id)(null===P||void 0===P?void 0:P.Item_Id,null===t||void 0===t?void 0:t.Product_Id))}).map(e=>({value:null===e||void 0===e?void 0:e.Godown_Id,label:(null===e||void 0===e?void 0:e.Godown_Name)+" (Bal: "+(0,x.K)(null===P||void 0===P?void 0:P.Item_Id,null===e||void 0===e?void 0:e.Godown_Id,R)+")"}))},{label:"Other Godowns",options:(0,c.$r)(S).filter(e=>{const t=(0,c.$r)(R);return 0===t.length||!t.some(t=>(0,c.id)(null===t||void 0===t?void 0:t.Godown_Id,null===e||void 0===e?void 0:e.Godown_Id)&&(0,c.id)(null===P||void 0===P?void 0:P.Item_Id,null===t||void 0===t?void 0:t.Product_Id))}).map(e=>({value:null===e||void 0===e?void 0:e.Godown_Id,label:null===e||void 0===e?void 0:e.Godown_Name}))}],styles:p.MR,isDisabled:!(0,c.IQ)(null===P||void 0===P?void 0:P.Item_Id),menuPortalTarget:document.body,isSearchable:!0,placeholder:"Select Godown",filterOption:c.GI})]}),(0,h.jsxs)("div",{className:"col-lg-4 col-md-6 p-2",children:[(0,h.jsxs)("label",{children:["Quantity ",(0,h.jsx)(m.A,{})]}),(0,h.jsx)("input",{required:!0,value:P.Bill_Qty?P.Bill_Qty:"",onInput:c.BE,disabled:!(0,c.IQ)(P.Item_Id),onChange:e=>{P.Item_Rate?B(t=>(0,o.A)((0,o.A)({},t),{},{Amount:(0,c.JH)(P.Item_Rate,e.target.value),Bill_Qty:e.target.value})):P.Amount?B(t=>(0,o.A)((0,o.A)({},t),{},{Item_Rate:(0,c.SX)(t.Amount,e.target.value),Bill_Qty:e.target.value})):B(t=>(0,o.A)((0,o.A)({},t),{},{Bill_Qty:e.target.value}))},className:"cus-inpt",min:1})]}),Object.hasOwn(P,"Act_Qty")&&(0,h.jsxs)("div",{className:"col-lg-4 col-md-6 p-2",children:[(0,h.jsx)("label",{children:"Actual Quantity "}),(0,h.jsx)("input",{value:P.Act_Qty?P.Act_Qty:"",onInput:c.BE,disabled:!(0,c.IQ)(P.Item_Id),onChange:e=>B(t=>(0,o.A)((0,o.A)({},t),{},{Act_Qty:e.target.value})),required:!0,className:"cus-inpt"})]}),(0,h.jsxs)("div",{className:"col-lg-4 col-md-6 p-2",children:[(0,h.jsx)("label",{children:"Rate "}),(0,h.jsx)("input",{value:P.Item_Rate?P.Item_Rate:"",onInput:c.BE,disabled:!(0,c.IQ)(P.Item_Id),onChange:e=>B(t=>(0,o.A)((0,o.A)({},t),{},{Item_Rate:e.target.value,Amount:t.Bill_Qty?(0,c.JH)(e.target.value,t.Bill_Qty):t.Amount})),required:!0,className:"cus-inpt"})]}),(0,h.jsxs)("div",{className:"col-lg-4 col-md-6 p-2",children:[(0,h.jsx)("label",{children:"UOM"}),(0,h.jsxs)("select",{value:Object.hasOwn(P,"UOM")?P.UOM:Object.hasOwn(P,"Unit_Id")?P.Unit_Id:"",onChange:e=>{const t=e.target.selectedIndex,l=e.target.options[t].text,a=e.target.value;B(e=>(0,o.A)((0,o.A)({},e),{},{UOM:a,Unit_Id:a,Units:l,Unit_Name:l}))},className:"cus-inpt",disabled:!(0,c.IQ)(P.Item_Id),children:[(0,h.jsx)("option",{value:"",disabled:!0,children:"select"}),y.map((e,t)=>(0,h.jsx)("option",{value:e.Unit_Id,children:e.Units},t))]})]}),(0,h.jsxs)("div",{className:"col-md-6 p-2",children:[(0,h.jsx)("label",{children:"Amount"}),(0,h.jsx)("input",{required:!0,value:P.Amount?P.Amount:"",onInput:c.BE,disabled:!(0,c.IQ)(P.Item_Id),onChange:e=>B(t=>(0,o.A)((0,o.A)({},t),{},{Amount:e.target.value,Item_Rate:t.Bill_Qty?(0,c.SX)(e.target.value,t.Bill_Qty):t.Item_Rate})),className:"cus-inpt",min:1})]})]})}),(0,h.jsxs)(d.A,{className:"d-flex justify-content-between align-items-center",children:[(0,h.jsx)(i.A,{onClick:()=>B(E),type:"button",startIcon:(0,h.jsx)(u.A,{}),children:"Clear"}),(0,h.jsxs)("span",{children:[(0,h.jsx)(i.A,{type:"button",onClick:L,children:"cancel"}),(0,h.jsx)(i.A,{type:"submit",variant:"outlined",children:"Add"})]})]})]})]})]})}},81512:(e,t,l)=>{l.r(t),l.d(t,{capitalize:()=>a.A,createChainedFunction:()=>s.A,createSvgIcon:()=>n.A,debounce:()=>r.A,deprecatedPropType:()=>d,isMuiElement:()=>i.A,ownerDocument:()=>c.A,ownerWindow:()=>u.A,requirePropFactory:()=>m,setRef:()=>v,unstable_ClassNameGenerator:()=>b,unstable_useEnhancedEffect:()=>_.A,unstable_useId:()=>p.A,unsupportedProp:()=>I,useControlled:()=>x.A,useEventCallback:()=>h.A,useForkRef:()=>g.A,useIsFocusVisible:()=>A.A});var o=l(25430),a=l(6803),s=l(6593),n=l(59662),r=l(80950);const d=function(e,t){return()=>null};var i=l(90154),c=l(22427),u=l(36078);const m=function(e,t){return()=>null};const v=l(69184).A;var _=l(55013),p=l(45879);const I=function(e,t,l,o,a){return null};var x=l(54516),h=l(93319),g=l(95849),A=l(87844);const b={configure:e=>{o.A.configure(e)}}},90154:(e,t,l)=>{l.d(t,{A:()=>a});var o=l(65043);const a=function(e,t){var l,a;return o.isValidElement(e)&&-1!==t.indexOf(null!=(l=e.type.muiName)?l:null==(a=e.type)||null==(a=a._payload)||null==(a=a.value)?void 0:a.muiName)}}}]);
//# sourceMappingURL=3096.a1ddeb65.chunk.js.map