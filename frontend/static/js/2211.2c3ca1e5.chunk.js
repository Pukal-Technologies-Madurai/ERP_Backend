"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[2211],{2050:(e,t,r)=>{r.d(t,{A:()=>A});var o=r(98587),a=r(58168),i=r(65043),l=r(58387),n=r(68606),d=r(34535),s=r(6431),c=r(71424),u=r(51347),v=r(70579);const m=["className"],y=(0,d.Ay)("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,"flex-start"===r.alignItems&&t.alignItemsFlexStart]}})(e=>{let{theme:t,ownerState:r}=e;return(0,a.A)({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===r.alignItems&&{marginTop:8})}),A=i.forwardRef(function(e,t){const r=(0,s.b)({props:e,name:"MuiListItemIcon"}),{className:d}=r,A=(0,o.A)(r,m),h=i.useContext(u.A),p=(0,a.A)({},r,{alignItems:h.alignItems}),D=(e=>{const{alignItems:t,classes:r}=e,o={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,n.A)(o,c.f,r)})(p);return(0,v.jsx)(y,(0,a.A)({className:(0,l.A)(D.root,d),ownerState:p,ref:t},A))})},41649:(e,t,r)=>{r.d(t,{Uh:()=>p,bI:()=>v});var o=r(89379),a=r(22520),i=r(70579);const l=e=>Array.isArray(e),n={ITEMS:{dataTransformer:e=>d(e,"all"),columns:["OrderId","Party","Date","Item","Quantity","ArrivedQuantity","PendingQuantity","Rate","Amount","Actions"]},"ITEMS PENDING":{dataTransformer:e=>d(e,"pending"),columns:["OrderId","Party","Date","Item","Quantity","ArrivedQuantity","PendingQuantity","Rate","Amount","Actions"]},"ITEMS DELIVERED":{dataTransformer:e=>d(e,"arrived"),columns:["OrderId","Party","Date","Item","Quantity","ArrivedQuantity","PendingQuantity","Rate","Amount","Actions"]},ORDERS:{dataTransformer:e=>e,columns:["OrderId","Date","Party","InvoiceValue","DeliveryStatus","Status","Actions"]},"COMPLETED ORDERS":{dataTransformer:e=>s(e,"completed"),columns:["OrderId","Date","Party","InvoiceValue","DeliveryStatus","Status","Actions"]},"IN-COMPLETED ORDERS":{dataTransformer:e=>s(e,"incomplete"),columns:["OrderId","Date","Party","InvoiceValue","DeliveryStatus","Status","Actions"]},"ORDERS PENDING":{dataTransformer:e=>c(e,"noDelivery"),columns:["OrderId","Date","Party","InvoiceValue","Actions"]},"ORDERS ARRIVED":{dataTransformer:e=>c(e,"hasDelivery"),columns:["OrderId","Date","Party","InvoiceValue","DeliveryCount","Actions"]}},d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";return null===e||void 0===e?void 0:e.reduce((e,r)=>{if("pending"===t&&3===Number(null===r||void 0===r?void 0:r.Cancel_status))return e;if(!Array.isArray(null===r||void 0===r?void 0:r.OrderStockDetails))return e;let i=r.OrderStockDetails;var l;if("pending"===t)i=null===(l=r.OrderStockDetails)||void 0===l?void 0:l.filter(e=>{const t=((null===r||void 0===r?void 0:r.DeliveryDetails)||[]).filter(t=>{var r;return null===(r=t.StockDetails)||void 0===r?void 0:r.some(t=>(0,a.id)(t.Item_Id,null===e||void 0===e?void 0:e.Item_Id))}).reduce((t,r)=>{var o;const i=null===(o=r.StockDetails)||void 0===o?void 0:o.find(t=>(0,a.id)(t.Item_Id,null===e||void 0===e?void 0:e.Item_Id));return(0,a.Lr)(t,(null===i||void 0===i?void 0:i.Bill_Qty)||0)},0);return Number(t)<Number(null===e||void 0===e?void 0:e.Bill_Qty)});else if("arrived"===t){var n;i=null===(n=r.OrderStockDetails)||void 0===n?void 0:n.filter(e=>{const t=((null===r||void 0===r?void 0:r.DeliveryDetails)||[]).filter(t=>{var r;return null===(r=t.StockDetails)||void 0===r?void 0:r.some(t=>(0,a.id)(t.Item_Id,null===e||void 0===e?void 0:e.Item_Id))}).reduce((t,r)=>{var o;const i=null===(o=r.StockDetails)||void 0===o?void 0:o.find(t=>(0,a.id)(t.Item_Id,null===e||void 0===e?void 0:e.Item_Id));return(0,a.Lr)(t,(null===i||void 0===i?void 0:i.Bill_Qty)||0)},0);return Number(t)>=Number(null===e||void 0===e?void 0:e.Bill_Qty)})}const d=i.map(e=>(0,o.A)((0,o.A)({},e),{},{OrderDetails:u(r)}));return e.concat(d)},[])},s=(e,t)=>e.reduce((e,r)=>{if("0"!==(null===r||void 0===r?void 0:r.Cancel_status))return e;const o=(null===r||void 0===r?void 0:r.OrderStockDetails)||[],i=(null===r||void 0===r?void 0:r.DeliveryDetails)||[];if(!o.length)return e;const l=o.every(e=>{const t=i.reduce((t,r)=>{var o;const i=null===(o=r.StockDetails)||void 0===o?void 0:o.find(t=>(0,a.id)(t.Item_Id,e.Item_Id));return(0,a.Lr)(t,(null===i||void 0===i?void 0:i.Bill_Qty)||0)},0);return Number(t)>=Number(e.Bill_Qty)});return"completed"===t&&l&&e.push(r),"incomplete"!==t||l||e.push(r),e},[]),c=(e,t)=>e.reduce((e,r)=>{const o=Array.isArray(null===r||void 0===r?void 0:r.DeliveryDetails)&&r.DeliveryDetails.length>0;return"noDelivery"===t&&o?e:"hasDelivery"!==t||o?e.concat(r):e},[]),u=e=>{var t,r,o,i,n,d,s,c;return{S_Id:null===e||void 0===e?void 0:e.S_Id,So_Id:null===e||void 0===e?void 0:e.So_Id,So_Inv_No:null===e||void 0===e?void 0:e.So_Inv_No,So_Date:null===e||void 0===e?void 0:e.So_Date,Retailer_Id:null===e||void 0===e?void 0:e.Retailer_Id,Sales_Person_Id:null===e||void 0===e?void 0:e.Sales_Person_Id,Branch_Id:null===e||void 0===e?void 0:e.Branch_Id,Ledger_Name:(null===e||void 0===e?void 0:e.Ledger_Name)||(null===e||void 0===e||null===(t=e.DeliveryDetails)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.Ledger_Name)||(null===e||void 0===e||null===(o=e.OrderStockDetails)||void 0===o||null===(i=o[0])||void 0===i?void 0:i.Ledger_Name),Party_District:(null===e||void 0===e?void 0:e.Party_District)||(null===e||void 0===e||null===(n=e.DeliveryDetails)||void 0===n||null===(d=n[0])||void 0===d?void 0:d.Party_District)||(null===e||void 0===e||null===(s=e.OrderStockDetails)||void 0===s||null===(c=s[0])||void 0===c?void 0:c.Party_District),Total_Invoice_value:null===e||void 0===e?void 0:e.Total_Invoice_value,Total_Before_Tax:null===e||void 0===e?void 0:e.Total_Before_Tax,Round_off:null===e||void 0===e?void 0:e.Round_off,Cancel_status:null===e||void 0===e?void 0:e.Cancel_status,isConverted:null===e||void 0===e?void 0:e.isConverted,IsConvertedAsInvoice:(0,a.Ro)(null===e||void 0===e?void 0:e.IsConvertedAsInvoice),isConvertableArrivalExist:(0,a.Ro)(null===e||void 0===e?void 0:e.isConvertableArrivalExist),OrderStockDetails:l(e.OrderStockDetails)?e.OrderStockDetails:[],DeliveryDetails:l(e.DeliveryDetails)?e.DeliveryDetails:[],StaffDetails:l(e.StaffDetails)?e.StaffDetails:[],Created_on:null===e||void 0===e?void 0:e.Created_on,Alterd_on:null===e||void 0===e?void 0:e.Alterd_on,Narration:null===e||void 0===e?void 0:e.Narration,VoucherType:null===e||void 0===e?void 0:e.VoucherType,GST_Inclusive:null===e||void 0===e?void 0:e.GST_Inclusive}},v=e=>{let{data:t=[],status:r="ITEMS"}=e;const o=n[r];return o?o.dataTransformer(t):[]},m="bg-success text-light fa-11 px-2 py-1 rounded-3",y="bg-danger text-light fw-bold fa-11 px-2 py-1 rounded-3",A="bg-warning fw-bold fa-11 px-2 py-1 rounded-3",h={OrderId:{type:"string",header:"Order ID",getValue:e=>{var t;return(null===e||void 0===e?void 0:e.So_Inv_No)||(null===e||void 0===e||null===(t=e.OrderDetails)||void 0===t?void 0:t.So_Inv_No)||""}},Date:{type:"custom",header:"Order Date",getValue:e=>{var t;return(0,a.yc)((null===e||void 0===e?void 0:e.So_Date)||(null===e||void 0===e||null===(t=e.OrderDetails)||void 0===t?void 0:t.So_Date))}},Party:{type:"custom",header:"Party",getValue:e=>{const t=(null===e||void 0===e?void 0:e.OrderDetails)||e;return(null===t||void 0===t?void 0:t.Ledger_Name)||"N/A"}},InvoiceValue:{type:"custom",header:"Invoice Value",getValue:e=>{var t;const r=(null===e||void 0===e?void 0:e.Total_Invoice_value)||(null===e||void 0===e||null===(t=e.OrderDetails)||void 0===t?void 0:t.Total_Invoice_value);return(0,a.IQ)(r)?(0,a.jG)(r):"0"}},Status:{type:"custom",header:"Status",getValue:e=>{const t=(null===e||void 0===e?void 0:e.OrderDetails)||e,r=(e=>{const t="0"==(null===e||void 0===e?void 0:e.Cancel_status),r=Array.isArray(null===e||void 0===e?void 0:e.DeliveryDetails)&&e.DeliveryDetails.length>0;return t?"Canceled":r?"Delivered":"Pending"})(t),o=(e=>{const t="0"==(null===e||void 0===e?void 0:e.Cancel_status),r=Array.isArray(null===e||void 0===e?void 0:e.DeliveryDetails)&&e.DeliveryDetails.length>0;return t?y:r?m:A})(t);return(0,i.jsx)("span",{className:o,children:r})}},Item:{type:"string",header:"Item",getValue:e=>(null===e||void 0===e?void 0:e.Stock_Item)||"N/A"},Quantity:{type:"custom",header:"Quantity",getValue:e=>{const t=(null===e||void 0===e?void 0:e.Bill_Qty)||(null===e||void 0===e?void 0:e.Total_Qty);return(0,a.IQ)(t)?(0,a.jG)(t):"0"}},ArrivedQuantity:{type:"custom",header:"Delivered Qty",getValue:e=>{const t=null===e||void 0===e?void 0:e.OrderDetails,r=null===e||void 0===e?void 0:e.Item_Id;return((null===t||void 0===t?void 0:t.DeliveryDetails)||[]).reduce((e,t)=>{var o;const i=null===(o=t.StockDetails)||void 0===o?void 0:o.find(e=>(0,a.id)(e.Item_Id,r));return(0,a.Lr)(e,(null===i||void 0===i?void 0:i.Bill_Qty)||0)},0)}},PendingQuantity:{type:"custom",header:"Pending Qty",getValue:e=>{const t=null===e||void 0===e?void 0:e.OrderDetails,r=null===e||void 0===e?void 0:e.Item_Id,o=Number((null===e||void 0===e?void 0:e.Bill_Qty)||0),i=((null===t||void 0===t?void 0:t.DeliveryDetails)||[]).reduce((e,t)=>{var o;const i=null===(o=t.StockDetails)||void 0===o?void 0:o.find(e=>(0,a.id)(e.Item_Id,r));return(0,a.Lr)(e,(null===i||void 0===i?void 0:i.Bill_Qty)||0)},0);return(0,a.DG)(o,i)}},Rate:{type:"custom",header:"Rate",getValue:e=>{const t=(null===e||void 0===e?void 0:e.Item_Rate)||(null===e||void 0===e?void 0:e.Taxable_Rate);return(0,a.IQ)(t)?(0,a.jG)(t):"0"}},Amount:{type:"custom",header:"Amount",getValue:e=>{const t=(null===e||void 0===e?void 0:e.Amount)||(null===e||void 0===e?void 0:e.Final_Amo);return(0,a.IQ)(t)?(0,a.jG)(t):"0"}},DeliveryCount:{type:"custom",header:"Deliveries",getValue:e=>{var t;return((null===e||void 0===e?void 0:e.DeliveryDetails)||(null===e||void 0===e||null===(t=e.OrderDetails)||void 0===t?void 0:t.DeliveryDetails)||[]).length}},Stock_Item:{type:"string",header:"Stock Item",getValue:e=>null===e||void 0===e?void 0:e.Stock_Item},Stock_Group:{type:"string",header:"Stock Group",getValue:e=>null===e||void 0===e?void 0:e.Stock_Group}},p=e=>{let{OrderStatus:t="ITEMS",dialogs:r,setOrderPreview:a,navigation:i,EditRights:l,DeleteRights:d,AddRights:s}=e;const c=n[t];return c?c.columns.map(e=>{const t=h[e];if(!t)return console.warn("Sales column definition not found for key: ".concat(e)),null;const n={isVisible:1,ColumnHeader:t.header,isCustomCell:"custom"===t.type};return"custom"===t.type?(0,o.A)((0,o.A)({},n),{},{Cell:e=>{let{row:o}=e;return t.getValue(o,{setOrderPreview:a,navigation:i,EditRights:l,DeleteRights:d,AddRights:s,dialogs:r})}}):(0,o.A)((0,o.A)({},n),{},{Field_Name:e,Fied_Data:t.type},t.getValue&&{isCustomCell:!0,Cell:e=>{let{row:r}=e;return t.getValue(r)}})}).filter(Boolean):[]}},47968:(e,t,r)=>{r.d(t,{A:()=>i});var o=r(59662),a=r(70579);const i=(0,o.A)((0,a.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download")},48734:(e,t,r)=>{r.d(t,{A:()=>h});var o=r(98587),a=r(58168),i=r(65043),l=r(58387),n=r(68606),d=r(85865),s=r(51347),c=r(6431),u=r(34535),v=r(28052),m=r(70579);const y=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],A=(0,u.Ay)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{["& .".concat(v.A.primary)]:t.primary},{["& .".concat(v.A.secondary)]:t.secondary},t.root,r.inset&&t.inset,r.primary&&r.secondary&&t.multiline,r.dense&&t.dense]}})(e=>{let{ownerState:t}=e;return(0,a.A)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})}),h=i.forwardRef(function(e,t){const r=(0,c.b)({props:e,name:"MuiListItemText"}),{children:u,className:h,disableTypography:p=!1,inset:D=!1,primary:I,primaryTypographyProps:g,secondary:S,secondaryTypographyProps:f}=r,x=(0,o.A)(r,y),{dense:O}=i.useContext(s.A);let _=null!=I?I:u,R=S;const b=(0,a.A)({},r,{disableTypography:p,inset:D,primary:!!_,secondary:!!R,dense:O}),T=(e=>{const{classes:t,inset:r,primary:o,secondary:a,dense:i}=e,l={root:["root",r&&"inset",i&&"dense",o&&a&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,n.A)(l,v.b,t)})(b);return null==_||_.type===d.A||p||(_=(0,m.jsx)(d.A,(0,a.A)({variant:O?"body2":"body1",className:T.primary,component:null!=g&&g.variant?void 0:"span",display:"block"},g,{children:_}))),null==R||R.type===d.A||p||(R=(0,m.jsx)(d.A,(0,a.A)({variant:"body2",className:T.secondary,color:"text.secondary",display:"block"},f,{children:R}))),(0,m.jsxs)(A,(0,a.A)({className:(0,l.A)(T.root,h),ownerState:b,ref:t},x,{children:[_,R]}))})},58093:(e,t,r)=>{r.d(t,{A:()=>f});var o=r(98587),a=r(58168),i=r(68606),l=r(58387),n=r(65043),d=r(75429),s=r(59662),c=r(70579);const u=(0,s.A)((0,c.jsx)("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");var v=r(34535),m=r(6431),y=r(6803),A=r(57056),h=r(32400);function p(e){return(0,h.Ay)("MuiTableSortLabel",e)}const D=(0,A.A)("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc"]),I=["active","children","className","direction","hideSortIcon","IconComponent"],g=(0,v.Ay)(d.A,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.active&&t.active]}})(e=>{let{theme:t}=e;return{cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(t.vars||t).palette.text.secondary},"&:hover":{color:(t.vars||t).palette.text.secondary,["& .".concat(D.icon)]:{opacity:.5}},["&.".concat(D.active)]:{color:(t.vars||t).palette.text.primary,["& .".concat(D.icon)]:{opacity:1,color:(t.vars||t).palette.text.secondary}}}}),S=(0,v.Ay)("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,t["iconDirection".concat((0,y.A)(r.direction))]]}})(e=>{let{theme:t,ownerState:r}=e;return(0,a.A)({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:t.transitions.create(["opacity","transform"],{duration:t.transitions.duration.shorter}),userSelect:"none"},"desc"===r.direction&&{transform:"rotate(0deg)"},"asc"===r.direction&&{transform:"rotate(180deg)"})}),f=n.forwardRef(function(e,t){const r=(0,m.b)({props:e,name:"MuiTableSortLabel"}),{active:n=!1,children:d,className:s,direction:v="asc",hideSortIcon:A=!1,IconComponent:h=u}=r,D=(0,o.A)(r,I),f=(0,a.A)({},r,{active:n,direction:v,hideSortIcon:A,IconComponent:h}),x=(e=>{const{classes:t,direction:r,active:o}=e,a={root:["root",o&&"active"],icon:["icon","iconDirection".concat((0,y.A)(r))]};return(0,i.A)(a,p,t)})(f);return(0,c.jsxs)(g,(0,a.A)({className:(0,l.A)(x.root,s),component:"span",disableRipple:!0,ownerState:f,ref:t},D,{children:[d,A&&!n?null:(0,c.jsx)(S,{as:h,className:(0,l.A)(x.icon),ownerState:f})]}))})},58558:(e,t,r)=>{r.d(t,{A:()=>i});var o=r(59662),a=r(70579);const i=(0,o.A)((0,a.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert")},59383:(e,t,r)=>{r.d(t,{A:()=>i});var o=r(59662),a=r(70579);const i=(0,o.A)((0,a.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt")},63406:(e,t,r)=>{r.d(t,{zU:()=>n,ex:()=>d,MR:()=>l,Ap:()=>i,FX:()=>s});var o=r(89379);const a=r.p+"static/media/smt.aa4d4f940bbebff07a57.png",i={table:{style:{width:"auto",backgroundColor:"transparent"}},rows:{style:{backgroundColor:"transparent"}},headCells:{style:{backgroundColor:"#6b9080f8",color:"white",fontSize:"14px"}}},l={menu:(e,t)=>(0,o.A)((0,o.A)({},e),{},{zIndex:9999}),menuPortal:e=>(0,o.A)((0,o.A)({},e),{},{zIndex:9999}),groupHeading:e=>(0,o.A)((0,o.A)({},e),{},{backgroundColor:"#f5f5f5",color:"#333",fontWeight:"bold",fontSize:"14px",padding:"8px 12px",borderBottom:"1px solid #ddd",textTransform:"uppercase"}),option:(e,t)=>(0,o.A)((0,o.A)({},e),{},{backgroundColor:t.isSelected?"#2684FF":t.isFocused?"#E2ECF9":"white",color:t.isSelected?"white":"#333",padding:"10px 12px"})},n=[{id:1,headname:"Menu ID",variant:"head",align:"left",width:100},{id:2,headname:"MenuName"},{id:3,headname:"Read Rights"},{id:4,headname:"Add Rights"},{id:5,headname:"Edit Rights"},{id:6,headname:"Delete Rights"},{id:7,headname:"Print Rights"},{id:8,headname:"Action"}],d=[{dataBase:1,name:"SHANKAR TRADERS",business:"Wholesale Merchant in Dhall",address:"32, Chitrakara Street, Madurai - 01 <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:a,gstin:"33AADFS6973R1ZD",phone:"984-313-1353, 984-335-5166",fssai:"12418012000818",bankAccount:"0021 5032 0885 122",ifsc:"TMBL0000002"},{dataBase:2,name:"SMT AGRO PRODUCTS",business:"",address:"H.O: 153, Chitrakara Street, 2nd Floor, Madurai -01 <br /> G.O: 746 Puliyur, Sayanapuram, Svga <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:a,gstin:"33ACMFS3420Q1ZQ",phone:"0452-4371625",fssai:"12418012000818",bankAccount:"0025 3031 0875 947",ifsc:"TMBL0000002"},{dataBase:3,name:"BHAVANI TRADERS",business:"",address:"H.O: 152-A, Chitrakara Street, Madurai -01 <br /> G.O: 30/1-Rajman Nagar, Chintamani Main Road, Mdu-01 <br /> Tax Invoice",logo:a,gstin:"33AAEFB6728J1ZG",phone:"958-559-7641, 958-559-7614",fssai:"12418012000670",bankAccount:"0021 5005 0800 309",ifsc:"TMBL0000002"}],s=[{name:"PURCHASE_ORDER"},{name:"PURCHASE_INVOICE"},{name:"SALE_ORDER"},{name:"SALE_INVOICE"},{name:"JOURNAL"},{name:"STOCK_JOURNAL"},{name:"PAYMENT"},{name:"RECEIPT"},{name:"CONTRA"}]},79484:(e,t,r)=>{r.d(t,{A:()=>i});var o=r(59662),a=r(70579);const i=(0,o.A)((0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},89967:(e,t,r)=>{r.r(t),r.d(t,{default:()=>O});var o=r(89379),a=r(65043),i=r(48471),l=r(65074),n=r(22520),d=r(17392),s=r(83462),c=r(26600),u=r(35316),v=r(29347),m=r(11906),y=r(73216),A=r(59383),h=r(79484),p=r(41649),D=r(91036),I=r(93709),g=r(20656),S=r(63406),f=r(70579);const x={Fromdate:(0,n.ny)(),Todate:(0,n.ny)(),OrderStatus:"ITEMS PENDING",vendorId:"",vendor:""},O=e=>{let{loadingOn:t,loadingOff:r,AddRights:O,EditRights:_,DeleteRights:R}=e;const[b,T]=(0,a.useState)([]),[E,C]=(0,a.useState)({OrderDetails:{},OrderItemsArray:[],DeliveryArray:[],TranspoterArray:[],StaffArray:[],display:!1}),[N,j]=(0,a.useState)([]),[P,k]=(0,a.useState)([]),M=(0,y.Zp)(),F=(0,y.zy)(),w=F.state,L=new URLSearchParams((0,y.zy)().search),[V,Q]=(0,a.useState)((0,o.A)((0,o.A)({},x),{},{FilterDialog:!1,deleteOrderDialog:!1,deleteOrderId:"",refresh:!1,view:"SALE ORDERS"}));(0,a.useEffect)(()=>{(0,l.z)({address:"masters/retailers/dropDown"}).then(e=>{if(e.success){const t=(0,n.$r)(null===e||void 0===e?void 0:e.data).sort((e,t)=>String(null===e||void 0===e?void 0:e.Retailer_Name).localeCompare(null===t||void 0===t?void 0:t.Retailer_Name));j(t)}}).catch(e=>console.error(e)),(0,l.z)({address:"masters/products"}).then(e=>{e.success?k(e.data):k([])}).catch(e=>console.error(e))},[]),(0,a.useEffect)(()=>{t&&t(),(0,l.z)({address:"sales/salesOrderPendingDelivery?Fromdate=".concat(V.Fromdate,"&Todate=").concat(V.Todate)}).then(e=>{e.success&&T(e.data)}).catch(e=>console.error(e)).finally(()=>{r&&r()})},[V.refresh]),(0,a.useEffect)(()=>{const e={Fromdate:L.get("Fromdate")&&(0,n.vd)(L.get("Fromdate"))?L.get("Fromdate"):x.Fromdate,Todate:L.get("Todate")&&(0,n.vd)(L.get("Todate"))?L.get("Todate"):x.Todate,OrderStatus:L.get("OrderStatus")||x.OrderStatus,vendorId:L.get("vendorId")||x.vendorId,vendor:L.get("vendor")||x.vendor};Q(t=>(0,o.A)((0,o.A)({},t),e))},[F.search]),(0,a.useEffect)(()=>{const e=null!==w&&void 0!==w&&w.Fromdate&&(0,n.vd)(null===w||void 0===w?void 0:w.Fromdate)?(0,n.ny)(null===w||void 0===w?void 0:w.Fromdate):null,t=null!==w&&void 0!==w&&w.Todate&&(0,n.vd)(null===w||void 0===w?void 0:w.Todate)?(0,n.ny)(null===w||void 0===w?void 0:w.Todate):null;e&&t&&B({Fromdate:e,Todate:t})},[w]);const B=e=>{const t=new URLSearchParams;Object.keys(e).forEach(r=>{e[r]&&t.set(r,e[r])}),M("?".concat(t.toString()),{replace:!0})},G=e=>{const t=(0,o.A)((0,o.A)({},V),e);Q(t),B(t)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(i.Ay,{dataArray:(0,p.bI)({data:(0,n.IQ)(V.vendorId)?b.filter(e=>(0,n.id)(e.PartyId,V.vendorId)):b,status:V.OrderStatus}),columns:(0,p.Uh)({OrderStatus:V.OrderStatus,dialogs:Q,setOrderPreview:C,navigation:e=>{let{page:t="",stateToTransfer:r={}}=e;M(t,{state:r})},products:P,EditRights:_,DeleteRights:R,AddRights:O}),tableMaxHeight:650,EnableSerialNumber:!0,title:"Sales Order - "+V.OrderStatus,maxHeightOption:!0,ExcelPrintOption:!0,PDFPrintOption:!0,ButtonArea:(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(d.A,{size:"small",className:"me-2",onClick:()=>Q(e=>(0,o.A)((0,o.A)({},e),{},{FilterDialog:!0})),children:(0,f.jsx)(A.A,{})})})}),E.display&&(0,f.jsx)(I.A,{OrderDetails:E.OrderDetails,OrderItemsArray:E.OrderItemsArray,DeliveryArray:E.DeliveryArray,TranspoterArray:E.TranspoterArray,StaffArray:E.StaffArray,display:E.display,onCloseDialog:()=>{C({OrderDetails:{},OrderItemsArray:[],DeliveryArray:[],TranspoterArray:[],display:!1})}}),(0,f.jsxs)(s.A,{open:V.FilterDialog,onClose:()=>Q(e=>(0,o.A)((0,o.A)({},e),{},{FilterDialog:!1})),maxWidth:"sm",fullWidth:!0,children:[(0,f.jsx)(c.A,{children:"Filters"}),(0,f.jsx)(u.A,{children:(0,f.jsx)("table",{className:"table m-0 border-0",children:(0,f.jsxs)("tbody",{children:[(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:"border-0 vctr",children:"Vendor"}),(0,f.jsx)("td",{className:"border-0 vctr",children:(0,f.jsx)(g.Ay,{value:{value:V.vendorId,label:V.vendor},onChange:e=>G({vendorId:e.value,vendor:e.label}),options:[{value:"",label:"Search",isDisabled:!0},...N.map(e=>({value:null===e||void 0===e?void 0:e.Retailer_Id,label:null===e||void 0===e?void 0:e.Retailer_Name}))],styles:S.MR,isSearchable:!0,placeholder:"Select Vendor",maxMenuHeight:300,filterOption:n.GI})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:"border-0 vctr",children:"Fromdate"}),(0,f.jsx)("td",{className:"border-0 vctr",children:(0,f.jsx)("input",{type:"date",onChange:e=>G({Fromdate:e.target.value}),value:V.Fromdate,className:"cus-inpt p-2"})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:"border-0 vctr",children:"Todate"}),(0,f.jsx)("td",{className:"border-0 vctr",children:(0,f.jsx)("input",{type:"date",onChange:e=>G({Todate:e.target.value}),value:V.Todate,className:"cus-inpt p-2"})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:"border-0 vctr",children:"Order Status"}),(0,f.jsx)("td",{className:"border-0 vctr",children:(0,f.jsxs)("select",{className:"cus-inpt p-2",value:V.OrderStatus,onChange:e=>G({OrderStatus:e.target.value}),children:[(0,f.jsxs)("optgroup",{label:"ITEM BASED",children:[(0,f.jsx)("option",{value:"ITEMS",children:"ITEMS"}),(0,f.jsx)("option",{value:"ITEMS PENDING",children:"ITEMS - PENDING"})]}),(0,f.jsxs)("optgroup",{label:"ORDER BASED",children:[(0,f.jsx)("option",{value:"ORDERS",children:"ORDERS"}),(0,f.jsx)("option",{value:"IN-COMPLETED ORDERS",children:"IN-COMPLETED ORDERS"})]})]})})]})]})})}),(0,f.jsxs)(v.A,{children:[(0,f.jsx)(m.A,{onClick:()=>Q(e=>(0,o.A)((0,o.A)({},e),{},{FilterDialog:!1})),variant:"outlined",children:"Close"}),(0,f.jsx)(m.A,{onClick:()=>Q(e=>(0,o.A)((0,o.A)({},e),{},{refresh:!e.refresh})),variant:"outlined",startIcon:(0,f.jsx)(h.A,{}),children:"Search"})]})]}),(0,f.jsxs)(s.A,{open:V.deleteOrderDialog,onClose:()=>Q(e=>(0,o.A)((0,o.A)({},e),{},{deleteOrderDialog:!1,deleteOrderId:""})),maxWidth:"sm",children:[(0,f.jsx)(c.A,{children:"Confirmation"}),(0,f.jsx)(u.A,{children:(0,f.jsx)("h6",{children:"Do you want to delete the order permanently?"})}),(0,f.jsxs)(v.A,{children:[(0,f.jsx)(m.A,{onClick:()=>Q(e=>(0,o.A)((0,o.A)({},e),{},{deleteOrderDialog:!1,deleteOrderId:""})),children:"Cancel"}),(0,f.jsx)(m.A,{color:"error",variant:"outlined",onClick:()=>{return e=V.deleteOrderId,void((0,n.IQ)(e)&&(0,l.z)({address:"dataEntry/purchaseOrderEntry",method:"DELETE",bodyData:{OrderId:e}}).then(e=>{e.success?(Q(e=>(0,o.A)((0,o.A)({},e),{},{deleteOrderDialog:!1,deleteOrderId:"",refresh:!e.refresh})),D.oR.success(e.message)):(Q(e=>(0,o.A)((0,o.A)({},e),{},{deleteOrderDialog:!1,deleteOrderId:""})),D.oR.error(e.message))}).catch(e=>console.error(e)));var e},children:"Delete"})]})]})]})}}}]);
//# sourceMappingURL=2211.2c3ca1e5.chunk.js.map