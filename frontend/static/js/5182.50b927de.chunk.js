"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[2110,5182,9729],{3900(e,t,a){a.d(t,{A:()=>l});a(65043);var r=a(59662),n=a(70579);const l=(0,r.A)((0,n.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")},12110(e,t,a){a.d(t,{A:()=>f});var r=a(58168),n=a(98587),l=a(65043),s=a(58387),o=a(98610),i=a(34535),d=a(6431),c=a(63336),u=a(92532),v=a(72372);function h(e){return(0,v.Ay)("MuiCard",e)}(0,u.A)("MuiCard",["root"]);var A=a(70579);const m=["className","raised"],x=(0,i.Ay)(c.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),f=l.forwardRef(function(e,t){const a=(0,d.b)({props:e,name:"MuiCard"}),{className:l,raised:i=!1}=a,c=(0,n.A)(a,m),u=(0,r.A)({},a,{raised:i}),v=(e=>{const{classes:t}=e;return(0,o.A)({root:["root"]},h,t)})(u);return(0,A.jsx)(x,(0,r.A)({className:(0,s.A)(v.root,l),elevation:i?8:void 0,ref:t,ownerState:u},c))})},15710(e,t,a){a.d(t,{A:()=>c});var r=a(58168),n=a(98587),l=a(65043),s=a(29013),o=a(22016),i=a(70579);const d=["children"],c=l.forwardRef(function(e,t){const{children:a}=e,c=(0,n.A)(e,d),u=(0,o.QM)();if(null===u)throw new TypeError("No TabContext provided");const v=l.Children.map(a,e=>l.isValidElement(e)?l.cloneElement(e,{"aria-controls":(0,o.eR)(u,e.props.value),id:(0,o.vU)(u,e.props.value)}):null);return(0,i.jsx)(s.A,(0,r.A)({},c,{ref:t,value:u.value,children:v}))})},22016(e,t,a){a.d(t,{Ay:()=>s,QM:()=>o,eR:()=>i,vU:()=>d});var r=a(65043),n=a(70579);const l=r.createContext(null);function s(e){const{children:t,value:a}=e,s=function(){const[e,t]=r.useState(null);return r.useEffect(()=>{t("mui-p-".concat(Math.round(1e5*Math.random())))},[]),e}(),o=r.useMemo(()=>({idPrefix:s,value:a}),[s,a]);return(0,n.jsx)(l.Provider,{value:o,children:t})}function o(){return r.useContext(l)}function i(e,t){const{idPrefix:a}=e;return null===a?null:"".concat(e.idPrefix,"-P-").concat(t)}function d(e,t){const{idPrefix:a}=e;return null===a?null:"".concat(e.idPrefix,"-T-").concat(t)}},22427(e,t,a){a.d(t,{A:()=>r});const r=a(31668).A},26494(e,t,a){a.d(t,{A:()=>x});var r=a(58168),n=a(98587),l=a(65043),s=a(58387),o=a(98610),i=a(34535),d=a(6431),c=a(92532),u=a(72372);function v(e){return(0,u.Ay)("MuiCardContent",e)}(0,c.A)("MuiCardContent",["root"]);var h=a(70579);const A=["className","component"],m=(0,i.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),x=l.forwardRef(function(e,t){const a=(0,d.b)({props:e,name:"MuiCardContent"}),{className:l,component:i="div"}=a,c=(0,n.A)(a,A),u=(0,r.A)({},a,{component:i}),x=(e=>{const{classes:t}=e;return(0,o.A)({root:["root"]},v,t)})(u);return(0,h.jsx)(m,(0,r.A)({as:i,className:(0,s.A)(x.root,l),ownerState:u,ref:t},c))})},36078(e,t,a){a.d(t,{A:()=>r});const r=a(63940).A},51639(e,t,a){a.d(t,{A:()=>l});a(65043);var r=a(59662),n=a(70579);const l=(0,r.A)((0,n.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")},52900(e,t,a){a.d(t,{A:()=>l});var r=a(64775),n=a(45527);function l(e){let{props:t,name:a,defaultTheme:l,themeId:s}=e,o=(0,n.A)(l);s&&(o=o[s]||o);return(0,r.A)({theme:o,name:a,props:t})}},55013(e,t,a){a.d(t,{A:()=>r});const r=a(84440).A},64775(e,t,a){a.d(t,{A:()=>n});var r=a(13030);function n(e){const{theme:t,name:a,props:n}=e;return t&&t.components&&t.components[a]&&t.components[a].defaultProps?(0,r.A)(t.components[a].defaultProps,n):n}},68837(e,t,a){a.r(t),a.d(t,{default:()=>T});var r=a(89379),n=a(65043),l=a(97707),s=a(91036),o=a(12110),i=a(11906),d=a(26494),c=a(81e3),u=a(24056),v=a(83462),h=a(26600),A=a(35316),m=a(29347),x=a(22016),f=a(15710),p=a(86506),j=a(45777),N=a(65074),b=a(70579);const T=()=>{const e=JSON.parse(localStorage.getItem("user")),{contextObj:t}=(0,n.useContext)(j.i),a={Id:"",EntryDate:(0,l.ny)(),EntryTime:"10:00",LocationDetails:"MILL",Category:"OTHERS 1 - PRINT",StaffName:"",Tonnage:"",EntryBy:e.UserId},[T,g]=(0,n.useState)([]),[y,S]=(0,n.useState)([]),[C,E]=(0,n.useState)([]),[D,R]=(0,n.useState)(a),[w,M]=(0,n.useState)(!1),[L,I]=(0,n.useState)({reqDate:(0,l.ny)(),reqLocation:"MILL",dialog:!1,view:"DATA ENTRY"});(0,n.useEffect)(()=>{(0,N.z)({address:"dataEntry/staffActivities/staffs"}).then(e=>E(e.data)).catch(e=>console.error(e))},[w]),(0,n.useEffect)(()=>{"DATA ENTRY"===L.view&&(g([]),(0,N.z)({address:"dataEntry/staffActivities?reqDate=".concat(L.reqDate,"&reqLocation=").concat(L.reqLocation)}).then(e=>{e.success&&g(e.data)}).catch(e=>console.error(e))),"STAFF BASED"===L.view&&(S([]),(0,N.z)({address:"dataEntry/staffActivities/staffBased?reqDate=".concat(L.reqDate,"&reqLocation=").concat(L.reqLocation)}).then(e=>{e.success&&S(e.data)}).catch(e=>console.error(e)))},[w,L.reqDate,L.reqLocation,L.view]);const O=()=>{I(e=>(0,r.A)((0,r.A)({},e),{},{dialog:!1})),R(a)},q=e=>{var a,s,o,i;switch(e){case"DATA ENTRY":return(0,b.jsx)("div",{className:"table-responsive",children:(0,b.jsxs)("table",{className:"table",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"fa-14 border text-center py-2 tble-hed-stick",children:"TIME"}),T[0]&&(null===(a=T[0])||void 0===a||null===(s=a.Categories)||void 0===s?void 0:s.map((e,t)=>(0,b.jsx)("th",{className:"fa-14 border text-center py-2 tble-hed-stick",children:null===e||void 0===e?void 0:e.Category},t)))]})}),(0,b.jsx)("tbody",{children:null===T||void 0===T?void 0:T.map((e,a)=>{var s,o;return(0,b.jsxs)(n.Fragment,{children:[(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"fa-14 fw-bold border text-center text-primary",style:{verticalAlign:"middle"},children:(0,l.O6)(null===e||void 0===e?void 0:e.EntryTime)}),null===e||void 0===e||null===(s=e.Categories)||void 0===s?void 0:s.map((e,a)=>{var n;return(0,b.jsx)("td",{className:"fa-13 fw-bold text-muted border",children:null===e||void 0===e||null===(n=e.StaffDetails)||void 0===n?void 0:n.map((e,a)=>(0,b.jsxs)("p",{className:"d-flex justify-content-between mb-0 p-1 cellHover",onClick:(0,l.id)(null===t||void 0===t?void 0:t.Edit_Rights,1)?()=>{R(e),I(e=>(0,r.A)((0,r.A)({},e),{},{dialog:!0}))}:()=>{},children:[(0,b.jsx)("span",{children:null===e||void 0===e?void 0:e.StaffName}),(0,b.jsx)("span",{className:"text-primary ps-2",children:null===e||void 0===e?void 0:e.Tonnage})]},a))},a)})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"border fa-14 text-muted",style:{verticalAlign:"middle"},children:"Total"}),null===e||void 0===e||null===(o=e.Categories)||void 0===o?void 0:o.map((e,t)=>{var a;return(0,b.jsx)("td",{className:"border text-end text-primary fw-bold",children:(0,l.jG)(null===e||void 0===e||null===(a=e.StaffDetails)||void 0===a?void 0:a.reduce((e,t)=>null!==t&&void 0!==t&&t.Tonnage?(null===t||void 0===t?void 0:t.Tonnage)+e:0,0))},t)})]})]},a)})})]})});case"STAFF BASED":return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{className:"table-responsive",children:(0,b.jsxs)("table",{className:"table",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"fa-14 text-center border",children:"Sno"}),(0,b.jsx)("th",{className:"fa-14 text-center border",children:"Staff Name"}),null===(o=y[0])||void 0===o||null===(i=o.Categories)||void 0===i?void 0:i.map((e,t)=>(0,b.jsx)("th",{className:"fa-14 text-center border",children:null===e||void 0===e?void 0:e.Category},t)),(0,b.jsx)("th",{className:"fa-14 text-center border",children:"Total"})]})}),(0,b.jsx)("tbody",{children:null===y||void 0===y?void 0:y.map((e,t)=>{var a,r;return(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"fa-13 text-center border",children:t+1}),(0,b.jsx)("td",{className:"fa-13 text-center border",children:null===e||void 0===e?void 0:e.StaffName}),null===e||void 0===e||null===(a=e.Categories)||void 0===a?void 0:a.map((e,t)=>{var a,r;return(0,b.jsx)("td",{className:"fa-13 text-center border",children:null!==e&&void 0!==e&&null!==(a=e.StaffDetails)&&void 0!==a&&a.Tonnage?(0,l.jG)(null===e||void 0===e||null===(r=e.StaffDetails)||void 0===r?void 0:r.Tonnage):""},t)}),(0,b.jsx)("td",{className:"fa-14 text-center border blue-text",children:(0,l.jG)(null===e||void 0===e||null===(r=e.Categories)||void 0===r?void 0:r.reduce((e,t)=>{var a,r;let n=0;return n+="OTHERS 1 - PRINT"!==(null===t||void 0===t?void 0:t.Category)&&null!==(a=null===t||void 0===t||null===(r=t.StaffDetails)||void 0===r?void 0:r.Tonnage)&&void 0!==a?a:0,n+e},0))})]},t)})})]})})});default:return(0,b.jsx)(b.Fragment,{})}};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(o.A,{children:[(0,b.jsxs)("div",{className:"p-3 fa-16 fw-bold border-bottom d-flex justify-content-between",children:[(0,b.jsx)("span",{children:"Staff Activities"}),(0,l.id)(null===t||void 0===t?void 0:t.Add_Rights,1)&&(0,b.jsx)(i.A,{variant:"outlined",onClick:()=>I(e=>(0,r.A)((0,r.A)({},e),{},{dialog:!0})),children:"Add Activity"})]}),(0,b.jsxs)("div",{className:"d-flex p-2 px-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"mb-1 w-100",children:"DATE"}),(0,b.jsx)("input",{type:"date",className:"cus-inpt w-auto",value:L.reqDate,onChange:e=>I(t=>(0,r.A)((0,r.A)({},t),{},{reqDate:e.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"mb-1 w-100",children:"LOCATION"}),(0,b.jsxs)("select",{className:"cus-inpt w-auto",value:L.reqLocation,onChange:e=>I(t=>(0,r.A)((0,r.A)({},t),{},{reqLocation:e.target.value})),children:[(0,b.jsx)("option",{value:"MILL",children:"MILL"}),(0,b.jsx)("option",{value:"GODOWN",children:"GODOWN"})]})]})]}),(0,b.jsx)(d.A,{children:(0,b.jsxs)(x.Ay,{value:L.view,children:[(0,b.jsx)(c.A,{sx:{borderBottom:1,borderColor:"divider"},children:(0,b.jsxs)(f.A,{indicatorColor:"transparant",onChange:(e,t)=>I(e=>(0,r.A)((0,r.A)({},e),{},{view:t})),variant:"scrollable",scrollButtons:"auto",allowScrollButtonsMobile:!0,children:[(0,b.jsx)(u.A,{sx:"DATA ENTRY"===L.view?{backgroundColor:"#c6d7eb"}:{},label:"DATA ENTRY",value:"DATA ENTRY"}),(0,b.jsx)(u.A,{sx:"STAFF BASED"===L.view?{backgroundColor:"#c6d7eb"}:{},label:"STAFF BASED",value:"STAFF BASED"})]})}),["DATA ENTRY","STAFF BASED"].map(e=>(0,b.jsx)(p.A,{value:e,sx:{px:0,py:2},children:T.length||y.length?q(e):(0,b.jsx)(b.Fragment,{})},e))]})})]}),(0,b.jsxs)(v.A,{open:L.dialog,onClose:O,fullWidth:!0,maxWidth:"sm",children:[(0,b.jsx)(h.A,{children:null!==D&&void 0!==D&&D.Id?"Modify Activity":"Add Staff Activity"}),(0,b.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(0,N.z)({address:"dataEntry/staffActivities",method:D.Id?"PUT":"POST",headers:{"Content-Type":"application/json"},bodyData:D}).then(e=>{e.success?(s.oR.success(e.message),M(!w)):s.oR.error(e.message)}).catch(e=>console.error(e))},children:[(0,b.jsx)(A.A,{children:(0,b.jsx)("div",{className:"table-responsive",children:(0,b.jsx)("table",{className:"table",children:(0,b.jsxs)("tbody",{children:[(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"border-0",style:{verticalAlign:"middle"},children:"Location"}),(0,b.jsx)("td",{className:"border-0",children:(0,b.jsxs)("select",{value:null===D||void 0===D?void 0:D.LocationDetails,onChange:e=>R(t=>(0,r.A)((0,r.A)({},t),{},{LocationDetails:e.target.value})),className:"cus-inpt",required:!0,children:[(0,b.jsx)("option",{value:"MILL",children:"MILL"}),(0,b.jsx)("option",{value:"GODOWN",children:"GODOWN"})]})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"border-0",style:{verticalAlign:"middle"},children:"Date"}),(0,b.jsx)("td",{className:"border-0",children:(0,b.jsx)("input",{type:"date",value:null===D||void 0===D?void 0:D.EntryDate,className:"cus-inpt",onChange:e=>R(t=>(0,r.A)((0,r.A)({},t),{},{EntryDate:e.target.value})),required:!0})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"border-0",style:{verticalAlign:"middle"},children:"Time"}),(0,b.jsx)("td",{className:"border-0",children:(0,b.jsx)("input",{value:null===D||void 0===D?void 0:D.EntryTime,type:"time",required:!0,className:"cus-inpt",onChange:e=>R(t=>(0,r.A)((0,r.A)({},t),{},{EntryTime:e.target.value}))})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"border-0",style:{verticalAlign:"middle"},children:"Category"}),(0,b.jsx)("td",{className:"border-0",children:(0,b.jsxs)("select",{value:null===D||void 0===D?void 0:D.Category,onChange:e=>R(t=>(0,r.A)((0,r.A)({},t),{},{Category:e.target.value})),className:"cus-inpt",required:!0,children:[(0,b.jsx)("option",{value:"OTHERS 1 - PRINT",children:"OTHERS 1 - PRINT"}),(0,b.jsx)("option",{value:"OTHERS 2 - TAKEN",children:"OTHERS 2 - TAKEN"}),(0,b.jsx)("option",{value:"OTHERS 3 - CHECK/ADDRESS",children:"OTHERS 3 - CHECK/ADDRESS"}),(0,b.jsx)("option",{value:"OTHERS 4 - DISPATCH",children:"OTHERS 4 - DISPATCH"})]})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"border-0",style:{verticalAlign:"middle"},children:"Staff Name"}),(0,b.jsx)("td",{className:"border-0",children:(0,b.jsx)("input",{value:null===D||void 0===D?void 0:D.StaffName,type:"search",list:"staffList",required:!0,className:"cus-inpt",placeholder:"Type or Search Staff name",onChange:e=>R(t=>(0,r.A)((0,r.A)({},t),{},{StaffName:e.target.value}))})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"border-0",style:{verticalAlign:"middle"},children:"Tonnage Value"}),(0,b.jsx)("td",{className:"border-0",children:(0,b.jsx)("input",{value:null===D||void 0===D?void 0:D.Tonnage,className:"cus-inpt",onInput:l.BE,required:!0,onChange:e=>R(t=>(0,r.A)((0,r.A)({},t),{},{Tonnage:e.target.value}))})})]})]})})})}),(0,b.jsxs)(m.A,{children:[(0,b.jsx)(i.A,{onClick:O,type:"button",children:"Cancel"}),(0,b.jsx)(i.A,{type:"submit",children:"SUBMIT"})]})]})]}),(0,b.jsx)("datalist",{id:"staffList",children:C.map((e,t)=>(0,b.jsx)("option",{value:e.StaffName},t))})]})}},72876(e,t,a){a.d(t,{A:()=>s});var r=a(52900),n=a(15170),l=a(13375);function s(e){let{props:t,name:a}=e;return(0,r.A)({props:t,name:a,defaultTheme:n.A,themeId:l.A})}},80950(e,t,a){a.d(t,{A:()=>r});const r=a(83468).A},81e3(e,t,a){a.d(t,{A:()=>d});var r=a(84402),n=a(79386),l=a(37344),s=a(13375);const o=(0,a(92532).A)("MuiBox",["root"]),i=(0,l.A)(),d=(0,r.A)({themeId:s.A,defaultTheme:i,defaultClassName:o.root,generateClassName:n.A.generate})},83468(e,t,a){function r(e){let t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];clearTimeout(t),t=setTimeout(()=>{e.apply(this,n)},a)}return r.clear=()=>{clearTimeout(t)},r}a.d(t,{A:()=>r})},86506(e,t,a){a.d(t,{A:()=>x});var r=a(58168),n=a(98587),l=a(65043),s=a(58387),o=a(34535),i=a(72876),d=a(98610),c=a(72372);function u(e){return(0,c.Ay)("MuiTabPanel",e)}(0,a(92532).A)("MuiTabPanel",["root"]);var v=a(22016),h=a(70579);const A=["children","className","value"],m=(0,o.Ay)("div",{name:"MuiTabPanel",slot:"Root",overridesResolver:(e,t)=>t.root})(e=>{let{theme:t}=e;return{padding:t.spacing(3)}}),x=l.forwardRef(function(e,t){const a=(0,i.A)({props:e,name:"MuiTabPanel"}),{children:l,className:o,value:c}=a,x=(0,n.A)(a,A),f=(0,r.A)({},a),p=(e=>{const{classes:t}=e;return(0,d.A)({root:["root"]},u,t)})(f),j=(0,v.QM)();if(null===j)throw new TypeError("No TabContext provided");const N=(0,v.eR)(j,c),b=(0,v.vU)(j,c);return(0,h.jsx)(m,(0,r.A)({"aria-labelledby":b,className:(0,s.A)(p.root,o),hidden:c!==j.value,id:N,ref:t,role:"tabpanel",ownerState:f},x,{children:c===j.value&&l}))})}}]);
//# sourceMappingURL=5182.50b927de.chunk.js.map