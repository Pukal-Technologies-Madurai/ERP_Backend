"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[2110,2121,9729],{2121(e,t,s){s.r(t),s.d(t,{default:()=>p});var a=s(89379),l=s(65043),r=s(97707),i=s(91036),n=s(12110),d=s(11906),o=s(26494),c=s(17392),v=s(83462),u=s(26600),m=s(35316),h=s(29347),x=s(83560),A=s(45777),j=s(65074),N=s(70579);const p=()=>{const e=JSON.parse(localStorage.getItem("user")),[t,s]=(0,l.useState)([]),[p,y]=(0,l.useState)(!1),b={Id:"",EntryDate:(0,r.ny)(),EntryTime:(0,r.Ln)(),LocationDetails:"MILL",NotTaken:0,NotVerified:0,NotDelivery:0,OverAllSales:0,EntryBy:e.UserId},[g,f]=(0,l.useState)(b),{contextObj:C}=(0,l.useContext)(A.i),[D,L]=(0,l.useState)({reqDate:(0,r.ny)(),LocationDetails:"MILL",dialog:!1});(0,l.useEffect)(()=>{s([]),(0,j.z)({address:"dataEntry/deliveryActivities?reqDate=".concat(D.reqDate,"&reqLocation=").concat(D.LocationDetails)}).then(e=>s(null===e||void 0===e?void 0:e.data)).catch(e=>console.error(e))},[p,D.reqDate,D.LocationDetails]);const E=()=>{L(e=>(0,a.A)((0,a.A)({},e),{},{dialog:!1})),f(b)};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(n.A,{children:[(0,N.jsxs)("div",{className:"fa-16 fw-bold border-bottom d-flex justify-content-between align-items-center",children:[(0,N.jsx)("span",{className:"p-3",children:"Delivery Activities"}),(0,r.id)(null===C||void 0===C?void 0:C.Add_Rights,1)&&(0,N.jsx)(d.A,{variant:"outlined",onClick:()=>L(e=>(0,a.A)((0,a.A)({},e),{},{dialog:!0})),className:"me-2",children:"Add Activity"})]}),(0,N.jsxs)(o.A,{children:[(0,N.jsxs)("div",{className:"d-flex flex-wrap",children:[(0,N.jsxs)("div",{className:"p-2",children:[(0,N.jsx)("label",{children:"Date"}),(0,N.jsx)("br",{}),(0,N.jsx)("input",{value:D.reqDate,type:"date",className:"cus-inpt w-auto",onChange:e=>L(t=>(0,a.A)((0,a.A)({},t),{},{reqDate:e.target.value}))})]}),(0,N.jsxs)("div",{className:"p-2",children:[(0,N.jsx)("label",{children:"LOCATION"}),(0,N.jsx)("br",{}),(0,N.jsxs)("select",{className:"cus-inpt",value:D.LocationDetails,onChange:e=>L(t=>(0,a.A)((0,a.A)({},t),{},{LocationDetails:e.target.value})),children:[(0,N.jsx)("option",{value:"MILL",children:"MILL"}),(0,N.jsx)("option",{value:"GODOWN",children:"GODOWN"})]})]})]}),(0,N.jsx)("div",{className:"table-responsive",children:(0,N.jsxs)("table",{className:"table",children:[(0,N.jsx)("thead",{children:(0,N.jsxs)("tr",{children:[["sno","time","NOT TAKEN - 30 MINS","Not verified - Before 45 mins","Not Delivery - Before 105 mins","OVERALL SALES"].map((e,t)=>(0,N.jsx)("th",{className:"border text-center fa-13 text-uppercase",children:e},t)),(0,r.id)(null===C||void 0===C?void 0:C.Edit_Rights,1)&&(0,N.jsx)("th",{className:"border text-center fa-13",children:"ACTION"})]})}),(0,N.jsx)("tbody",{children:null===t||void 0===t?void 0:t.map(e=>{var t;return null===e||void 0===e||null===(t=e.DeliveryList)||void 0===t?void 0:t.map((e,t)=>(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{className:"fa-13 border text-center",children:t+1}),(0,N.jsx)("td",{className:"fa-16 border text-center fw-bold text-primary",children:(0,r.PE)(null===e||void 0===e?void 0:e.EntryTime)}),["NotTaken","NotVerified","NotDelivery","OverAllSales"].map((t,s)=>(0,N.jsx)("td",{className:"fa-13 border text-center",children:(0,r.Im)(e[t])},s)),(0,r.id)(null===C||void 0===C?void 0:C.Edit_Rights,1)&&(0,N.jsx)("td",{className:"fa-13 border text-center",children:(0,N.jsx)(c.A,{onClick:()=>{f(e),L(e=>(0,a.A)((0,a.A)({},e),{},{dialog:!0}))},size:"small",children:(0,N.jsx)(x.A,{className:"fa-18"})})})]},t))})})]})})]})]}),(0,N.jsxs)(v.A,{open:D.dialog,onClose:E,fullWidth:!0,maxWidth:"sm",children:[(0,N.jsx)(u.A,{className:" bg-light",children:null!==g&&void 0!==g&&g.Id?"Modify Activity":"Add Delivery Activity"}),(0,N.jsx)(m.A,{children:(0,N.jsx)("div",{className:"table-responsive",children:(0,N.jsx)("table",{className:"table",children:(0,N.jsxs)("tbody",{children:[(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{className:"border-0",style:{verticalAlign:"middle"},children:"Location"}),(0,N.jsx)("td",{className:"border-0",children:(0,N.jsxs)("select",{value:null===g||void 0===g?void 0:g.LocationDetails,onChange:e=>f(t=>(0,a.A)((0,a.A)({},t),{},{LocationDetails:e.target.value})),className:"cus-inpt",children:[(0,N.jsx)("option",{value:"MILL",children:"MILL"}),(0,N.jsx)("option",{value:"GODOWN",children:"GODOWN"})]})})]}),(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{className:"border-0",style:{verticalAlign:"middle"},children:"Date"}),(0,N.jsx)("td",{className:"border-0",children:(0,N.jsx)("input",{type:"date",value:null===g||void 0===g?void 0:g.EntryDate,className:"cus-inpt",onChange:e=>f(t=>(0,a.A)((0,a.A)({},t),{},{EntryDate:e.target.value}))})})]}),(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{className:"border-0",style:{verticalAlign:"middle"},children:"Time"}),(0,N.jsx)("td",{className:"border-0",children:(0,N.jsx)("input",{type:"time",value:null===g||void 0===g?void 0:g.EntryTime,className:"cus-inpt",onChange:e=>f(t=>(0,a.A)((0,a.A)({},t),{},{EntryTime:e.target.value}))})})]}),(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{className:"border-0",style:{verticalAlign:"middle"},children:"Not Taken"}),(0,N.jsx)("td",{className:"border-0",children:(0,N.jsx)("input",{value:(0,r.Im)(null===g||void 0===g?void 0:g.NotTaken),className:"cus-inpt",onInput:r.BE,onChange:e=>f(t=>(0,a.A)((0,a.A)({},t),{},{NotTaken:e.target.value}))})})]}),(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{className:"border-0",style:{verticalAlign:"middle"},children:"Not Verified"}),(0,N.jsx)("td",{className:"border-0",children:(0,N.jsx)("input",{value:(0,r.Im)(null===g||void 0===g?void 0:g.NotVerified),className:"cus-inpt",onInput:r.BE,onChange:e=>f(t=>(0,a.A)((0,a.A)({},t),{},{NotVerified:e.target.value}))})})]}),(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{className:"border-0",style:{verticalAlign:"middle"},children:"Not Delivery"}),(0,N.jsx)("td",{className:"border-0",children:(0,N.jsx)("input",{value:(0,r.Im)(null===g||void 0===g?void 0:g.NotDelivery),className:"cus-inpt",onInput:r.BE,onChange:e=>f(t=>(0,a.A)((0,a.A)({},t),{},{NotDelivery:e.target.value}))})})]}),(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{className:"border-0",style:{verticalAlign:"middle"},children:"Overall Sales"}),(0,N.jsx)("td",{className:"border-0",children:(0,N.jsx)("input",{value:(0,r.Im)(null===g||void 0===g?void 0:g.OverAllSales),className:"cus-inpt",onInput:r.BE,onChange:e=>f(t=>(0,a.A)((0,a.A)({},t),{},{OverAllSales:e.target.value}))})})]})]})})})}),(0,N.jsxs)(h.A,{children:[(0,N.jsx)(d.A,{children:"CANCEL"}),(0,N.jsx)(d.A,{variant:"outlined",onClick:()=>{(0,j.z)({address:"dataEntry/deliveryActivities",method:g.Id?"PUT":"POST",headers:{"Content-Type":"application/json"},bodyData:g}).then(e=>{e.success?(i.oR.success(e.message),E(),y(!p)):i.oR.error(e.message)}).catch(e=>console.error(e))},children:"save"})]})]})]})}},12110(e,t,s){s.d(t,{A:()=>j});var a=s(58168),l=s(98587),r=s(65043),i=s(58387),n=s(98610),d=s(34535),o=s(6431),c=s(63336),v=s(92532),u=s(72372);function m(e){return(0,u.Ay)("MuiCard",e)}(0,v.A)("MuiCard",["root"]);var h=s(70579);const x=["className","raised"],A=(0,d.Ay)(c.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),j=r.forwardRef(function(e,t){const s=(0,o.b)({props:e,name:"MuiCard"}),{className:r,raised:d=!1}=s,c=(0,l.A)(s,x),v=(0,a.A)({},s,{raised:d}),u=(e=>{const{classes:t}=e;return(0,n.A)({root:["root"]},m,t)})(v);return(0,h.jsx)(A,(0,a.A)({className:(0,i.A)(u.root,r),elevation:d?8:void 0,ref:t,ownerState:v},c))})},26494(e,t,s){s.d(t,{A:()=>A});var a=s(58168),l=s(98587),r=s(65043),i=s(58387),n=s(98610),d=s(34535),o=s(6431),c=s(92532),v=s(72372);function u(e){return(0,v.Ay)("MuiCardContent",e)}(0,c.A)("MuiCardContent",["root"]);var m=s(70579);const h=["className","component"],x=(0,d.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),A=r.forwardRef(function(e,t){const s=(0,o.b)({props:e,name:"MuiCardContent"}),{className:r,component:d="div"}=s,c=(0,l.A)(s,h),v=(0,a.A)({},s,{component:d}),A=(e=>{const{classes:t}=e;return(0,n.A)({root:["root"]},u,t)})(v);return(0,m.jsx)(x,(0,a.A)({as:d,className:(0,i.A)(A.root,r),ownerState:v,ref:t},c))})},83560(e,t,s){s.d(t,{A:()=>r});var a=s(59662),l=s(70579);const r=(0,a.A)((0,l.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")}}]);
//# sourceMappingURL=2121.5f0c3db3.chunk.js.map