"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[9284],{48471:(e,a,l)=>{l.d(a,{Ay:()=>L,JT:()=>B,Lj:()=>P,wF:()=>z});var t=l(89379),n=l(65043),o=l(77739),i=l(17392),r=l(41020),s=l(30922),d=l(32143),m=l(2050),u=l(48734),c=l(28076),_=l(39652),p=l(12110),v=l(63336),x=l(79650),N=l(71806),b=l(84882),y=l(58093),C=l(73460),g=l(31159),h=l(97707),A=l(47968),f=l(692),j=l(8737),D=l(58558),F=l(30599),T=l(433),S=l(37762),w=(l(20557),l(11238)),O=l(70579);const k=(e,a)=>e.map(e=>{const l={};return a.forEach((a,t)=>{if(a.isVisible||a.Defult_Display)if(a.isCustomCell&&a.Cell){const n=a.Cell({row:e}),o=a.ColumnHeader?String(a.ColumnHeader).replace(/\s+/g,"_").toLowerCase():"field_".concat(t+1);"string"!==typeof n&&"number"!==typeof n&&"bigint"!==typeof n||(l[o]=n)}else{let t=a.Field_Name;l[t]=e[t]||""}}),l}),P=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"string",l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"left",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"center",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return(0,t.A)({isVisible:i,Field_Name:e,Fied_Data:a,align:n,verticalAlign:o},l&&{ColumnHeader:l})},z=e=>{let{buttonsData:a=[],ToolTipText:l="Options"}=e;const[t,c]=(0,n.useState)(null),_=Boolean(t);return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(o.A,{title:l,children:(0,O.jsx)(i.A,{"aria-describedby":_,onClick:e=>{c(e.currentTarget)},className:"ms-2",size:"small",children:(0,O.jsx)(D.A,{})})}),(0,O.jsx)(r.Ay,{open:_,anchorEl:t,onClose:()=>{c(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:(0,O.jsx)(s.A,{children:a.map((e,a)=>(0,O.jsxs)(d.A,{onClick:()=>(null===e||void 0===e?void 0:e.onclick)&&(null===e||void 0===e?void 0:e.onclick()),disabled:null===e||void 0===e?void 0:e.disabled,children:[(0,O.jsx)(m.A,{children:null===e||void 0===e?void 0:e.icon}),(0,O.jsx)(u.A,{children:null===e||void 0===e?void 0:e.name})]},a))})})]})},B=(e,a)=>{switch(a){case"number":return e?(0,h.jG)(e):e;case"date":return e?(0,h.yc)(e):e;case"time":return e?(0,h.JG)(e):e;case"string":return e;default:return""}},E=e=>{let{dataArray:a=[],columns:l=[],onClickFun:o=null,isExpendable:r=!1,expandableComp:s=null,tableMaxHeight:d=550,initialPageCount:m=20,EnableSerialNumber:u=!1,CellSize:D="small",disablePagination:P=!1,title:E="",PDFPrintOption:L=!1,ExcelPrintOption:G=!1,maxHeightOption:I=!1,ButtonArea:Q=null,MenuButtons:V=[],bodyFontSizePx:H=13,headerFontSizePx:R=13}=e;const[W,M]=(0,n.useState)(0),[$,J]=(0,n.useState)(m),[U,q]=(0,n.useState)([]),[Y,K]=(0,n.useState)(!0),X=Y&&I?" max-content ":d,Z=[{type:"left",class:"text-start"},{type:"right",class:"text-end"},{type:"center",class:"text-center"}],ee=[{type:"top",class:" vtop "},{type:"bottom",class:" vbottom "},{type:"center",class:" vctr "}],ae=(e=>{if(!U.length)return e;return[...e].sort((e,a)=>{for(const l of U){const{columnId:t,direction:n}=l,o=e[t],i=a[t];if(o!==i)return"asc"===n?o>i?1:-1:o<i?1:-1}return 0})})(a),le=W*$,te=le+$,ne=ae.slice(le,te),oe=e=>{let{row:a,index:t}=e;const[d,m]=(0,n.useState)(!1),p="20px";return(0,O.jsxs)(n.Fragment,{children:[(0,O.jsxs)(c.A,{children:[!0===r&&s&&(0,O.jsx)(_.A,{className:"border-end text-center vtop",sx:{fontSize:"".concat(H,"px")},children:(0,O.jsx)(i.A,{size:"small",onClick:()=>m(e=>!e),children:d?(0,O.jsx)(j.A,{sx:{fontSize:p}}):(0,O.jsx)(f.A,{sx:{fontSize:p}})})}),!0===u&&(0,O.jsx)(_.A,{className:"border-end text-center vtop",sx:{fontSize:"".concat(H,"px")},children:$*W+t+1}),null===l||void 0===l?void 0:l.map((e,l)=>{var n,i;const r=(0,h.id)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,h.id)(null===e||void 0===e?void 0:e.isVisible,1),s=Boolean(null===e||void 0===e?void 0:e.isCustomCell)&&e.Cell,d=!s,m=(a,l,t)=>null!==e&&void 0!==e&&e.tdClass?" ".concat(null===e||void 0===e?void 0:e.tdClass({row:a,Field_Name:l,index:t})," "):"",u=e.align?null===(n=Z.find(a=>a.type===String(e.align).toLowerCase()))||void 0===n?void 0:n.class:"",c=e.verticalAlign?null===(i=ee.find(a=>a.type===String(e.verticalAlign).toLowerCase()))||void 0===i?void 0:i.class:" vctr ";if(r&&d){const n=Object.entries(a).find(a=>{let[l]=a;return l===e.Field_Name});return(0,O.jsx)(_.A,{className:"border-end ".concat(u," ").concat(c," ").concat(m(a,e.Field_Name,t)),sx:{fontSize:"".concat(H,"px")},onClick:()=>o?o(a):console.log("Function not supplied"),children:n?B(n[1],null===e||void 0===e?void 0:e.Fied_Data):"-"},l)}return r&&s?(0,O.jsx)(_.A,{className:"border-end ".concat(u," ").concat(c," ").concat(m(a,e.Field_Name,t)),sx:{fontSize:"".concat(H,"px")},children:e.Cell({row:a,Field_Name:e.Field_Name,index:t})},l):(0,O.jsx)(_.A,{sx:{fontSize:"".concat(H,"px")},className:"border-end ".concat(u," ").concat(c),children:"-"},l)})]}),!0===r&&s&&d&&(0,O.jsx)(c.A,{children:(0,O.jsx)(_.A,{colSpan:Number(null===l||void 0===l?void 0:l.length)+(!0===u?2:1),children:s({row:a,index:t})})})]})};return(0,O.jsxs)(p.A,{className:"rounded-3 bg-white overflow-hidden",component:v.A,children:[(0,O.jsxs)("div",{className:"d-flex align-items-center flex-wrap px-3 py-2 flex-row-reverse ",children:[(L||G||V.length>0||I)&&(0,O.jsx)(z,{ToolTipText:"Table Options",buttonsData:[...I?[{name:"Max Height",icon:Y?(0,O.jsx)(T.A,{fontSize:"small",color:"primary"}):(0,O.jsx)(F.A,{fontSize:"small"}),onclick:()=>K(e=>!e),disabled:(0,h.id)(null===a||void 0===a?void 0:a.length,0)}]:[],...L?[{name:"PDF Print",icon:(0,O.jsx)(A.A,{fontSize:"small",color:"primary"}),onclick:()=>((e,a)=>{try{const l=new S.default,n=k(e,a),o=a.filter(e=>e.isVisible||e.Defult_Display).map(e=>e.Field_Name||String(e.ColumnHeader).replace(/\s+/g,"_").toLowerCase()),i=n.map(e=>o.map(a=>e[a])).map((e,a)=>(0,t.A)((0,t.A)({},e),{},{Sno:a+1}));l.autoTable({head:[o],body:i}),l.save("table.pdf")}catch(l){console.error(l)}})(a,l),disabled:(0,h.id)(null===a||void 0===a?void 0:a.length,0)}]:[],...G?[{name:"Excel Print",icon:(0,O.jsx)(A.A,{fontSize:"small",color:"primary"}),onclick:()=>((e,a)=>{try{const l=k(e,a),t=w.Wp.json_to_sheet(l),n=w.Wp.book_new();w.Wp.book_append_sheet(n,t,"Data"),w._h(n,"table.xlsx")}catch(l){console.error(l)}})(a,l),disabled:(0,h.id)(null===a||void 0===a?void 0:a.length,0)}]:[],...V]}),Q&&Q,E&&(0,O.jsx)("h6",{className:"fw-bold text-muted flex-grow-1 m-0",children:E})]}),(0,O.jsx)(x.A,{sx:{maxHeight:X},children:(0,O.jsxs)(N.A,{stickyHeader:!0,size:D,children:[(0,O.jsx)(b.A,{children:(0,O.jsxs)(c.A,{children:[r&&s&&(0,O.jsx)(_.A,{className:"fw-bold border-end border-top text-center",sx:{fontSize:"".concat(R,"px"),backgroundColor:"#EDF0F7"},children:"#"}),u&&(0,O.jsx)(_.A,{className:"fw-bold border-end border-top text-center",sx:{fontSize:"".concat(R,"px"),backgroundColor:"#EDF0F7"},children:"SNo"}),l.map((e,a)=>{const l=(0,h.id)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,h.id)(null===e||void 0===e?void 0:e.isVisible,1),n=!1===Boolean(null===e||void 0===e?void 0:e.isCustomCell)||!e.Cell,o=U.find(a=>a.columnId===e.Field_Name),i=o?o.direction:"asc";var r,s,d,m;return l?n?(0,O.jsx)(_.A,{className:"fw-bold border-end border-top "+(e.align?null===(r=Z.find(a=>a.type===String(e.align).toLowerCase()))||void 0===r?void 0:r.class:""),sx:{fontSize:"".concat(R,"px"),backgroundColor:"#EDF0F7"},sortDirection:!!o&&i,children:(0,O.jsx)(y.A,{active:!!o,direction:i,onClick:()=>(e=>{const a=U.find(a=>a.columnId===e);if(a){const l="asc"===a.direction;q(U.map(a=>a.columnId===e?(0,t.A)((0,t.A)({},a),{},{direction:l?"desc":"asc"}):a))}else q([...U,{columnId:e,direction:"asc"}])})(e.Field_Name),children:e.ColumnHeader||(null===e||void 0===e||null===(s=e.Field_Name)||void 0===s?void 0:s.replace(/_/g," "))})},a):(0,O.jsx)(_.A,{className:"".concat(e.ColumnHeader||null!==e&&void 0!==e&&e.Field_Name?" fw-bold border-end border-top p-2 appFont ":" p-0 "," ")+(e.align?null===(d=Z.find(a=>a.type===String(e.align).toLowerCase()))||void 0===d?void 0:d.class:""),sx:{fontSize:"".concat(R,"px"),backgroundColor:"#EDF0F7"},children:e.ColumnHeader||(null===e||void 0===e||null===(m=e.Field_Name)||void 0===m?void 0:m.replace(/_/g," "))},a):null})]})}),(0,O.jsxs)(C.A,{children:[(P?ae:ne).map((e,a)=>(0,O.jsx)(oe,{row:e,index:a},a)),0===a.length&&(0,O.jsx)(c.A,{children:(0,O.jsx)(_.A,{colSpan:l.length+(!0===r&&s?1:0)+(!0===u?1:0),sx:{textAlign:"center"},children:"No Data"})})]})]})}),!P&&0!==ne.length&&(0,O.jsx)("div",{className:"p-2 pb-0",children:(0,O.jsx)(g.A,{component:"div",count:a.length,page:W,onPageChange:(e,a)=>{M(a)},rowsPerPage:$,onRowsPerPageChange:e=>{J(parseInt(e.target.value,10)),M(0)},rowsPerPageOptions:Array.from(new Set([m,5,20,50,100,200,500])).sort((e,a)=>e-a),labelRowsPerPage:"Rows per page",showFirstButton:!0,showLastButton:!0})})]})};E.defaultProps={dataArray:[],columns:[],onClickFun:null,isExpendable:!1,expandableComp:null,tableMaxHeight:550,initialPageCount:20,EnableSerialNumber:!1,CellSize:"small",disablePagination:!1,title:void 0,PDFPrintOption:!1,ExcelPrintOption:!1,maxHeightOption:!1,ButtonArea:null,MenuButtons:[],headerFontSizePx:13,bodyFontSizePx:13};const L=E},59284:(e,a,l)=>{l.r(a),l.d(a,{default:()=>G});var t=l(89379),n=l(22016),o=l(15710),i=l(86506),r=l(17392),s=l(81e3),d=l(24056),m=l(65043),u=l(97707),c=l(79484),_=l(65074),p=l(48471),v=l(12412),x=l(51962),N=l(67784),b=l(77739),y=l(83462),C=l(35316),g=l(29347),h=l(11906),A=l(26600),f=l(12110),j=l(63336),D=l(4598),F=l(12249),T=l(5793),S=l(32069),w=l(8846),O=l(59383),k=l(91036),P=l(70579);const z=(0,P.jsx)(F.A,{fontSize:"small"}),B=(0,P.jsx)(T.A,{fontSize:"small"}),E=e=>{let{loadingOn:a,loadingOff:l,Fromdate:n,Todate:o,api:i="itemWise",defaultGrouping:s="",storageStockColumns:d=[],groupingOption:c=!0,reportName:F="",url:T=""}=e;const[E,L]=(0,m.useState)([]),[G,I]=(0,m.useState)({}),[Q,V]=(0,m.useState)(s),[H,R]=(0,m.useState)([]),[W,M]=(0,m.useState)(!1),[$,J]=(0,m.useState)(!1),[U,q]=(0,m.useState)([]),[Y,K]=(0,m.useState)([]),X=d.map((e,a)=>{const l=Y.find(a=>(0,u.xL)(a.columnName,null===e||void 0===e?void 0:e.Column_Name))||{};return{isVisible:1,Field_Name:null===e||void 0===e?void 0:e.Column_Name,Fied_Data:null===e||void 0===e?void 0:e.Data_Type,OrderBy:(null===l||void 0===l?void 0:l.orderNum)||a+1,isEnabled:!0}}),[Z,ee]=(0,m.useState)(X),ae=JSON.parse(localStorage.getItem("user")),le=null===ae||void 0===ae?void 0:ae.Company_id;(0,m.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("user")),a=null===e||void 0===e?void 0:e.Company_id;(0,_.z)({address:"reports/reportState/columnVisiblity?reportName=".concat(F,"&reportUrl=").concat(T)}).then(e=>{e.success?K((0,u.$r)(e.data)):K([])}).catch(e=>console.error(e)),(0,_.z)({address:"masters/displayLosColumn?company_id=".concat(a)}).then(e=>{if(e.success){const a=(0,u.$r)(e.data);q(a)}}).catch(e=>console.error(e))},[F,T]),(0,m.useEffect)(()=>{a(),Promise.all([(0,_.z)({address:"reports/storageStock/".concat(i,"?Fromdate=").concat(n,"&Todate=").concat(o)}),(0,_.z)({address:"reports/reportState/columnVisiblity?reportName=".concat(F,"&reportUrl=").concat(T)}),(0,_.z)({address:"masters/displayLosColumn?company_id=".concat(le)})]).then(e=>{let[a,l,t]=e;a.success&&L((0,u.$r)(a.data));const n=l.success?(0,u.$r)(l.data):[];K(n);const o=t.success?(0,u.$r)(t.data):[];q(o);const i=d.map((e,a)=>{const l=n.find(a=>(0,u.xL)(a.columnName,null===e||void 0===e?void 0:e.Column_Name)),t=o.find(a=>(0,u.xL)(a.Column_Name,null===e||void 0===e?void 0:e.Column_Name));return{Field_Name:null===e||void 0===e?void 0:e.Column_Name,Fied_Data:null===e||void 0===e?void 0:e.Data_Type,OrderBy:(null===l||void 0===l?void 0:l.orderNum)||a+1,isEnabled:!0,isVisible:l?1:0,Alias_Name:(null===t||void 0===t?void 0:t.Alias_Name)||(null===e||void 0===e?void 0:e.Alias_Name)}});ee(i)}).catch(e=>console.error("Fetch error:",e)).finally(()=>l())},[n,o,le,i,F,T,a,l]);const te=(0,m.useMemo)(()=>[...Z].sort((e,a)=>(null===e||void 0===e?void 0:e.OrderBy)-(null===a||void 0===a?void 0:a.OrderBy)),[Z]),ne=(0,m.useMemo)(()=>te.filter(e=>(0,u.id)(e.isVisible,1)&&e.isEnabled),[te]),oe=(0,m.useMemo)(()=>{const e=Object.keys(G).length>0,a=!!Q,l=e?H:E,n=a?(0,u.Sq)(l,Q):[],o=ne.filter(e=>"number"===(0,u.iw)(e.Fied_Data)).map(e=>e.Field_Name),i=n.map(e=>(0,t.A)((0,t.A)({},e),Object.fromEntries(o.map(a=>{var l;return[a,null===e||void 0===e||null===(l=e.groupedData)||void 0===l?void 0:l.reduce((e,l)=>(0,u.Lr)(e,(0,u.Ro)(l[a])||0),0)]}))));return a?i:l},[G,E,H,Q,ne]),ie=e=>{if(!e)return"";const a=U.find(a=>{var l,t;return(null===(l=a.Column_Name)||void 0===l?void 0:l.toLowerCase())===(null===e||void 0===e?void 0:e.toLowerCase())||(null===(t=a.ColumnName)||void 0===t?void 0:t.toLowerCase())===(null===e||void 0===e?void 0:e.toLowerCase())});if(null!==a&&void 0!==a&&a.Alias_Name)return a.Alias_Name;const l=d.find(a=>{var l;return(null===(l=a.Column_Name)||void 0===l?void 0:l.toLowerCase())===(null===e||void 0===e?void 0:e.toLowerCase())});return null!==l&&void 0!==l&&l.Alias_Name?l.Alias_Name:null===e||void 0===e?void 0:e.replace(/_/g," ")};(0,m.useEffect)(()=>{se()},[G]);const re=(e,a)=>{I(l=>(0,t.A)((0,t.A)({},l),{},{[e]:a}))},se=()=>{let e=[...E];for(const l of te)if(G[l.Field_Name])if("range"===G[l.Field_Name].type){const{min:a,max:t}=G[l.Field_Name];e=e.filter(e=>{const n=e[l.Field_Name];return(void 0===a||n>=a)&&(void 0===t||n<=t)})}else if("date"===G[l.Field_Name].type){const{start:a,end:t}=G[l.Field_Name].value;e=e.filter(e=>{const n=new Date(e[l.Field_Name]);return(void 0===a||n>=new Date(a))&&(void 0===t||n<=new Date(t))})}else if(Array.isArray(G[l.Field_Name])){var a;e=(null===(a=G[l.Field_Name])||void 0===a?void 0:a.length)>0?e.filter(e=>{var a;return G[l.Field_Name].includes(null===(a=e[l.Field_Name])||void 0===a?void 0:a.toLowerCase().trim())}):e}R(e)},de=e=>{const{Field_Name:a,Fied_Data:l}=e;var n,o,i,r,s,d,m,u,c,_;if("number"===l)return(0,P.jsxs)("div",{className:"d-flex justify-content-between px-2",children:[(0,P.jsx)("input",{placeholder:"Min",type:"number",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(n=null===(o=G[a])||void 0===o?void 0:o.min)&&void 0!==n?n:"",onChange:e=>re(a,(0,t.A)((0,t.A)({type:"range"},G[a]),{},{min:e.target.value?parseFloat(e.target.value):void 0}))}),(0,P.jsx)("input",{placeholder:"Max",type:"number",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(i=null===(r=G[a])||void 0===r?void 0:r.max)&&void 0!==i?i:"",onChange:e=>re(a,(0,t.A)((0,t.A)({type:"range"},G[a]),{},{max:e.target.value?parseFloat(e.target.value):void 0}))})]});if("date"===l)return(0,P.jsxs)("div",{className:"d-flex justify-content-between px-2",children:[(0,P.jsx)("input",{placeholder:"Start Date",type:"date",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(s=null===(d=G[a])||void 0===d||null===(m=d.value)||void 0===m?void 0:m.start)&&void 0!==s?s:"",onChange:e=>{var l;return re(a,{type:"date",value:(0,t.A)((0,t.A)({},null===(l=G[a])||void 0===l?void 0:l.value),{},{start:e.target.value||void 0})})}}),(0,P.jsx)("input",{placeholder:"End Date",type:"date",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(u=null===(c=G[a])||void 0===c||null===(_=c.value)||void 0===_?void 0:_.end)&&void 0!==u?u:"",onChange:e=>{var l;return re(a,{type:"date",value:(0,t.A)((0,t.A)({},null===(l=G[a])||void 0===l?void 0:l.value),{},{end:e.target.value||void 0})})}})]});if("string"===l){const e=[...new Set(E.map(e=>{var l,t;return null===(l=e[a])||void 0===l||null===(t=l.toLowerCase())||void 0===t?void 0:t.trim()}))];return(0,P.jsx)(v.A,{multiple:!0,id:"".concat(a,"-filter"),options:e,disableCloseOnSelect:!0,getOptionLabel:e=>e,value:G[a]||[],onChange:(e,l)=>re(a,l),renderOption:(e,a,l)=>{let{selected:n}=l;return(0,P.jsxs)("li",(0,t.A)((0,t.A)({},e),{},{children:[(0,P.jsx)(x.A,{icon:z,checkedIcon:B,style:{marginRight:8},checked:n}),a]}))},isOptionEqualToValue:(e,a)=>e===a,renderInput:e=>(0,P.jsx)(N.A,(0,t.A)((0,t.A)({},e),{},{label:ie(a),placeholder:"Select ".concat(ie(a))}))})}},me=()=>{M(!1),J(!1)};return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(p.Ay,{title:"Item Wise",EnableSerialNumber:!0,headerFontSizePx:12,bodyFontSizePx:12,maxHeightOption:!0,ButtonArea:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(b.A,{title:"Column Visibility",children:(0,P.jsx)(r.A,{size:"small",onClick:()=>M(!0),children:(0,P.jsx)(S.A,{})})}),(0,P.jsx)(b.A,{title:"Clear Filters",children:(0,P.jsx)(r.A,{size:"small",onClick:()=>I({}),children:(0,P.jsx)(w.A,{})})}),(0,P.jsx)(b.A,{title:"Filters",children:(0,P.jsx)(r.A,{onClick:()=>J(!0),size:"small",children:(0,P.jsx)(O.A,{})})}),c&&(0,P.jsxs)("div",{className:"d-flex align-items-center flex-wrap",children:[(0,P.jsx)("span",{children:"Group-By: "}),(0,P.jsxs)("select",{className:"cus-inpt p-2 w-auto m-1",value:Q,onChange:e=>V(e.target.value),children:[(0,P.jsx)("option",{value:"",children:"select group"}),ne.filter(e=>"string"===(0,u.iw)(e.Fied_Data)&&"Ledger_Name"!==(null===e||void 0===e?void 0:e.Field_Name)&&e.isEnabled).map((e,a)=>(0,P.jsx)("option",{value:null===e||void 0===e?void 0:e.Field_Name,children:ie(null===e||void 0===e?void 0:e.Field_Name)},a))]})]})]}),ExcelPrintOption:!0,dataArray:oe,columns:Q?ne.filter(e=>oe.length>0&&Object.keys(oe[0]).includes(e.Field_Name)&&e.isEnabled).map(e=>(0,t.A)((0,t.A)({},e),{},{ColumnHeader:ie(e.Field_Name)})):ne.filter(e=>e.isEnabled).map(e=>(0,t.A)((0,t.A)({},e),{},{ColumnHeader:ie(e.Field_Name)})),isExpendable:!!Q,expandableComp:e=>{let{row:a}=e;return(0,P.jsx)(p.Ay,{EnableSerialNumber:!0,headerFontSizePx:12,bodyFontSizePx:12,dataArray:(0,u.$r)(null===a||void 0===a?void 0:a.groupedData),columns:ne.filter(e=>!(0,u.xL)(e.Field_Name,Q)&&e.isEnabled).map(e=>(0,t.A)((0,t.A)({},e),{},{ColumnHeader:ie(e.Field_Name)}))})}}),(0,P.jsxs)(y.A,{open:$,onClose:me,maxWidth:"sm",fullWidth:!0,children:[(0,P.jsxs)(C.A,{children:[(0,P.jsxs)("h5",{className:"d-flex justify-content-between px-2",children:[(0,P.jsx)("span",{children:"Filters"}),(0,P.jsxs)("span",{children:[(0,P.jsx)(b.A,{title:"Column Visibility",children:(0,P.jsx)(r.A,{size:"small",onClick:()=>M(!0),children:(0,P.jsx)(S.A,{})})}),(0,P.jsx)(b.A,{title:"Clear Filters",children:(0,P.jsx)(r.A,{size:"small",onClick:()=>I({}),children:(0,P.jsx)(w.A,{})})})]})]}),(0,P.jsxs)("div",{className:"border rounded-3",children:[ne.filter(e=>e.isEnabled).map((e,a)=>(0,P.jsxs)("div",{className:"py-3 px-3 hov-bg border-bottom",children:[(0,P.jsx)("label",{className:"mt-2 mb-1",children:ie(null===e||void 0===e?void 0:e.Field_Name)}),de(e)]},a)),(0,P.jsx)("br",{})]})]}),(0,P.jsx)(g.A,{children:(0,P.jsx)(h.A,{onClick:me,color:"error",children:"Close"})})]}),(0,P.jsxs)(y.A,{open:W,onClose:()=>M(!1),maxWidth:"lg",fullWidth:!0,children:[(0,P.jsx)(A.A,{children:"Column Settings"}),(0,P.jsx)(C.A,{children:(0,P.jsx)("div",{className:"row",children:Z.map((e,a)=>(0,P.jsx)("div",{className:"col-lg-4 col-md-6 p-2",children:(0,P.jsxs)(f.A,{component:j.A,className:"p-2 d-flex justify-content-between align-items-center flex-wrap ".concat(a%2!==0?"bg-light":""," ").concat(e.isEnabled?"":"opacity-50"),children:[(0,P.jsxs)("div",{className:"d-flex justify-content-between align-items-center flex-wrap",children:[(0,P.jsx)(D.A,{checked:Boolean(null===e||void 0===e?void 0:e.isVisible)&&e.isEnabled,onChange:a=>e.isEnabled&&ee(l=>l.map(l=>l.Field_Name===(null===e||void 0===e?void 0:e.Field_Name)?(0,t.A)((0,t.A)({},l),{},{isVisible:a.target.checked?1:0}):l))}),(0,P.jsxs)("h6",{className:"fa-13 mb-0 fw-bold",children:[ie(e.Field_Name),!e.isEnabled&&(0,P.jsx)("span",{className:"text-muted small"})]})]}),(0,P.jsx)("input",{type:"number",value:(0,u.IQ)(null===e||void 0===e?void 0:e.OrderBy)?null===e||void 0===e?void 0:e.OrderBy:"",onChange:a=>e.isEnabled&&ee(l=>l.map(l=>l.Field_Name===(null===e||void 0===e?void 0:e.Field_Name)?(0,t.A)((0,t.A)({},l),{},{OrderBy:a.target.value}):l)),disabled:!e.isEnabled,className:"mt-2 p-1 border-0 cus-inpt",style:{width:"80px"},placeholder:"Order"})]})},a))})}),(0,P.jsxs)(g.A,{className:"d-flex justify-content-between align-items-center flex-wrap",children:[(0,P.jsx)(h.A,{onClick:()=>{const e=Z.filter(e=>(0,u.id)(e.isVisible,1));(0,_.z)({address:"reports/reportState/columnVisiblity",method:"POST",bodyData:{visibleColumns:e.map(e=>({ColumnName:e.Field_Name,ColumnOrder:e.OrderBy})),reportName:F,reportUrl:T}}).then(a=>{a.success?(k.oR.success(a.message),K(e.map(e=>({columnName:e.Field_Name,orderNum:e.OrderBy})))):k.oR.error(a.message)}).catch(e=>console.error(e))},variant:"outlined",children:"Save State"}),(0,P.jsxs)("span",{children:[(0,P.jsx)(h.A,{onClick:()=>{const e=X.map(e=>{const a=Y.find(a=>(0,u.xL)(a.columnName,e.Field_Name));return(0,t.A)((0,t.A)({},e),{},{isVisible:a?1:0,OrderBy:(null===a||void 0===a?void 0:a.orderNum)||e.OrderBy})});ee(e)},variant:"outlined",children:"Reset"}),(0,P.jsx)(h.A,{onClick:()=>M(!1),color:"error",children:"Close"})]})]})]})]})};var L=l(68052);const G=e=>{let{loadingOn:a,loadingOff:l}=e;const[_,p]=(0,m.useState)(1),[v,x]=(0,m.useState)({Fromdate:(0,u.ny)(),Todate:(0,u.ny)(),FilterFromDate:(0,u.ny)(),FilterTodate:(0,u.ny)()}),N=[{name:"Item Wise",component:(0,P.jsx)(E,{loadingOn:a,loadingOff:l,Fromdate:v.Fromdate,Todate:v.Todate,api:"itemWise",defaultGrouping:"",storageStockColumns:L.fN,reportName:"stockInHand_itemWise",url:"/erp/reports/stockInHand"})},{name:"Godown Wise",component:(0,P.jsx)(E,{loadingOn:a,loadingOff:l,Fromdate:v.Fromdate,Todate:v.Todate,api:"godownWise",defaultGrouping:"Godown_Name",storageStockColumns:L.uM,groupingOption:!1,reportName:"stockInHand_GodownWise",url:"/erp/reports/stockInHand"})}];return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{className:"d-flex align-items-center flex-wrap mb-3",children:[(0,P.jsx)("label",{htmlFor:"from",className:"me-1 fw-bold ",children:"Fromdate: "}),(0,P.jsx)("input",{type:"date",id:"from",className:"cus-inpt p-2 w-auto me-2",value:v.FilterFromDate,onChange:e=>x(a=>(0,t.A)((0,t.A)({},a),{},{FilterFromDate:e.target.value}))}),(0,P.jsx)("label",{htmlFor:"to",className:"me-1 fw-bold ",children:"Todate: "}),(0,P.jsx)("input",{type:"date",id:"to",className:"cus-inpt p-2 w-auto",value:v.FilterTodate,onChange:e=>x(a=>(0,t.A)((0,t.A)({},a),{},{FilterTodate:e.target.value}))}),(0,P.jsx)(r.A,{size:"small",onClick:()=>x(e=>(0,t.A)((0,t.A)({},e),{},{Fromdate:e.FilterFromDate?e.FilterFromDate:e.Fromdate,Todate:e.FilterTodate?e.FilterTodate:e.Todate})),children:(0,P.jsx)(c.A,{})})]}),(0,P.jsxs)(n.Ay,{value:_,children:[(0,P.jsx)(s.A,{sx:{borderBottom:1,borderColor:"divider"},children:(0,P.jsx)(o.A,{indicatorColor:"transparant",onChange:(e,a)=>p(a),variant:"scrollable",scrollButtons:"auto",children:N.map((e,a)=>(0,P.jsx)(d.A,{sx:_===a+1?{backgroundColor:"#c6d7eb"}:{},label:e.name,value:a+1},a))})}),N.map((e,a)=>(0,P.jsx)(i.A,{value:a+1,sx:{p:0,pt:2},children:e.component},a))]})]})}},68052:(e,a,l)=>{l.d(a,{fN:()=>t,gY:()=>o,uM:()=>n});const t=[{Column_Name:"Trans_Date",Data_Type:"date"},{Column_Name:"Group_Name",Data_Type:"string"},{Column_Name:"stock_item_name",Data_Type:"string"},{Column_Name:"OB_Bal_Qty",Data_Type:"number"},{Column_Name:"OB_Act_Qty",Data_Type:"number"},{Column_Name:"Pur_Qty",Data_Type:"number"},{Column_Name:"Sal_Qty",Data_Type:"number"},{Column_Name:"Bal_Qty",Data_Type:"number"},{Column_Name:"Bal_Act_Qty",Data_Type:"number"},{Column_Name:"Pur_Act_Qty",Data_Type:"number"},{Column_Name:"Sal_Act_Qty",Data_Type:"number"},{Column_Name:"Stock_Item",Data_Type:"string"},{Column_Name:"Group_ST",Data_Type:"string"},{Column_Name:"Bag",Data_Type:"string"},{Column_Name:"Stock_Group",Data_Type:"string"},{Column_Name:"Product_Rate",Data_Type:"number"},{Column_Name:"S_Sub_Group_1",Data_Type:"string"},{Column_Name:"Grade_Item_Group",Data_Type:"string"},{Column_Name:"Item_Name_Modified",Data_Type:"string"}],n=[{Column_Name:"Godown_Name",Data_Type:"string"},{Column_Name:"stock_item_name",Data_Type:"string"},{Column_Name:"Bal_Qty",Data_Type:"number"},{Column_Name:"CL_Value",Data_Type:"number"},{Column_Name:"OB_Bal_Qty",Data_Type:"number"},{Column_Name:"OB_Act_Qty",Data_Type:"number"},{Column_Name:"Pur_Qty",Data_Type:"number"},{Column_Name:"Sal_Qty",Data_Type:"number"},{Column_Name:"Act_Bal_Qty",Data_Type:"number"},{Column_Name:"Pur_Act_Qty",Data_Type:"number"},{Column_Name:"Sal_Act_Qty",Data_Type:"number"},{Column_Name:"Stock_Item",Data_Type:"string"},{Column_Name:"Group_ST",Data_Type:"string"},{Column_Name:"Bag",Data_Type:"string"},{Column_Name:"Stock_Group",Data_Type:"string"},{Column_Name:"Product_Rate",Data_Type:"number"},{Column_Name:"S_Sub_Group_1",Data_Type:"string"},{Column_Name:"Grade_Item_Group",Data_Type:"string"},{Column_Name:"Item_Name_Modified",Data_Type:"string"},{Column_Name:"CL_Rate",Data_Type:"number"}],o=[{Column_Name:"Group_Name",Data_Type:"string"},{Column_Name:"Brand",Data_Type:"string"},{Column_Name:"Group_ST",Data_Type:"string"},{Column_Name:"Stock_Group",Data_Type:"string"},{Column_Name:"S_Sub_Group_1",Data_Type:"string"},{Column_Name:"Grade_Item_Group",Data_Type:"string"},{Column_Name:"Trans_Date",Data_Type:"date"},{Column_Name:"OB_Bal_Qty",Data_Type:"number"},{Column_Name:"OB_Rate",Data_Type:"number"},{Column_Name:"OB_Value",Data_Type:"number"},{Column_Name:"Pur_Qty",Data_Type:"number"},{Column_Name:"Pur_Rate",Data_Type:"number"},{Column_Name:"Pur_value",Data_Type:"number"},{Column_Name:"Adj_Pur_Qty",Data_Type:"number"},{Column_Name:"Adj_Pur_Rate",Data_Type:"number"},{Column_Name:"Adj_Pur_value",Data_Type:"number"},{Column_Name:"IN_Qty",Data_Type:"number"},{Column_Name:"IN_Rate",Data_Type:"number"},{Column_Name:"IN_Value",Data_Type:"number"},{Column_Name:"Sal_Qty",Data_Type:"number"},{Column_Name:"Sal_Rate",Data_Type:"number"},{Column_Name:"Sal_value",Data_Type:"number"},{Column_Name:"Adj_Sal_Qty",Data_Type:"number"},{Column_Name:"Adj_Sal_Rate",Data_Type:"number"},{Column_Name:"Adj_Sal_value",Data_Type:"number"},{Column_Name:"OUT_Qty",Data_Type:"number"},{Column_Name:"Out_Rate",Data_Type:"number"},{Column_Name:"Out_Value",Data_Type:"number"},{Column_Name:"Expense_value",Data_Type:"number"},{Column_Name:"Act_Expense",Data_Type:"number"},{Column_Name:"Bal_Qty",Data_Type:"number"},{Column_Name:"CL_Rate",Data_Type:"number"},{Column_Name:"CL_Value",Data_Type:"number"},{Column_Name:"CR_CL_Rate",Data_Type:"number"},{Column_Name:"Pre_Qty",Data_Type:"number"},{Column_Name:"Pre_Rate",Data_Type:"number"},{Column_Name:"Pre_CL_Value",Data_Type:"number"}]}}]);
//# sourceMappingURL=9284.481714ce.chunk.js.map