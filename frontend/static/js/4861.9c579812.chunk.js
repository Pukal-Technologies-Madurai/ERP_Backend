"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[4861],{2050:(e,t,n)=>{n.d(t,{A:()=>x});var a=n(98587),r=n(58168),o=n(65043),l=n(58387),s=n(68606),i=n(34535),d=n(6431),c=n(71424),u=n(51347),m=n(70579);const p=["className"],v=(0,i.Ay)("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})(e=>{let{theme:t,ownerState:n}=e;return(0,r.A)({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===n.alignItems&&{marginTop:8})}),x=o.forwardRef(function(e,t){const n=(0,d.b)({props:e,name:"MuiListItemIcon"}),{className:i}=n,x=(0,a.A)(n,p),h=o.useContext(u.A),A=(0,r.A)({},n,{alignItems:h.alignItems}),b=(e=>{const{alignItems:t,classes:n}=e,a={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,s.A)(a,c.f,n)})(A);return(0,m.jsx)(v,(0,r.A)({className:(0,l.A)(b.root,i),ownerState:A,ref:t},x))})},47968:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(59662),r=n(70579);const o=(0,a.A)((0,r.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download")},48471:(e,t,n)=>{n.d(t,{Ay:()=>E,JT:()=>L,Lj:()=>T,wF:()=>D});var a=n(89379),r=n(65043),o=n(77739),l=n(17392),s=n(41020),i=n(30922),d=n(32143),c=n(2050),u=n(48734),m=n(28076),p=n(39652),v=n(12110),x=n(63336),h=n(79650),A=n(71806),b=n(84882),g=n(58093),y=n(73460),f=n(31159),C=n(22520),_=n(47968),j=n(692),S=n(8737),I=n(58558),N=n(30599),w=n(433),P=n(37762),F=(n(20557),n(11238)),z=n(70579);const M=(e,t)=>e.map(e=>{const n={};return t.forEach((t,a)=>{if(t.isVisible||t.Defult_Display)if(t.isCustomCell&&t.Cell){const r=t.Cell({row:e}),o=t.ColumnHeader?String(t.ColumnHeader).replace(/\s+/g,"_").toLowerCase():"field_".concat(a+1);"string"!==typeof r&&"number"!==typeof r&&"bigint"!==typeof r||(n[o]=r)}else{let a=t.Field_Name;n[a]=e[a]||""}}),n}),T=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"string",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"left",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"center",l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return(0,a.A)({isVisible:l,Field_Name:e,Fied_Data:t,align:r,verticalAlign:o},n&&{ColumnHeader:n})},D=e=>{let{buttonsData:t=[],ToolTipText:n="Options"}=e;const[a,m]=(0,r.useState)(null),p=Boolean(a);return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(o.A,{title:n,children:(0,z.jsx)(l.A,{"aria-describedby":p,onClick:e=>{m(e.currentTarget)},className:"ms-2",size:"small",children:(0,z.jsx)(I.A,{})})}),(0,z.jsx)(s.Ay,{open:p,anchorEl:a,onClose:()=>{m(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:(0,z.jsx)(i.A,{children:t.map((e,t)=>(0,z.jsxs)(d.A,{onClick:()=>(null===e||void 0===e?void 0:e.onclick)&&(null===e||void 0===e?void 0:e.onclick()),disabled:null===e||void 0===e?void 0:e.disabled,children:[(0,z.jsx)(c.A,{children:null===e||void 0===e?void 0:e.icon}),(0,z.jsx)(u.A,{children:null===e||void 0===e?void 0:e.name})]},t))})})]})},L=(e,t)=>{switch(t){case"number":return e?(0,C.jG)(e):e;case"date":return e?(0,C.yc)(e):e;case"time":return e?(0,C.JG)(e):e;case"string":return e;default:return""}},k=e=>{let{dataArray:t=[],columns:n=[],onClickFun:o=null,isExpendable:s=!1,expandableComp:i=null,tableMaxHeight:d=550,initialPageCount:c=20,EnableSerialNumber:u=!1,CellSize:I="small",disablePagination:T=!1,title:k="",PDFPrintOption:E=!1,ExcelPrintOption:R=!1,maxHeightOption:B=!1,ButtonArea:U=null,MenuButtons:O=[],bodyFontSizePx:H=13,headerFontSizePx:q=13}=e;const[G,V]=(0,r.useState)(0),[W,$]=(0,r.useState)(c),[J,K]=(0,r.useState)([]),[Q,X]=(0,r.useState)(!0),Y=Q&&B?" max-content ":d,Z=[{type:"left",class:"text-start"},{type:"right",class:"text-end"},{type:"center",class:"text-center"}],ee=[{type:"top",class:" vtop "},{type:"bottom",class:" vbottom "},{type:"center",class:" vctr "}],te=(e=>{if(!J.length)return e;return[...e].sort((e,t)=>{for(const n of J){const{columnId:a,direction:r}=n,o=e[a],l=t[a];if(o!==l)return"asc"===r?o>l?1:-1:o<l?1:-1}return 0})})(t),ne=G*W,ae=ne+W,re=te.slice(ne,ae),oe=e=>{let{row:t,index:a}=e;const[d,c]=(0,r.useState)(!1),v="20px";return(0,z.jsxs)(r.Fragment,{children:[(0,z.jsxs)(m.A,{children:[!0===s&&i&&(0,z.jsx)(p.A,{className:"border-end text-center vtop",sx:{fontSize:"".concat(H,"px")},children:(0,z.jsx)(l.A,{size:"small",onClick:()=>c(e=>!e),children:d?(0,z.jsx)(S.A,{sx:{fontSize:v}}):(0,z.jsx)(j.A,{sx:{fontSize:v}})})}),!0===u&&(0,z.jsx)(p.A,{className:"border-end text-center vtop",sx:{fontSize:"".concat(H,"px")},children:W*G+a+1}),null===n||void 0===n?void 0:n.map((e,n)=>{var r,l;const s=(0,C.id)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,C.id)(null===e||void 0===e?void 0:e.isVisible,1),i=Boolean(null===e||void 0===e?void 0:e.isCustomCell)&&e.Cell,d=!i,c=(t,n,a)=>null!==e&&void 0!==e&&e.tdClass?" ".concat(null===e||void 0===e?void 0:e.tdClass({row:t,Field_Name:n,index:a})," "):"",u=e.align?null===(r=Z.find(t=>t.type===String(e.align).toLowerCase()))||void 0===r?void 0:r.class:"",m=e.verticalAlign?null===(l=ee.find(t=>t.type===String(e.verticalAlign).toLowerCase()))||void 0===l?void 0:l.class:" vctr ";if(s&&d){const r=Object.entries(t).find(t=>{let[n]=t;return n===e.Field_Name});return(0,z.jsx)(p.A,{className:"border-end ".concat(u," ").concat(m," ").concat(c(t,e.Field_Name,a)),sx:{fontSize:"".concat(H,"px")},onClick:()=>o?o(t):console.log("Function not supplied"),children:r?L(r[1],null===e||void 0===e?void 0:e.Fied_Data):"-"},n)}return s&&i?(0,z.jsx)(p.A,{className:"border-end ".concat(u," ").concat(m," ").concat(c(t,e.Field_Name,a)),sx:{fontSize:"".concat(H,"px")},children:e.Cell({row:t,Field_Name:e.Field_Name,index:a})},n):(0,z.jsx)(p.A,{sx:{fontSize:"".concat(H,"px")},className:"border-end ".concat(u," ").concat(m),children:"-"},n)})]}),!0===s&&i&&d&&(0,z.jsx)(m.A,{children:(0,z.jsx)(p.A,{colSpan:Number(null===n||void 0===n?void 0:n.length)+(!0===u?2:1),children:i({row:t,index:a})})})]})};return(0,z.jsxs)(v.A,{className:"rounded-3 bg-white overflow-hidden",component:x.A,children:[(0,z.jsxs)("div",{className:"d-flex align-items-center flex-wrap px-3 py-2 flex-row-reverse ",children:[(E||R||O.length>0||B)&&(0,z.jsx)(D,{ToolTipText:"Table Options",buttonsData:[...B?[{name:"Max Height",icon:Q?(0,z.jsx)(w.A,{fontSize:"small",color:"primary"}):(0,z.jsx)(N.A,{fontSize:"small"}),onclick:()=>X(e=>!e),disabled:(0,C.id)(null===t||void 0===t?void 0:t.length,0)}]:[],...E?[{name:"PDF Print",icon:(0,z.jsx)(_.A,{fontSize:"small",color:"primary"}),onclick:()=>((e,t)=>{try{const n=new P.default,r=M(e,t),o=t.filter(e=>e.isVisible||e.Defult_Display).map(e=>e.Field_Name||String(e.ColumnHeader).replace(/\s+/g,"_").toLowerCase()),l=r.map(e=>o.map(t=>e[t])).map((e,t)=>(0,a.A)((0,a.A)({},e),{},{Sno:t+1}));n.autoTable({head:[o],body:l}),n.save("table.pdf")}catch(n){console.error(n)}})(t,n),disabled:(0,C.id)(null===t||void 0===t?void 0:t.length,0)}]:[],...R?[{name:"Excel Print",icon:(0,z.jsx)(_.A,{fontSize:"small",color:"primary"}),onclick:()=>((e,t)=>{try{const n=M(e,t),a=F.Wp.json_to_sheet(n),r=F.Wp.book_new();F.Wp.book_append_sheet(r,a,"Data"),F._h(r,"table.xlsx")}catch(n){console.error(n)}})(t,n),disabled:(0,C.id)(null===t||void 0===t?void 0:t.length,0)}]:[],...O]}),U&&U,k&&(0,z.jsx)("h6",{className:"fw-bold text-muted flex-grow-1 m-0",children:k})]}),(0,z.jsx)(h.A,{sx:{maxHeight:Y},children:(0,z.jsxs)(A.A,{stickyHeader:!0,size:I,children:[(0,z.jsx)(b.A,{children:(0,z.jsxs)(m.A,{children:[s&&i&&(0,z.jsx)(p.A,{className:"fw-bold border-end border-top text-center",sx:{fontSize:"".concat(q,"px"),backgroundColor:"#EDF0F7"},children:"#"}),u&&(0,z.jsx)(p.A,{className:"fw-bold border-end border-top text-center",sx:{fontSize:"".concat(q,"px"),backgroundColor:"#EDF0F7"},children:"SNo"}),n.map((e,t)=>{const n=(0,C.id)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,C.id)(null===e||void 0===e?void 0:e.isVisible,1),r=!1===Boolean(null===e||void 0===e?void 0:e.isCustomCell)||!e.Cell,o=J.find(t=>t.columnId===e.Field_Name),l=o?o.direction:"asc";var s,i,d,c;return n?r?(0,z.jsx)(p.A,{className:"fw-bold border-end border-top "+(e.align?null===(s=Z.find(t=>t.type===String(e.align).toLowerCase()))||void 0===s?void 0:s.class:""),sx:{fontSize:"".concat(q,"px"),backgroundColor:"#EDF0F7"},sortDirection:!!o&&l,children:(0,z.jsx)(g.A,{active:!!o,direction:l,onClick:()=>(e=>{const t=J.find(t=>t.columnId===e);if(t){const n="asc"===t.direction;K(J.map(t=>t.columnId===e?(0,a.A)((0,a.A)({},t),{},{direction:n?"desc":"asc"}):t))}else K([...J,{columnId:e,direction:"asc"}])})(e.Field_Name),children:e.ColumnHeader||(null===e||void 0===e||null===(i=e.Field_Name)||void 0===i?void 0:i.replace(/_/g," "))})},t):(0,z.jsx)(p.A,{className:"".concat(e.ColumnHeader||null!==e&&void 0!==e&&e.Field_Name?" fw-bold border-end border-top p-2 appFont ":" p-0 "," ")+(e.align?null===(d=Z.find(t=>t.type===String(e.align).toLowerCase()))||void 0===d?void 0:d.class:""),sx:{fontSize:"".concat(q,"px"),backgroundColor:"#EDF0F7"},children:e.ColumnHeader||(null===e||void 0===e||null===(c=e.Field_Name)||void 0===c?void 0:c.replace(/_/g," "))},t):null})]})}),(0,z.jsxs)(y.A,{children:[(T?te:re).map((e,t)=>(0,z.jsx)(oe,{row:e,index:t},t)),0===t.length&&(0,z.jsx)(m.A,{children:(0,z.jsx)(p.A,{colSpan:n.length+(!0===s&&i?1:0)+(!0===u?1:0),sx:{textAlign:"center"},children:"No Data"})})]})]})}),!T&&0!==re.length&&(0,z.jsx)("div",{className:"p-2 pb-0",children:(0,z.jsx)(f.A,{component:"div",count:t.length,page:G,onPageChange:(e,t)=>{V(t)},rowsPerPage:W,onRowsPerPageChange:e=>{$(parseInt(e.target.value,10)),V(0)},rowsPerPageOptions:Array.from(new Set([c,5,20,50,100,200,500,1e3,2e3])).sort((e,t)=>e-t),labelRowsPerPage:"Rows per page",showFirstButton:!0,showLastButton:!0})})]})};k.defaultProps={dataArray:[],columns:[],onClickFun:null,isExpendable:!1,expandableComp:null,tableMaxHeight:550,initialPageCount:20,EnableSerialNumber:!1,CellSize:"small",disablePagination:!1,title:void 0,PDFPrintOption:!1,ExcelPrintOption:!1,maxHeightOption:!1,ButtonArea:null,MenuButtons:[],headerFontSizePx:13,bodyFontSizePx:13};const E=k},48734:(e,t,n)=>{n.d(t,{A:()=>h});var a=n(98587),r=n(58168),o=n(65043),l=n(58387),s=n(68606),i=n(85865),d=n(51347),c=n(6431),u=n(34535),m=n(28052),p=n(70579);const v=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],x=(0,u.Ay)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(m.A.primary)]:t.primary},{["& .".concat(m.A.secondary)]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})(e=>{let{ownerState:t}=e;return(0,r.A)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})}),h=o.forwardRef(function(e,t){const n=(0,c.b)({props:e,name:"MuiListItemText"}),{children:u,className:h,disableTypography:A=!1,inset:b=!1,primary:g,primaryTypographyProps:y,secondary:f,secondaryTypographyProps:C}=n,_=(0,a.A)(n,v),{dense:j}=o.useContext(d.A);let S=null!=g?g:u,I=f;const N=(0,r.A)({},n,{disableTypography:A,inset:b,primary:!!S,secondary:!!I,dense:j}),w=(e=>{const{classes:t,inset:n,primary:a,secondary:r,dense:o}=e,l={root:["root",n&&"inset",o&&"dense",a&&r&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,s.A)(l,m.b,t)})(N);return null==S||S.type===i.A||A||(S=(0,p.jsx)(i.A,(0,r.A)({variant:j?"body2":"body1",className:w.primary,component:null!=y&&y.variant?void 0:"span",display:"block"},y,{children:S}))),null==I||I.type===i.A||A||(I=(0,p.jsx)(i.A,(0,r.A)({variant:"body2",className:w.secondary,color:"text.secondary",display:"block"},C,{children:I}))),(0,p.jsxs)(x,(0,r.A)({className:(0,l.A)(w.root,h),ownerState:N,ref:t},_,{children:[S,I]}))})},58093:(e,t,n)=>{n.d(t,{A:()=>C});var a=n(98587),r=n(58168),o=n(68606),l=n(58387),s=n(65043),i=n(75429),d=n(59662),c=n(70579);const u=(0,d.A)((0,c.jsx)("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");var m=n(34535),p=n(6431),v=n(6803),x=n(57056),h=n(32400);function A(e){return(0,h.Ay)("MuiTableSortLabel",e)}const b=(0,x.A)("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc"]),g=["active","children","className","direction","hideSortIcon","IconComponent"],y=(0,m.Ay)(i.A,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.active&&t.active]}})(e=>{let{theme:t}=e;return{cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(t.vars||t).palette.text.secondary},"&:hover":{color:(t.vars||t).palette.text.secondary,["& .".concat(b.icon)]:{opacity:.5}},["&.".concat(b.active)]:{color:(t.vars||t).palette.text.primary,["& .".concat(b.icon)]:{opacity:1,color:(t.vars||t).palette.text.secondary}}}}),f=(0,m.Ay)("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,t["iconDirection".concat((0,v.A)(n.direction))]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,r.A)({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:t.transitions.create(["opacity","transform"],{duration:t.transitions.duration.shorter}),userSelect:"none"},"desc"===n.direction&&{transform:"rotate(0deg)"},"asc"===n.direction&&{transform:"rotate(180deg)"})}),C=s.forwardRef(function(e,t){const n=(0,p.b)({props:e,name:"MuiTableSortLabel"}),{active:s=!1,children:i,className:d,direction:m="asc",hideSortIcon:x=!1,IconComponent:h=u}=n,b=(0,a.A)(n,g),C=(0,r.A)({},n,{active:s,direction:m,hideSortIcon:x,IconComponent:h}),_=(e=>{const{classes:t,direction:n,active:a}=e,r={root:["root",a&&"active"],icon:["icon","iconDirection".concat((0,v.A)(n))]};return(0,o.A)(r,A,t)})(C);return(0,c.jsxs)(y,(0,r.A)({className:(0,l.A)(_.root,d),component:"span",disableRipple:!0,ownerState:C,ref:t},b,{children:[i,x&&!s?null:(0,c.jsx)(f,{as:h,className:(0,l.A)(_.icon),ownerState:C})]}))})},58558:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(59662),r=n(70579);const o=(0,a.A)((0,r.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert")},83560:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(59662),r=n(70579);const o=(0,a.A)((0,r.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},84861:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var a=n(65043),r=n(83560),o=n(77739),l=n(17392),s=n(11906),i=n(89379),d=n(91036),c=(n(92342),n(65074)),u=n(22520),m=n(70579);function p(e){e.target.value=e.target.value.replace(/[^0-9]/g,"")}const v=e=>{let{screen:t,setScreen:n,underArray:r,row:o,refresh:l}=e;const s=JSON.parse(localStorage.getItem("user")),v={Branch_Id:0,Company_Id:0,Cust_Id:"",Cust_No:"",Customer_name:"",Contact_Person:"",Mobile_no:"",Email_Id:"",Address1:"",Address2:"",Address3:"",Address4:"",Pincode:"",State:"",Country:"India",Gstin:"",Under_Id:"",User_Mgt_Id:"",User_Type_Id:"",Entry_By:null===s||void 0===s?void 0:s.UserId},[x,h]=(0,a.useState)(v),[A,b]=(0,a.useState)([]);(0,a.useEffect)(()=>{(0,c.z)({address:"masters/branch/dropDown?User_Id=".concat(null===s||void 0===s?void 0:s.UserId,"&Company_id=").concat(null===s||void 0===s?void 0:s.Company_id)}).then(e=>{e.success&&b(e.data)}).catch(e=>console.error(e))},[]),(0,a.useEffect)(()=>{const{Branch_Id:e,Company_Id:t,Cust_Id:n,Cust_No:a,Customer_name:r,Contact_Person:l,Mobile_no:s,Email_Id:d,Address1:c,Address2:u,Address3:m,Address4:p,Pincode:v,State:x,Country:A,Gstin:b,Under_Id:g,User_Mgt_Id:y,User_Type_Id:f}=o;h(o=>(0,i.A)((0,i.A)({},o),{},{Branch_Id:e,Company_Id:t,Cust_Id:n,Cust_No:a,Customer_name:r,Contact_Person:l,Mobile_no:s,Email_Id:d,Address1:c,Address2:u,Address3:m,Address4:p,Pincode:v,State:x,Country:A,Gstin:b,Under_Id:g,User_Mgt_Id:y,User_Type_Id:f}))},[o]);const g=()=>{h(v)},y=r.filter(e=>(0,u.id)(e.User_Type_Id,5)&&(0,u.id)(e.Id,null===x||void 0===x?void 0:x.Cust_Id)).map(e=>({value:e.Cust_Id,label:e.Customer_name})),f=[{label:"Name",elem:"input",placeholder:"Mr / Ms",event:e=>h((0,i.A)((0,i.A)({},x),{},{Customer_name:e.target.value})),required:!0,value:x.Customer_name},{label:"Mobile",elem:"input",oninput:e=>p(e),placeholder:"Enter Mobile Number",event:e=>h((0,i.A)((0,i.A)({},x),{},{Mobile_no:e.target.value})),required:!0,value:x.Mobile_no,max:10},{label:"Branch",elem:"select",options:[{value:0,label:" - Select - ",disabled:!0,selected:!0},...A.map(e=>({value:Number(e.BranchId),label:e.BranchName}))],class:"selectpicker",data:!0,event:e=>h((0,i.A)((0,i.A)({},x),{},{Branch_Id:parseInt(e.target.value)})),required:!0,value:x.Branch_Id},{label:"User Type",elem:"select",options:[{value:"",label:" - Select - ",disabled:!0,selected:!0},{value:4,label:"CUSTOMER"},{value:5,label:"BROKER"}],event:e=>h((0,i.A)((0,i.A)({},x),{},{User_Type_Id:parseInt(e.target.value)})),required:!0,value:x.User_Type_Id},{label:"Contact Person",elem:"input",placeholder:"",event:e=>h((0,i.A)((0,i.A)({},x),{},{Contact_Person:e.target.value})),required:!0,value:x.Contact_Person},{label:"Email ID",elem:"input",type:"email",placeholder:"emailaddress@mail.com",event:e=>h((0,i.A)((0,i.A)({},x),{},{Email_Id:e.target.value})),required:!1,value:x.Email_Id},{label:"Gstin",elem:"input",placeholder:"",event:e=>h((0,i.A)((0,i.A)({},x),{},{Gstin:e.target.value})),required:!1,value:x.Gstin,max:15},{label:"Under",elem:"select",options:[{value:"",label:" - Select - ",disabled:!0,selected:!0},{value:0,label:" Primary "},...y],class:"selectpicker",data:!0,event:e=>h((0,i.A)((0,i.A)({},x),{},{Under_Id:parseInt(e.target.value)})),required:!0,value:x.Under_Id},{label:"Pincode",elem:"input",placeholder:"654321",oninput:e=>p(e),event:e=>h((0,i.A)((0,i.A)({},x),{},{Pincode:e.target.value})),required:!1,value:x.Pincode,max:6},{label:"State",elem:"input",placeholder:"",event:e=>h((0,i.A)((0,i.A)({},x),{},{State:e.target.value})),required:!1,value:x.State},{label:"Address Line 1",elem:"textarea",event:e=>h((0,i.A)((0,i.A)({},x),{},{Address1:e.target.value})),required:!0,value:x.Address1},{label:"Address Line 2",elem:"textarea",event:e=>h((0,i.A)((0,i.A)({},x),{},{Address2:e.target.value})),value:x.Address2},{label:"Address Line 3",elem:"textarea",event:e=>h((0,i.A)((0,i.A)({},x),{},{Address3:e.target.value})),value:x.Address3},{label:"Address Line 4",elem:"textarea",event:e=>h((0,i.A)((0,i.A)({},x),{},{Address4:e.target.value})),value:x.Address4}],C=()=>{for(const e of f)if(e.required&&""===e.value)return"".concat(e.label," is required.");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x.Email_Id)&&""!==x.Email_Id)return"Invalid email address";if(!/^\d{10}$/.test(x.Mobile_no))return"Invalid phone number";if(!/^\d{15}$/.test(x.Gstin)&&""!==x.Gstin)return"Invalid gstin";return/^\d{6}$/.test(x.Pincode)||""===x.Pincode?"Success":"Invalid Pincode"};return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:"card",children:[(0,m.jsxs)("div",{className:"card-header py-2 d-flex align-items-center justify-content-between",children:[(0,m.jsx)("h5",{className:"mb-0 ",children:"Customer Details"}),(0,m.jsx)("button",{className:"comadbtn mb-0",onClick:()=>{n(!t),g()},children:"Back"})]}),(0,m.jsx)("div",{className:"card-body row",children:f.map((e,t)=>(0,m.jsxs)("div",{className:"col-lg-4 col-md-6 p-2 px-3",children:[(0,m.jsxs)("label",{children:[e.label,e.required&&(0,m.jsx)("p",{style:{color:"red",display:"inline",fontWeight:"bold",fontSize:"1em"},children:" *"})]}),"input"===e.elem?(0,m.jsx)("input",{type:e.type||"text",className:"cus-inpt b-0",onChange:e.event,onInput:e.oninput,disabled:e.disabled,value:e.value,maxLength:e.max}):"select"===e.elem?(0,m.jsx)("select",{className:"cus-inpt b-0",onChange:e.event,value:e.value,children:e.options.map((e,t)=>(0,m.jsx)("option",{value:e.value,disabled:e.disabled,defaultValue:e.selected,children:e.label},t))}):"textarea"===e.elem?(0,m.jsx)("textarea",{className:"cus-inpt b-0",onChange:e.event,rows:4,value:e.value}):null]},t))}),(0,m.jsxs)("div",{className:"card-footer text-end",children:[(0,m.jsx)("button",{className:"cancelbtn",onClick:()=>n(!t),children:"Cancel"}),(0,m.jsx)("button",{className:"comadbtn mb-0",onClick:o.Cust_Id?()=>{const e=C();"Success"===e?(0,c.z)({address:"userModule/customer",method:"PUT",bodyData:(0,i.A)({},x)}).then(e=>{e.success?(g(),d.oR.success(e.message),l(),n(!t)):d.oR.error(e.message)}).catch(e=>console.error(e)):d.oR.error(e)}:()=>{const e=C();"Success"===e?(0,c.z)({address:"userModule/customer",method:"POST",bodyData:(0,i.A)({},x)}).then(e=>{e.success?(g(),d.oR.success(e.message),l(),n(!t)):d.oR.error(e.message)}).catch(e=>console.error(e)):d.oR.error(e)},children:o.Cust_Id?"Update":"Create"})]})]})})};var x=n(48471);const h=e=>{let{loadingOn:t,loadingOff:n,AddRights:i,EditRights:d}=e;const[u,p]=(0,a.useState)([]),[h,A]=(0,a.useState)(!1),[b,g]=(0,a.useState)({}),[y,f]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(0,c.z)({address:"userModule/customer",loadingOn:t,loadingOff:n}).then(e=>{p(e.data?e.data:[])}).catch(e=>console.error(e))},[h]),(0,a.useEffect)(()=>{!0===y&&g({})},[y]);return(0,m.jsx)(m.Fragment,{children:y?(0,m.jsx)(x.Ay,{title:"Customers",dataArray:u,headerFontSizePx:13,bodyFontSizePx:12,columns:[(0,x.Lj)("Cust_No","string","CusID"),(0,x.Lj)("Customer_name","string","Name"),(0,x.Lj)("UserTypeGet","string","Type"),(0,x.Lj)("Mobile_no","string","Phone"),(0,x.Lj)("Contact_Person","string","Contact Person"),(0,x.Lj)("Email_Id","string","Email"),(0,x.Lj)("State","string","State"),(0,x.Lj)("Gstin","string","Gstin"),{isVisible:1,ColumnHeader:"Action",isCustomCell:!0,Cell:e=>{let{row:t}=e;return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(o.A,{title:"Edit",children:(0,m.jsx)("span",{children:(0,m.jsx)(l.A,{size:"small",onClick:()=>{g(t),f(!y)},children:(0,m.jsx)(r.A,{className:"fa-20"})})})})})}}],ButtonArea:(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(s.A,{variant:"outlined",onClick:()=>f(!y),children:"Add"})})}):(0,m.jsx)(v,{screen:y,setScreen:f,underArray:u,row:b,refresh:()=>{A(!h)}})})}}}]);
//# sourceMappingURL=4861.9c579812.chunk.js.map