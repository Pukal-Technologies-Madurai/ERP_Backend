{"version":3,"file":"static/js/982.92722414.chunk.js","mappings":"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","sources":["Pages/Sales/LRReport/KatchathCopy/katchathCopy.jsx","Components/dotpeWhatsappService.js","Pages/Sales/LRReport/listSales.jsx","Components/filterableTable2.jsx","Components/tablecolumn.js"],"sourcesContent":["// import { useEffect, useRef, useState } from \"react\";\r\n// import { fetchLink } from \"../../../../Components/fetchComponent\";\r\n// import { useReactToPrint } from 'react-to-print';\r\n// import { checkIsNumber, LocalDateWithTime, toArray } from \"../../../../Components/functions\";\r\n// import { Print } from \"@mui/icons-material\";\r\n// import { Button } from \"@mui/material\";\r\n\r\n// const findStaffName = (arr, involvedType) => {\r\n//     if (!Array.isArray(arr)) return \"\";\r\n//     const row = arr.find(\r\n//         (x) => String(x?.empType || \"\").toLowerCase() === String(involvedType).toLowerCase()\r\n//     );\r\n//     return row?.empName || \"\";\r\n// };\r\n\r\n// const KatchathCopy = ({ Do_Id, Do_Ids=[],loadingOn, loadingOff,isCombinedPrint=false }) => {\r\n//     // const [data, setData] = useState({});\r\n//     const [data, setData] = useState([]); // Changed to array for multiple invoices\r\n\r\n//     const printRef = useRef(null);\r\n//    const isMultiple = Array.isArray(Do_Ids) && Do_Ids.length > 0;\r\n//     const idsToFetch = isMultiple ? Do_Ids : (Do_Id ? [Do_Id] : []);\r\n\r\n\r\n\r\n//         useEffect(() => {\r\n//         if (idsToFetch.length === 0) return;\r\n        \r\n//         loadingOn?.();\r\n        \r\n//         const fetchAllData = async () => {\r\n//             try {\r\n//                 const promises = idsToFetch.map(id => \r\n//                     fetchLink({\r\n//                         address: `sales/salesInvoice/printOuts/katchath?Do_Id=${id}`,\r\n//                         loadingOn: () => {}, // Prevent multiple loading indicators\r\n//                         loadingOff: () => {},\r\n//                     })\r\n//                 );\r\n                \r\n//                 const results = await Promise.all(promises);\r\n//                 const allData = results\r\n//                     .filter(result => result.success && result.data?.[0])\r\n//                     .map(result => result.data[0]);\r\n                \r\n//                 setData(allData);\r\n//             } catch (error) {\r\n//                 console.error('Error fetching katchath data:', error);\r\n//             } finally {\r\n//                 loadingOff?.();\r\n//             }\r\n//         };\r\n\r\n//         fetchAllData();\r\n//     }, [JSON.stringify(idsToFetch)]); // Use JSON.stringify for array dependency\r\n\r\n//     useEffect(() => {\r\n//         if (!checkIsNumber(Do_Id)) return;\r\n//         fetchLink({\r\n//             address: `sales/salesInvoice/printOuts/katchath?Do_Id=${Do_Id}`,\r\n//             loadingOn, loadingOff\r\n//         }).then(data => {\r\n//             if (data.success) {\r\n//                 setData(data?.data[0] || {})\r\n//             }\r\n//         }).catch(e => console.error(e));\r\n//     }, [Do_Id]);\r\n\r\n//     const handlePrint = useReactToPrint({\r\n//         content: () => printRef.current,\r\n//     });\r\n\r\n\r\n//      if (isCombinedPrint) {\r\n//         return (\r\n//             <div ref={printRef} className=\"katchath-combined-print\">\r\n//                 {data.map((invoice, index) => (\r\n//                     <div key={invoice.Do_Id || index} className=\"katchath-page\">\r\n//                         <div\r\n//                             style={{ \r\n//                                 width: 'calc(15cm)',\r\n//                                 height: 'calc(10.5cm)',\r\n//                                 marginBottom: index < data.length - 1 ? '20px' : '0'\r\n//                             }}\r\n//                             className=\"border py-1 px-4\"\r\n//                         >\r\n//                             <div className=\"row\">\r\n//                                 <div className=\"col-5 p-2\">\r\n//                                     <h5 className=\"m-0\">{invoice.voucherTypeGet}</h5>\r\n//                                     <p className=\"m-0\">{invoice.createdByGet}</p>\r\n//                                     <p className=\"m-0\">{LocalDateWithTime(invoice.createdOn)}</p>\r\n//                                     <br />\r\n//                                     <p className=\"m-0\">{invoice.mailingName ? `${invoice.mailingName},` : \" \"}</p>\r\n//                                     <p className=\"m-0\">{invoice.mailingAddress ? `${invoice.mailingAddress},` : \" \"}</p>\r\n//                                     <p className=\"m-0\">{invoice.mailingCity ? `${invoice.mailingCity},` : \" \"}</p>\r\n//                                     <p className=\"m-0\">{invoice.mailingNumber ? invoice.mailingNumber : \" \"}</p>\r\n//                                 </div>\r\n\r\n//                                 <div className=\"col-7 p-2\">\r\n//                                     <div className=\"table-responsive\">\r\n//                                         <table className=\"table table-borderless\">\r\n//                                             <tbody>\r\n//                                                 {toArray(invoice.productDetails).map((item, idx) => (\r\n//                                                     <tr key={idx}>\r\n//                                                         <td>{item.itemName}</td>\r\n//                                                         <td>{item.quantity}</td>\r\n//                                                     </tr>\r\n//                                                 ))}\r\n//                                                 <tr>\r\n//                                                     <td className=\"border\">Total</td>\r\n//                                                     <td className=\"border\">\r\n//                                                         {toArray(invoice.productDetails).reduce((acc, item) => acc + item.quantity, 0)}\r\n//                                                     </td>\r\n//                                                 </tr>\r\n//                                             </tbody>\r\n//                                         </table>\r\n//                                     </div>\r\n//                                 </div>\r\n//                             </div>\r\n\r\n//                             <br />\r\n\r\n//                             <div>\r\n//                                 <p className=\"m-0\">Lorry: {findStaffName(invoice.staffDetails, \"Transport\")}</p>\r\n//                                 <p className=\"m-0\">LoadMan: {findStaffName(invoice.staffDetails, \"Load Man\")}</p>\r\n//                             </div>\r\n//                         </div>\r\n                        \r\n//                         {/* Page break for printing except for last invoice */}\r\n//                         {index < data.length - 1 && (\r\n//                             <div className=\"page-break\" style={{ \r\n//                                 pageBreakAfter: 'always',\r\n//                                 breakAfter: 'page'\r\n//                             }} />\r\n//                         )}\r\n//                     </div>\r\n//                 ))}\r\n//             </div>\r\n//         );\r\n//     }\r\n\r\n//     return (\r\n//         <div className=\"d-flex flex-column align-items-center justify-content-center\">\r\n//             <Button onClick={handlePrint} startIcon={<Print />}>Print</Button>\r\n//             <div\r\n//                 style={{ \r\n                  \r\n//                     width: 'calc(15cm )',\r\n//     height: 'calc(10.5cm)',\r\n//     transform: 'scale(1.1)',  \r\n//     top:'260px',\r\n//     marginLeft:'4px'\r\n//     // transformOrigin: 'top left',\r\n//     // marginRight:'100px'\r\n\r\n//                  }}\r\n//                 ref={printRef}\r\n//                 className=\"border py-1 px-4\"\r\n//             >\r\n//                 <div className=\"row\">\r\n\r\n//                     <div className=\"col-5 p-2\">\r\n//                         <h5 className=\"m-0\">{data.voucherTypeGet}</h5>\r\n//                         <p className=\"m-0\">{data.createdByGet}</p>\r\n//                         <p className=\"m-0\">{LocalDateWithTime(data.createdOn)}</p>\r\n//                         <br />\r\n//                         <p className=\"m-0\">{data.mailingName ? `${data.mailingName},` : \" \"}</p>\r\n//                         <p className=\"m-0\">{data.mailingAddress ? `${data.mailingAddress},` : \" \"}</p>\r\n//                         <p className=\"m-0\">{data.mailingCity ? `${data.mailingCity},` : \" \"}</p>\r\n//                         <p className=\"m-0\">{data.mailingNumber ? data.mailingNumber : \" \"}</p>\r\n//                     </div>\r\n\r\n//                     <div className=\"col-7 p-2\">\r\n//                         <div className=\"table-responsive\">\r\n//                             <table className=\"table table-borderless\">\r\n//                                 <tbody>\r\n//                                     {toArray(data.productDetails).map((item, index) => (\r\n//                                         <tr key={index}>\r\n//                                             <td>{item.itemName}</td>\r\n//                                             <td>{item.quantity}</td>\r\n//                                         </tr>\r\n//                                     ))}\r\n//                                     <tr>\r\n//                                         <td className=\"border\">Total</td>\r\n//                                         <td className=\"border\">{toArray(data.productDetails).reduce((acc, item) => acc + item.quantity, 0)}</td>\r\n//                                     </tr>\r\n//                                 </tbody>\r\n//                             </table>\r\n//                         </div>\r\n//                     </div>\r\n\r\n//                 </div>\r\n\r\n//                 <br />\r\n\r\n//                 <div>\r\n//                     <p className=\"m-0\">Lorry: {findStaffName(data.staffDetails, \"Transport\")}</p>\r\n//                     <p className=\"m-0\">LoadMan: {findStaffName(data.staffDetails, \"Load Man\")}</p>\r\n//                 </div>\r\n//             </div>\r\n//         </div>\r\n//     );\r\n// };\r\n\r\n// export default KatchathCopy;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { fetchLink } from \"../../../../Components/fetchComponent\";\r\nimport { useReactToPrint } from 'react-to-print';\r\nimport { checkIsNumber, LocalDateWithTime, toArray } from \"../../../../Components/functions\";\r\nimport { Print } from \"@mui/icons-material\";\r\nimport { Button } from \"@mui/material\";\r\nimport  './katchathCopy.css';\r\nconst findStaffName = (arr, involvedType) => {\r\n    if (!Array.isArray(arr)) return \"\";\r\n    const row = arr.find(\r\n        (x) => String(x?.empType || \"\").toLowerCase() === String(involvedType).toLowerCase()\r\n    );\r\n    return row?.empName || \"\";\r\n};\r\n\r\nconst KatchathCopy = ({ Do_Id, Do_Ids = [], loadingOn, loadingOff, isCombinedPrint = false }) => {\r\n    const [data, setData] = useState([]); \r\n    const printRef = useRef(null);\r\n    \r\n  \r\n    const isMultiple = Array.isArray(Do_Ids) && Do_Ids.length > 0;\r\n    const idsToFetch = isMultiple ? Do_Ids : (Do_Id ? [Do_Id] : []);\r\n\r\n    useEffect(() => {\r\n        if (idsToFetch.length === 0) return;\r\n        \r\n        loadingOn?.();\r\n        \r\n        const fetchAllData = async () => {\r\n            try {\r\n                const promises = idsToFetch.map(id => \r\n                    fetchLink({\r\n                        address: `sales/salesInvoice/printOuts/katchath?Do_Id=${id}`,\r\n                        loadingOn: () => {}, \r\n                        loadingOff: () => {},\r\n                    })\r\n                );\r\n                \r\n                const results = await Promise.all(promises);\r\n                const allData = results\r\n                    .filter(result => result.success && result.data?.[0])\r\n                    .map(result => result.data[0]);\r\n                \r\n                setData(allData);\r\n            } catch (error) {\r\n                console.error('Error fetching katchath data:', error);\r\n            } finally {\r\n                loadingOff?.();\r\n            }\r\n        };\r\n\r\n        fetchAllData();\r\n    }, [JSON.stringify(idsToFetch)]);\r\n\r\n    const handlePrint = useReactToPrint({\r\n        content: () => printRef.current,\r\n    });\r\n\r\n \r\n    if (isCombinedPrint) {\r\n        return (\r\n            <div ref={printRef} className=\"katchath-combined-print\">\r\n                {data.map((invoice, index) => (\r\n                    <div key={invoice.Do_Id || index} className=\"katchath-page\">\r\n                        <div\r\n                            // style={{ \r\n                            //     width: 'calc(14cm)',\r\n                            //     height: 'calc(10.5cm)',\r\n                            //     marginBottom: index < data.length - 1 ? '20px' : '0'\r\n                            // }\r\n                               style={{ \r\n                             width: 'calc(13.8cm)',\r\n                                height: 'calc(10.5cm)',\r\n   transform: 'scale(1.0)',  \r\n  margin: '0 auto',\r\n  position: 'relative',\r\n  boxSizing: 'border-box',\r\n  fontWeight:'bold'\r\n                            // pageBreakAfter: index < data.length - 1 ? \"always\" : \"auto\",\r\n                            // breakAfter: index < data.length - 1 ? \"page\" : \"auto\"\r\n                        }}\r\n                            className=\"border py-1 px-2\"\r\n                        >\r\n                            <div className=\"row\">\r\n                                <div className=\"col-5 p-2\">\r\n                                    <h5 className=\"m-0\">{invoice.voucherTypeGet}</h5>\r\n                                    <p className=\"m-0\">{invoice.createdByGet}</p>\r\n                                    <p className=\"m-0\">{LocalDateWithTime(invoice.createdOn)}</p>\r\n                                    <br />\r\n                                    <p className=\"m-0\">{invoice.mailingName ? `${invoice.mailingName},` : \" \"}</p>\r\n                                    <p className=\"m-0\">{invoice.mailingAddress ? `${invoice.mailingAddress},` : \" \"}</p>\r\n                                    <p className=\"m-0\">{invoice.mailingCity ? `${invoice.mailingCity},` : \" \"}</p>\r\n                                    <p className=\"m-0\">{invoice.mailingNumber ? invoice.mailingNumber : \" \"}</p>\r\n                                </div>\r\n\r\n                                {/* <div className=\"col-7 p-2\">\r\n                                    <div className=\"table-responsive\">\r\n                                        <table className=\"table table-borderless\" style={{lineHeight:'0.37cm'}}>\r\n                                            <tbody>\r\n                                                {toArray(invoice.productDetails).map((item, idx) => (\r\n                                                    <tr key={idx}>\r\n                                                        <td >{item.itemName}</td>\r\n                                                        <td>{item.quantity}</td>\r\n                                                    </tr>\r\n                                                ))}\r\n                                                <tr>\r\n                                                    <td className=\"border\">Total</td>\r\n                                                    <td className=\"border\">\r\n                                                        {toArray(invoice.productDetails).reduce((acc, item) => acc + item.quantity, 0)}\r\n                                                    </td>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </div>\r\n                                </div> */}\r\n\r\n                                    <div className=\"col-7 p-2\">\r\n                                    <div className=\"table-responsive\">\r\n                                        <table className=\"table table-borderless\"  style={{lineHeight:'0.35cm'}}>\r\n                                            <tbody>\r\n                                                {toArray(invoice.productDetails).map((item, idx) => (\r\n                                                    <tr key={idx}>\r\n                                                        <td>{item.itemName}</td>\r\n                                                        <td>{item.quantity}</td>\r\n                                                    </tr>\r\n                                                ))}\r\n                                         <tr>\r\n                                         <td className=\"border text-right pr-4\" style={{textAlign: \"right\", fontSize: \"18px\", fontWeight: \"bold\"}}>\r\n                                             Total\r\n                                         </td>\r\n                                         <td className=\"border text-right\" style={{textAlign: \"right\", fontSize: \"18px\", fontWeight: \"bold\"}}>\r\n                                             {toArray(invoice.productDetails).reduce((acc, item) => acc + item.quantity, 0)}\r\n                                         </td>\r\n                                     </tr>\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <br />\r\n\r\n                            <div>\r\n                                <p className=\"m-0\">Lorry: {findStaffName(invoice.staffDetails, \"Transport\")}</p>\r\n                                <p className=\"m-0\">LoadMan: {findStaffName(invoice.staffDetails, \"Load Man\")}</p>\r\n                            </div>\r\n                        </div>\r\n                        \r\n               \r\n                        {index < data.length - 1 && (\r\n                            <div className=\"page-break\" style={{ \r\n                                pageBreakAfter: 'always',\r\n                                breakAfter: 'page'\r\n                            }} />\r\n                        )}\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // Single print mode (original behavior)\r\n    return (\r\n        <div className=\"d-flex flex-column align-items-center justify-content-center\">\r\n            {/* <Button onClick={handlePrint} startIcon={<Print />}>\r\n                Print {data.length > 1 ? `(${data.length} invoices)` : ''}\r\n            </Button> */}\r\n              <div className=\"print-button-area\">\r\n                <Button onClick={handlePrint} startIcon={<Print />}>Print</Button>\r\n            </div>\r\n            <div ref={printRef} className=\"katchath-multiple-print\" >\r\n                {data.map((invoice, index) => (\r\n                    <div style={{fontWeight:'bold'}} key={invoice.Do_Id || index} className=\"mb-4\">\r\n                        <div\r\n                         \r\n                            style={{\r\n     width: 'calc(14cm)',\r\n                                height: 'calc(10.5cm)',\r\n   transform: 'scale(1.0)',  \r\n  margin: '0 auto',\r\n  position: 'relative',\r\n  boxSizing: 'border-box',\r\n  fontWeight:'bold'\r\n}}\r\nclassName=\"border py-4 px-4\"\r\n\r\n                        >\r\n                            <div className=\"row\">\r\n                                <div className=\"col-5 p-2\">\r\n                                    <h5 className=\"m-0\">{invoice.voucherTypeGet}</h5>\r\n                                    <p className=\"m-0\">{invoice.createdByGet}</p>\r\n                                    <p className=\"m-0\">{LocalDateWithTime(invoice.createdOn)}</p>\r\n                                    <br />\r\n                                    <p className=\"m-0\">{invoice.mailingName ? `${invoice.mailingName},` : \" \"}</p>\r\n                                    <p className=\"m-0\">{invoice.mailingAddress ? `${invoice.mailingAddress},` : \" \"}</p>\r\n                                    <p className=\"m-0\">{invoice.mailingCity ? `${invoice.mailingCity},` : \" \"}</p>\r\n                                    <p className=\"m-0\">{invoice.mailingNumber ? invoice.mailingNumber : \" \"}</p>\r\n                                </div>\r\n\r\n                                <div className=\"col-7 p-2\">\r\n                                    <div className=\"table-responsive\">\r\n                                        <table className=\"table table-borderless\"  style={{lineHeight:'0.35cm'}}>\r\n                                            <tbody>\r\n                                                {toArray(invoice.productDetails).map((item, idx) => (\r\n                                                    <tr key={idx}>\r\n                                                        <td>{item.itemName}</td>\r\n                                                        <td>{item.quantity}</td>\r\n                                                    </tr>\r\n                                                ))}\r\n                                         <tr>\r\n                                         <td className=\"border text-right pr-4\" style={{textAlign: \"right\", fontSize: \"18px\", fontWeight: \"bold\"}}>\r\n                                             Total\r\n                                         </td>\r\n                                         <td className=\"border text-right\" style={{textAlign: \"right\", fontSize: \"18px\", fontWeight: \"bold\"}}>\r\n                                             {toArray(invoice.productDetails).reduce((acc, item) => acc + item.quantity, 0)}\r\n                                         </td>\r\n                                     </tr>\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <br />\r\n\r\n                            <div>\r\n                                <p className=\"m-0\">Lorry: {findStaffName(invoice.staffDetails, \"Transport\")}</p>\r\n                                <p className=\"m-0\">LoadMan: {findStaffName(invoice.staffDetails, \"Load Man\")}</p>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                        {/* Add some spacing between invoices in preview */}\r\n                        {index < data.length - 1 && <hr className=\"my-4\" />}\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default KatchathCopy;","import axios from 'axios';\r\nimport { Dot_Pe_Api_Key, Dot_Pe_Number } from '../encryptionKey';\r\n\r\nconst DOTPE_API_BASE = 'https://api.dotpe.in/api/comm/public/enterprise/v1';\r\n// const RAW_API_KEY = 'your-api-key';\r\n\r\nconst cleanApiKey = () => {\r\n    let cleaned = Dot_Pe_Api_Key.replace(/[^\\x20-\\x7E]/g, '');\r\n    cleaned = cleaned.replace(/[\\u200B-\\u200D\\uFEFF\\u00A0]/g, '');\r\n    cleaned = cleaned.trim(); \r\n    return cleaned;\r\n};\r\n\r\nexport class DotPeWhatsAppService {\r\n    static async fetchTemplates(status = 'APPROVED') {\r\n        try {\r\n            const apiKey = cleanApiKey();\r\n            \r\n            const response = await axios.get(\r\n                `${DOTPE_API_BASE}/templates?status=${status}`,\r\n                {\r\n                    headers: {\r\n                        'Dotpe-Api-Key': apiKey,\r\n                        'Content-Type': 'application/json',\r\n                    },\r\n                }\r\n            );\r\n     \r\n            return {\r\n                status: true,\r\n                data: response.data?.data || response.data,\r\n                message: 'Templates fetched successfully'\r\n            };\r\n        } catch (error) {\r\n            console.error('Error fetching templates:', {\r\n                message: error.message,\r\n                status: error.response?.status,\r\n                data: error.response?.data\r\n            });\r\n            \r\n            return {\r\n                status: false,\r\n                data: null,\r\n                message: error.response?.data?.message || error.message || 'Failed to fetch templates'\r\n            };\r\n        }\r\n    }\r\n\r\n    static async sendTemplateMessage(payload) {\r\n        try {\r\n            const apiKey = cleanApiKey();\r\n            \r\n            const response = await axios.post(\r\n                `${DOTPE_API_BASE}/wa/send`,\r\n                payload,\r\n                {\r\n                    headers: {\r\n                        'Dotpe-Api-Key': apiKey,\r\n                        'Content-Type': 'application/json',\r\n                    },\r\n                    timeout: 30000,\r\n                }\r\n            );\r\n            \r\n            return {\r\n                status: response.data?.status === true || response.data?.success === true,\r\n                data: response.data,\r\n                message: response.data?.message || 'Message sent successfully'\r\n            };\r\n        } catch (error) {\r\n            console.error('Error details:', {\r\n                message: error.message,\r\n                status: error.response?.status,\r\n                statusText: error.response?.statusText,\r\n                data: error.response?.data,\r\n                headers: error.response?.headers\r\n            });\r\n            \r\n            if (error.response?.status === 422) {\r\n                console.error('Template validation error. Likely issues:');\r\n                console.error('1. Wrong number of parameters');\r\n                console.error('2. Parameter names don\\'t match template');\r\n                console.error('3. Template not approved');\r\n                console.error('4. Missing required parameters');\r\n            }\r\n            \r\n            return {\r\n                status: false,\r\n                data: error.response?.data,\r\n                message: error.response?.data?.message || \r\n                        error.response?.data?.error || \r\n                        error.message || \r\n                        'Failed to send message',\r\n                statusCode: error.response?.status\r\n            };\r\n        }\r\n    }\r\n\r\n  \r\n    static async sendFreeFormMessage(payload) {\r\n        try {\r\n            const apiKey = cleanApiKey();\r\n            \r\n         \r\n            let endpoint = `${DOTPE_API_BASE}/wa/send/free-form`;\r\n            let apiPayload = payload;\r\n            \r\n          \r\n            if (payload.template) {\r\n                endpoint = `${DOTPE_API_BASE}/wa/send`;\r\n            }\r\n            \r\n            const response = await axios.post(\r\n                endpoint,\r\n                apiPayload,\r\n                {\r\n                    headers: {\r\n                        'Dotpe-Api-Key': apiKey,\r\n                        'Content-Type': 'application/json',\r\n                    },\r\n                    timeout: 30000,\r\n                }\r\n            );\r\n            \r\n            return {\r\n                status: response.data?.status === true || response.data?.success === true,\r\n                data: response.data,\r\n                message: response.data?.message || 'Message sent successfully'\r\n            };\r\n        } catch (error) {\r\n            console.error('Error sending free-form message:', {\r\n                message: error.message,\r\n                status: error.response?.status,\r\n                data: error.response?.data\r\n            });\r\n            \r\n            return {\r\n                status: false,\r\n                data: error.response?.data,\r\n                message: error.response?.data?.message || error.message || 'Failed to send message',\r\n                statusCode: error.response?.status\r\n            };\r\n        }\r\n    }\r\n\r\n\r\n\r\n    static async sendInvoiceWithPDFLink(phone, invoiceId, invoiceData, order,pdfUrl) {\r\n        try {\r\n           \r\n            // const apiKey = cleanApiKey();\r\n            // const RetailerName=order?.retailerNameGet;\r\n            const Do_Date = order?.Do_Date ?  order.Do_Date.split('T')[0].split('-').reverse().join('/') :  new Date().toLocaleDateString('en-GB');\r\n            // const Do_Inv_No=order?.Do_Inv_No;\r\n            // const invoiceValue=order?.Total_Invoice_value;\r\n        \r\n            const payload = {\r\n  merchantId: 21640, \r\n  template: {\r\n    name: \"template_text\",\r\n    language: \"en\"\r\n  },\r\n//   wabaNumber: \"919944888054\", \r\n      wabaNumber:Dot_Pe_Number,\r\n \r\n//    recipients: [\"919944032029\"],\r\nrecipients:[`91${phone}`],\r\n  source: \"crm\",\r\n   type: \"document\",\r\n  clientRefId: `invoice_INV001_${Date.now()}`,\r\n  params: {\r\n    //  header: `http://192.168.1.39:9001/uploads/invoices/1/${invoiceId}.pdf`, \r\n    body: [\r\n      `${order?.retailerNameGet}`,          \r\n      `${order?.Do_Inv_No}`,            \r\n      `${Do_Date}`,   \r\n      `${order?.Total_Invoice_value}`,      \r\n       'SM TRADERS',          \r\n       `${pdfUrl}`\r\n    ]\r\n  }\r\n};\r\n            \r\n           \r\n            return await this.sendFreeFormMessage(payload);\r\n            \r\n        } catch (error) {\r\n            console.error('Error sending invoice with PDF:', error);\r\n            \r\n            return {\r\n                status: false,\r\n                message: error.message || 'Failed to send invoice'\r\n            };\r\n        }\r\n    }\r\n    \r\n    static async sendPDFAsDocument(phone, invoiceId, pdfUrl, caption) {\r\n        try {\r\n            // const apiKey = cleanApiKey();\r\n            \r\n            const payload = {\r\n                // wabaNumber: \"919944888054\",\r\n                wabaNumber:Dot_Pe_Number,\r\n                recipient: phone,\r\n                source: \"billing_system\",\r\n                clientRefId: `pdf_${invoiceId}_${Date.now()}`,\r\n                type: \"document\",\r\n                document: {\r\n                    link: pdfUrl,\r\n                    caption: caption || ` Invoice #${invoiceId}\\nClick to view/download`,\r\n                    filename: `Invoice-${invoiceId}.pdf`\r\n                }\r\n            };\r\n            \r\n           \r\n            return await this.sendFreeFormMessage(payload);\r\n            \r\n        } catch (error) {\r\n            console.error('Error sending PDF as document:', error);\r\n            \r\n            return {\r\n                status: false,\r\n                message: error.message || 'Failed to send PDF'\r\n            };\r\n        }\r\n    }\r\n}","import { useState, useEffect, useMemo, useRef } from \"react\";\r\nimport { checkIsNumber, isEqualNumber, ISOString, toArray, toNumber, RoundNumber, NumberFormat } from \"../../../Components/functions\";\r\nimport { fetchLink } from \"../../../Components/fetchComponent\";\r\nimport FilterableTable, { ButtonActions, createCol } from \"../../../Components/filterableTable2\";\r\nimport {\r\n    Autocomplete,\r\n    Button,\r\n    Checkbox,\r\n    Select as MuiSelect,\r\n    // Checkbox,\r\n    MenuItem,\r\n    Dialog,\r\n    DialogActions,\r\n    DialogContent,\r\n    DialogTitle,\r\n    IconButton,\r\n    Typography,\r\n    TextField,\r\n    Tooltip,\r\n    Box,\r\n    Divider,\r\n    Snackbar,\r\n    Alert,\r\n    Radio,\r\n    RadioGroup,\r\n    InputLabel,\r\n    FormControl,\r\n    FormControlLabel,\r\n} from \"@mui/material\";\r\nimport Select from \"react-select\";\r\nimport { customSelectStyles } from \"../../../Components/tablecolumn\";\r\nimport { reactSelectFilterLogic } from \"../../../Components/functions\";\r\nimport { CheckBox, CheckBoxOutlineBlank, FilterAlt, PersonAdd, Print, Search, HourglassEmpty } from \"@mui/icons-material\";\r\nimport { toast } from \"react-toastify\";\r\nimport KatchathCopy from \"./KatchathCopy/katchathCopy\";\r\nimport InvoiceTemplate from \"./SalesInvPrint/invTemplate\";\r\nimport DeliverysSlipPrint from \"./deliverySlipPrint\"\r\nimport { useReactToPrint } from \"react-to-print\";\r\nimport PersonRemoveIcon from '@mui/icons-material/PersonRemove';\r\nimport WhatsAppIcon from '@mui/icons-material/WhatsApp';\r\nimport { DotPeWhatsAppService } from \"../../../Components/dotpeWhatsappService\";\r\nimport { Dot_Pe_Number } from \"../../../encryptionKey\";\r\nimport api from \"../../../API\";\r\nconst icon = <CheckBoxOutlineBlank fontSize=\"small\" />;\r\nconst checkedIcon = <CheckBox fontSize=\"small\" />;\r\n\r\nconst multipleStaffUpdateInitialValues = {\r\n    CostCategory: { label: \"\", value: \"\" },\r\n    Do_Id: [],\r\n    involvedStaffs: [],\r\n    staffInvolvedStatus: 0,\r\n    deliveryStatus: 5,\r\n};\r\n\r\nconst multipleStaffRemoveInitialValues = {\r\n    CostCategory: { label: \"\", value: \"\" },\r\n    Do_Id: [],\r\n    involvedStaffs: [],\r\n    staffInvolvedStatus: 0,\r\n    deliveryStatus: 5,\r\n};\r\n\r\nconst normalize = (v) => String(v ?? \"\").toLowerCase().trim();\r\n\r\nconst uniqueCaseInsensitive = (values) => {\r\n    const map = new Map();\r\n    for (const v of values) {\r\n        const s = String(v ?? \"\").trim();\r\n        if (!s) continue;\r\n        const key = s.toLowerCase();\r\n        if (!map.has(key)) map.set(key, s);\r\n    }\r\n    return Array.from(map.values());\r\n};\r\n\r\nconst getCostTypeEmployees = (invoiceOrRow, costTypeId) => {\r\n    const invoiceEmployee = toArray(invoiceOrRow?.involvedStaffs);\r\n    return invoiceEmployee\r\n        .filter((emp) => isEqualNumber(emp.Emp_Type_Id, costTypeId))\r\n        .map((emp) => String(emp.Emp_Name ?? \"\").trim())\r\n        .filter(Boolean);\r\n};\r\n\r\nconst SalesInvoiceListLRReport = ({ loadingOn, loadingOff, AddRights, EditRights, PrintRights, pageID }) => {\r\n    const [salesInvoices, setSalesInvoices] = useState([]);\r\n    const [costCenterData, setCostCenterData] = useState([]);\r\n    const [costTypes, setCostTypes] = useState([]);\r\n    const [uniqueInvolvedCost, setUniqueInvolvedCost] = useState([]);\r\n    const [viewMode, setViewMode] = useState('normal');\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [isRefreshing, setIsRefreshing] = useState(false);\r\n    const [hasInitialLoading, setHasInitialLoading] = useState(false);\r\n    const [currentPrintType, setCurrentPrintType] = useState('');\r\n    const [selectAllCheckBox, setSelectAllCheckBox] = useState(false);\r\n    const tableContainerRef = useRef(null);\r\n\r\n\r\n    const storage = JSON.parse(localStorage.getItem(\"user\"));\r\n    const [pdfGeneration, setPdfGeneration] = useState({\r\n        loading: false,\r\n        pdfUrl: null, token: null,\r\n        fileName: null,\r\n        error: null\r\n    });\r\n\r\n\r\n    const [multipleCostCenterUpdateValues, setMultipleCostCenterUpdateValues] = useState(\r\n        multipleStaffUpdateInitialValues\r\n    );\r\n\r\n    const [multipleStaffRemoveValues, setMultipleStaffRemoveValues] = useState(\r\n        multipleStaffRemoveInitialValues\r\n    );\r\n\r\n    const [printReady, setPrintReady] = useState(false);\r\n    const [columnFilters, setColumnFilters] = useState({});\r\n    const [filteredData, setFilteredData] = useState([]);\r\n\r\n    const [printInvoice, setPrintInvoice] = useState({\r\n        Do_Id: null,\r\n        Do_Date: null,\r\n        open: false\r\n    });\r\n\r\n    const [katchathCopyPrint, setKatchathCopyPrint] = useState({\r\n        Do_Id: null,\r\n        open: false,\r\n    });\r\n\r\n    const [deliverySlipPrint, setDeliverySlipPrint] = useState({\r\n        Do_Id: null,\r\n        Do_Date: null,\r\n        open: false\r\n    });\r\n\r\n    const [whatsappDialog, setWhatsappDialog] = useState({\r\n        open: false,\r\n        order: null,\r\n        loading: false,\r\n        method: 'template',\r\n    });\r\n\r\n\r\n    const [templates, setTemplates] = useState([]);\r\n    const [selectedTemplate, setSelectedTemplate] = useState(\"\");\r\n    const [snackbar, setSnackbar] = useState({\r\n        open: false,\r\n        message: \"\",\r\n        severity: \"success\",\r\n    });\r\n\r\n    const [filters, setFilters] = useState({\r\n        reqDate: ISOString(),\r\n        assignDialog: false,\r\n        filterDialog: false,\r\n        selectedInvoice: null,\r\n        multipleStaffUpdateDialog: false,\r\n        multipleStaffRemoveDialog: false,\r\n        fetchTrigger: 0,\r\n        docType: \"\",\r\n        staffStatus: 0,\r\n    });\r\n\r\n    const [multiPrint, setMultiPrint] = useState({\r\n        open: false,\r\n        doIds: [],\r\n        docType: \"\"\r\n    });\r\n\r\n    const multiPrintRef = useRef(null);\r\n\r\n\r\n    const pdfTemplates = useMemo(() => {\r\n        return (templates || []).filter(t => {\r\n            const templateName = t.templateName || t.name || '';\r\n            return templateName.toLowerCase().includes('pdf') ||\r\n                templateName.toLowerCase().includes('invoice');\r\n        });\r\n    }, [templates]);\r\n\r\n\r\n    const otherTemplates = useMemo(() => {\r\n        return (templates || []).filter(t => {\r\n            const templateName = t.templateName || t.name || '';\r\n            return !(templateName.toLowerCase().includes('pdf') ||\r\n                templateName.toLowerCase().includes('invoice'));\r\n        });\r\n    }, [templates]);\r\n\r\n\r\n\r\n    const columns = useMemo(\r\n        () => [\r\n            { Field_Name: \"Do_Inv_No\", Fied_Data: \"string\", ColumnHeader: \"Invoice\" },\r\n            { Field_Name: \"voucherTypeGet\", Fied_Data: \"string\", ColumnHeader: \"Voucher\" },\r\n            { Field_Name: \"retailerNameGet\", Fied_Data: \"string\", ColumnHeader: \"Customer\" },\r\n        ],\r\n        []\r\n    );\r\n\r\n    const calculateAltActQty = (item) => {\r\n        if (item.Alt_Act_Qty !== undefined && item.Alt_Act_Qty !== null) {\r\n            return Number(item.Alt_Act_Qty) || 0;\r\n        }\r\n\r\n        const billQty = Number(item.Bill_Qty) || 0;\r\n        const conversionFactor = Number(item.PackValue) || 1;\r\n\r\n        const possibleAltFields = ['AltQty', 'Alt_Act_Qty', 'Alt_Qty', 'Alternate_Qty', 'Actual_Qty'];\r\n\r\n        for (const field of possibleAltFields) {\r\n            if (item[field] !== undefined && item[field] !== null) {\r\n                return Number(item[field]) || 0;\r\n            }\r\n        }\r\n\r\n        return billQty * conversionFactor;\r\n    };\r\n\r\n    const fetchAllInvoices = async (refresh = false) => {\r\n        try {\r\n            if (!refresh) {\r\n                setIsLoading(true);\r\n            } else {\r\n                setIsRefreshing(true);\r\n            }\r\n\r\n            setViewMode('normal');\r\n\r\n            const data = await fetchLink({\r\n                address: `sales/salesInvoice/lrReport?reqDate=${filters.reqDate}&staffStatus=${filters.staffStatus}`,\r\n                loadingOn,\r\n                loadingOff,\r\n            });\r\n\r\n            const invoices = toArray(data.data);\r\n\r\n            const processedInvoices = invoices.map(invoice => {\r\n                if (invoice.stockDetails && Array.isArray(invoice.stockDetails)) {\r\n                    const processedStockDetails = invoice.stockDetails.map(item => ({\r\n                        ...item,\r\n                        Alt_Act_Qty: calculateAltActQty(item)\r\n                    }));\r\n\r\n                    return {\r\n                        ...invoice,\r\n                        stockDetails: processedStockDetails\r\n                    };\r\n                }\r\n                return invoice;\r\n            });\r\n\r\n            setSalesInvoices(processedInvoices);\r\n            setCostTypes(toArray(data?.others?.costTypes));\r\n            setUniqueInvolvedCost(toArray(data?.others?.uniqeInvolvedStaffs));\r\n\r\n            if (!hasInitialLoading) {\r\n                setHasInitialLoading(true);\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error fetching invoices:\", error);\r\n            toast.error(\"Failed to load invoices\");\r\n        } finally {\r\n            setIsLoading(false);\r\n            setIsRefreshing(false);\r\n        }\r\n    };\r\n\r\n\r\n    const fetchTemplates = async () => {\r\n        try {\r\n            const response = await DotPeWhatsAppService.fetchTemplates('APPROVED');\r\n\r\n\r\n            if (response.status && response.data) {\r\n                let templatesData = [];\r\n\r\n\r\n                if (Array.isArray(response.data)) {\r\n                    templatesData = response.data;\r\n                } else if (response.data.data && Array.isArray(response.data.data)) {\r\n                    templatesData = response.data.data;\r\n                } else if (response.data.templates && Array.isArray(response.data.templates)) {\r\n                    templatesData = response.data.templates;\r\n                }\r\n\r\n\r\n                if (templatesData.length > 0) {\r\n                    setTemplates(templatesData);\r\n\r\n\r\n                    templatesData.forEach(template => {\r\n                        const name = template.templateName || template.name || '';\r\n\r\n                        if (name.includes('template_text')) {\r\n                            console.log('Found template_text template!', template);\r\n                            setSelectedTemplate(name);\r\n                        }\r\n                    });\r\n                } else {\r\n                    console.warn('No templates found');\r\n                }\r\n            } else {\r\n                console.warn('Failed to fetch templates:', response.message);\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to fetch templates:', error);\r\n        }\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n        fetchTemplates();\r\n    }, []);\r\n\r\n    const fetchPendingInvoices = async () => {\r\n        try {\r\n            setIsLoading(true);\r\n            setViewMode('pending');\r\n\r\n            const data = await fetchLink({\r\n                address: `sales/salesInvoice/pendingDetails?reqDate=${filters.reqDate}`,\r\n                loadingOn,\r\n                loadingOff,\r\n            });\r\n\r\n            const invoices = toArray(data.data);\r\n\r\n            const processedInvoices = invoices.map(invoice => {\r\n                if (invoice.stockDetails && Array.isArray(invoice.stockDetails)) {\r\n                    const processedStockDetails = invoice.stockDetails.map(item => ({\r\n                        ...item,\r\n                        Alt_Act_Qty: calculateAltActQty(item)\r\n                    }));\r\n\r\n                    return {\r\n                        ...invoice,\r\n                        stockDetails: processedStockDetails\r\n                    };\r\n                }\r\n                return invoice;\r\n            });\r\n\r\n            setSalesInvoices(processedInvoices);\r\n\r\n            if (data?.others?.costTypes) {\r\n                setCostTypes(toArray(data?.others?.costTypes));\r\n            }\r\n            if (data?.others?.uniqeInvolvedStaffs) {\r\n                setUniqueInvolvedCost(toArray(data?.others?.uniqeInvolvedStaffs));\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error fetching pending invoices:\", error);\r\n            toast.error(\"Failed to load pending invoices\");\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n\r\n\r\n    const toggleViewMode = async () => {\r\n        if (viewMode === 'normal') {\r\n            await fetchPendingInvoices();\r\n        } else {\r\n            await fetchAllInvoices(true);\r\n        }\r\n    };\r\n\r\n    const fetchCostCenterData = async () => {\r\n        try {\r\n            const costCenterData = await fetchLink({\r\n                address: \"masters/erpCostCenter/dropDown\"\r\n            });\r\n            setCostCenterData(toArray(costCenterData.data));\r\n        } catch (error) {\r\n            console.error(\"Error fetching cost center data:\", error);\r\n            toast.error(\"Failed to load cost center data\");\r\n        }\r\n    };\r\n\r\n    // Initial data fetch\r\n    useEffect(() => {\r\n        const fetchInitialData = async () => {\r\n            try {\r\n                setIsLoading(true);\r\n                await Promise.all([\r\n                    fetchAllInvoices(),\r\n                    fetchCostCenterData()\r\n                ]);\r\n            } catch (error) {\r\n                console.error(\"Error fetching initial data:\", error);\r\n                toast.error(\"Failed to load initial data\");\r\n            } finally {\r\n                setIsLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchInitialData();\r\n    }, []); // Empty dependency array for initial load only\r\n\r\n    // Fetch normal invoices when trigger or staffStatus changes, but only in normal mode\r\n    useEffect(() => {\r\n        if (viewMode === 'normal') {\r\n            fetchAllInvoices(true);\r\n        }\r\n    }, [filters.fetchTrigger, filters.staffStatus, viewMode]);\r\n\r\n    // Fetch normal invoices when date changes, but only in normal mode\r\n    useEffect(() => {\r\n        if (viewMode === 'normal' && hasInitialLoading) {\r\n            fetchAllInvoices(true);\r\n        }\r\n    }, [filters.reqDate, viewMode, hasInitialLoading]);\r\n\r\n    // Fetch pending invoices when date changes, but only in pending mode\r\n    useEffect(() => {\r\n        if (viewMode === 'pending' && hasInitialLoading) {\r\n            fetchPendingInvoices();\r\n        }\r\n    }, [filters.reqDate, viewMode, hasInitialLoading]);\r\n\r\n    useEffect(() => {\r\n        if (multiPrint.open) {\r\n            const timer = setTimeout(() => {\r\n                if (multiPrintRef.current) {\r\n                    setPrintReady(true);\r\n                }\r\n            }, 300);\r\n\r\n            return () => clearTimeout(timer);\r\n        } else {\r\n            setPrintReady(false);\r\n        }\r\n    }, [multiPrint.open, multiPrint.doIds, multiPrint.docType]);\r\n\r\n    const showSnackbar = (message, severity = \"success\") => {\r\n        setSnackbar({\r\n            open: true,\r\n            message,\r\n            severity,\r\n        });\r\n    };\r\n\r\n    const closeWhatsAppDialog = () => {\r\n        setWhatsappDialog({\r\n            open: false,\r\n            order: null,\r\n            loading: false,\r\n            method: 'template'\r\n        });\r\n        setSelectedTemplate(\"\");\r\n    };\r\n\r\n    const getPDFUrlSimple = (order) => {\r\n        const baseUrl = api;\r\n\r\n\r\n        const formattedInvoiceNo = order.Do_Inv_No.replace(/_/g, '/');\r\n\r\n\r\n        const encodedInvoiceNo = btoa(formattedInvoiceNo);\r\n\r\n        return `${baseUrl}sales/downloadPdf?Do_Inv_No=${encodedInvoiceNo}`;\r\n    };\r\n\r\n\r\n    const generateInvoicePDF = async (order, companyId) => {\r\n        try {\r\n\r\n\r\n            const requestBody = {\r\n                invoiceId: order.Do_Inv_No,\r\n                companyId: companyId,\r\n                invoiceData: {\r\n\r\n                    Do_Inv_No: order.Do_Inv_No,\r\n                    Total_Invoice_value: order.Total_Invoice_value || 0,\r\n                    retailerNameGet: order.retailerNameGet || order.Retailer_Name || 'Customer',\r\n\r\n\r\n                    Do_Date: order.Do_Date || order.So_Date,\r\n                    So_No: order.So_No || order.Do_No || 'N/A',\r\n                    Retailer_Name: order.Retailer_Name || order.retailerNameGet,\r\n                    Retailer_Address: order.Retailer_Address || 'Address not available',\r\n                    Retailer_GSTIN: order.Retailer_GSTIN || 'Not Available',\r\n\r\n\r\n                    CSGT_Total: order.CSGT_Total || 0,\r\n                    SGST_Total: order.SGST_Total || 0,\r\n                    IGST_Total: order.IGST_Total || 0,\r\n                    Round_off: order.Round_off || 0,\r\n                    CSGT_Percentage: order.CSGT_Percentage || 0,\r\n                    SGST_Percentage: order.SGST_Percentage || 0,\r\n                    IGST_Percentage: order.IGST_Percentage || 0,\r\n\r\n\r\n                    stockDetails: order.stockDetails || order.ProductList || []\r\n                }\r\n            };\r\n\r\n            console.log('Request body prepared:', requestBody);\r\n\r\n\r\n            const response = await fetchLink({\r\n                address: \"sales/generatePdf\",\r\n                method: \"POST\",\r\n                bodyData: requestBody,\r\n                loadingOn,\r\n                loadingOff,\r\n            });\r\n\r\n\r\n\r\n            return response;\r\n\r\n        } catch (error) {\r\n            console.error('Error generating PDF:', error);\r\n            throw error;\r\n        }\r\n    };\r\n\r\n\r\n    const generateAndStorePDF = async (order) => {\r\n        try {\r\n            setPdfGeneration({ loading: true, pdfUrl: null, error: null });\r\n\r\n\r\n            const storage = JSON.parse(localStorage.getItem(\"user\"));\r\n            const companyId = storage?.Company_id;\r\n\r\n            if (!companyId) {\r\n                throw new Error('Company ID not found');\r\n            }\r\n\r\n\r\n            const response = await generateInvoicePDF(order, companyId);\r\n\r\n            if (response.success && response.data) {\r\n                const pdfUrl = response.data.pdfUrl;\r\n\r\n                setPdfGeneration({\r\n                    loading: false,\r\n                    pdfUrl: pdfUrl,\r\n                    token: response.data.token,\r\n                    fileName: response.data.fileName,\r\n                    error: null\r\n                });\r\n\r\n                return {\r\n                    pdfUrl: pdfUrl,\r\n                    token: response.data.token,\r\n                    fileName: response.data.fileName\r\n                };\r\n            } else {\r\n                throw new Error(response.message || 'Failed to generate PDF');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error generating PDF:', error);\r\n            setPdfGeneration({\r\n                loading: false,\r\n                pdfUrl: null,\r\n                error: error.message\r\n            });\r\n            throw error;\r\n        }\r\n    };\r\n\r\n    const handleWhatsAppClick = async (order) => {\r\n        try {\r\n\r\n            setWhatsappDialog({\r\n                open: true,\r\n                order: order,\r\n                loading: true,\r\n                method: 'pdf-link'\r\n            });\r\n\r\n\r\n            const pdfData = await generateAndStorePDF(order);\r\n\r\n\r\n            const recipientPhone = await getRecipientPhone(order);\r\n\r\n            if (!recipientPhone) {\r\n                showSnackbar('Customer phone number not found', 'error');\r\n                closeWhatsAppDialog();\r\n                return;\r\n            }\r\n\r\n\r\n            setWhatsappDialog({\r\n                open: true,\r\n                order: {\r\n                    ...order,\r\n                    recipientPhone,\r\n                    generatedPdfUrl: pdfData.pdfUrl,\r\n                    pdfToken: pdfData.token,\r\n                    pdfFileName: pdfData.fileName\r\n                },\r\n                loading: false,\r\n                method: 'pdf-link'\r\n            });\r\n\r\n        } catch (error) {\r\n            console.error('Error in handleWhatsAppClick:', error);\r\n            showSnackbar(`Failed to prepare PDF: ${error.message}`, 'error');\r\n            closeWhatsAppDialog();\r\n        }\r\n    };\r\n\r\n\r\n\r\n    const sendWhatsAppMessage = async () => {\r\n        const { order, method } = whatsappDialog;\r\n\r\n        setWhatsappDialog(prev => ({ ...prev, loading: true }));\r\n\r\n        try {\r\n\r\n\r\n\r\n            const pdfUrl = getPDFUrlSimple(order);\r\n\r\n\r\n            const mainOrder = order.ConvertedInvoice?.[0] || order;\r\n            const invoiceNo = order.Do_Inv_No || 'N/A';\r\n            const customerName = order.retailerNameGet || order.Retailer_Name || 'Customer';\r\n            const formattedDate = new Date(mainOrder.Do_Date || order.Do_Date).toLocaleDateString('en-GB');\r\n            const totalAmount = (mainOrder.Total_Invoice_value || order.Total_Invoice_value || 0).toFixed(2);\r\n\r\n\r\n            try {\r\n\r\n                const testResponse = await fetch(pdfUrl, { method: 'HEAD' });\r\n\r\n            } catch (testError) {\r\n                console.warn('PDF URL test warning:', testError.message);\r\n            }\r\n            //  const data=downloadInvoicePDF(invoiceNo);\r\n\r\n            const payload = {\r\n                template: {\r\n                    name: \"template_text\",\r\n                    language: \"en\"\r\n                },\r\n                source: \"crm\",\r\n                // wabaNumber: \"919944888054\",\r\n                wabaNumber: Dot_Pe_Number,\r\n                recipients: [`91${order.recipientPhone}`],\r\n                clientRefId: `invoice_${invoiceNo.replace(/\\//g, '_')}_${Date.now()}`,\r\n                params: {\r\n                    // header: `http://192.168.1.39:9001/uploads/invoices/1/${invoiceNo}.pdf`, \r\n                    body: [\r\n                        `${customerName}`,\r\n                        `${invoiceNo}`,\r\n                        `${formattedDate}`,\r\n                        `${totalAmount}`,\r\n                        'SM TRADERS',\r\n                        `${pdfUrl}`\r\n                    ]\r\n                }\r\n            };\r\n\r\n\r\n            const response = await DotPeWhatsAppService.sendTemplateMessage(payload);\r\n\r\n            if (response?.status) {\r\n                showSnackbar('WhatsApp message sent successfully!', 'success');\r\n                closeWhatsAppDialog();\r\n            } else {\r\n                console.error('WhatsApp API error:', response);\r\n                throw new Error(response?.message || 'Failed to send message');\r\n            }\r\n\r\n        } catch (error) {\r\n\r\n            console.error('Error sending WhatsApp:', error);\r\n            showSnackbar(`Failed to send message: ${error.message}`, 'error');\r\n            setWhatsappDialog(prev => ({ ...prev, loading: false }));\r\n        }\r\n    };\r\n\r\n\r\n\r\n    const renderWhatsAppDialogContent = () => {\r\n        const { order, method } = whatsappDialog;\r\n\r\n        return (\r\n            <Box>\r\n                <Box mb={2}>\r\n                    <Typography variant=\"subtitle2\" color=\"textSecondary\">\r\n                        Order: <strong>{order?.Do_Inv_No}</strong>\r\n                    </Typography>\r\n                    <Typography variant=\"subtitle2\" color=\"textSecondary\">\r\n                        Customer: <strong>{order?.retailerNameGet}</strong>\r\n                    </Typography>\r\n                    <Typography variant=\"subtitle2\" color=\"textSecondary\">\r\n                        Phone: <strong>{order?.Party_Mobile_1 || order?.recipientPhone}</strong>\r\n                    </Typography>\r\n                    <Typography variant=\"subtitle2\" color=\"textSecondary\">\r\n                        Amount: <strong>{NumberFormat(order?.Total_Invoice_value)}</strong>\r\n                    </Typography>\r\n                </Box>\r\n\r\n                <Divider sx={{ my: 2 }} />\r\n\r\n                {/* PDF Generation Status */}\r\n                {pdfGeneration.loading && (\r\n                    <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, my: 2, p: 2, bgcolor: 'info.light', borderRadius: 1 }}>\r\n                        {/* <CircularProgress size={20} /> */}\r\n                        <Typography variant=\"body2\">\r\n                            Generating PDF document...\r\n                        </Typography>\r\n                    </Box>\r\n                )}\r\n\r\n                {pdfGeneration.error && (\r\n                    <Alert severity=\"error\" sx={{ my: 2 }}>\r\n                        <Typography variant=\"body2\">\r\n                            Failed to generate PDF: {pdfGeneration.error}\r\n                        </Typography>\r\n                        <Button\r\n                            size=\"small\"\r\n                            onClick={() => generateAndStorePDF(order)}\r\n                            sx={{ mt: 1 }}\r\n                        >\r\n                            Retry PDF Generation\r\n                        </Button>\r\n                    </Alert>\r\n                )}\r\n\r\n                {pdfGeneration.pdfUrl && !pdfGeneration.loading && (\r\n                    <Alert severity=\"success\" sx={{ my: 2 }}>\r\n                        <Typography variant=\"body2\" fontWeight=\"bold\">\r\n                             PDF generated successfully!\r\n                        </Typography>\r\n                        <Box sx={{ mt: 1 }}>\r\n                            <Typography variant=\"caption\" display=\"block\">\r\n                                File: {pdfGeneration.fileName}\r\n                            </Typography>\r\n                            <Typography variant=\"caption\" display=\"block\">\r\n                                Secure URL generated with token\r\n                            </Typography>\r\n\r\n\r\n                            <Button\r\n                                size=\"small\"\r\n                                variant=\"outlined\"\r\n                                onClick={() => downloadInvoicePDF(\r\n                                    order.Do_Inv_No,\r\n                                    pdfGeneration.fileName\r\n                                )}\r\n                                sx={{ mt: 1 }}\r\n                                startIcon={<Print fontSize=\"small\" />}\r\n                            >\r\n                                Test Download PDF\r\n                            </Button>\r\n                        </Box>\r\n                    </Alert>\r\n                )}\r\n\r\n                <Box mb={2}>\r\n                    <Typography variant=\"subtitle1\" fontWeight=\"bold\" mb={1}>\r\n                        Choose sending method:\r\n                    </Typography>\r\n                    <RadioGroup\r\n                        value={method}\r\n                        onChange={(e) => setWhatsappDialog(prev => ({ ...prev, method: e.target.value }))}\r\n                    >\r\n                        <FormControlLabel\r\n                            value=\"pdf-link\"\r\n                            control={<Radio size=\"small\" />}\r\n                            label={\r\n                                <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                                    <span>Send PDF Download Link</span>\r\n                                    {/* {pdfGeneration.pdfUrl && (\r\n                                    // <CheckCircle fontSize=\"small\" color=\"success\" />\r\n                                )} */}\r\n                                </Box>\r\n                            }\r\n                            disabled={!pdfGeneration.pdfUrl && !pdfGeneration.loading}\r\n                        />\r\n\r\n                        <FormControlLabel\r\n                            value=\"pdf-template\"\r\n                            control={<Radio size=\"small\" />}\r\n                            label=\"Send with PDF Template\"\r\n                        />\r\n\r\n                        <FormControlLabel\r\n                            value=\"other-template\"\r\n                            control={<Radio size=\"small\" />}\r\n                            label=\"Send with Text Template\"\r\n                        />\r\n                    </RadioGroup>\r\n                </Box>\r\n\r\n                {method === 'pdf-template' && (\r\n                    <Box>\r\n                        <FormControl fullWidth variant=\"outlined\" size=\"small\">\r\n                            <InputLabel>Select PDF Template</InputLabel>\r\n                            <MuiSelect\r\n                                value={selectedTemplate}\r\n                                onChange={(e) => setSelectedTemplate(e.target.value)}\r\n                                label=\"Select PDF Template\"\r\n                            >\r\n                                <MenuItem value=\"\"><em>Select a PDF template</em></MenuItem>\r\n                                {pdfTemplates.length > 0 ? (\r\n                                    pdfTemplates.map((template) => {\r\n                                        const templateName = template.templateName || template.name;\r\n                                        const eventId = template.eventId || template.id;\r\n                                        return (\r\n                                            <MenuItem key={eventId} value={templateName}>\r\n                                                {templateName} ({template.language || 'en'})\r\n                                                {template.templateStatus && ` - ${template.templateStatus}`}\r\n                                            </MenuItem>\r\n                                        );\r\n                                    })\r\n                                ) : (\r\n                                    <MenuItem disabled>No PDF templates available</MenuItem>\r\n                                )}\r\n                            </MuiSelect>\r\n                        </FormControl>\r\n                    </Box>\r\n                )}\r\n\r\n                {method === 'other-template' && (\r\n                    <Box>\r\n                        <FormControl fullWidth variant=\"outlined\" size=\"small\">\r\n                            <InputLabel>Select Text Template</InputLabel>\r\n                            <MuiSelect\r\n                                value={selectedTemplate}\r\n                                onChange={(e) => setSelectedTemplate(e.target.value)}\r\n                                label=\"Select Text Template\"\r\n                            >\r\n                                <MenuItem value=\"\"><em>Select a text template</em></MenuItem>\r\n                                {otherTemplates.length > 0 ? (\r\n                                    otherTemplates.map((template) => {\r\n                                        const templateName = template.templateName || template.name;\r\n                                        const eventId = template.eventId || template.id;\r\n                                        return (\r\n                                            <MenuItem key={eventId} value={templateName}>\r\n                                                {templateName} ({template.language || 'en'})\r\n                                            </MenuItem>\r\n                                        );\r\n                                    })\r\n                                ) : (\r\n                                    <MenuItem disabled>No text templates available</MenuItem>\r\n                                )}\r\n                            </MuiSelect>\r\n                        </FormControl>\r\n                    </Box>\r\n                )}\r\n\r\n                {(selectedTemplate && method.includes('template')) && (\r\n                    <Box mt={3} p={2} border={1} borderColor=\"divider\" borderRadius={1}>\r\n                        <Typography variant=\"subtitle2\" fontWeight=\"bold\" mb={1}>\r\n                            Preview:\r\n                        </Typography>\r\n                        <Typography variant=\"body2\">\r\n                            <strong>Template:</strong> {selectedTemplate}<br />\r\n                            <strong>Invoice:</strong> {order?.Do_Inv_No}<br />\r\n                            <strong>Customer:</strong> {order?.retailerNameGet}<br />\r\n                            <strong>Amount:</strong> {NumberFormat(order?.Total_Invoice_value)}\r\n                            {pdfGeneration.pdfUrl && (\r\n                                <>\r\n                                    <br />\r\n                                    <strong>PDF URL:</strong> Will be included in message\r\n                                </>\r\n                            )}\r\n                        </Typography>\r\n                    </Box>\r\n                )}\r\n\r\n                {method === 'pdf-link' && pdfGeneration.pdfUrl && (\r\n                    <Box mt={3} p={2} border={1} borderColor=\"divider\" borderRadius={1}>\r\n                        <Typography variant=\"subtitle2\" fontWeight=\"bold\" mb={1}>\r\n                            PDF Link Preview:\r\n                        </Typography>\r\n                        <Typography variant=\"body2\">\r\n                            The customer will receive a WhatsApp message with a secure link to download the PDF invoice.\r\n                            <br /><br />\r\n                            <strong>Invoice PDF Details:</strong>\r\n                            <br /> File: {pdfGeneration.fileName}\r\n                            <br /> Secure encrypted link\r\n                            <br /> Valid for 7 days\r\n                            <br /> Professional invoice format\r\n                        </Typography>\r\n                    </Box>\r\n                )}\r\n            </Box>\r\n        );\r\n    };\r\n\r\n    const getRecipientPhone = async (order) => {\r\n        try {\r\n            const response = await fetchLink({\r\n                address: `masters/getlolDetails`\r\n            });\r\n\r\n            if (response && response.success && response.data) {\r\n                const retailerData = response.data.find(item =>\r\n                    Number(item.Ret_Id) === Number(order?.Retailer_Id)\r\n                );\r\n\r\n                return retailerData?.Party_Mobile_1 || order.Customer_Phone;\r\n            }\r\n            return order.Customer_Phone;\r\n        } catch (error) {\r\n            console.error('Error fetching recipient phone:', error);\r\n            return order.Customer_Phone;\r\n        }\r\n    };\r\n\r\n\r\n\r\n    const selectedTotals = useMemo(() => {\r\n        const selectedIds = multipleCostCenterUpdateValues.Do_Id;\r\n\r\n        if (!selectedIds.length) {\r\n            return { billQty: 0, altActQty: 0 };\r\n        }\r\n\r\n        let billQty = 0;\r\n        let altActQty = 0;\r\n\r\n        salesInvoices\r\n            .filter(inv => selectedIds.includes(toNumber(inv.Do_Id)))\r\n            .forEach(inv => {\r\n                if (Array.isArray(inv.stockDetails)) {\r\n                    inv.stockDetails.forEach(item => {\r\n                        billQty += Number(item.Bill_Qty) || 0;\r\n                        altActQty += Number(item.Alt_Act_Qty) || 0;\r\n                    });\r\n                }\r\n            });\r\n\r\n        return { billQty, altActQty };\r\n    }, [multipleCostCenterUpdateValues.Do_Id, salesInvoices]);\r\n\r\n    useEffect(() => {\r\n        fetchLink({ address: \"masters/erpCostCenter/dropDown\" })\r\n            .then((data) => setCostCenterData(toArray(data.data)))\r\n            .catch(console.error);\r\n    }, []);\r\n\r\n    const costTypeColumns = useMemo(() => {\r\n        const columns = costTypes\r\n            .filter((costType) => uniqueInvolvedCost.includes(toNumber(costType.Cost_Category_Id)))\r\n            .map((costType) => {\r\n                const field = `costType_${toNumber(costType.Cost_Category_Id)}`;\r\n\r\n                return {\r\n                    costType: costType.Cost_Category,\r\n                    field: field,\r\n                    columnConfig: {\r\n                        Field_Name: field,\r\n                        Fied_Data: \"string\",\r\n                        isVisible: 1,\r\n                        ColumnHeader: costType.Cost_Category,\r\n                        isCustomCell: true,\r\n                        getFilterValues: (row) => getCostTypeEmployees(row, costType.Cost_Category_Id),\r\n                        Cell: ({ row }) => {\r\n                            const names = getCostTypeEmployees(row, costType.Cost_Category_Id).join(\", \");\r\n                            return <span>{names || \"-\"}</span>;\r\n                        },\r\n                    }\r\n                };\r\n            });\r\n\r\n        return columns.sort((a, b) => {\r\n            const aName = a.costType.toLowerCase();\r\n            const bName = b.costType.toLowerCase();\r\n\r\n            if (aName.includes('broker')) return -1;\r\n            if (bName.includes('broker')) return 1;\r\n\r\n            if (aName.includes('transport')) return -1;\r\n            if (bName.includes('transport')) return 1;\r\n\r\n            return a.costType.localeCompare(b.costType);\r\n        }).map(c => c.columnConfig);\r\n    }, [costTypes, uniqueInvolvedCost]);\r\n\r\n    const filterColumns = useMemo(() => [...columns, ...costTypeColumns], [columns, costTypeColumns]);\r\n\r\n    // const fetchSalesInvoices = () => setFilters((pre) => ({ ...pre, fetchTrigger: pre.fetchTrigger + 1 }));\r\n\r\n    const onCloseAssignDialog = () =>\r\n        setFilters((prev) => ({ ...prev, assignDialog: false, selectedInvoice: null }));\r\n\r\n    const onCloseFilterDialog = () => setFilters((prev) => ({ ...prev, filterDialog: false }));\r\n\r\n    const onCloseMultipleUpdateCostCategoryDialog = () => {\r\n        setMultipleCostCenterUpdateValues(multipleStaffUpdateInitialValues);\r\n        setFilters((prev) => ({ ...prev, multipleStaffUpdateDialog: false }));\r\n    };\r\n\r\n    const onCloseMultipleStaffRemoveDialog = () => {\r\n        setMultipleStaffRemoveValues(multipleStaffRemoveInitialValues);\r\n        setFilters((prev) => ({ ...prev, multipleStaffRemoveDialog: false }));\r\n    };\r\n\r\n    const onClosePrintDialog = () => setPrintInvoice((prev) => ({ Do_Id: null, Do_Date: null, open: false }));\r\n\r\n    const onCloseKatchathDialog = () => setKatchathCopyPrint((prev) => ({ Do_Id: null, open: false }));\r\n\r\n    const onCloseDeliverySlipDialog = () => setDeliverySlipPrint((prev) => ({ Do_Id: null, Do_Date: null, open: false }));\r\n\r\n    const onChangeEmployee = (invoice, selectedOptions, costType) => {\r\n        setFilters((prev) => {\r\n            const updatedInvolvedStaffs = toArray(prev.selectedInvoice?.involvedStaffs)\r\n                .filter((emp) => !isEqualNumber(emp.Emp_Type_Id, costType.Cost_Category_Id))\r\n                .concat(selectedOptions);\r\n\r\n            return {\r\n                ...prev,\r\n                selectedInvoice: {\r\n                    ...invoice,\r\n                    involvedStaffs: updatedInvolvedStaffs,\r\n                },\r\n            };\r\n        });\r\n    };\r\n\r\n\r\n    const fetchSalesInvoices = () => {\r\n        if (viewMode === 'pending') {\r\n            fetchPendingInvoices();\r\n        } else {\r\n            setFilters((pre) => ({ ...pre, fetchTrigger: pre.fetchTrigger + 1 }));\r\n        }\r\n    };\r\n\r\n    const getPdfDownloadUrl = (invoiceId, token) => {\r\n        const baseUrl = api;\r\n\r\n        const cleanInvoiceNo = invoiceId.replace(/\\//g, '_');\r\n\r\n\r\n        const pdfParam = `${cleanInvoiceNo}`;\r\n\r\n\r\n        const url = `${baseUrl}sales/downloadPdf?Do_Inv_No=${pdfParam}`;\r\n\r\n\r\n        return url;\r\n    };\r\n    const downloadInvoicePDF = async (invoiceId, fileName = null) => {\r\n        try {\r\n\r\n            const downloadUrl = getPdfDownloadUrl(invoiceId);\r\n\r\n            const a = document.createElement('a');\r\n            a.href = downloadUrl;\r\n            a.download = fileName || `${invoiceId}.pdf`;\r\n            document.body.appendChild(a);\r\n            a.click();\r\n            document.body.removeChild(a);\r\n\r\n            return true;\r\n        } catch (error) {\r\n            console.error('Error downloading PDF:', error);\r\n            throw error;\r\n        }\r\n    };\r\n\r\n\r\n    const postAssignCostCenters = async (e) => {\r\n        e.preventDefault();\r\n        fetchLink({\r\n            address: \"sales/salesInvoice/lrReport\",\r\n            method: \"POST\",\r\n            bodyData: {\r\n                Do_Id: filters.selectedInvoice?.Do_Id,\r\n                involvedStaffs: filters.selectedInvoice?.involvedStaffs,\r\n                staffInvolvedStatus: toNumber(filters.selectedInvoice?.staffInvolvedStatus),\r\n            },\r\n            loadingOn,\r\n            loadingOff,\r\n        })\r\n            .then((data) => {\r\n                if (data.success) {\r\n                    toast.success(data.message);\r\n                    onCloseAssignDialog();\r\n                    if (viewMode === 'pending') {\r\n                        fetchPendingInvoices();\r\n                    } else {\r\n                        fetchSalesInvoices(); // This will trigger fetchTrigger\r\n                    }\r\n                } else {\r\n                    toast.error(data.message);\r\n                }\r\n            })\r\n            .catch((e2) => console.log(e2));\r\n    };\r\n\r\n    const postMultipleCostCenterUpdate = async () => {\r\n        fetchLink({\r\n            address: \"sales/salesInvoice/lrReport/multiple\",\r\n            method: \"POST\",\r\n            bodyData: {\r\n                CostCategory: toNumber(multipleCostCenterUpdateValues.CostCategory.value),\r\n                Do_Id: multipleCostCenterUpdateValues.Do_Id,\r\n                involvedStaffs: multipleCostCenterUpdateValues.involvedStaffs.map((option) => toNumber(option.value)),\r\n                staffInvolvedStatus: toNumber(multipleCostCenterUpdateValues.staffInvolvedStatus),\r\n                deliveryStatus: toNumber(multipleCostCenterUpdateValues.deliveryStatus),\r\n            },\r\n            loadingOn,\r\n            loadingOff,\r\n        }).then((data) => {\r\n            if (data.success) {\r\n                toast.success(data.message);\r\n                onCloseMultipleUpdateCostCategoryDialog();\r\n                if (viewMode === 'pending') {\r\n                    fetchPendingInvoices();\r\n                } else {\r\n                    fetchSalesInvoices();\r\n                }\r\n            } else {\r\n                toast.error(data.message);\r\n            }\r\n        }).catch((e) => console.log(e));\r\n    };\r\n\r\n    useEffect(() => {\r\n        applyFilters();\r\n    }, [columnFilters, salesInvoices, filterColumns]);\r\n\r\n    const handleFilterChange = (column, value) => {\r\n        setColumnFilters((prevFilters) => ({\r\n            ...prevFilters,\r\n            [column]: value,\r\n        }));\r\n    };\r\n\r\n    const applyFilters = () => {\r\n        let filtered = [...salesInvoices];\r\n\r\n        for (const column of filterColumns) {\r\n            const key = column.Field_Name;\r\n            const filterVal = columnFilters[key];\r\n            if (!filterVal) continue;\r\n\r\n            if (filterVal.type === \"range\") {\r\n                const { min, max } = filterVal;\r\n                filtered = filtered.filter((item) => {\r\n                    const value = item[key];\r\n                    return (min === undefined || value >= min) && (max === undefined || value <= max);\r\n                });\r\n                continue;\r\n            }\r\n\r\n            if (filterVal.type === \"date\") {\r\n                const { start, end } = filterVal.value || {};\r\n                filtered = filtered.filter((item) => {\r\n                    const dateValue = new Date(item[key]);\r\n                    return (start === undefined || dateValue >= new Date(start)) && (end === undefined || dateValue <= new Date(end));\r\n                });\r\n                continue;\r\n            }\r\n\r\n            if (Array.isArray(filterVal)) {\r\n                const selected = filterVal.map(normalize).filter(Boolean);\r\n                if (!selected.length) continue;\r\n\r\n                if (typeof column.getFilterValues === \"function\") {\r\n                    filtered = filtered.filter((item) => {\r\n                        const rowVals = (column.getFilterValues(item) || []).map(normalize).filter(Boolean);\r\n                        return selected.some((v) => rowVals.includes(v));\r\n                    });\r\n                } else {\r\n                    filtered = filtered.filter((item) => selected.includes(normalize(item[key])));\r\n                }\r\n            }\r\n        }\r\n\r\n        setFilteredData(filtered);\r\n    };\r\n\r\n    const handleMultiPrint = useReactToPrint({\r\n        content: () => multiPrintRef.current,\r\n        documentTitle: \"Multiple Documents\",\r\n        pageStyle: currentPrintType === 'delivery_slip' ? `\r\n        @page {\r\n            margin: 0.7cm 0 0 0;\r\n            size: auto;\r\n        }\r\n        html, body {\r\n            margin: 0;\r\n            padding: 0;\r\n        }\r\n        body {\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: center;\r\n        }\r\n        @media print {\r\n            body > * {\r\n                margin-left: 0 !important;\r\n                margin-right: 0 !important;\r\n            }\r\n            .no-print {\r\n                display: none !important;\r\n            }\r\n        }\r\n    ` : currentPrintType === 'sales_invoice' ? `\r\n        @page {\r\n            size: A5 landscape;\r\n            margin: 0;\r\n        }\r\n        html, body {\r\n            margin: 0;\r\n            padding: 0;\r\n            -webkit-print-color-adjust: exact;\r\n            print-color-adjust: exact;\r\n        }\r\n        body {\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: center;\r\n        }\r\n        @media print {\r\n            body > * {\r\n                margin-left: 0 !important;\r\n                margin-right: 0 !important;\r\n            }\r\n            .no-print {\r\n                display: none !important;\r\n            }\r\n        }\r\n    ` : currentPrintType === 'katchath' ? `\r\n        @page {\r\n            margin: 0.6cm;\r\n            size: auto;\r\n        }\r\n        html, body {\r\n            margin: 0;\r\n            padding: 0;\r\n        }\r\n        body {\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: center;\r\n        }\r\n        @media print {\r\n            body > * {\r\n                margin-left: 0 !important;\r\n                margin-right: 0 !important;\r\n            }\r\n            .no-print {\r\n                display: none !important;\r\n            }\r\n        }\r\n    ` : `\r\n        @page {\r\n            margin: 0.6cm;\r\n            size: auto;\r\n        }\r\n        html, body {\r\n            margin: 0;\r\n            padding: 0;\r\n        }\r\n        body {\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: center;\r\n        }\r\n        @media print {\r\n            body > * {\r\n                margin-left: 0 !important;\r\n                margin-right: 0 !important;\r\n            }\r\n            .no-print {\r\n                display: none !important;\r\n            }\r\n        }\r\n    `,\r\n    });\r\n\r\n    const renderFilter = (column) => {\r\n        const { Field_Name, Fied_Data, ColumnHeader } = column;\r\n\r\n        if (Fied_Data === \"number\") {\r\n            return (\r\n                <div className=\"d-flex justify-content-between px-2\">\r\n                    <input\r\n                        placeholder=\"Min\"\r\n                        type=\"number\"\r\n                        className=\"bg-light border-0 m-1 p-1 w-50\"\r\n                        value={columnFilters[Field_Name]?.min ?? \"\"}\r\n                        onChange={(e) =>\r\n                            handleFilterChange(Field_Name, {\r\n                                type: \"range\",\r\n                                ...columnFilters[Field_Name],\r\n                                min: e.target.value ? parseFloat(e.target.value) : undefined,\r\n                            })\r\n                        }\r\n                    />\r\n                    <input\r\n                        placeholder=\"Max\"\r\n                        type=\"number\"\r\n                        className=\"bg-light border-0 m-1 p-1 w-50\"\r\n                        value={columnFilters[Field_Name]?.max ?? \"\"}\r\n                        onChange={(e) =>\r\n                            handleFilterChange(Field_Name, {\r\n                                type: \"range\",\r\n                                ...columnFilters[Field_Name],\r\n                                max: e.target.value ? parseFloat(e.target.value) : undefined,\r\n                            })\r\n                        }\r\n                    />\r\n                </div>\r\n            );\r\n        }\r\n\r\n        if (Fied_Data === \"date\") {\r\n            return (\r\n                <div className=\"d-flex justify-content-between px-2\">\r\n                    <input\r\n                        placeholder=\"Start Date\"\r\n                        type=\"date\"\r\n                        className=\"bg-light border-0 m-1 p-1 w-50\"\r\n                        value={columnFilters[Field_Name]?.value?.start ?? \"\"}\r\n                        onChange={(e) =>\r\n                            handleFilterChange(Field_Name, {\r\n                                type: \"date\",\r\n                                value: { ...columnFilters[Field_Name]?.value, start: e.target.value || undefined },\r\n                            })\r\n                        }\r\n                    />\r\n                    <input\r\n                        placeholder=\"End Date\"\r\n                        type=\"date\"\r\n                        className=\"bg-light border-0 m-1 p-1 w-50\"\r\n                        value={columnFilters[Field_Name]?.value?.end ?? \"\"}\r\n                        onChange={(e) =>\r\n                            handleFilterChange(Field_Name, {\r\n                                type: \"date\",\r\n                                value: { ...columnFilters[Field_Name]?.value, end: e.target.value || undefined },\r\n                            })\r\n                        }\r\n                    />\r\n                </div>\r\n            );\r\n        }\r\n\r\n        if (Fied_Data === \"string\") {\r\n            const rawValues =\r\n                typeof column.getFilterValues === \"function\"\r\n                    ? salesInvoices.flatMap((item) => column.getFilterValues(item) || [])\r\n                    : salesInvoices.map((item) => item[Field_Name]);\r\n\r\n            const distinctValues = uniqueCaseInsensitive(rawValues);\r\n\r\n            return (\r\n                <Autocomplete\r\n                    multiple\r\n                    id={`${Field_Name}-filter`}\r\n                    options={distinctValues}\r\n                    disableCloseOnSelect\r\n                    getOptionLabel={(option) => option}\r\n                    value={columnFilters[Field_Name] || []}\r\n                    onChange={(event, newValue) => handleFilterChange(Field_Name, newValue)}\r\n                    renderOption={(props, option, { selected }) => (\r\n                        <li {...props}>\r\n                            <Checkbox icon={icon} checkedIcon={checkedIcon} style={{ marginRight: 8 }} checked={selected} />\r\n                            {option}\r\n                        </li>\r\n                    )}\r\n                    isOptionEqualToValue={(opt, val) => opt === val}\r\n                    renderInput={(params) => (\r\n                        <TextField\r\n                            {...params}\r\n                            label={ColumnHeader || Field_Name}\r\n                            placeholder={`Select ${(ColumnHeader || Field_Name).replace(/_/g, \" \")}`}\r\n                        />\r\n                    )}\r\n                />\r\n            );\r\n        }\r\n\r\n        return null;\r\n    };\r\n\r\n    const postMultipleStaffRemove = async () => {\r\n        if (!multipleStaffRemoveValues.CostCategory.value || multipleStaffRemoveValues.Do_Id.length === 0) {\r\n            toast.error(\"Please select a Cost Category and at least one invoice\");\r\n            return;\r\n        }\r\n\r\n        fetchLink({\r\n            address: \"sales/salesInvoice/lrReport/multipleDelete\",\r\n            method: \"POST\",\r\n            bodyData: {\r\n                CostCategory: toNumber(multipleStaffRemoveValues.CostCategory.value),\r\n                Do_Id: multipleStaffRemoveValues.Do_Id,\r\n                staffInvolvedStatus: toNumber(multipleStaffRemoveValues.staffInvolvedStatus),\r\n                deliveryStatus: toNumber(multipleStaffRemoveValues.deliveryStatus),\r\n            },\r\n            loadingOn,\r\n            loadingOff,\r\n        }).then((data) => {\r\n            if (data.success) {\r\n                toast.success(data.message);\r\n                onCloseMultipleStaffRemoveDialog();\r\n                if (viewMode === 'pending') {\r\n                    fetchPendingInvoices();\r\n                } else {\r\n                    fetchSalesInvoices();\r\n                }\r\n            } else {\r\n                toast.error(data.message);\r\n            }\r\n        }).catch((e) => console.log(e));\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (selectAllCheckBox) {\r\n            const allDoIds = filteredData.map(item => toNumber(item.Do_Id));\r\n            setMultipleCostCenterUpdateValues(prev => ({ ...prev, Do_Id: allDoIds }));\r\n            setMultipleStaffRemoveValues(prev => ({ ...prev, Do_Id: allDoIds }));\r\n        } else {\r\n            setMultipleCostCenterUpdateValues(prev => ({ ...prev, Do_Id: [] }));\r\n            setMultipleStaffRemoveValues(prev => ({ ...prev, Do_Id: [] }));\r\n        }\r\n    }, [selectAllCheckBox, filteredData]);\r\n\r\n    const saveMultipleInvoiceValidation = useMemo(() => {\r\n        const validDoId = multipleCostCenterUpdateValues.Do_Id.length > 0;\r\n        const validCostCenterId = multipleCostCenterUpdateValues.involvedStaffs.length > 0;\r\n        const validCostCategory =\r\n            checkIsNumber(multipleCostCenterUpdateValues.CostCategory.value) &&\r\n            !isEqualNumber(multipleCostCenterUpdateValues.CostCategory.value, 0);\r\n\r\n        if (!validDoId) return false;\r\n        if (validCostCenterId && !validCostCategory) return false;\r\n        if (!validCostCenterId && validCostCategory) return false;\r\n        return true;\r\n    }, [multipleCostCenterUpdateValues]);\r\n\r\n    const removeMultipleInvoiceValidation = useMemo(() => {\r\n        const validDoId = multipleStaffRemoveValues.Do_Id.length > 0;\r\n        const validCostCategory =\r\n            checkIsNumber(multipleStaffRemoveValues.CostCategory.value) &&\r\n            !isEqualNumber(multipleStaffRemoveValues.CostCategory.value, 0);\r\n\r\n        return validDoId && validCostCategory;\r\n    }, [multipleStaffRemoveValues]);\r\n\r\n    if (isLoading && !hasInitialLoading) {\r\n        return (\r\n            <div className=\"d-flex justify-content-center align-items-center\" style={{ height: '400px' }}>\r\n                <Box sx={{ display: 'flex', flexDirection: 'column', alignItems: 'center', gap: 2 }}>\r\n                    <div className=\"text-muted\">\r\n                        Loading {viewMode === 'pending' ? 'Pending' : 'Sales'} Invoices...\r\n                    </div>\r\n                </Box>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    // Add this near your other functions\r\n    const refreshData = () => {\r\n        if (viewMode === 'pending') {\r\n            fetchPendingInvoices();\r\n        } else {\r\n            fetchAllInvoices(true);\r\n        }\r\n    };\r\n    return (\r\n        <>\r\n            <FilterableTable\r\n                title={viewMode === 'pending' ? \"Pending Invoices\" : \"Sales Invoice\"}\r\n                columns={[\r\n                    {\r\n                        Field_Name: \"Select\",\r\n                        isVisible: 1,\r\n                        isCustomCell: true,\r\n                        Cell: ({ row }) => {\r\n                            const isSelected = multipleCostCenterUpdateValues.Do_Id.includes(toNumber(row.Do_Id));\r\n                            return (\r\n                                <Checkbox\r\n                                    onFocus={(e) => {\r\n                                        e.target.blur();\r\n                                    }}\r\n                                    checked={isSelected}\r\n                                    onChange={() => {\r\n                                        if (isSelected) {\r\n                                            setMultipleCostCenterUpdateValues((prev) => ({\r\n                                                ...prev,\r\n                                                Do_Id: prev.Do_Id.filter((item) => !isEqualNumber(item, row.Do_Id)),\r\n                                            }));\r\n                                            setMultipleStaffRemoveValues((prev) => ({\r\n                                                ...prev,\r\n                                                Do_Id: prev.Do_Id.filter((item) => !isEqualNumber(item, row.Do_Id)),\r\n                                            }));\r\n                                        } else {\r\n                                            setMultipleCostCenterUpdateValues((prev) => ({\r\n                                                ...prev,\r\n                                                Do_Id: [...prev.Do_Id, toNumber(row.Do_Id)],\r\n                                            }));\r\n                                            setMultipleStaffRemoveValues((prev) => ({\r\n                                                ...prev,\r\n                                                Do_Id: [...prev.Do_Id, toNumber(row.Do_Id)],\r\n                                            }));\r\n                                        }\r\n                                    }}\r\n                                />\r\n                            );\r\n                        },\r\n                    },\r\n                    createCol(\"Do_Inv_No\", \"string\", \"Invoice\"),\r\n                    createCol(\"createdOn\", \"time\", \"Created\"),\r\n                    createCol(\"voucherTypeGet\", \"string\", \"Voucher\"),\r\n                    createCol(\"retailerNameGet\", \"string\", \"Customer\"),\r\n                    {\r\n                        Field_Name: \"BillQty\",\r\n                        isVisible: 1,\r\n                        isCustomCell: true,\r\n                        Cell: ({ row }) => {\r\n                            if (row.stockDetails && row.stockDetails.length > 0) {\r\n                                return row.stockDetails.reduce((sum, item) =>\r\n                                    sum + (Number(item.Bill_Qty) || 0), 0\r\n                                );\r\n                            }\r\n                            return 0;\r\n                        },\r\n                    },\r\n                    {\r\n                        Field_Name: \"AltActQty\",\r\n                        ColumnHeader: \"Alt Act Qty\",\r\n                        isVisible: 1,\r\n                        isCustomCell: true,\r\n                        Cell: ({ row }) =>\r\n                            RoundNumber(toArray(row.stockDetails).reduce(\r\n                                (s, i) => s + toNumber(i.Alt_Act_Qty),\r\n                                0\r\n                            ))\r\n                    },\r\n                    createCol(\"Narration\", \"string\", \"Narration\"),\r\n                    ...costTypeColumns,\r\n                    createCol(\"Delivery_Status\", \"string\", \"Delivery_Status\"),\r\n                    {\r\n                        Field_Name: \"Action\",\r\n                        isVisible: 1,\r\n                        isCustomCell: true,\r\n                        Cell: ({ row }) => {\r\n                            return (\r\n                                <ButtonActions\r\n                                    buttonsData={[\r\n                                        {\r\n                                            name: \"Add Employee\",\r\n                                            onclick: () => setFilters((prev) => ({ ...prev, assignDialog: true, selectedInvoice: row })),\r\n                                            icon: <PersonAdd fontSize=\"small\" color=\"primary\" />,\r\n                                            disabled: !AddRights && !EditRights,\r\n                                        },\r\n                                        {\r\n                                            name: \"Print Invoice\",\r\n                                            onclick: () => {\r\n                                                setPrintInvoice({ Do_Id: row.Do_Id, Do_Date: row.Do_Date, open: true })\r\n                                            },\r\n                                            icon: <Print fontSize=\"small\" color=\"primary\" />,\r\n                                            disabled: !PrintRights,\r\n                                        },\r\n                                        {\r\n                                            name: \"Delivery Slip\",\r\n                                            onclick: () => {\r\n                                                setDeliverySlipPrint({ Do_Id: row.Do_Id, Do_Date: row.Do_Date, open: true })\r\n                                            },\r\n                                            icon: <Print fontSize=\"small\" color=\"primary\" />,\r\n                                            disabled: !PrintRights,\r\n                                        },\r\n                                        {\r\n                                            name: \"Katchath Copy\",\r\n                                            onclick: () => {\r\n                                                setKatchathCopyPrint({ Do_Id: row.Do_Id, open: true })\r\n                                            },\r\n                                            icon: <Print fontSize=\"small\" color=\"primary\" />,\r\n                                            disabled: !PrintRights,\r\n                                        },\r\n                                        {\r\n                                            name: \"Send WhatsApp\",\r\n                                            onclick: () => {\r\n\r\n                                                handleWhatsAppClick(row);\r\n                                            },\r\n                                            icon: <WhatsAppIcon fontSize=\"small\" color=\"success\" />,\r\n                                            disabled: false,\r\n                                        }\r\n                                    ]}\r\n                                />\r\n                            )\r\n                        }\r\n                    },\r\n                ]}\r\n                dataArray={filteredData}\r\n                EnableSerialNumber\r\n                ButtonArea={\r\n                    <>\r\n                        <Tooltip title=\"Select All\">\r\n                            <Checkbox\r\n                                checked={selectAllCheckBox}\r\n                                onChange={e => setSelectAllCheckBox(e.target.checked)}\r\n                            />\r\n                        </Tooltip>\r\n\r\n                        <button\r\n                            type=\"button\"\r\n                            className={`btn btn-sm ${viewMode === 'pending' ? 'btn-primary' : 'btn-outline-secondary'}`}\r\n                            onClick={toggleViewMode}\r\n                            disabled={isRefreshing}\r\n                            style={{\r\n                                marginRight: '8px',\r\n                                display: 'inline-flex',\r\n                                alignItems: 'center',\r\n                                justifyContent: 'center'\r\n                            }}\r\n                        >\r\n                            <HourglassEmpty fontSize=\"small\" style={{ marginRight: '4px' }} />\r\n                            {viewMode === 'pending' ? \"New Invoices\" : \"Pending Invoice\"}\r\n                        </button>\r\n\r\n                        <IconButton\r\n                            size=\"small\"\r\n                            onClick={() => setFilters((prev) => ({ ...prev, multipleStaffUpdateDialog: true }))}\r\n                            disabled={!multipleCostCenterUpdateValues.Do_Id.length}\r\n                        >\r\n                            <PersonAdd fontSize=\"small\" />\r\n                        </IconButton>\r\n\r\n                        <IconButton\r\n                            size=\"small\"\r\n                            onClick={() => setFilters((prev) => ({ ...prev, multipleStaffRemoveDialog: true }))}\r\n                            disabled={!multipleStaffRemoveValues.Do_Id.length}\r\n                        >\r\n                            <PersonRemoveIcon fontSize=\"small\" />\r\n                        </IconButton>\r\n\r\n                        <IconButton\r\n                            size=\"small\"\r\n                            onClick={() => setFilters((prev) => ({ ...prev, filterDialog: true }))}\r\n                            disabled={isRefreshing}\r\n                        >\r\n                            <FilterAlt />\r\n                        </IconButton>\r\n\r\n                        <IconButton\r\n                            size=\"small\"\r\n                            onClick={() => {\r\n                                refreshData(); // Use the refresh function\r\n                            }}\r\n                            disabled={isRefreshing}\r\n                        >\r\n                            <Search />\r\n                        </IconButton>\r\n\r\n                        {/* Date picker - visible in both modes */}\r\n                        <input\r\n                            type=\"date\"\r\n                            className=\"cus-inpt w-auto\"\r\n                            value={filters.reqDate}\r\n                            onChange={(e) => setFilters((prev) => ({ ...prev, reqDate: e.target.value }))}\r\n                            disabled={isRefreshing}\r\n                        />\r\n\r\n                        <IconButton\r\n                            size=\"small\"\r\n                            disabled={\r\n                                !filters.docType || !multipleCostCenterUpdateValues.Do_Id.length\r\n                            }\r\n                            onClick={() => {\r\n                                setCurrentPrintType(filters.docType);\r\n                                setMultiPrint({\r\n                                    open: true,\r\n                                    doIds: multipleCostCenterUpdateValues.Do_Id,\r\n                                    docType: filters.docType\r\n                                });\r\n                            }}\r\n                        >\r\n                            <Print />\r\n                        </IconButton>\r\n\r\n                        <select\r\n                            className=\"cus-inpt w-auto rounded-5 border-0\"\r\n                            disabled={!multipleCostCenterUpdateValues.Do_Id.length}\r\n                            value={filters.docType}\r\n                            onChange={(e) => {\r\n                                const selectedIndex = e.target.selectedIndex;\r\n                                const selectedText = e.target.options[selectedIndex].text;\r\n                                setFilters((prev) => ({\r\n                                    ...prev,\r\n                                    docType: e.target.value,\r\n                                    docTypeLabel: selectedText,\r\n                                }));\r\n                            }}\r\n                        >\r\n                            <option value=\"\">SELECT TYPE</option>\r\n                            <option value=\"sales_invoice\">SALES INVOICE</option>\r\n                            <option value=\"katchath\">KATCHATH</option>\r\n                            <option value=\"delivery_slip\">DELIVERY SLIP</option>\r\n                        </select>\r\n\r\n                        {viewMode === 'normal' && (<select\r\n                            className=\"cus-inpt w-auto rounded-5 border-0\"\r\n                            value={filters.staffStatus}\r\n                            onChange={(e) => {\r\n                                setFilters((prev) => ({\r\n                                    ...prev,\r\n                                    staffStatus: Number(e.target.value)\r\n                                }));\r\n                            }}\r\n                        >\r\n                            <option value=\"1\">ALL INVOICES</option>\r\n                            <option value=\"0\">INCOMPLETED INVOICES</option>\r\n                        </select>)}\r\n\r\n                        {viewMode === 'pending' && (\r\n                            <span className=\"ms-2 fw-bold text-primary\">\r\n                                Viewing Pending Invoices ({salesInvoices.length} found)\r\n                            </span>\r\n                        )}\r\n\r\n                        {multipleCostCenterUpdateValues.Do_Id.length > 0 && (\r\n                            <div className=\"d-flex gap-4 mb-0 p-0\">\r\n                                <div>\r\n                                    <strong>Total Bill Qty:</strong>{\" \"}\r\n                                    {selectedTotals.billQty}\r\n                                </div>\r\n                                <div>\r\n                                    <strong>Total Alt Act Qty:</strong>{\" \"}\r\n                                    {selectedTotals.altActQty}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </>\r\n                }\r\n            />\r\n\r\n            {/* Assign dialog */}\r\n            <Dialog open={filters.assignDialog} onClose={onCloseAssignDialog} maxWidth=\"lg\" fullWidth>\r\n                <DialogTitle>\r\n                    Assign Cost Centers: <span className=\"text-primary\">{filters.selectedInvoice?.Do_Inv_No}</span>\r\n                </DialogTitle>\r\n                <form onSubmit={postAssignCostCenters}>\r\n                    <DialogContent>\r\n                        <div className=\"row\">\r\n                            {costTypes\r\n                                .filter(\r\n                                    (costType) =>\r\n                                        ![\"Broker\", \"Transport\"].some((keyword) => String(costType?.Cost_Category).includes(keyword))\r\n                                )\r\n                                .map((costType, index) => {\r\n                                    const invoiceEmployee = toArray(filters.selectedInvoice?.involvedStaffs);\r\n                                    const empCostType = invoiceEmployee\r\n                                        .filter((emp) => isEqualNumber(emp.Emp_Type_Id, costType.Cost_Category_Id))\r\n                                        .map((emp) => ({ value: emp.Emp_Id, label: emp.Emp_Name }));\r\n\r\n                                    return (\r\n                                        <div className=\"col-lg-4 col-md-6 p-2\" key={index}>\r\n                                            <label>{costType.Cost_Category}</label>\r\n                                            <Select\r\n                                                value={empCostType}\r\n                                                isMulti\r\n                                                styles={customSelectStyles}\r\n                                                options={costCenterData}\r\n                                                onChange={(e) => {\r\n                                                    const values = e.map((option) => ({\r\n                                                        Do_Id: filters?.selectedInvoice?.Do_Id,\r\n                                                        Emp_Id: option.value,\r\n                                                        Emp_Name: option.label,\r\n                                                        Emp_Type_Id: costType.Cost_Category_Id,\r\n                                                        Involved_Emp_Type: costType.Cost_Category,\r\n                                                    }));\r\n                                                    onChangeEmployee(filters.selectedInvoice, values, costType);\r\n                                                }}\r\n                                                placeholder={`Select ${costType.Cost_Category}`}\r\n                                                filterOption={reactSelectFilterLogic}\r\n                                                menuPortalTarget={document.body}\r\n                                            />\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n\r\n                            <div className=\"col-lg-4 col-md-6 p-2 d-flex align-items-end\">\r\n                                <input\r\n                                    className=\"form-check-input shadow-none pointer mx-2\"\r\n                                    style={{ padding: \"0.7em\" }}\r\n                                    type=\"checkbox\"\r\n                                    id=\"removeFromList\"\r\n                                    checked={isEqualNumber(filters.selectedInvoice?.staffInvolvedStatus, 1)}\r\n                                    onChange={() => {\r\n                                        setFilters((pre) => ({\r\n                                            ...pre,\r\n                                            selectedInvoice: {\r\n                                                ...pre.selectedInvoice,\r\n                                                staffInvolvedStatus: isEqualNumber(pre.selectedInvoice?.staffInvolvedStatus, 1) ? 0 : 1,\r\n                                            },\r\n                                        }));\r\n                                    }}\r\n                                />\r\n                                <label htmlFor=\"removeFromList\" className=\"fw-bold\">\r\n                                    Remove invoice from this page\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={onCloseAssignDialog} variant=\"outlined\">\r\n                            Close\r\n                        </Button>\r\n                        <Button variant=\"contained\" type=\"submit\">\r\n                            Save\r\n                        </Button>\r\n                    </DialogActions>\r\n                </form>\r\n            </Dialog>\r\n\r\n            {/* Filter dialog */}\r\n            <Dialog open={filters.filterDialog} onClose={onCloseFilterDialog} maxWidth=\"sm\" fullWidth>\r\n                <DialogTitle>Filter Options</DialogTitle>\r\n                <DialogContent>\r\n                    <div className=\"row\">\r\n                        {filterColumns.map((column, index) => (\r\n                            <div className=\"col-12 p-2\" key={index}>\r\n                                {renderFilter(column)}\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={onCloseFilterDialog} variant=\"outlined\">\r\n                        Close\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n            {/* Multiple update dialog */}\r\n            <Dialog\r\n                open={filters.multipleStaffUpdateDialog}\r\n                onClose={onCloseMultipleUpdateCostCategoryDialog}\r\n                maxWidth=\"sm\"\r\n                fullWidth\r\n            >\r\n                <DialogTitle>Update Cost Category</DialogTitle>\r\n                <DialogContent>\r\n                    <div className=\"py-2\">\r\n                        <label>Cost Category</label>\r\n                        <Select\r\n                            value={multipleCostCenterUpdateValues.CostCategory}\r\n                            styles={customSelectStyles}\r\n                            options={costTypes\r\n                                .filter(\r\n                                    (costType) =>\r\n                                        ![\"Broker\", \"Transport\"].some((keyword) => String(costType?.Cost_Category).includes(keyword))\r\n                                )\r\n                                .map((costType) => ({\r\n                                    value: costType.Cost_Category_Id,\r\n                                    label: costType.Cost_Category,\r\n                                }))}\r\n                            onChange={(e) => setMultipleCostCenterUpdateValues((prev) => ({ ...prev, CostCategory: e }))}\r\n                            placeholder=\"Select Cost Category\"\r\n                            filterOption={reactSelectFilterLogic}\r\n                            menuPortalTarget={document.body}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"py-2\">\r\n                        <label>Staff</label>\r\n                        <Select\r\n                            value={multipleCostCenterUpdateValues.involvedStaffs}\r\n                            isMulti\r\n                            styles={customSelectStyles}\r\n                            options={costCenterData}\r\n                            onChange={(e) => setMultipleCostCenterUpdateValues((prev) => ({ ...prev, involvedStaffs: e }))}\r\n                            placeholder=\"Select Staff\"\r\n                            filterOption={reactSelectFilterLogic}\r\n                            menuPortalTarget={document.body}\r\n                            closeMenuOnSelect={false}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"py-2\">\r\n                        <label>Delivery Status</label>\r\n                        <select\r\n                            className=\"cus-inpt p-1\"\r\n                            onChange={e => setMultipleCostCenterUpdateValues(pre => ({ ...pre, deliveryStatus: e.target.value }))}\r\n                            value={multipleCostCenterUpdateValues.deliveryStatus}\r\n                        >\r\n                            <option value={5}>Pending</option>\r\n                            <option value={7}>Delivered</option>\r\n                            <option value={6}>Return</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div className=\"py-2\">\r\n                        <input\r\n                            className=\"form-check-input shadow-none pointer mx-2\"\r\n                            style={{ padding: \"0.7em\" }}\r\n                            type=\"checkbox\"\r\n                            id=\"removeFromList\"\r\n                            checked={isEqualNumber(multipleCostCenterUpdateValues.staffInvolvedStatus, 1)}\r\n                            onChange={() => {\r\n                                setMultipleCostCenterUpdateValues((pre) => ({\r\n                                    ...pre,\r\n                                    staffInvolvedStatus: isEqualNumber(pre.staffInvolvedStatus, 1) ? 0 : 1,\r\n                                }));\r\n                            }}\r\n                        />\r\n                        <label htmlFor=\"removeFromList\" className=\"fw-bold\">\r\n                            Remove invoice from this page\r\n                        </label>\r\n                    </div>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={onCloseMultipleUpdateCostCategoryDialog} variant=\"outlined\">\r\n                        Close\r\n                    </Button>\r\n                    <Button variant=\"contained\" onClick={postMultipleCostCenterUpdate} disabled={!saveMultipleInvoiceValidation}>\r\n                        Save\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n            {/* bill print dialog */}\r\n            <Dialog\r\n                open={printInvoice.open}\r\n                onClose={onClosePrintDialog}\r\n                maxWidth=\"lg\"\r\n                fullWidth\r\n            >\r\n                <DialogTitle>Bill Print Preview</DialogTitle>\r\n                <DialogContent>\r\n                    <InvoiceTemplate\r\n                        Do_Id={printInvoice.Do_Id}\r\n                        Do_Date={printInvoice.Do_Date}\r\n                        loadingOn={loadingOn}\r\n                        loadingOff={loadingOff}\r\n                    />\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button variant=\"outlined\" onClick={onClosePrintDialog}>Close</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n            {/* katchathCopyPrint */}\r\n            <Dialog\r\n                open={katchathCopyPrint.open}\r\n                onClose={onCloseKatchathDialog}\r\n                maxWidth=\"lg\"\r\n                fullWidth\r\n            >\r\n                <DialogTitle>Bill Print Preview</DialogTitle>\r\n                <DialogContent>\r\n                    <KatchathCopy\r\n                        Do_Id={katchathCopyPrint.Do_Id}\r\n                        loadingOn={loadingOn}\r\n                        loadingOff={loadingOff}\r\n                    />\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button variant=\"outlined\" onClick={onCloseKatchathDialog}>Close</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n            {/* delivery slip dialog */}\r\n            <Dialog\r\n                open={deliverySlipPrint.open}\r\n                onClose={onCloseDeliverySlipDialog}\r\n                maxWidth=\"lg\"\r\n                fullWidth\r\n            >\r\n                <DialogTitle>Delivery Slip Preview</DialogTitle>\r\n                <DialogContent>\r\n                    <DeliverysSlipPrint\r\n                        Do_Id={deliverySlipPrint.Do_Id}\r\n                        loadingOn={loadingOn}\r\n                        loadingOff={loadingOff}\r\n                    />\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button variant=\"outlined\" onClick={onCloseDeliverySlipDialog}>Close</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n            {/* Multiple Staff Remove Dialog */}\r\n            <Dialog\r\n                open={filters.multipleStaffRemoveDialog}\r\n                onClose={onCloseMultipleStaffRemoveDialog}\r\n                maxWidth=\"sm\"\r\n                fullWidth\r\n            >\r\n                <DialogTitle>Remove Staff from Cost Category</DialogTitle>\r\n                <DialogContent>\r\n                    <div className=\"py-2\">\r\n                        <label>Cost Category to Remove</label>\r\n                        <Select\r\n                            value={multipleStaffRemoveValues.CostCategory}\r\n                            styles={customSelectStyles}\r\n                            options={costTypes\r\n                                .filter(\r\n                                    (costType) =>\r\n                                        ![\"Broker\", \"Transport\"].some((keyword) => String(costType?.Cost_Category).includes(keyword))\r\n                                )\r\n                                .map((costType) => ({\r\n                                    value: costType.Cost_Category_Id,\r\n                                    label: costType.Cost_Category,\r\n                                }))}\r\n                            onChange={(e) => setMultipleStaffRemoveValues((prev) => ({ ...prev, CostCategory: e }))}\r\n                            placeholder=\"Select Cost Category to Remove\"\r\n                            filterOption={reactSelectFilterLogic}\r\n                            menuPortalTarget={document.body}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"py-2\">\r\n                        <label>Delivery Status</label>\r\n                        <select\r\n                            className=\"cus-inpt p-1\"\r\n                            onChange={e => setMultipleStaffRemoveValues(pre => ({ ...pre, deliveryStatus: e.target.value }))}\r\n                            value={multipleStaffRemoveValues.deliveryStatus}\r\n                        >\r\n                            <option value={5}>Pending</option>\r\n                            <option value={7}>Delivered</option>\r\n                            <option value={6}>Return</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div className=\"py-2\">\r\n                        <input\r\n                            className=\"form-check-input shadow-none pointer mx-2\"\r\n                            style={{ padding: \"0.7em\" }}\r\n                            type=\"checkbox\"\r\n                            id=\"removeFromListRemove\"\r\n                            checked={isEqualNumber(multipleStaffRemoveValues.staffInvolvedStatus, 1)}\r\n                            onChange={() => {\r\n                                setMultipleStaffRemoveValues((pre) => ({\r\n                                    ...pre,\r\n                                    staffInvolvedStatus: isEqualNumber(pre.staffInvolvedStatus, 1) ? 0 : 1,\r\n                                }));\r\n                            }}\r\n                        />\r\n                        <label htmlFor=\"removeFromListRemove\" className=\"fw-bold\">\r\n                            Remove invoice from this page\r\n                        </label>\r\n                    </div>\r\n\r\n                    <div className=\"py-2 text-muted\">\r\n                        <small>\r\n                            This will remove all staff members of the selected Cost Category from {multipleStaffRemoveValues.Do_Id.length} selected invoices.\r\n                        </small>\r\n                    </div>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={onCloseMultipleStaffRemoveDialog} variant=\"outlined\">\r\n                        Cancel\r\n                    </Button>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"error\"\r\n                        onClick={postMultipleStaffRemove}\r\n                        disabled={!removeMultipleInvoiceValidation}\r\n                    >\r\n                        Remove Staff\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n            {/* Multiple print dialog */}\r\n            <Dialog\r\n                open={multiPrint.open}\r\n                onClose={() => setMultiPrint({ open: false, doIds: [], docType: \"\" })}\r\n                maxWidth=\"lg\"\r\n                fullWidth\r\n            >\r\n                <DialogContent dividers>\r\n                    <div ref={multiPrintRef}>\r\n                        {multiPrint.docType === \"sales_invoice\" && (\r\n                            <InvoiceTemplate\r\n                                Do_Ids={multiPrint.doIds}\r\n                                loadingOn={loadingOn}\r\n                                loadingOff={loadingOff}\r\n                                isCombinedPrint={true}\r\n                            />\r\n                        )}\r\n\r\n                        {multiPrint.docType === \"katchath\" && (\r\n                            <KatchathCopy\r\n                                Do_Ids={multiPrint.doIds}\r\n                                loadingOn={loadingOn}\r\n                                loadingOff={loadingOff}\r\n                                isCombinedPrint={true}\r\n                            />\r\n                        )}\r\n\r\n                        {multiPrint.docType === \"delivery_slip\" && (\r\n                            <DeliverysSlipPrint\r\n                                Do_Ids={multiPrint.doIds}\r\n                                loadingOn={loadingOn}\r\n                                loadingOff={loadingOff}\r\n                                isCombinedPrint={true}\r\n                            />\r\n                        )}\r\n                    </div>\r\n                </DialogContent>\r\n\r\n                <DialogActions className=\"no-print\">\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        onClick={() => { handleMultiPrint() }}\r\n                        startIcon={<Print />}\r\n                    >\r\n                        Print All\r\n                    </Button>\r\n                    <Button\r\n                        variant=\"outlined\"\r\n                        onClick={() =>\r\n                            setMultiPrint({ open: false, doIds: [], docType: \"\" })\r\n                        }\r\n                    >\r\n                        Close\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n            <Dialog\r\n                open={whatsappDialog.open}\r\n                onClose={closeWhatsAppDialog}\r\n                maxWidth=\"sm\"\r\n                fullWidth\r\n            >\r\n                <DialogTitle>Send WhatsApp Message</DialogTitle>\r\n                <DialogContent>\r\n                    {renderWhatsAppDialogContent()}\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button\r\n                        onClick={closeWhatsAppDialog}\r\n                        disabled={whatsappDialog.loading}\r\n                    >\r\n                        Cancel\r\n                    </Button>\r\n                    <Button\r\n                        onClick={sendWhatsAppMessage}\r\n                        variant=\"contained\"\r\n                        color=\"success\"\r\n                        startIcon={<WhatsAppIcon />}\r\n                        disabled={\r\n                            whatsappDialog.loading ||\r\n                            (whatsappDialog.method === 'template' && !selectedTemplate)\r\n                        }\r\n                    >\r\n                        {whatsappDialog.loading ? 'Sending...' : 'Send WhatsApp'}\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n            <Snackbar\r\n                open={snackbar.open}\r\n                autoHideDuration={6000}\r\n                onClose={() => setSnackbar(prev => ({ ...prev, open: false }))}\r\n            >\r\n                <Alert\r\n                    severity={snackbar.severity}\r\n                    onClose={() => setSnackbar(prev => ({ ...prev, open: false }))}\r\n                >\r\n                    {snackbar.message}\r\n                </Alert>\r\n            </Snackbar>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default SalesInvoiceListLRReport;","import { Fragment, useState } from 'react';\r\nimport {\r\n    Table, TableBody, TableContainer, TableRow, Paper, TablePagination, TableHead, TableCell,\r\n    TableSortLabel, IconButton, Popover, MenuList, MenuItem, ListItemIcon, ListItemText,\r\n    Tooltip, Card\r\n} from '@mui/material';\r\nimport { isEqualNumber, LocalDate, LocalTime, NumberFormat } from './functions';\r\nimport { Download, KeyboardArrowDown, KeyboardArrowUp, MoreVert, ToggleOff, ToggleOn } from '@mui/icons-material';\r\nimport jsPDF from 'jspdf';\r\nimport 'jspdf-autotable';\r\nimport * as XLSX from 'xlsx';\r\nimport PropTypes from 'prop-types';\r\n\r\n/**\r\n * @typedef {Object} Column\r\n * @property {string} [Field_Name]\r\n * @property {'string'|'number'|'date'|'time'} [Fied_Data]\r\n * @property {'top'|'middle'|'bottom'} [verticalAlign]\r\n * @property {string} [ColumnHeader]\r\n * @property {string} [tdClass]\r\n * @property {0|1} [isVisible]\r\n * @property {'left'|'right'|'center'} [align]\r\n * @property {boolean} [isCustomCell]\r\n * @property {(row: object) => JSX.Element} [Cell]\r\n */\r\n\r\n/**\r\n * @typedef {Object} Menu\r\n * @property {string} [name]\r\n * @property {JSX.Element} [icon]\r\n * @property {() => void} [onclick]\r\n * @property {boolean} [disabled]\r\n */\r\n\r\n/**\r\n * @typedef {Object} FilterableTableProps\r\n * @property {Array<Object>} [dataArray]\r\n * @property {Array<Column>} [columns]\r\n * @property {Function} [onClickFun]\r\n * @property {boolean} [isExpendable]\r\n * @property {JSX.Element} [expandableComp]\r\n * @property {number} [tableMaxHeight]\r\n * @property {number} [initialPageCount]\r\n * @property {boolean} [EnableSerialNumber]\r\n * @property {'small'|'medium'|'large'} [CellSize]\r\n * @property {boolean} [disablePagination]\r\n * @property {string} [title]\r\n * @property {boolean} [PDFPrintOption]\r\n * @property {boolean} [ExcelPrintOption]\r\n * @property {boolean} [maxHeightOption]\r\n * @property {JSX.Element} [ButtonArea]\r\n * @property {Array<Menu>} [MenuButtons]\r\n * @property {number} [bodyFontSizePx]\r\n * @property {number} [headerFontSizePx]\r\n */\r\n\r\n/**\r\n * @param {FilterableTableProps} props\r\n */\r\n\r\n/**\r\n * Button Actions\r\n * @param {Array<Menu>} [buttonsData] \r\n * @param {string} [ToolTipText] \r\n */\r\n\r\nconst preprocessDataForExport = (data, columns) => {\r\n    return data.map((row) => {\r\n        const flattenedRow = {};\r\n\r\n        columns.forEach((column, index) => {\r\n            if (column.isVisible || column.Defult_Display) {\r\n                if (column.isCustomCell && column.Cell) {\r\n                    const cellContent = column.Cell({ row });\r\n\r\n                    const safeColumnHeader = column.ColumnHeader\r\n                        ? String(column.ColumnHeader).replace(/\\s+/g, '_').toLowerCase()\r\n                        : `field_${index + 1}`;\r\n\r\n                    if (typeof cellContent === 'string' || typeof cellContent === 'number' || typeof cellContent === 'bigint') {\r\n                        flattenedRow[safeColumnHeader] = cellContent;\r\n                    }\r\n                    // else if (React.isValidElement(cellContent)) {\r\n                    //     flattenedRow[safeColumnHeader] = 'null';\r\n                    // } else {\r\n                    //     flattenedRow[safeColumnHeader] = 'invalid';\r\n                    // }\r\n                } else {\r\n                    // Handle regular fields\r\n                    let key = column.Field_Name;\r\n                    flattenedRow[key] = row[key] || '';\r\n                }\r\n            }\r\n        });\r\n\r\n        return flattenedRow;\r\n    });\r\n};\r\n\r\nconst generatePDF = (dataArray, columns) => {\r\n    try {\r\n        const doc = new jsPDF();\r\n        const processedData = preprocessDataForExport(dataArray, columns);\r\n\r\n        const headers = columns\r\n            .filter((column) => column.isVisible || column.Defult_Display)\r\n            .map((column) => column.Field_Name || String(column.ColumnHeader).replace(/\\s+/g, '_').toLowerCase());\r\n\r\n        const rows = processedData.map((row) =>\r\n            headers.map((header) => row[header])\r\n        ).map((o, i) => ({ ...o, Sno: i + 1 }))\r\n\r\n        doc.autoTable({\r\n            head: [headers],\r\n            body: rows,\r\n        });\r\n\r\n        doc.save('table.pdf');\r\n    } catch (e) {\r\n        console.error(e);\r\n    }\r\n};\r\n\r\nconst exportToExcel = (dataArray, columns) => {\r\n    try {\r\n        const processedData = preprocessDataForExport(dataArray, columns);\r\n\r\n        const worksheet = XLSX.utils.json_to_sheet(processedData);\r\n        const workbook = XLSX.utils.book_new();\r\n\r\n        XLSX.utils.book_append_sheet(workbook, worksheet, 'Data');\r\n        XLSX.writeFile(workbook, 'table.xlsx');\r\n    } catch (e) {\r\n        console.error(e);\r\n    }\r\n};\r\n\r\nconst createCol = (\r\n    field = '', \r\n    type = 'string', \r\n    ColumnHeader = '', \r\n    align = 'left', \r\n    verticalAlign = 'center', \r\n    isVisible = 1\r\n) => {\r\n    return {\r\n        isVisible: isVisible,\r\n        Field_Name: field,\r\n        Fied_Data: type,\r\n        align,\r\n        verticalAlign,\r\n        ...(ColumnHeader && { ColumnHeader })\r\n    }\r\n}\r\n\r\nconst ButtonActions = ({ buttonsData = [], ToolTipText = 'Options' }) => {\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n    const popOverOpen = Boolean(anchorEl);\r\n\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Tooltip title={ToolTipText}>\r\n                <IconButton aria-describedby={popOverOpen} onClick={handleClick} className='ms-2' size='small'>\r\n                    <MoreVert />\r\n                </IconButton>\r\n            </Tooltip>\r\n\r\n            <Popover\r\n                open={popOverOpen}\r\n                anchorEl={anchorEl}\r\n                onClose={handleClose}\r\n                anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'left',\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'left',\r\n                }}\r\n            >\r\n                <MenuList>\r\n                    {buttonsData.map((btn, btnKey) => (\r\n                        <MenuItem\r\n                            key={btnKey}\r\n                            onClick={() => btn?.onclick && btn?.onclick()}\r\n                            disabled={btn?.disabled}\r\n                        >\r\n                            <ListItemIcon>{btn?.icon}</ListItemIcon>\r\n                            <ListItemText>{btn?.name}</ListItemText>\r\n                        </MenuItem>\r\n                    ))}\r\n                </MenuList>\r\n            </Popover>\r\n        </>\r\n    )\r\n}\r\n\r\nconst formatString = (val, dataType) => {\r\n    switch (dataType) {\r\n        case 'number':\r\n            return val ? NumberFormat(val) : val;\r\n        case 'date':\r\n            return val ? LocalDate(val) : val;\r\n        case 'time':\r\n            return val ? LocalTime(val) : val;\r\n        case 'string':\r\n            return val;\r\n        default:\r\n            return ''\r\n    }\r\n}\r\n\r\nconst FilterableTable = ({\r\n    dataArray = [],\r\n    columns = [],\r\n    onClickFun = null,\r\n    isExpendable = false,\r\n    expandableComp = null,\r\n    tableMaxHeight = 550,\r\n    initialPageCount = 20,\r\n    EnableSerialNumber = false,\r\n    CellSize = 'small' || 'medium',\r\n    disablePagination = false,\r\n    title = '',\r\n    PDFPrintOption = false,\r\n    ExcelPrintOption = false,\r\n    maxHeightOption = false,\r\n    ButtonArea = null,\r\n    MenuButtons = [],\r\n    bodyFontSizePx = 13,\r\n    headerFontSizePx = 13\r\n}) => {\r\n\r\n    const [page, setPage] = useState(0);\r\n    const [rowsPerPage, setRowsPerPage] = useState(initialPageCount);\r\n    const [sortCriteria, setSortCriteria] = useState([]);\r\n    const [showFullHeight, setShowFullHeight] = useState(true);\r\n    const tableHeight = (showFullHeight && maxHeightOption) ? ' max-content ' : tableMaxHeight;\r\n\r\n    const columnAlign = [\r\n        {\r\n            type: 'left',\r\n            class: 'text-start'\r\n        }, {\r\n            type: 'right',\r\n            class: 'text-end'\r\n        }, {\r\n            type: 'center',\r\n            class: 'text-center'\r\n        }\r\n    ];\r\n\r\n    const columnVerticalAlign = [\r\n        {\r\n            type: 'top',\r\n            class: ' vtop '\r\n        }, {\r\n            type: 'bottom',\r\n            class: ' vbottom '\r\n        }, {\r\n            type: 'center',\r\n            class: ' vctr '\r\n        }\r\n    ]\r\n\r\n    const handleChangePage = (event, newPage) => {\r\n        setPage(newPage);\r\n    };\r\n\r\n    const handleChangeRowsPerPage = (event) => {\r\n        setRowsPerPage(parseInt(event.target.value, 10));\r\n        setPage(0);\r\n    };\r\n\r\n    const handleSortRequest = (columnId) => {\r\n        const existingCriteria = sortCriteria.find(criteria => criteria.columnId === columnId);\r\n        if (existingCriteria) {\r\n            const isAsc = existingCriteria.direction === 'asc';\r\n            setSortCriteria(sortCriteria.map(criteria =>\r\n                criteria.columnId === columnId\r\n                    ? { ...criteria, direction: isAsc ? 'desc' : 'asc' }\r\n                    : criteria\r\n            ));\r\n        } else {\r\n            setSortCriteria([...sortCriteria, { columnId, direction: 'asc' }]);\r\n        }\r\n    };\r\n\r\n    const sortData = (data) => {\r\n        if (!sortCriteria.length) return data;\r\n\r\n        const sortedData = [...data].sort((a, b) => {\r\n            for (const criteria of sortCriteria) {\r\n                const { columnId, direction } = criteria;\r\n                const aValue = a[columnId];\r\n                const bValue = b[columnId];\r\n\r\n                if (aValue !== bValue) {\r\n                    if (direction === 'asc') {\r\n                        return aValue > bValue ? 1 : -1;\r\n                    } else {\r\n                        return aValue < bValue ? 1 : -1;\r\n                    }\r\n                }\r\n            }\r\n            return 0;\r\n        });\r\n\r\n        return sortedData;\r\n    };\r\n\r\n    const sortedData = sortData(dataArray);\r\n    const startIndex = page * rowsPerPage;\r\n    const endIndex = startIndex + rowsPerPage;\r\n    const paginatedData = sortedData.slice(startIndex, endIndex);\r\n\r\n    const RowComp = ({ row, index }) => {\r\n        const [open, setOpen] = useState(false);\r\n        const fontSize = '20px';\r\n\r\n        return (\r\n            <Fragment>\r\n                <TableRow>\r\n\r\n                    {(isExpendable === true && expandableComp) && (\r\n                        <TableCell className='border-end text-center vtop' sx={{ fontSize: `${bodyFontSizePx}px` }}>\r\n                            <IconButton size='small' onClick={() => setOpen(pre => !pre)}>\r\n                                {open ? <KeyboardArrowUp sx={{ fontSize }} /> : <KeyboardArrowDown sx={{ fontSize }} />}\r\n                            </IconButton>\r\n                        </TableCell>\r\n                    )}\r\n\r\n                    {EnableSerialNumber === true && (\r\n                        <TableCell className='border-end text-center vtop' sx={{ fontSize: `${bodyFontSizePx}px` }}>\r\n                            {(rowsPerPage * page) + index + 1}\r\n                        </TableCell>\r\n                    )}\r\n\r\n                    {columns?.map((column, columnInd) => {\r\n                        const isColumnVisible = isEqualNumber(column?.Defult_Display, 1) || isEqualNumber(column?.isVisible, 1);\r\n                        const isCustomCell = Boolean(column?.isCustomCell) && column.Cell;\r\n                        const isCommonValue = !isCustomCell;\r\n\r\n                        const tdClass = (row, Field_Name, tdIndex) => (\r\n                            column?.tdClass ? ` ${column?.tdClass({ row, Field_Name, index: tdIndex })} ` : ''\r\n                        );\r\n\r\n                        const horizondalalignClass = column.align\r\n                            ? columnAlign.find(align => align.type === String(column.align).toLowerCase())?.class\r\n                            : '';\r\n\r\n                        const verticalAlignClass = column.verticalAlign\r\n                            ? columnVerticalAlign.find(align => align.type === String(column.verticalAlign).toLowerCase())?.class\r\n                            : ' vctr ';\r\n\r\n                        if (isColumnVisible && isCommonValue) {\r\n                            const foundEntry = Object.entries(row).find(([key]) => key === column.Field_Name);\r\n\r\n                            return (\r\n                                <TableCell\r\n                                    key={columnInd}\r\n                                    className={`border-end ${horizondalalignClass} ${verticalAlignClass} ${tdClass(row, column.Field_Name, index)}`}\r\n                                    sx={{ fontSize: `${bodyFontSizePx}px` }}\r\n                                    onClick={() => onClickFun ? onClickFun(row) : console.log('Function not supplied')}\r\n                                >\r\n                                    {foundEntry ? formatString(foundEntry[1], column?.Fied_Data) : '-'}\r\n                                </TableCell>\r\n                            );\r\n                        }\r\n\r\n                        if (isColumnVisible && isCustomCell) {\r\n                            return (\r\n                                <TableCell\r\n                                    key={columnInd}\r\n                                    className={`border-end ${horizondalalignClass} ${verticalAlignClass} ${tdClass(row, column.Field_Name, index)}`}\r\n                                    sx={{ fontSize: `${bodyFontSizePx}px` }}\r\n                                >\r\n                                    {column.Cell({ row, Field_Name: column.Field_Name, index })}\r\n                                </TableCell>\r\n                            );\r\n                        }\r\n\r\n                        return (\r\n                            <TableCell\r\n                                key={columnInd}\r\n                                sx={{ fontSize: `${bodyFontSizePx}px` }}\r\n                                className={`border-end ${horizondalalignClass} ${verticalAlignClass}`}\r\n                            >\r\n                                -\r\n                            </TableCell>\r\n                        );\r\n                    })}\r\n\r\n                </TableRow>\r\n\r\n                {(isExpendable === true && expandableComp && open) && (\r\n                    <TableRow>\r\n                        <TableCell colSpan={Number(columns?.length) + (EnableSerialNumber === true ? 2 : 1)}>{expandableComp({ row, index })}</TableCell>\r\n                    </TableRow>\r\n                )}\r\n            </Fragment>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Card className='rounded-3 bg-white overflow-hidden' component={Paper}>\r\n            <div\r\n                className=\"d-flex align-items-center flex-wrap px-3 py-2 flex-row-reverse \"\r\n            >\r\n                {(PDFPrintOption || ExcelPrintOption || MenuButtons.length > 0 || maxHeightOption) && (\r\n                    <ButtonActions\r\n                        ToolTipText='Table Options'\r\n                        buttonsData={[\r\n                            ...(maxHeightOption\r\n                                ? [{\r\n                                    name: 'Max Height',\r\n                                    icon: showFullHeight\r\n                                        ? <ToggleOn fontSize=\"small\" color='primary' />\r\n                                        : <ToggleOff fontSize=\"small\" />,\r\n                                    onclick: () => setShowFullHeight(pre => !pre),\r\n                                    disabled: isEqualNumber(dataArray?.length, 0)\r\n                                }]\r\n                                : []),\r\n                            ...(PDFPrintOption\r\n                                ? [{\r\n                                    name: 'PDF Print',\r\n                                    icon: <Download fontSize=\"small\" color='primary' />,\r\n                                    onclick: () => generatePDF(dataArray, columns),\r\n                                    disabled: isEqualNumber(dataArray?.length, 0)\r\n                                }]\r\n                                : []),\r\n                            ...(ExcelPrintOption\r\n                                ? [{\r\n                                    name: 'Excel Print',\r\n                                    icon: <Download fontSize=\"small\" color='primary' />,\r\n                                    onclick: () => exportToExcel(dataArray, columns),\r\n                                    disabled: isEqualNumber(dataArray?.length, 0)\r\n                                }]\r\n                                : []),\r\n                            ...MenuButtons,\r\n                        ]}\r\n                    />\r\n                )}\r\n                {ButtonArea && ButtonArea}\r\n                {title && <h6 className='fw-bold text-muted flex-grow-1 m-0'>{title}</h6>}\r\n            </div>\r\n\r\n            <TableContainer sx={{ maxHeight: tableHeight }}>\r\n\r\n                <Table stickyHeader size={CellSize}>\r\n\r\n                    <TableHead>\r\n                        <TableRow>\r\n                            {/* Expendable column */}\r\n                            {isExpendable && expandableComp && (\r\n                                <TableCell\r\n                                    className='fw-bold border-end border-top text-center'\r\n                                    sx={{ fontSize: `${headerFontSizePx}px`, backgroundColor: '#EDF0F7' }}\r\n                                >\r\n                                    #\r\n                                </TableCell>\r\n                            )}\r\n\r\n                            {/* Serial number column */}\r\n                            {EnableSerialNumber && (\r\n                                <TableCell\r\n                                    className='fw-bold border-end border-top text-center'\r\n                                    sx={{ fontSize: `${headerFontSizePx}px`, backgroundColor: '#EDF0F7' }}\r\n                                >\r\n                                    SNo\r\n                                </TableCell>\r\n                            )}\r\n\r\n                            {/* Columns */}\r\n                            {columns.map((column, ke) => {\r\n                                const isColumnVisible = isEqualNumber(column?.Defult_Display, 1) || isEqualNumber(column?.isVisible, 1);\r\n                                const isSortable = Boolean(column?.isCustomCell) === false || !column.Cell;\r\n                                const sortCriteriaMatch = sortCriteria.find(criteria => criteria.columnId === column.Field_Name);\r\n                                const sortDirection = sortCriteriaMatch ? sortCriteriaMatch.direction : 'asc';\r\n\r\n                                if (isColumnVisible) {\r\n                                    return isSortable ? (\r\n                                        <TableCell\r\n                                            key={ke}\r\n                                            className={`fw-bold border-end border-top ` +\r\n                                                (column.align ? columnAlign.find(align => align.type === String(column.align).toLowerCase())?.class : '')}\r\n                                            sx={{ fontSize: `${headerFontSizePx}px`, backgroundColor: '#EDF0F7' }}\r\n                                            sortDirection={sortCriteriaMatch ? sortDirection : false}\r\n                                        >\r\n                                            <TableSortLabel\r\n                                                active={!!sortCriteriaMatch}\r\n                                                direction={sortDirection}\r\n                                                onClick={() => handleSortRequest(column.Field_Name)}\r\n                                            >\r\n                                                {column.ColumnHeader || column?.Field_Name?.replace(/_/g, ' ')}\r\n                                            </TableSortLabel>\r\n                                        </TableCell>\r\n                                    ) : (\r\n                                        <TableCell\r\n                                            key={ke}\r\n                                            className={\r\n                                                `${(column.ColumnHeader || column?.Field_Name)\r\n                                                    ? ' fw-bold border-end border-top p-2 appFont '\r\n                                                    : ' p-0 '\r\n                                                } ` +\r\n                                                (column.align\r\n                                                    ? columnAlign.find(align => align.type === String(column.align).toLowerCase())?.class\r\n                                                    : '')\r\n                                            }\r\n                                            sx={{ fontSize: `${headerFontSizePx}px`, backgroundColor: '#EDF0F7' }}\r\n                                        >\r\n                                            {column.ColumnHeader || column?.Field_Name?.replace(/_/g, ' ')}\r\n                                        </TableCell>\r\n                                    )\r\n                                }\r\n                                return null;\r\n                            })}\r\n                        </TableRow>\r\n                    </TableHead>\r\n\r\n                    <TableBody>\r\n                        {(disablePagination ? sortedData : paginatedData).map((row, index) => (\r\n                            <RowComp key={index} row={row} index={index} />\r\n                        ))}\r\n                        {dataArray.length === 0 && (\r\n                            <TableRow>\r\n                                <TableCell\r\n                                    colSpan={\r\n                                        columns.length +\r\n                                        ((isExpendable === true && expandableComp) ? 1 : 0) +\r\n                                        (EnableSerialNumber === true ? 1 : 0)\r\n                                    }\r\n                                    sx={{ textAlign: 'center' }}\r\n                                >\r\n                                    No Data\r\n                                </TableCell>\r\n                            </TableRow>\r\n                        )}\r\n                    </TableBody>\r\n\r\n                </Table>\r\n            </TableContainer>\r\n\r\n            {!disablePagination && paginatedData.length !== 0 && (\r\n                <div\r\n                    className=\"p-2 pb-0\"\r\n                >\r\n                    <TablePagination\r\n                        component=\"div\"\r\n                        count={dataArray.length}\r\n                        page={page}\r\n                        onPageChange={handleChangePage}\r\n                        rowsPerPage={rowsPerPage}\r\n                        onRowsPerPageChange={handleChangeRowsPerPage}\r\n                        rowsPerPageOptions={Array.from(new Set([initialPageCount, 5, 20, 50, 100, 200, 500, 1000, 2000])).sort((a, b) => a - b)}\r\n                        labelRowsPerPage=\"Rows per page\"\r\n                        showFirstButton\r\n                        showLastButton\r\n                    />\r\n                </div>\r\n            )}\r\n\r\n        </Card>\r\n    );\r\n};\r\n\r\nFilterableTable.propTypes = {\r\n    dataArray: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n    columns: PropTypes.arrayOf(PropTypes.shape({\r\n        Field_Name: PropTypes.string,\r\n        Fied_Data: PropTypes.oneOf(['string', 'number', 'date', 'time']),\r\n        ColumnHeader: PropTypes.string,\r\n        isVisible: PropTypes.oneOf([0, 1]),\r\n        align: PropTypes.oneOf(['left', 'right', 'center']),\r\n        verticalAlign: PropTypes.oneOf(['top', 'center', 'bottom']),\r\n        isCustomCell: PropTypes.bool,\r\n        Cell: PropTypes.func,\r\n        tdClass: PropTypes.func\r\n    })).isRequired,\r\n    onClickFun: PropTypes.func,\r\n    isExpendable: PropTypes.bool,\r\n    expandableComp: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\r\n    tableMaxHeight: PropTypes.number,\r\n    initialPageCount: PropTypes.number,\r\n    EnableSerialNumber: PropTypes.bool,\r\n    CellSize: PropTypes.string,\r\n    disablePagination: PropTypes.bool,\r\n    title: PropTypes.string,\r\n    PDFPrintOption: PropTypes.bool,\r\n    ExcelPrintOption: PropTypes.bool,\r\n    maxHeightOption: PropTypes.bool,\r\n    ButtonArea: PropTypes.element,\r\n    MenuButtons: PropTypes.arrayOf(PropTypes.object)\r\n};\r\n\r\nFilterableTable.defaultProps = {\r\n    dataArray: [],\r\n    columns: [],\r\n    onClickFun: null,\r\n    isExpendable: false,\r\n    expandableComp: null,\r\n    tableMaxHeight: 550,\r\n    initialPageCount: 20,\r\n    EnableSerialNumber: false,\r\n    CellSize: 'small',\r\n    disablePagination: false,\r\n    title: undefined,\r\n    PDFPrintOption: false,\r\n    ExcelPrintOption: false,\r\n    maxHeightOption: false,\r\n    ButtonArea: null,\r\n    MenuButtons: [],\r\n    headerFontSizePx: 13,\r\n    bodyFontSizePx: 13,\r\n};\r\n\r\nexport default FilterableTable;\r\n\r\nexport {\r\n    createCol,\r\n    ButtonActions,\r\n    formatString\r\n}","\r\nimport SMT_LOGO from './smt.png';\r\n\r\nexport const customTableStyles = {\r\n    table: {\r\n        style: {\r\n            width: 'auto',\r\n            backgroundColor: 'transparent',\r\n            // borderRadius: '5px',\r\n        }\r\n    },\r\n    rows: {\r\n        style: {\r\n            backgroundColor: 'transparent',\r\n        },\r\n    },\r\n    headCells: {\r\n        style: {\r\n            backgroundColor: '#6b9080f8',\r\n            color: 'white',\r\n            fontSize: '14px',\r\n            // borderRadius: '5px',\r\n        },\r\n    },\r\n};\r\n\r\nexport const customSelectStyles = {\r\n    // control: (provided, state) => ({\r\n    //     ...provided,\r\n    //     height: '45px',\r\n    //     background: 'rgba(255, 255, 255, 0.322)'\r\n    // }),\r\n    menu: (provided, state) => ({\r\n        ...provided,\r\n        zIndex: 9999,\r\n    }),\r\n    menuPortal: base => ({ ...base, zIndex: 9999 }),\r\n    groupHeading: (base) => ({\r\n        ...base,\r\n        backgroundColor: '#f5f5f5',\r\n        color: '#333',\r\n        fontWeight: 'bold',\r\n        fontSize: '14px',\r\n        padding: '8px 12px',\r\n        borderBottom: '1px solid #ddd',\r\n        textTransform: 'uppercase',\r\n    }),\r\n    option: (base, state) => ({\r\n        ...base,\r\n        backgroundColor: state.isSelected\r\n            ? '#2684FF'\r\n            : state.isFocused\r\n                ? '#E2ECF9'\r\n                : 'white',\r\n        color: state.isSelected ? 'white' : '#333',\r\n        padding: '10px 12px',\r\n    }),\r\n};\r\n\r\nexport const customSelectStyles2 = {\r\n    control: (provided, state) => ({\r\n        ...provided,\r\n        background: 'transparent',\r\n        border: 'none',\r\n        color: 'rgba(255, 255, 255, 0.322)',\r\n        // minWidth: '160px'\r\n    }),\r\n    menu: (provided, state) => ({\r\n        ...provided,\r\n        color: 'black',\r\n        zIndex: 9999,\r\n    }),\r\n};\r\n\r\nexport const MainMenu = [\r\n    {\r\n        id: 1,\r\n        headname: 'Menu ID',\r\n        variant: 'head',\r\n        align: 'left',\r\n        width: 100\r\n    },\r\n    {\r\n        id: 2,\r\n        headname: 'MenuName',\r\n    },\r\n    {\r\n        id: 3,\r\n        headname: 'Read Rights'\r\n    },\r\n    {\r\n        id: 4,\r\n        headname: 'Add Rights'\r\n    },\r\n    {\r\n        id: 5,\r\n        headname: 'Edit Rights'\r\n    },\r\n    {\r\n        id: 6,\r\n        headname: 'Delete Rights'\r\n    },\r\n    {\r\n        id: 7,\r\n        headname: 'Print Rights'\r\n    },\r\n    {\r\n        id: 8,\r\n        headname: 'Action'\r\n    }\r\n];\r\n\r\nexport const companyDetails = [\r\n    {\r\n        dataBase: 1,\r\n        name: 'SHANKAR TRADERS',\r\n        business: 'Wholesale Merchant in Dhall',\r\n        address: '32, Chitrakara Street, Madurai - 01 <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped',\r\n        logo: SMT_LOGO,\r\n        gstin: '33AADFS6973R1ZD',\r\n        phone: '984-313-1353, 984-335-5166',\r\n        fssai: '12418012000818',\r\n        bankAccount: '0021 5032 0885 122',\r\n        ifsc: 'TMBL0000002'\r\n    },\r\n    {\r\n        dataBase: 2,\r\n        name: 'SMT AGRO PRODUCTS',\r\n        business: '',\r\n        address: 'H.O: 153, Chitrakara Street, 2nd Floor, Madurai -01 <br /> G.O: 746 Puliyur, Sayanapuram, Svga <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped',\r\n        logo: SMT_LOGO,\r\n        gstin: '33ACMFS3420Q1ZQ',\r\n        phone: '0452-4371625',\r\n        fssai: '12418012000818',\r\n        bankAccount: '0025 3031 0875 947',\r\n        ifsc: 'TMBL0000002'\r\n    },\r\n    {\r\n        dataBase: 3,\r\n        name: 'BHAVANI TRADERS',\r\n        business: '',\r\n        address: 'H.O: 152-A, Chitrakara Street, Madurai -01 <br /> G.O: 30/1-Rajman Nagar, Chintamani Main Road, Mdu-01 <br /> Tax Invoice',\r\n        logo: SMT_LOGO,\r\n        gstin: '33AAEFB6728J1ZG',\r\n        phone: '958-559-7641, 958-559-7614',\r\n        fssai: '12418012000670',\r\n        bankAccount: '0021 5005 0800 309',\r\n        ifsc: 'TMBL0000002'\r\n    },\r\n]\r\n\r\nexport const erpModules = [\r\n    { name: 'PURCHASE_ORDER' },\r\n    { name: 'PURCHASE_INVOICE' },\r\n    { name: 'SALE_ORDER' },\r\n    { name: 'SALE_INVOICE' },\r\n    { name: 'JOURNAL' },\r\n    { name: 'STOCK_JOURNAL' },\r\n    { name: 'PAYMENT' },\r\n    { name: 'RECEIPT' },\r\n    { name: 'CONTRA' },\r\n]"],"names":["findStaffName","arr","involvedType","Array","isArray","row","find","x","String","empType","toLowerCase","empName","_ref","Do_Id","Do_Ids","loadingOn","loadingOff","isCombinedPrint","data","setData","useState","printRef","useRef","idsToFetch","length","useEffect","async","promises","map","id","fetchLink","address","concat","allData","Promise","all","filter","result","_result$data","success","error","console","fetchAllData","JSON","stringify","handlePrint","useReactToPrint","content","current","_jsx","ref","className","children","invoice","index","_jsxs","style","width","height","transform","margin","position","boxSizing","fontWeight","voucherTypeGet","createdByGet","LocalDateWithTime","createdOn","mailingName","mailingAddress","mailingCity","mailingNumber","lineHeight","toArray","productDetails","item","idx","itemName","quantity","textAlign","fontSize","reduce","acc","staffDetails","pageBreakAfter","breakAfter","Button","onClick","startIcon","Print","DOTPE_API_BASE","cleanApiKey","cleaned","Dot_Pe_Api_Key","replace","trim","DotPeWhatsAppService","fetchTemplates","status","arguments","undefined","_response$data","apiKey","response","axios","get","headers","message","_error$response","_error$response2","_error$response3","_error$response3$data","sendTemplateMessage","payload","_response$data2","_response$data3","_response$data4","post","timeout","_error$response4","_error$response5","_error$response6","_error$response7","_error$response8","_error$response9","_error$response10","_error$response10$dat","_error$response11","_error$response11$dat","_error$response12","statusText","statusCode","sendFreeFormMessage","_response$data5","_response$data6","_response$data7","endpoint","apiPayload","template","_error$response13","_error$response14","_error$response15","_error$response16","_error$response16$dat","_error$response17","sendInvoiceWithPDFLink","phone","invoiceId","invoiceData","order","pdfUrl","Do_Date","split","reverse","join","Date","toLocaleDateString","merchantId","name","language","wabaNumber","Dot_Pe_Number","recipients","source","type","clientRefId","now","params","body","retailerNameGet","Do_Inv_No","Total_Invoice_value","this","sendPDFAsDocument","caption","recipient","document","link","filename","icon","CheckBoxOutlineBlank","checkedIcon","CheckBox","multipleStaffUpdateInitialValues","CostCategory","label","value","involvedStaffs","staffInvolvedStatus","deliveryStatus","multipleStaffRemoveInitialValues","normalize","v","getCostTypeEmployees","invoiceOrRow","costTypeId","emp","isEqualNumber","Emp_Type_Id","_emp$Emp_Name","Emp_Name","Boolean","_filters$selectedInvo4","_filters$selectedInvo7","AddRights","EditRights","PrintRights","pageID","salesInvoices","setSalesInvoices","costCenterData","setCostCenterData","costTypes","setCostTypes","uniqueInvolvedCost","setUniqueInvolvedCost","viewMode","setViewMode","isLoading","setIsLoading","isRefreshing","setIsRefreshing","hasInitialLoading","setHasInitialLoading","currentPrintType","setCurrentPrintType","selectAllCheckBox","setSelectAllCheckBox","pdfGeneration","setPdfGeneration","parse","localStorage","getItem","loading","token","fileName","multipleCostCenterUpdateValues","setMultipleCostCenterUpdateValues","multipleStaffRemoveValues","setMultipleStaffRemoveValues","printReady","setPrintReady","columnFilters","setColumnFilters","filteredData","setFilteredData","printInvoice","setPrintInvoice","open","katchathCopyPrint","setKatchathCopyPrint","deliverySlipPrint","setDeliverySlipPrint","whatsappDialog","setWhatsappDialog","method","templates","setTemplates","selectedTemplate","setSelectedTemplate","snackbar","setSnackbar","severity","filters","setFilters","reqDate","ISOString","assignDialog","filterDialog","selectedInvoice","multipleStaffUpdateDialog","multipleStaffRemoveDialog","fetchTrigger","docType","staffStatus","multiPrint","setMultiPrint","doIds","multiPrintRef","pdfTemplates","useMemo","t","templateName","includes","otherTemplates","columns","Field_Name","Fied_Data","ColumnHeader","calculateAltActQty","Alt_Act_Qty","Number","billQty","Bill_Qty","conversionFactor","PackValue","possibleAltFields","field","fetchAllInvoices","refresh","_data$others","_data$others2","processedInvoices","stockDetails","processedStockDetails","_objectSpread","others","uniqeInvolvedStaffs","toast","templatesData","forEach","log","warn","fetchPendingInvoices","_data$others3","_data$others5","_data$others4","_data$others6","fetchCostCenterData","fetchInitialData","timer","setTimeout","clearTimeout","showSnackbar","closeWhatsAppDialog","generateAndStorePDF","storage","companyId","Company_id","Error","requestBody","Retailer_Name","So_Date","So_No","Do_No","Retailer_Address","Retailer_GSTIN","CSGT_Total","SGST_Total","IGST_Total","Round_off","CSGT_Percentage","SGST_Percentage","IGST_Percentage","ProductList","bodyData","generateInvoicePDF","getRecipientPhone","retailerData","Ret_Id","Retailer_Id","Party_Mobile_1","Customer_Phone","selectedTotals","selectedIds","altActQty","inv","toNumber","then","catch","costTypeColumns","costType","Cost_Category_Id","Cost_Category","columnConfig","isVisible","isCustomCell","getFilterValues","Cell","_ref2","names","sort","a","b","aName","bName","localeCompare","c","filterColumns","onCloseAssignDialog","prev","onCloseFilterDialog","onCloseMultipleUpdateCostCategoryDialog","onCloseMultipleStaffRemoveDialog","onClosePrintDialog","onCloseKatchathDialog","onCloseDeliverySlipDialog","fetchSalesInvoices","pre","downloadInvoicePDF","downloadUrl","getPdfDownloadUrl","baseUrl","api","cleanInvoiceNo","pdfParam","createElement","href","download","appendChild","click","removeChild","applyFilters","handleFilterChange","column","prevFilters","filtered","key","filterVal","min","max","start","end","dateValue","selected","rowVals","some","handleMultiPrint","documentTitle","pageStyle","renderFilter","_columnFilters$Field_","_columnFilters$Field_2","_columnFilters$Field_3","_columnFilters$Field_4","_columnFilters$Field_5","_columnFilters$Field_6","_columnFilters$Field_7","_columnFilters$Field_9","_columnFilters$Field_10","_columnFilters$Field_11","placeholder","onChange","e","target","parseFloat","_columnFilters$Field_8","_columnFilters$Field_12","distinctValues","values","Map","s","has","set","from","uniqueCaseInsensitive","flatMap","Autocomplete","multiple","options","disableCloseOnSelect","getOptionLabel","option","event","newValue","renderOption","props","_ref3","Checkbox","marginRight","checked","isOptionEqualToValue","opt","val","renderInput","TextField","allDoIds","saveMultipleInvoiceValidation","validDoId","validCostCenterId","validCostCategory","checkIsNumber","removeMultipleInvoiceValidation","Box","sx","display","flexDirection","alignItems","gap","_Fragment","FilterableTable","title","_ref4","isSelected","onFocus","blur","createCol","_ref5","sum","_ref6","RoundNumber","i","_ref7","ButtonActions","buttonsData","onclick","PersonAdd","color","disabled","pdfData","recipientPhone","generatedPdfUrl","pdfToken","pdfFileName","handleWhatsAppClick","WhatsAppIcon","dataArray","EnableSerialNumber","ButtonArea","Tooltip","justifyContent","HourglassEmpty","IconButton","size","PersonRemoveIcon","FilterAlt","Search","selectedIndex","selectedText","text","docTypeLabel","Dialog","onClose","maxWidth","fullWidth","DialogTitle","onSubmit","_filters$selectedInvo","_filters$selectedInvo2","_filters$selectedInvo3","preventDefault","e2","DialogContent","keyword","_filters$selectedInvo5","empCostType","Emp_Id","Select","isMulti","styles","customSelectStyles","_filters$selectedInvo6","Involved_Emp_Type","onChangeEmployee","selectedOptions","_prev$selectedInvoice","updatedInvolvedStaffs","filterOption","reactSelectFilterLogic","menuPortalTarget","padding","_pre$selectedInvoice","htmlFor","DialogActions","variant","closeMenuOnSelect","InvoiceTemplate","KatchathCopy","DeliverysSlipPrint","dividers","renderWhatsAppDialogContent","mb","Typography","NumberFormat","Divider","my","p","bgcolor","borderRadius","Alert","mt","RadioGroup","FormControlLabel","control","Radio","FormControl","InputLabel","MuiSelect","MenuItem","eventId","templateStatus","border","borderColor","_order$ConvertedInvoi","formattedInvoiceNo","encodedInvoiceNo","btoa","getPDFUrlSimple","mainOrder","ConvertedInvoice","invoiceNo","customerName","formattedDate","totalAmount","toFixed","fetch","testError","Snackbar","autoHideDuration","preprocessDataForExport","flattenedRow","Defult_Display","cellContent","safeColumnHeader","align","verticalAlign","ToolTipText","anchorEl","setAnchorEl","popOverOpen","currentTarget","MoreVert","Popover","handleClose","anchorOrigin","vertical","horizontal","transformOrigin","MenuList","btn","btnKey","ListItemIcon","ListItemText","formatString","dataType","LocalDate","LocalTime","onClickFun","isExpendable","expandableComp","tableMaxHeight","initialPageCount","CellSize","disablePagination","PDFPrintOption","ExcelPrintOption","maxHeightOption","MenuButtons","bodyFontSizePx","headerFontSizePx","page","setPage","rowsPerPage","setRowsPerPage","sortCriteria","setSortCriteria","showFullHeight","setShowFullHeight","tableHeight","columnAlign","class","columnVerticalAlign","sortedData","criteria","columnId","direction","aValue","bValue","sortData","startIndex","endIndex","paginatedData","slice","RowComp","setOpen","Fragment","TableRow","TableCell","KeyboardArrowUp","KeyboardArrowDown","columnInd","_columnAlign$find","_columnVerticalAlign$","isColumnVisible","isCommonValue","tdClass","tdIndex","horizondalalignClass","verticalAlignClass","foundEntry","Object","entries","colSpan","Card","component","Paper","ToggleOn","ToggleOff","Download","generatePDF","doc","jsPDF","processedData","rows","header","o","Sno","autoTable","head","save","exportToExcel","worksheet","XLSX","json_to_sheet","workbook","book_new","book_append_sheet","TableContainer","maxHeight","Table","stickyHeader","TableHead","backgroundColor","ke","isSortable","sortCriteriaMatch","sortDirection","_columnAlign$find2","_column$Field_Name","_columnAlign$find3","_column$Field_Name2","TableSortLabel","active","existingCriteria","isAsc","handleSortRequest","TableBody","TablePagination","count","onPageChange","handleChangePage","newPage","onRowsPerPageChange","parseInt","rowsPerPageOptions","Set","labelRowsPerPage","showFirstButton","showLastButton","defaultProps","customTableStyles","table","headCells","menu","provided","state","zIndex","menuPortal","base","groupHeading","borderBottom","textTransform","isFocused","MainMenu","headname","companyDetails","dataBase","business","logo","SMT_LOGO","gstin","fssai","bankAccount","ifsc","erpModules"],"sourceRoot":""}