"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[8800],{18800:(e,l,a)=>{a.r(l),a.d(l,{default:()=>N});var t=a(89379),r=a(65043),s=a(77739),n=a(17392),i=a(81e3),o=a(52083),d=a(84511),c=a(11906),u=a(85865),v=a(83462),h=a(26600),x=a(35316),m=a(29347),p=a(20656),g=a(97707),j=a(83560),b=a(59383),A=a(79484),y=a(3632),C=a(65074),S=a(48471),f=a(73216),_=a(70579);const N=e=>{let{loadingOn:l,loadingOff:a,AddRights:N,EditRights:D,pageID:P}=e;const T=sessionStorage.getItem("filterValues"),F={Fromdate:(0,g.ny)(),Todate:(0,g.ny)(),Retailer:{value:"",label:"ALL"},CreatedBy:{value:"",label:"ALL"},SalesPerson:{value:"",label:"ALL"},VoucherType:{value:"",label:"ALL"},DeliveryPerson:{value:"",label:"ALL"},Cancel_status:0},w=JSON.parse(localStorage.getItem("user")),L=(0,f.Zp)(),[I,k]=(0,r.useState)([]),[z,O]=(0,r.useState)([]),[B,R]=(0,r.useState)([]),[V,E]=(0,r.useState)([]),[H,M]=(0,r.useState)([]),[W,G]=(0,r.useState)([]),[U,J]=(0,r.useState)([]),[Z,q]=(0,r.useState)({}),[K,Q]=(0,r.useState)("sales"),[X,Y]=(0,r.useState)("All"),[$,ee]=(0,r.useState)({all:0,delivered:0,pending:0,previousDaySalesCount:0}),[le,ae]=(0,r.useState)(F),[te,re]=(0,r.useState)({filters:!1,orderDetails:!1});(0,r.useEffect)(()=>{const e=(0,g.vU)(P),{Fromdate:l,Todate:a,Retailer:r=F.Retailer,CreatedBy:s=F.CreatedBy,SalesPerson:n=F.SalesPerson,VoucherType:i=F.VoucherType,DeliveryPerson:o=F.DeliveryPerson,Cancel_status:d=F.Cancel_status}=e;ae(e=>(0,t.A)((0,t.A)({},e),{},{Fromdate:l,Todate:a,Retailer:r,CreatedBy:s,SalesPerson:n,VoucherType:i,DeliveryPerson:o,Cancel_status:d}))},[T,P,K]),(0,r.useEffect)(()=>{(0,C.z)({address:"sales/saleOrder/retailers"}).then(e=>{e.success&&R(e.data)}).catch(e=>console.error(e)),(0,C.z)({address:"masters/users/salesPerson/dropDown?Company_id=".concat(null===w||void 0===w?void 0:w.Company_id)}).then(e=>{e.success&&E(e.data)}).catch(e=>console.error(e)),(0,C.z)({address:"masters/user/dropDown?Company_id=".concat(null===w||void 0===w?void 0:w.Company_id)}).then(e=>{e.success&&M(e.data)}).catch(e=>console.error(e)),(0,C.z)({address:"masters/voucher"}).then(e=>{e.success&&G(e.data)}).catch(e=>console.error(e)),(0,C.z)({address:"dataEntry/costCenter"}).then(e=>{e.success&&J(e.data)}).catch(e=>console.error(e))},[]),(0,r.useEffect)(()=>{const e=(0,g.vU)(P),{Fromdate:t,Todate:r,Retailer:s=F.Retailer,CreatedBy:n=F.CreatedBy,SalesPerson:i=F.SalesPerson,VoucherType:o=F.VoucherType,DeliveryPerson:d=F.DeliveryPerson,Cancel_status:c=F.Cancel_status}=e;"sales"===K?(0,C.z)({address:"reports/reportsNonconvert/sales?Fromdate=".concat(t,"&Todate=").concat(r,"&Retailer_Id=").concat(null===s||void 0===s?void 0:s.value,"&Sales_Person_Id=").concat(null===i||void 0===i?void 0:i.value,"&Created_by=").concat(null===n||void 0===n?void 0:n.value,"&VoucherType=").concat(null===o||void 0===o?void 0:o.value,"&Cancel_status=").concat(c),loadingOn:l,loadingOff:a}).then(e=>{e.success&&k(null===e||void 0===e?void 0:e.data)}).catch(e=>console.error(e)):(0,C.z)({address:"delivery/deliveryOrderListData?Fromdate=".concat(t,"&Todate=").concat(r,"&Retailer_Id=").concat(null===s||void 0===s?void 0:s.value,"&Sales_Person_Id=").concat(null===i||void 0===i?void 0:i.value,"&Delivery_Person_Id=").concat(null===d||void 0===d?void 0:d.value,"&Created_by=").concat(null===n||void 0===n?void 0:n.value,"&Cancel_status=").concat(c),loadingOn:l,loadingOff:a}).then(e=>{if(e.success){O(null===e||void 0===e?void 0:e.data);const l=e.data.filter(e=>"Delivered"===e.DeliveryStatusName).length,a=e.data.filter(e=>1===e.Delivery_Status).length,t=e.data.length,r=e.data.length>0&&e.data[0].PreviousDaySalesOrderCount||0;ee({all:t,delivered:l,pending:a,previousDaySalesCount:r})}}).catch(e=>console.error(e))},[T,P,K]);const se=()=>{re(e=>(0,t.A)((0,t.A)({},e),{},{filters:!1,orderDetails:!1}))},ne=(0,r.useMemo)(()=>("sales"===K?I:z).reduce((e,l)=>(0,g.Lr)(e,null===l||void 0===l?void 0:l.Total_Invoice_value),0),[I,z,K]),ie=(0,r.useMemo)(()=>"delivery"!==K?z:"Delivered"===X?z.filter(e=>7===e.Delivery_Status):"Pending"===X?z.filter(e=>1===e.Delivery_Status):z,[z,X,K]),oe=(0,r.useMemo)(()=>"sales"===K?[(0,S.Lj)("So_Date","date","SoDate"),(0,S.Lj)("So_Inv_No","string","SO ID"),(0,S.Lj)("Retailer_Name","string","Customer"),(0,S.Lj)("VoucherTypeGet","string","Voucher"),(0,S.Lj)("Total_Before_Tax","number","Before Tax"),(0,S.Lj)("Total_Tax","number","Tax"),(0,S.Lj)("Total_Invoice_value","number","Invoice Value"),{Field_Name:"Action",isVisible:1,isCustomCell:!0,Cell:e=>{let{row:l}=e;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(s.A,{title:"View Order",children:(0,_.jsx)(n.A,{onClick:()=>q({orderDetails:l,orderProducts:(null===l||void 0===l?void 0:l.Products_List)||[]}),color:"primary",size:"small",children:(0,_.jsx)(y.A,{className:"fa-16"})})}),D&&(0,_.jsx)(s.A,{title:"Edit",children:(0,_.jsx)(n.A,{onClick:()=>L("create",{state:(0,t.A)((0,t.A)({},l),{},{isEdit:!0})}),size:"small",children:(0,_.jsx)(j.A,{className:"fa-16"})})})]})}}]:[(0,S.Lj)("Do_Id","string","Delivery ID"),(0,S.Lj)("So_No","string","Sale Order ID"),(0,S.Lj)("Do_Inv_No","string","DO Inv No"),(0,S.Lj)("Retailer_Name","string","Customer"),(0,S.Lj)("SalesDate","date","Sale Order Date"),(0,S.Lj)("Do_Date","date","Delivery Date"),(0,S.Lj)("Total_Before_Tax","number","Before Tax"),(0,S.Lj)("Total_Tax","number","Tax"),(0,S.Lj)("Total_Invoice_value","number","Invoice Value"),(0,S.Lj)("DeliveryStatusName","string","Delivery Status"),{Field_Name:"Action",isVisible:1,isCustomCell:!0,Cell:e=>{let{row:l}=e;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(s.A,{title:"View Order",children:(0,_.jsx)(n.A,{onClick:()=>q({orderDetails:l,orderProducts:(null===l||void 0===l?void 0:l.Products_List)||[]}),color:"primary",size:"small",children:(0,_.jsx)(y.A,{className:"fa-16"})})}),D&&(0,_.jsx)(s.A,{title:"Edit",children:(0,_.jsx)(n.A,{onClick:()=>L("create",{state:(0,t.A)((0,t.A)({},l),{},{isEdit:!0})}),size:"small",children:(0,_.jsx)(j.A,{className:"fa-16"})})})]})}}],[K,D,L]);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(S.Ay,{title:"".concat("sales"===K?"Sale":"Delivery"," Orders"),dataArray:"sales"===K?I:ie,EnableSerialNumber:!0,columns:oe,ButtonArea:(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)(i.A,{sx:{display:"flex",gap:2,alignItems:"center",flexWrap:"wrap",mb:2},children:[(0,_.jsxs)(o.A,{value:K,exclusive:!0,onChange:(e,l)=>{l&&(ae(F),(0,g.Mb)((0,t.A)((0,t.A)({},F),{},{pageID:P})),Q(l))},"aria-label":"view type",sx:{"& .MuiToggleButton-root":{px:3,py:1,m:.5}},children:[(0,_.jsx)(d.A,{value:"sales","aria-label":"sales view",sx:{backgroundColor:"sales"===K?"#1976d2":"inherit",color:"sales"===K?"white":"inherit",fontWeight:"sales"===K?"bold":"normal","&:hover":{backgroundColor:"sales"===K?"#1565c0":"rgba(0, 0, 0, 0.04)"}},children:"Sales"}),(0,_.jsx)(d.A,{value:"delivery","aria-label":"delivery view",sx:{backgroundColor:"delivery"===K?"#1976d2":"inherit",color:"delivery"===K?"white":"inherit",fontWeight:"delivery"===K?"bold":"normal","&:hover":{backgroundColor:"delivery"===K?"#1565c0":"rgba(0, 0, 0, 0.04)"}},children:"Delivery"})]}),"delivery"===K&&(0,_.jsxs)(i.A,{sx:{display:"flex",gap:1,alignItems:"center"},children:[(0,_.jsxs)(c.A,{variant:"All"===X?"contained":"outlined",color:"primary",onClick:()=>Y("All"),sx:{px:3,py:1,fontWeight:"All"===X?"bold":"normal",m:.5},children:["All - ",$.all]}),(0,_.jsxs)(c.A,{variant:"Delivered"===X?"contained":"outlined",color:"success",onClick:()=>Y("Delivered"),sx:{px:3,py:1,fontWeight:"Delivered"===X?"bold":"normal",m:.5},children:["Delivered - ",$.delivered]}),(0,_.jsxs)(c.A,{variant:"Pending"===X?"contained":"outlined",color:"warning",onClick:()=>Y("Pending"),sx:{px:3,py:1,fontWeight:"Pending"===X?"bold":"normal",m:.5},children:["Pending - ",$.pending]}),(0,_.jsxs)(u.A,{variant:"body1",sx:{mr:1,fontWeight:"bold"},children:["Sales Order: ",$.previousDaySalesCount]})]}),(0,_.jsx)(s.A,{title:"Filters",children:(0,_.jsx)(n.A,{size:"medium",onClick:()=>re(e=>(0,t.A)((0,t.A)({},e),{},{filters:!0})),sx:{ml:1},children:(0,_.jsx)(b.A,{})})}),(0,_.jsx)(i.A,{sx:{bgcolor:"background.paper",px:2,py:1,borderRadius:1,ml:"auto"},children:(0,g.Ro)(ne)>0&&(0,_.jsxs)(u.A,{variant:"subtitle2",color:"text.secondary",children:["Total: ",(0,g.jG)(ne)]})})]})}),isExpendable:!0,tableMaxHeight:550,expandableComp:e=>{let{row:l}=e;return(0,_.jsx)("table",{className:"table",children:(0,_.jsxs)("tbody",{children:[(0,_.jsxs)("tr",{children:[(0,_.jsx)("td",{className:"border p-2 bg-light",children:"Branch"}),(0,_.jsx)("td",{className:"border p-2",children:l.Branch_Name}),(0,_.jsx)("td",{className:"border p-2 bg-light",children:"sales"===K?"Sales Person":"Delivery Person"}),(0,_.jsx)("td",{className:"border p-2",children:"sales"===K?l.Sales_Person_Name:l.Delivery_Person_Name}),(0,_.jsx)("td",{className:"border p-2 bg-light",children:"Round off"}),(0,_.jsx)("td",{className:"border p-2",children:l.Round_off})]}),(0,_.jsxs)("tr",{children:[(0,_.jsx)("td",{className:"border p-2 bg-light",children:"Invoice Type"}),(0,_.jsxs)("td",{className:"border p-2",children:[(0,g.id)(l.GST_Inclusive,1)&&"Inclusive",(0,g.id)(l.GST_Inclusive,0)&&"Exclusive"]}),(0,_.jsx)("td",{className:"border p-2 bg-light",children:"Tax Type"}),(0,_.jsxs)("td",{className:"border p-2",children:[(0,g.id)(l.IS_IGST,1)&&"IGST",(0,g.id)(l.IS_IGST,0)&&"GST"]}),(0,_.jsx)("td",{className:"border p-2 bg-light",children:"Sales Person"}),(0,_.jsx)("td",{className:"border p-2",children:l.Sales_Person_Name})]}),(0,_.jsxs)("tr",{children:[(0,_.jsx)("td",{className:"border p-2 bg-light",children:"Narration"}),(0,_.jsx)("td",{className:"border p-2",colSpan:5,children:l.Narration})]})]})})}}),(0,_.jsxs)(v.A,{open:te.filters,onClose:se,fullWidth:!0,maxWidth:"sm",children:[(0,_.jsx)(h.A,{children:"Filters"}),(0,_.jsx)(x.A,{children:(0,_.jsx)("div",{className:"table-responsive pb-4",children:(0,_.jsx)("table",{className:"table",children:(0,_.jsxs)("tbody",{children:[(0,_.jsxs)("tr",{children:[(0,_.jsx)("td",{style:{verticalAlign:"middle"},children:"From"}),(0,_.jsx)("td",{children:(0,_.jsx)("input",{type:"date",value:le.Fromdate,onChange:e=>ae(l=>(0,t.A)((0,t.A)({},l),{},{Fromdate:e.target.value})),className:"cus-inpt"})})]}),(0,_.jsxs)("tr",{children:[(0,_.jsx)("td",{style:{verticalAlign:"middle"},children:"To"}),(0,_.jsx)("td",{children:(0,_.jsx)("input",{type:"date",value:le.Todate,onChange:e=>ae(l=>(0,t.A)((0,t.A)({},l),{},{Todate:e.target.value})),className:"cus-inpt"})})]}),(0,_.jsxs)("tr",{children:[(0,_.jsx)("td",{style:{verticalAlign:"middle"},children:"Retailer"}),(0,_.jsx)("td",{children:(0,_.jsx)(p.Ay,{value:le.Retailer,onChange:e=>ae(l=>(0,t.A)((0,t.A)({},l),{},{Retailer:e})),options:[{value:"",label:"ALL"},...B.map(e=>({value:null===e||void 0===e?void 0:e.Retailer_Id,label:"".concat(null===e||void 0===e?void 0:e.Retailer_Name," - \u20b9").concat((0,g.jG)((0,g.Ro)(null===e||void 0===e?void 0:e.TotalSales))," (").concat((0,g.Ro)(null===e||void 0===e?void 0:e.OrderCount),")")}))],isSearchable:!0,placeholder:"Retailer Name"})})]}),"delivery"===K&&(0,_.jsxs)("tr",{children:[(0,_.jsx)("td",{style:{verticalAlign:"middle"},children:"Delivery Person"}),(0,_.jsx)("td",{children:(0,_.jsx)(p.Ay,{value:le.DeliveryPerson,onChange:e=>ae(l=>(0,t.A)((0,t.A)({},l),{},{DeliveryPerson:e})),options:[{value:"",label:"ALL"},...U.map(e=>({value:null===e||void 0===e?void 0:e.Cost_Center_Id,label:null===e||void 0===e?void 0:e.Cost_Center_Name}))],isSearchable:!0,placeholder:"Delivery Person Name"})})]}),(0,_.jsxs)("tr",{children:[(0,_.jsx)("td",{style:{verticalAlign:"middle"},children:"Sales Person"}),(0,_.jsx)("td",{children:(0,_.jsx)(p.Ay,{value:le.SalesPerson,onChange:e=>ae(l=>(0,t.A)((0,t.A)({},l),{},{SalesPerson:e})),options:[{value:"",label:"ALL"},...V.map(e=>({value:null===e||void 0===e?void 0:e.UserId,label:null===e||void 0===e?void 0:e.Name}))],isSearchable:!0,placeholder:"Sales Person Name"})})]}),(0,_.jsxs)("tr",{children:[(0,_.jsx)("td",{style:{verticalAlign:"middle"},children:"Created By"}),(0,_.jsx)("td",{children:(0,_.jsx)(p.Ay,{value:le.CreatedBy,onChange:e=>ae(l=>(0,t.A)((0,t.A)({},l),{},{CreatedBy:e})),options:[{value:"",label:"ALL"},...H.map(e=>({value:null===e||void 0===e?void 0:e.UserId,label:null===e||void 0===e?void 0:e.Name}))],isSearchable:!0,placeholder:"Created By"})})]}),(0,_.jsxs)("tr",{children:[(0,_.jsx)("td",{style:{verticalAlign:"middle"},children:"Voucher"}),(0,_.jsx)("td",{children:(0,_.jsx)(p.Ay,{value:le.VoucherType,onChange:e=>ae(l=>(0,t.A)((0,t.A)({},l),{},{VoucherType:e})),options:[{value:"",label:"ALL"},...W.filter(e=>"SALES"===e.Type).map(e=>({value:null===e||void 0===e?void 0:e.Vocher_Type_Id,label:null===e||void 0===e?void 0:e.Voucher_Type}))],menuPortalTarget:document.body,isSearchable:!0,placeholder:"Voucher Name"})})]}),(0,_.jsxs)("tr",{children:[(0,_.jsx)("td",{style:{verticalAlign:"middle"},children:"Canceled Order"}),(0,_.jsx)("td",{children:(0,_.jsxs)("select",{value:le.Cancel_status,onChange:e=>ae(l=>(0,t.A)((0,t.A)({},l),{},{Cancel_status:Number(e.target.value)})),className:"cus-inpt",children:[(0,_.jsx)("option",{value:1,children:"Show"}),(0,_.jsx)("option",{value:0,children:"Hide"})]})})]})]})})})}),(0,_.jsxs)(m.A,{children:[(0,_.jsx)(c.A,{onClick:se,children:"Close"}),(0,_.jsx)(c.A,{onClick:()=>{se(),(0,g.Mb)({Fromdate:le.Fromdate,Todate:le.Todate,pageID:P,Retailer:le.Retailer,CreatedBy:le.CreatedBy,SalesPerson:le.SalesPerson,DeliveryPerson:le.DeliveryPerson,VoucherType:le.VoucherType,Cancel_status:le.Cancel_status})},startIcon:(0,_.jsx)(A.A,{}),variant:"outlined",children:"Search"})]})]})]})}},48471:(e,l,a)=>{a.d(l,{Ay:()=>B,JT:()=>z,Lj:()=>I,wF:()=>k});var t=a(89379),r=a(65043),s=a(77739),n=a(17392),i=a(41020),o=a(30922),d=a(32143),c=a(2050),u=a(48734),v=a(28076),h=a(39652),x=a(12110),m=a(63336),p=a(79650),g=a(71806),j=a(84882),b=a(58093),A=a(73460),y=a(31159),C=a(97707),S=a(47968),f=a(692),_=a(8737),N=a(58558),D=a(30599),P=a(433),T=a(37762),F=(a(20557),a(11238)),w=a(70579);const L=(e,l)=>e.map(e=>{const a={};return l.forEach((l,t)=>{if(l.isVisible||l.Defult_Display)if(l.isCustomCell&&l.Cell){const r=l.Cell({row:e}),s=l.ColumnHeader?String(l.ColumnHeader).replace(/\s+/g,"_").toLowerCase():"field_".concat(t+1);"string"!==typeof r&&"number"!==typeof r&&"bigint"!==typeof r||(a[s]=r)}else{let t=l.Field_Name;a[t]=e[t]||""}}),a}),I=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"string",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"left",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"center",n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return(0,t.A)({isVisible:n,Field_Name:e,Fied_Data:l,align:r,verticalAlign:s},a&&{ColumnHeader:a})},k=e=>{let{buttonsData:l=[],ToolTipText:a="Options"}=e;const[t,v]=(0,r.useState)(null),h=Boolean(t);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(s.A,{title:a,children:(0,w.jsx)(n.A,{"aria-describedby":h,onClick:e=>{v(e.currentTarget)},className:"ms-2",size:"small",children:(0,w.jsx)(N.A,{})})}),(0,w.jsx)(i.Ay,{open:h,anchorEl:t,onClose:()=>{v(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:(0,w.jsx)(o.A,{children:l.map((e,l)=>(0,w.jsxs)(d.A,{onClick:()=>(null===e||void 0===e?void 0:e.onclick)&&(null===e||void 0===e?void 0:e.onclick()),disabled:null===e||void 0===e?void 0:e.disabled,children:[(0,w.jsx)(c.A,{children:null===e||void 0===e?void 0:e.icon}),(0,w.jsx)(u.A,{children:null===e||void 0===e?void 0:e.name})]},l))})})]})},z=(e,l)=>{switch(l){case"number":return e?(0,C.jG)(e):e;case"date":return e?(0,C.yc)(e):e;case"time":return e?(0,C.JG)(e):e;case"string":return e;default:return""}},O=e=>{let{dataArray:l=[],columns:a=[],onClickFun:s=null,isExpendable:i=!1,expandableComp:o=null,tableMaxHeight:d=550,initialPageCount:c=20,EnableSerialNumber:u=!1,CellSize:N="small",disablePagination:I=!1,title:O="",PDFPrintOption:B=!1,ExcelPrintOption:R=!1,maxHeightOption:V=!1,ButtonArea:E=null,MenuButtons:H=[],bodyFontSizePx:M=13,headerFontSizePx:W=13}=e;const[G,U]=(0,r.useState)(0),[J,Z]=(0,r.useState)(c),[q,K]=(0,r.useState)([]),[Q,X]=(0,r.useState)(!0),Y=Q&&V?" max-content ":d,$=[{type:"left",class:"text-start"},{type:"right",class:"text-end"},{type:"center",class:"text-center"}],ee=[{type:"top",class:" vtop "},{type:"bottom",class:" vbottom "},{type:"center",class:" vctr "}],le=(e=>{if(!q.length)return e;return[...e].sort((e,l)=>{for(const a of q){const{columnId:t,direction:r}=a,s=e[t],n=l[t];if(s!==n)return"asc"===r?s>n?1:-1:s<n?1:-1}return 0})})(l),ae=G*J,te=ae+J,re=le.slice(ae,te),se=e=>{let{row:l,index:t}=e;const[d,c]=(0,r.useState)(!1),x="20px";return(0,w.jsxs)(r.Fragment,{children:[(0,w.jsxs)(v.A,{children:[!0===i&&o&&(0,w.jsx)(h.A,{className:"border-end text-center vtop",sx:{fontSize:"".concat(M,"px")},children:(0,w.jsx)(n.A,{size:"small",onClick:()=>c(e=>!e),children:d?(0,w.jsx)(_.A,{sx:{fontSize:x}}):(0,w.jsx)(f.A,{sx:{fontSize:x}})})}),!0===u&&(0,w.jsx)(h.A,{className:"border-end text-center vtop",sx:{fontSize:"".concat(M,"px")},children:J*G+t+1}),null===a||void 0===a?void 0:a.map((e,a)=>{var r,n;const i=(0,C.id)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,C.id)(null===e||void 0===e?void 0:e.isVisible,1),o=Boolean(null===e||void 0===e?void 0:e.isCustomCell)&&e.Cell,d=!o,c=(l,a,t)=>null!==e&&void 0!==e&&e.tdClass?" ".concat(null===e||void 0===e?void 0:e.tdClass({row:l,Field_Name:a,index:t})," "):"",u=e.align?null===(r=$.find(l=>l.type===String(e.align).toLowerCase()))||void 0===r?void 0:r.class:"",v=e.verticalAlign?null===(n=ee.find(l=>l.type===String(e.verticalAlign).toLowerCase()))||void 0===n?void 0:n.class:" vctr ";if(i&&d){const r=Object.entries(l).find(l=>{let[a]=l;return a===e.Field_Name});return(0,w.jsx)(h.A,{className:"border-end ".concat(u," ").concat(v," ").concat(c(l,e.Field_Name,t)),sx:{fontSize:"".concat(M,"px")},onClick:()=>s?s(l):console.log("Function not supplied"),children:r?z(r[1],null===e||void 0===e?void 0:e.Fied_Data):"-"},a)}return i&&o?(0,w.jsx)(h.A,{className:"border-end ".concat(u," ").concat(v," ").concat(c(l,e.Field_Name,t)),sx:{fontSize:"".concat(M,"px")},children:e.Cell({row:l,Field_Name:e.Field_Name,index:t})},a):(0,w.jsx)(h.A,{sx:{fontSize:"".concat(M,"px")},className:"border-end ".concat(u," ").concat(v),children:"-"},a)})]}),!0===i&&o&&d&&(0,w.jsx)(v.A,{children:(0,w.jsx)(h.A,{colSpan:Number(null===a||void 0===a?void 0:a.length)+(!0===u?2:1),children:o({row:l,index:t})})})]})};return(0,w.jsxs)(x.A,{className:"rounded-3 bg-white overflow-hidden",component:m.A,children:[(0,w.jsxs)("div",{className:"d-flex align-items-center flex-wrap px-3 py-2 flex-row-reverse ",children:[(B||R||H.length>0||V)&&(0,w.jsx)(k,{ToolTipText:"Table Options",buttonsData:[...V?[{name:"Max Height",icon:Q?(0,w.jsx)(P.A,{fontSize:"small",color:"primary"}):(0,w.jsx)(D.A,{fontSize:"small"}),onclick:()=>X(e=>!e),disabled:(0,C.id)(null===l||void 0===l?void 0:l.length,0)}]:[],...B?[{name:"PDF Print",icon:(0,w.jsx)(S.A,{fontSize:"small",color:"primary"}),onclick:()=>((e,l)=>{try{const a=new T.default,r=L(e,l),s=l.filter(e=>e.isVisible||e.Defult_Display).map(e=>e.Field_Name||String(e.ColumnHeader).replace(/\s+/g,"_").toLowerCase()),n=r.map(e=>s.map(l=>e[l])).map((e,l)=>(0,t.A)((0,t.A)({},e),{},{Sno:l+1}));a.autoTable({head:[s],body:n}),a.save("table.pdf")}catch(a){console.error(a)}})(l,a),disabled:(0,C.id)(null===l||void 0===l?void 0:l.length,0)}]:[],...R?[{name:"Excel Print",icon:(0,w.jsx)(S.A,{fontSize:"small",color:"primary"}),onclick:()=>((e,l)=>{try{const a=L(e,l),t=F.Wp.json_to_sheet(a),r=F.Wp.book_new();F.Wp.book_append_sheet(r,t,"Data"),F._h(r,"table.xlsx")}catch(a){console.error(a)}})(l,a),disabled:(0,C.id)(null===l||void 0===l?void 0:l.length,0)}]:[],...H]}),E&&E,O&&(0,w.jsx)("h6",{className:"fw-bold text-muted flex-grow-1 m-0",children:O})]}),(0,w.jsx)(p.A,{sx:{maxHeight:Y},children:(0,w.jsxs)(g.A,{stickyHeader:!0,size:N,children:[(0,w.jsx)(j.A,{children:(0,w.jsxs)(v.A,{children:[i&&o&&(0,w.jsx)(h.A,{className:"fw-bold border-end border-top text-center",sx:{fontSize:"".concat(W,"px"),backgroundColor:"#EDF0F7"},children:"#"}),u&&(0,w.jsx)(h.A,{className:"fw-bold border-end border-top text-center",sx:{fontSize:"".concat(W,"px"),backgroundColor:"#EDF0F7"},children:"SNo"}),a.map((e,l)=>{const a=(0,C.id)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,C.id)(null===e||void 0===e?void 0:e.isVisible,1),r=!1===Boolean(null===e||void 0===e?void 0:e.isCustomCell)||!e.Cell,s=q.find(l=>l.columnId===e.Field_Name),n=s?s.direction:"asc";var i,o,d,c;return a?r?(0,w.jsx)(h.A,{className:"fw-bold border-end border-top "+(e.align?null===(i=$.find(l=>l.type===String(e.align).toLowerCase()))||void 0===i?void 0:i.class:""),sx:{fontSize:"".concat(W,"px"),backgroundColor:"#EDF0F7"},sortDirection:!!s&&n,children:(0,w.jsx)(b.A,{active:!!s,direction:n,onClick:()=>(e=>{const l=q.find(l=>l.columnId===e);if(l){const a="asc"===l.direction;K(q.map(l=>l.columnId===e?(0,t.A)((0,t.A)({},l),{},{direction:a?"desc":"asc"}):l))}else K([...q,{columnId:e,direction:"asc"}])})(e.Field_Name),children:e.ColumnHeader||(null===e||void 0===e||null===(o=e.Field_Name)||void 0===o?void 0:o.replace(/_/g," "))})},l):(0,w.jsx)(h.A,{className:"".concat(e.ColumnHeader||null!==e&&void 0!==e&&e.Field_Name?" fw-bold border-end border-top p-2 appFont ":" p-0 "," ")+(e.align?null===(d=$.find(l=>l.type===String(e.align).toLowerCase()))||void 0===d?void 0:d.class:""),sx:{fontSize:"".concat(W,"px"),backgroundColor:"#EDF0F7"},children:e.ColumnHeader||(null===e||void 0===e||null===(c=e.Field_Name)||void 0===c?void 0:c.replace(/_/g," "))},l):null})]})}),(0,w.jsxs)(A.A,{children:[(I?le:re).map((e,l)=>(0,w.jsx)(se,{row:e,index:l},l)),0===l.length&&(0,w.jsx)(v.A,{children:(0,w.jsx)(h.A,{colSpan:a.length+(!0===i&&o?1:0)+(!0===u?1:0),sx:{textAlign:"center"},children:"No Data"})})]})]})}),!I&&0!==re.length&&(0,w.jsx)("div",{className:"p-2 pb-0",children:(0,w.jsx)(y.A,{component:"div",count:l.length,page:G,onPageChange:(e,l)=>{U(l)},rowsPerPage:J,onRowsPerPageChange:e=>{Z(parseInt(e.target.value,10)),U(0)},rowsPerPageOptions:Array.from(new Set([c,5,20,50,100,200,500])).sort((e,l)=>e-l),labelRowsPerPage:"Rows per page",showFirstButton:!0,showLastButton:!0})})]})};O.defaultProps={dataArray:[],columns:[],onClickFun:null,isExpendable:!1,expandableComp:null,tableMaxHeight:550,initialPageCount:20,EnableSerialNumber:!1,CellSize:"small",disablePagination:!1,title:void 0,PDFPrintOption:!1,ExcelPrintOption:!1,maxHeightOption:!1,ButtonArea:null,MenuButtons:[],headerFontSizePx:13,bodyFontSizePx:13};const B=O}}]);
//# sourceMappingURL=8800.b2bc24ae.chunk.js.map