"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[8937],{31702:(e,t,l)=>{l.d(t,{AT:()=>o,MR:()=>u,eu:()=>i,hx:()=>d,nB:()=>s,tP:()=>c,zd:()=>n});var a=l(97707);const r=(0,a.aN)().user,i={receipt_id:"",year_id:"",receipt_voucher_type_id:"",receipt_sno:"",receipt_invoice_no:"",receipt_date:(0,a.ny)(),receipt_bill_type:1,credit_ledger:"",credit_ledger_name:"Select",credit_amount:0,debit_ledger:"",debit_ledger_name:"Select",debit_amount:0,remarks:"",status:1,is_new_ref:0,is_journal_type:0,transaction_type:"",check_no:"",check_date:"",bank_name:"",bank_date:"",created_by:(0,a.IQ)(null===r||void 0===r?void 0:r.UserId)?null===r||void 0===r?void 0:r.UserId:"",altered_by:(0,a.IQ)(null===r||void 0===r?void 0:r.UserId)?null===r||void 0===r?void 0:r.UserId:"",created_on:"",alterd_on:""},c={auto_id:"",created_on:"",receipt_id:"",receipt_no:"",receipt_date:"",receipt_bill_type:"",DR_CR_Acc_Id:"",bill_id:"",JournalBillType:"",bill_name:"",bill_amount:0,Debit_Amo:0,Credit_Amo:0,SalesInvoiceDate:"",StockJournalDate:"",TotalPaidAmount:0,PendingAmount:0},d={auto_id:"",receipt_id:"",receipt_no:"",receipt_date:"",receipt_bill_type:"",Debit_Ledger_Id:"",created_on:"",bill_id:"",JournalBillType:"",arr_id:"",item_id:"",item_name:"",expence_value:0,itemQuantity:0,PaidAmount:0},o=[{value:1,label:"CUSTOMER - SALES INVOICE"},{value:2,label:"EXPENCES - RETURN"},{value:3,label:"ON ACCOUNT"}],n=[{label:"MATERIAL INWARD",value:1},{label:"GODOWN TRANSFER",value:2},{label:"PROCESSING",value:3}],s=[{label:"New",value:1},{label:"Process",value:2},{label:"Completed",value:3},{label:"Canceled",value:0}],u=[{label:"Select",value:""},{label:"ATM",value:"ATM"},{label:"Card",value:"Card"},{label:"Cash",value:"Cash"},{label:"Cheque/DD",value:"Cheque/DD"},{label:"ECS",value:"ECS"},{label:"e-Fund Transfer",value:"e-Fund Transfer"},{label:"Electronic Cheque",value:"Electronic Cheque"},{label:"Electronic DD/PO",value:"Electronic DD/PO"},{label:"UPI",value:"UPI"},{label:"Others",value:"Others"}]},88937:(e,t,l)=>{l.r(t),l.d(t,{default:()=>g});var a=l(89379),r=l(65043),i=l(17392),c=l(11906),d=l(83462),o=l(26600),n=l(35316),s=l(29347),u=l(48471),_=l(73216),p=l(65074),v=l(97707),h=l(34496),b=l(83560),y=l(59383),m=l(79484),A=l(16851),F=l(31702),T=l(20656),x=l(63406),j=l(70579);const g=e=>{var t,l;let{loadingOn:g,loadingOff:C,AddRights:f,EditRights:S,pageID:N}=e;const D=(0,_.Zp)(),L=(0,_.zy)(),R=L.state||{},[I,V]=(0,r.useState)([]),E=sessionStorage.getItem("filterValues"),O={Fromdate:R.Fromdate||(0,v.ny)(),Todate:R.Todate||(0,v.ny)(),voucherType_Filter:R.VoucherType?{label:(null===(t=R.VoucherType)||void 0===t?void 0:t.label)||R.Voucher_Type||"Selected",value:(null===(l=R.VoucherType)||void 0===l?void 0:l.value)||R.Voucher_Type_Id||""}:{label:"ALL",value:""},debit_accounts_Filter:{label:"ALL",value:""},credit_accounts_Filter:{label:"ALL",value:""},created_by_Filter:{label:"ALL",value:""},receipt_status:"",receipt_type:""},[k,w]=(0,r.useState)((0,a.A)((0,a.A)({},O),{},{filterDialog:!1})),[P,M]=(0,r.useState)({voucherType:[],debit_accounts:[],credit_accounts:[],created_by:[]});(0,r.useEffect)(()=>{(0,p.z)({address:"receipt/receiptMaster/filtersValues"}).then(e=>{e.success&&M(t=>{var l,r,i,c;return(0,a.A)((0,a.A)({},t),{},{voucherType:(0,v.$r)(null===e||void 0===e||null===(l=e.others)||void 0===l?void 0:l.voucherType),debit_accounts:(0,v.$r)(null===e||void 0===e||null===(r=e.others)||void 0===r?void 0:r.debit_accounts),credit_accounts:(0,v.$r)(null===e||void 0===e||null===(i=e.others)||void 0===i?void 0:i.credit_accounts),created_by:(0,v.$r)(null===e||void 0===e||null===(c=e.others)||void 0===c?void 0:c.created_by)})})})},[]),(0,r.useEffect)(()=>{if(R.VoucherType){var e,t;const l=(0,v.vU)(N),{debit_accounts_Filter:r=O.debit_accounts_Filter,credit_accounts_Filter:i=O.credit_accounts_Filter,created_by_Filter:c=O.created_by_Filter,receipt_status:d=O.receipt_status,receipt_type:o=O.receipt_type}=l;w(e=>{var t,l;return(0,a.A)((0,a.A)({},e),{},{Fromdate:R.Fromdate||e.Fromdate,Todate:R.Todate||e.Todate,voucherType_Filter:R.VoucherType?{label:(null===(t=R.VoucherType)||void 0===t?void 0:t.label)||"Selected",value:(null===(l=R.VoucherType)||void 0===l?void 0:l.value)||""}:e.voucherType_Filter,debit_accounts_Filter:r,credit_accounts_Filter:i,created_by_Filter:c,receipt_status:d,receipt_type:o})}),(0,v.Mb)({Fromdate:R.Fromdate||O.Fromdate,Todate:R.Todate||O.Todate,pageID:N,voucherType_Filter:R.VoucherType?{label:(null===(e=R.VoucherType)||void 0===e?void 0:e.label)||"Selected",value:(null===(t=R.VoucherType)||void 0===t?void 0:t.value)||""}:O.voucherType_Filter,debit_accounts_Filter:r,credit_accounts_Filter:i,created_by_Filter:c,receipt_status:d,receipt_type:o})}else{const e=(0,v.vU)(N),{Fromdate:t,Todate:l,voucherType_Filter:r=O.voucherType_Filter,debit_accounts_Filter:i=O.debit_accounts_Filter,credit_accounts_Filter:c=O.credit_accounts_Filter,created_by_Filter:d=O.created_by_Filter,receipt_status:o=O.receipt_status,receipt_type:n=O.receipt_type}=e;w(e=>(0,a.A)((0,a.A)({},e),{},{Fromdate:t,Todate:l,voucherType_Filter:r,debit_accounts_Filter:i,credit_accounts_Filter:c,created_by_Filter:d,receipt_status:o,receipt_type:n}))}},[E,N,L.state]),(0,r.useEffect)(()=>{const e=(0,v.vU)(N),{Fromdate:t,Todate:l,voucherType_Filter:a=O.voucherType_Filter,debit_accounts_Filter:r=O.debit_accounts_Filter,credit_accounts_Filter:i=O.credit_accounts_Filter,created_by_Filter:c=O.created_by_Filter,receipt_status:d=O.receipt_status,receipt_type:o=O.receipt_type}=e;(0,p.z)({address:"receipt/receiptMaster?Fromdate=".concat(t,"&Todate=").concat(l,"&voucher=").concat((null===a||void 0===a?void 0:a.value)||"","&debit=").concat((null===r||void 0===r?void 0:r.value)||"","&credit=").concat((null===i||void 0===i?void 0:i.value)||"","&createdBy=").concat((null===c||void 0===c?void 0:c.value)||"","&status=").concat(d,"&receipt_type=").concat(o),loadingOff:C,loadingOn:g}).then(e=>{e.success&&V(e.data)}).catch(e=>console.error(e))},[E,N]);const U=(0,r.useMemo)(()=>I.filter(e=>!(0,v.id)(e.status,0)).reduce((e,t)=>(0,v.Lr)(e,null===t||void 0===t?void 0:t.credit_amount),0),[I]),B=()=>w(e=>(0,a.A)((0,a.A)({},e),{},{filterDialog:!1})),G=" bg-info fw-bold fa-11 px-2 py-1 rounded-3 ",z=" bg-warning fw-bold fa-11 px-2 py-1 rounded-3 ",q=" bg-success text-light fa-11 px-2 py-1 rounded-3 ",W=" bg-danger text-light fw-bold fa-11 px-2 py-1 rounded-3 ",$=e=>{switch(e){case 1:return G;case 2:return z;case 3:return q;case 0:return W;default:return""}};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(u.Ay,{title:"Receipts",headerFontSizePx:12,bodyFontSizePx:12,ButtonArea:(0,j.jsxs)(j.Fragment,{children:[R.Fromdate&&R.Todate&&(0,j.jsxs)("span",{className:"mx-2 text-muted fa-12",children:["Showing data from ",new Date(R.Fromdate),"to ",new Date(R.Todate)]}),R.VoucherType&&(0,j.jsxs)("span",{className:"mx-2 text-muted fa-12",children:["| Voucher Type: ",R.VoucherType.label]}),R.ModuleName&&(0,j.jsxs)("span",{className:"mx-2 text-muted fa-12",children:["| Module: ",R.ModuleName]}),(0,j.jsx)(i.A,{onClick:()=>w(e=>(0,a.A)((0,a.A)({},e),{},{filterDialog:!0})),size:"small",className:"mx-1",children:(0,j.jsx)(y.A,{className:"fa-20"})}),f&&(0,j.jsx)(c.A,{onClick:()=>D("create",{state:{Fromdate:k.Fromdate,Todate:k.Todate}}),variant:"outlined",children:"Add"}),f&&(0,j.jsx)(c.A,{onClick:()=>D("addReference",{state:{Fromdate:k.Fromdate,Todate:k.Todate}}),variant:"outlined",className:"me-2",children:"Add Reference"}),(0,j.jsx)("span",{className:"bg-light text-light fa-11 px-1 shadow-sm py-1 rounded-3 mx-1",children:(0,v.Ro)(U)>0&&(0,j.jsxs)("h6",{className:"m-0 text-end text-muted px-3",children:["Total: ",(0,v.jG)(U)]})})]}),dataArray:I,columns:[(0,u.Lj)("receipt_date","date","Date"),(0,u.Lj)("receipt_invoice_no","string","Receipt ID"),(0,u.Lj)("credit_amount","number","Amount"),(0,u.Lj)("TotalReferencedAmount","number","Added Ref"),(0,u.Lj)("debit_ledger_name","string","Debit-Acc"),(0,u.Lj)("credit_ledger_name","string","Credit-Acc"),(0,u.Lj)("CreatedByGet","string","Created By"),(0,u.Lj)("Voucher_Type","string","Voucher"),{isVisible:1,ColumnHeader:"Bill Type",isCustomCell:!0,Cell:e=>{var t;let{row:l}=e;return null===(t=F.AT.find(e=>(0,v.id)(e.value,l.receipt_bill_type)))||void 0===t?void 0:t.label}},{isVisible:1,ColumnHeader:"Status",isCustomCell:!0,Cell:e=>{let{row:t}=e;const l=F.nB.find(e=>(0,v.id)(e.value,null===t||void 0===t?void 0:t.status))||{};return(0,j.jsx)("span",{className:$(l.value),children:String(l.label).replace(" ","")})}},{isVisible:1,ColumnHeader:"Action",isCustomCell:!0,Cell:e=>{let{row:t}=e;return(0,j.jsx)(u.wF,{buttonsData:[{name:"Edit",icon:(0,j.jsx)(b.A,{}),onclick:()=>D("create",{state:(0,a.A)((0,a.A)({},t),{},{Fromdate:k.Fromdate,Todate:k.Todate})}),disabled:!S},{name:"Add Reference",icon:(0,j.jsx)(A.A,{}),onclick:()=>D("addReference",{state:(0,a.A)((0,a.A)({},t),{},{Fromdate:k.Fromdate,Todate:k.Todate})}),disabled:!S||(0,v.id)(t.receipt_bill_type,2)||(0,v.id)(t.receipt_bill_type,4)}]})}}],EnableSerialNumber:!0}),(0,j.jsxs)(d.A,{open:k.filterDialog,onClose:B,fullWidth:!0,maxWidth:"sm",children:[(0,j.jsx)(o.A,{children:"Filters"}),(0,j.jsx)(n.A,{children:(0,j.jsx)("div",{className:"table-responsive pb-4",children:(0,j.jsx)("table",{className:"table",children:(0,j.jsxs)("tbody",{children:[(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{style:{verticalAlign:"middle"},children:"From"}),(0,j.jsx)("td",{children:(0,j.jsx)("input",{type:"date",value:k.Fromdate,onChange:e=>w((0,a.A)((0,a.A)({},k),{},{Fromdate:e.target.value})),className:"cus-inpt"})})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{style:{verticalAlign:"middle"},children:"To"}),(0,j.jsx)("td",{children:(0,j.jsx)("input",{type:"date",value:k.Todate,onChange:e=>w((0,a.A)((0,a.A)({},k),{},{Todate:e.target.value})),className:"cus-inpt"})})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{style:{verticalAlign:"middle"},children:"Debit Account"}),(0,j.jsx)("td",{children:(0,j.jsx)(T.Ay,{value:null===k||void 0===k?void 0:k.debit_accounts_Filter,onChange:e=>w((0,a.A)((0,a.A)({},k),{},{debit_accounts_Filter:e})),options:[{value:"",label:"ALL"},...P.debit_accounts],styles:x.MR,isSearchable:!0,placeholder:"Debit Account",menuPortalTarget:document.body,filterOption:v.GI})})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{style:{verticalAlign:"middle"},children:"Credit Account "}),(0,j.jsx)("td",{children:(0,j.jsx)(T.Ay,{value:null===k||void 0===k?void 0:k.credit_accounts_Filter,onChange:e=>w((0,a.A)((0,a.A)({},k),{},{credit_accounts_Filter:e})),options:[{value:"",label:"ALL"},...P.credit_accounts],styles:x.MR,isSearchable:!0,placeholder:"Credit Account",menuPortalTarget:document.body,filterOption:v.GI})})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{style:{verticalAlign:"middle"},children:"Receipt Type "}),(0,j.jsx)("td",{children:(0,j.jsxs)("select",{className:"cus-inpt p-2",value:k.receipt_type,onChange:e=>w(t=>(0,a.A)((0,a.A)({},t),{},{receipt_type:e.target.value})),children:[(0,j.jsx)("option",{value:"",children:"ALL"}),F.AT.map((e,t)=>(0,j.jsx)("option",{value:e.value,children:e.label},t))]})})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{style:{verticalAlign:"middle"},children:"Voucher Type "}),(0,j.jsx)("td",{children:(0,j.jsx)(T.Ay,{value:null===k||void 0===k?void 0:k.voucherType_Filter,onChange:e=>w((0,a.A)((0,a.A)({},k),{},{voucherType_Filter:e})),options:[{value:"",label:"ALL"},...P.voucherType],styles:x.MR,isSearchable:!0,placeholder:"Voucher Type",menuPortalTarget:document.body,filterOption:v.GI})})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{style:{verticalAlign:"middle"},children:"Receipt Status"}),(0,j.jsx)("td",{children:(0,j.jsxs)("select",{className:"cus-inpt",value:k.receipt_status,onChange:e=>w((0,a.A)((0,a.A)({},k),{},{receipt_status:e.target.value})),children:[(0,j.jsx)("option",{value:"",children:"All"}),F.nB.map((e,t)=>(0,j.jsx)("option",{value:e.value,children:e.label},t))]})})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{style:{verticalAlign:"middle"},children:"Created By"}),(0,j.jsx)("td",{children:(0,j.jsx)(T.Ay,{value:null===k||void 0===k?void 0:k.created_by_Filter,onChange:e=>w(t=>(0,a.A)((0,a.A)({},t),{},{created_by_Filter:e})),options:[{value:"",label:"ALL"},...P.created_by],styles:x.MR,isSearchable:!0,placeholder:"Sales Person Name",menuPortalTarget:document.body,filterOption:v.GI})})]})]})})})}),(0,j.jsxs)(s.A,{className:"d-flex align-items-center justify-content-between",children:[(0,j.jsx)(c.A,{variant:"outlined",onClick:()=>{w(e=>{var t,l;return(0,a.A)((0,a.A)({},e),{},{Fromdate:R.Fromdate||O.Fromdate,Todate:R.Todate||O.Todate,voucherType_Filter:R.VoucherType?{label:(null===(t=R.VoucherType)||void 0===t?void 0:t.label)||"Selected",value:(null===(l=R.VoucherType)||void 0===l?void 0:l.value)||""}:O.voucherType_Filter,debit_accounts_Filter:O.debit_accounts_Filter,credit_accounts_Filter:O.credit_accounts_Filter,created_by_Filter:O.created_by_Filter,receipt_status:O.receipt_status,receipt_type:O.receipt_type})})},startIcon:(0,j.jsx)(h.A,{}),children:"Reset to Navigation Filters"}),(0,j.jsxs)("span",{children:[(0,j.jsx)(c.A,{onClick:B,children:"close"}),(0,j.jsx)(c.A,{onClick:()=>{B(),(0,v.Mb)({Fromdate:null===k||void 0===k?void 0:k.Fromdate,Todate:k.Todate,pageID:N,voucherType_Filter:k.voucherType_Filter,debit_accounts_Filter:k.debit_accounts_Filter,credit_accounts_Filter:k.credit_accounts_Filter,created_by_Filter:k.created_by_Filter,receipt_status:k.receipt_status,receipt_type:k.receipt_type})},startIcon:(0,j.jsx)(m.A,{}),variant:"contained",children:"Search"})]})]})]})]})}}}]);
//# sourceMappingURL=8937.e5118607.chunk.js.map