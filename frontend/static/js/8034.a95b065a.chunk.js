"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[8034],{98034:(e,a,t)=>{t.r(a),t.d(a,{default:()=>x});var s=t(89379),l=t(65043),r=t(12110),o=t(26494),d=t(77739),n=t(17392),c=t(97707),i=t(592),u=t(59383),m=t(47805),A=t(65074),p=t(70579);const h=e=>{let{row:a,Fromdate:t,Todate:r,DB:o}=e;const[d,n]=(0,l.useState)([]),[c,u]=(0,l.useState)([]);return(0,l.useEffect)(()=>{(0,A.z)({address:"sales/partyWiseReport/details?Fromdate=".concat(t,"&Todate=").concat(r,"&Party_Name=").concat(null===a||void 0===a?void 0:a.Actual_Party_Name),headers:{Db:o}}).then(e=>{let{success:a,data:t,others:l}=e;if(a){const{dataTypeInfo:e}=l;n(t),u(a=>(0,s.A)((0,s.A)({},a),{},{salesInfo:Array.isArray(e)?e:[]}))}else n([])}).catch(console.error)},[null===a||void 0===a?void 0:a.Party_Name,t,r]),(0,p.jsx)(i.A,{dataArray:d,columns:c.salesInfo})},x=()=>{const e=JSON.parse(localStorage.getItem("user")),[a,t]=(0,l.useState)(null),[x,v]=(0,l.useState)([]),[y,j]=(0,l.useState)({Fromdate:(0,c.IS)(1),Todate:(0,c.ny)(),filterDialog:!1,reload:!0});return(0,l.useEffect)(()=>{t(null),v([]),(0,A.z)({address:"sales/partyWiseReport?Fromdate=".concat(null===y||void 0===y?void 0:y.Fromdate,"&Todate=").concat(null===y||void 0===y?void 0:y.Todate),headers:{Db:null===e||void 0===e?void 0:e.Company_id}}).then(e=>{let{success:a,data:s,others:l}=e;if(a){const{dataTypeInfo:e}=l;t(s),v(Array.isArray(e)?e:[])}else t([])}).catch(console.error)},[y.reload]),(0,p.jsx)(l.Fragment,{children:(0,p.jsxs)(r.A,{className:"mt-3",children:[(0,p.jsx)("div",{className:"px-3 py-2 d-flex justify-content-between align-items-center fw-bold text-dark",style:{backgroundColor:"#eae0cc"},children:(0,p.jsx)("span",{children:"PARTY BASED SALES"})}),(0,p.jsxs)(o.A,{children:[(0,p.jsxs)("div",{className:"mb-3",children:[(0,p.jsx)("input",{type:"date",className:"cus-inpt w-auto ps-3 border rounded-5 me-1",value:y.Fromdate,onChange:e=>j(a=>(0,s.A)((0,s.A)({},a),{},{Fromdate:e.target.value}))}),(0,p.jsx)("input",{type:"date",className:"cus-inpt w-auto ps-3 border rounded-5",value:y.Todate,onChange:e=>j(a=>(0,s.A)((0,s.A)({},a),{},{Todate:e.target.value}))}),(0,p.jsx)(d.A,{title:"Reload Data",children:(0,p.jsx)(n.A,{onClick:()=>j(e=>(0,s.A)((0,s.A)({},e),{},{reload:!e.reload})),size:"small",className:"ms-2",children:(0,p.jsx)(m.A,{})})}),(0,p.jsx)(d.A,{title:"Filters",children:(0,p.jsx)(n.A,{onClick:()=>j(e=>(0,s.A)((0,s.A)({},e),{},{filterDialog:!0})),size:"small",className:"d-md-none d-inline",children:(0,p.jsx)(u.A,{})})})]}),null===a&&(0,p.jsx)("h6",{className:"blue-text text-center",children:"Fetching data..."}),Array.isArray(a)&&(0,p.jsx)(i.A,{dataArray:a,columns:x,ExpandableComp:a=>{let{row:t}=a;return(0,p.jsx)(h,{row:t,DB:null===e||void 0===e?void 0:e.Company_id,Fromdate:null===y||void 0===y?void 0:y.Fromdate,Todate:null===y||void 0===y?void 0:y.Todate})},enableFilters:!0})]})]})})}}}]);
//# sourceMappingURL=8034.a95b065a.chunk.js.map