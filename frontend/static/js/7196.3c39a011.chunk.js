"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[7196],{12110:(e,a,l)=>{l.d(a,{A:()=>p});var r=l(58168),s=l(98587),d=l(65043),o=l(58387),t=l(68606),i=l(34535),n=l(6431),c=l(63336),u=l(57056),v=l(32400);function h(e){return(0,v.Ay)("MuiCard",e)}(0,u.A)("MuiCard",["root"]);var m=l(70579);const A=["className","raised"],x=(0,i.Ay)(c.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,a)=>a.root})(()=>({overflow:"hidden"})),p=d.forwardRef(function(e,a){const l=(0,n.b)({props:e,name:"MuiCard"}),{className:d,raised:i=!1}=l,c=(0,s.A)(l,A),u=(0,r.A)({},l,{raised:i}),v=(e=>{const{classes:a}=e;return(0,t.A)({root:["root"]},h,a)})(u);return(0,m.jsx)(x,(0,r.A)({className:(0,o.A)(v.root,d),elevation:i?8:void 0,ref:a,ownerState:u},c))})},18550:(e,a,l)=>{l.r(a),l.d(a,{default:()=>y});var r=l(89379),s=l(65043),d=l(65074),o=l(12110),t=l(17392),i=l(83462),n=l(26600),c=l(35316),u=l(29347),v=l(11906),h=l(20656),m=l(63406),A=l(22520),x=l(59383),p=l(30513),f=l(79484),j=l(93141),b=l(91036),g=l(70579);const y=e=>{let{loadingOn:a,loadingOff:l}=e;const[y,D]=(0,s.useState)([]),C=(0,s.useRef)(null),[N,S]=(0,s.useState)({broker:{value:"",label:"Select Broker"},ledger:{value:"",label:"Select Ledger"},customersArray:[],refresh:!1,filterDialog:!1,dueDays:0,reqDate:(0,A.ny)(),source:"TALLY"});(0,s.useEffect)(()=>{(0,d.z)({address:"userModule/customer/lol/dropDown"}).then(e=>{e.success&&S(a=>(0,r.A)((0,r.A)({},a),{},{customersArray:(0,A.$r)(e.data)}))}).catch(e=>console.error(e))},[]),(0,s.useEffect)(()=>{var e,r,s;D([]);const o=(null===N||void 0===N||null===(e=N.broker)||void 0===e?void 0:e.value)||"",t=(0,A.IQ)(null===N||void 0===N||null===(r=N.ledger)||void 0===r?void 0:r.value)?[{Ledger_Tally_Id:null===N||void 0===N||null===(s=N.ledger)||void 0===s?void 0:s.value}]:o?(0,A.$r)(null===N||void 0===N?void 0:N.customersArray).filter(e=>(0,A.xL)(null===e||void 0===e?void 0:e.Actual_Party_Name_with_Brokers,o)).map(e=>({Ledger_Tally_Id:null===e||void 0===e?void 0:e.Ledger_Tally_Id})):[],i=(0,A.$r)(t),n=null===N||void 0===N?void 0:N.reqDate;return 0===i?b.oR.error("Select any Ledger or Broker"):n?void(0,d.z)({address:"userModule/customer/paymentInvoiceList/filters",loadingOn:a,loadingOff:l,method:"POST",bodyData:{ledgerId:i,reqDate:n,source:N.source}}).then(e=>{e.success&&D(e.data)}).catch(e=>console.error(e)):b.oR.error("Enter Till Date")},[N.refresh]);const R=(0,s.useMemo)(()=>(0,A.$r)(y).map(e=>{const a=(0,A.Ro)(null!==e&&void 0!==e&&e.invoice_date?(0,A.im)(null===e||void 0===e?void 0:e.invoice_date,N.reqDate):"");return(0,r.A)((0,r.A)({},e),{},{dueDays:a,showDueDay:!N.dueDays||N.dueDays<=a})}).sort((e,a)=>a.dueDays-e.dueDays),[y,N.dueDays,N.reqDate]),_=(0,s.useMemo)(()=>y.reduce((e,a)=>(0,A.Lr)(e,null===a||void 0===a?void 0:a.Bal_Amount),0),[y]),k=(0,s.useMemo)(()=>y.filter(e=>{const a=(0,A.Ro)(null!==e&&void 0!==e&&e.invoice_date?(0,A.im)(null===e||void 0===e?void 0:e.invoice_date,N.reqDate):"");return!N.dueDays||N.dueDays<=a}).reduce((e,a)=>(0,A.Lr)(e,null===a||void 0===a?void 0:a.Bal_Amount),0),[y,N.dueDays,N.reqDate]),L=(0,s.useMemo)(()=>{const e=(0,A.$r)(N.customersArray).map(e=>null===e||void 0===e?void 0:e.Actual_Party_Name_with_Brokers);return[...new Set(e)].map(e=>({value:e,label:e}))},[N.customersArray]),O=(0,j.useReactToPrint)({content:()=>C.current}),M=()=>{S(e=>(0,r.A)((0,r.A)({},e),{},{filterDialog:!1}))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(o.A,{children:[(0,g.jsxs)("div",{className:"p-2 px-3 d-flex align-items-center flex-wrap",children:[(0,g.jsx)("h6",{className:" flex-grow-1 m-0",children:"Pending Invoices"}),(0,g.jsx)(t.A,{size:"small",onClick:()=>S(e=>(0,r.A)((0,r.A)({},e),{},{filterDialog:!0})),children:(0,g.jsx)(x.A,{className:"fa-20"})}),(0,g.jsx)(t.A,{size:"small",onClick:O,disabled:0===(null===y||void 0===y?void 0:y.length),children:(0,g.jsx)(p.A,{className:"fa-20"})})]}),(0,g.jsx)("hr",{className:"m-2"}),(0,g.jsx)("div",{className:"table-responsive",ref:C,children:(0,g.jsxs)("table",{className:"table table-bordered fa-11",children:[(0,g.jsxs)("thead",{children:[(0,g.jsx)("tr",{children:(0,g.jsxs)("td",{colSpan:6,className:"fw-bold text-center fa-15",children:[N.ledger.value?N.ledger.label:N.broker.label," - Till ",(0,A.yc)(N.reqDate).replaceAll("/","-")]})}),(0,g.jsx)("tr",{children:["Sno","Date","Ref.No","Dr / Cr","Pending Amount","Overdue by days"].map((e,a)=>(0,g.jsx)("th",{children:e},a))})]}),(0,g.jsxs)("tbody",{children:[R.map((e,a)=>{const l=!!N.dueDays&&N.dueDays<=(0,A.Ro)(null===e||void 0===e?void 0:e.dueDays);return(0,g.jsxs)("tr",{className:"\n                                            ".concat(l?" fw-bold text-primary ":""),children:[(0,g.jsx)("td",{children:a+1}),(0,g.jsx)("td",{children:null!==e&&void 0!==e&&e.invoice_date?(0,A.W8)(null===e||void 0===e?void 0:e.invoice_date):"-"}),(0,g.jsx)("td",{children:null===e||void 0===e?void 0:e.invoice_no}),(0,g.jsx)("td",{children:null===e||void 0===e?void 0:e.accountSide}),(0,g.jsxs)("td",{children:["\u20b9",(0,A.jG)(null===e||void 0===e?void 0:e.Bal_Amount)]}),(0,g.jsx)("td",{className:null!==e&&void 0!==e&&e.showDueDay?"":" text-white ",children:null===e||void 0===e?void 0:e.dueDays})]},a)}),(0,g.jsxs)("tr",{className:"fw-bold",children:[(0,g.jsx)("td",{colSpan:4,className:" text-center",children:"TOTAL"}),(0,g.jsxs)("td",{children:["\u20b9",(0,A.jG)(_),"/-"]}),(0,g.jsxs)("td",{children:["\u20b9",(0,A.jG)(k),"/-"]})]})]})]})})]}),(0,g.jsxs)(i.A,{open:N.filterDialog,onClose:M,maxWidth:"sm",fullWidth:!0,children:[(0,g.jsx)(n.A,{children:"Filters"}),(0,g.jsx)(c.A,{children:(0,g.jsx)("div",{className:"table-responsive",children:(0,g.jsx)("table",{className:"table m-0 table-borderless",children:(0,g.jsxs)("tbody",{children:[(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{className:"vctr",children:"Broker"}),(0,g.jsx)("td",{className:"vctr",children:(0,g.jsx)(h.Ay,{value:null===N||void 0===N?void 0:N.broker,onChange:e=>S((0,r.A)((0,r.A)({},N),{},{broker:e})),options:[{value:"",label:"ALL Brokers"},...L],styles:m.MR,menuPortalTarget:document.body,isSearchable:!0,placeholder:"Broker Name",filterOption:A.GI})})]}),(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{className:"vctr",children:"Customer"}),(0,g.jsx)("td",{className:"vctr",children:(0,g.jsx)(h.Ay,{value:null===N||void 0===N?void 0:N.ledger,onChange:e=>S((0,r.A)((0,r.A)({},N),{},{ledger:e})),options:[{value:"",label:"Select",isDisabled:!0},...N.broker.value?(0,A.$r)(N.customersArray).filter(e=>(0,A.xL)(e.Actual_Party_Name_with_Brokers,N.broker.value)).map(e=>({value:null===e||void 0===e?void 0:e.Ledger_Tally_Id,label:null===e||void 0===e?void 0:e.Ledger_Name})):(0,A.$r)(N.customersArray).map(e=>({value:null===e||void 0===e?void 0:e.Ledger_Tally_Id,label:null===e||void 0===e?void 0:e.Ledger_Name}))],styles:m.MR,menuPortalTarget:document.body,isSearchable:!0,placeholder:"Customer Name",filterOption:A.GI})})]}),(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{className:"vctr",children:"Till Date"}),(0,g.jsx)("td",{className:"vctr",children:(0,g.jsx)("input",{type:"date",className:"cus-inpt p-2",value:N.reqDate?N.reqDate:"",onChange:e=>S(a=>(0,r.A)((0,r.A)({},a),{},{reqDate:e.target.value}))})})]}),(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{className:"vctr",children:"Due Days"}),(0,g.jsx)("td",{className:"vctr",children:(0,g.jsx)("input",{type:"number",className:"cus-inpt p-2",value:N.dueDays?N.dueDays:"",onChange:e=>S(a=>(0,r.A)((0,r.A)({},a),{},{dueDays:(0,A.Ro)(e.target.value)}))})})]}),(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{className:"vctr",children:"Source"}),(0,g.jsx)("td",{className:"vctr",children:(0,g.jsxs)("select",{className:"cus-inpt p-2",value:N.source,onChange:e=>S(a=>(0,r.A)((0,r.A)({},a),{},{source:e.target.value})),children:[(0,g.jsx)("option",{value:"TALLY",children:"TALLY"}),(0,g.jsx)("option",{value:"ERP",children:"ERP"}),(0,g.jsx)("option",{value:"JOURNAL",children:"JOURNAL"})]})})]})]})})})}),(0,g.jsxs)(u.A,{children:[(0,g.jsx)(v.A,{variant:"outlined",onClick:M,color:"error",children:"Close"}),(0,g.jsx)(v.A,{variant:"outlined",onClick:()=>S(e=>(0,r.A)((0,r.A)({},e),{},{refresh:!e.refresh,filterDialog:!1})),startIcon:(0,g.jsx)(f.A,{}),disabled:!N.broker.value&&!N.ledger.value,children:"Search"})]})]})]})}},30513:(e,a,l)=>{l.d(a,{A:()=>d});var r=l(59662),s=l(70579);const d=(0,r.A)((0,s.jsx)("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3m-3 11H8v-5h8zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m-1-9H6v4h12z"}),"Print")},59383:(e,a,l)=>{l.d(a,{A:()=>d});var r=l(59662),s=l(70579);const d=(0,r.A)((0,s.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt")},63406:(e,a,l)=>{l.d(a,{zU:()=>t,ex:()=>i,MR:()=>o,Ap:()=>d,FX:()=>n});var r=l(89379);const s=l.p+"static/media/smt.aa4d4f940bbebff07a57.png",d={table:{style:{width:"auto",backgroundColor:"transparent"}},rows:{style:{backgroundColor:"transparent"}},headCells:{style:{backgroundColor:"#6b9080f8",color:"white",fontSize:"14px"}}},o={menu:(e,a)=>(0,r.A)((0,r.A)({},e),{},{zIndex:9999}),menuPortal:e=>(0,r.A)((0,r.A)({},e),{},{zIndex:9999}),groupHeading:e=>(0,r.A)((0,r.A)({},e),{},{backgroundColor:"#f5f5f5",color:"#333",fontWeight:"bold",fontSize:"14px",padding:"8px 12px",borderBottom:"1px solid #ddd",textTransform:"uppercase"}),option:(e,a)=>(0,r.A)((0,r.A)({},e),{},{backgroundColor:a.isSelected?"#2684FF":a.isFocused?"#E2ECF9":"white",color:a.isSelected?"white":"#333",padding:"10px 12px"})},t=[{id:1,headname:"Menu ID",variant:"head",align:"left",width:100},{id:2,headname:"MenuName"},{id:3,headname:"Read Rights"},{id:4,headname:"Add Rights"},{id:5,headname:"Edit Rights"},{id:6,headname:"Delete Rights"},{id:7,headname:"Print Rights"},{id:8,headname:"Action"}],i=[{dataBase:1,name:"SHANKAR TRADERS",business:"Wholesale Merchant in Dhall",address:"32, Chitrakara Street, Madurai - 01 <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:s,gstin:"33AADFS6973R1ZD",phone:"984-313-1353, 984-335-5166",fssai:"12418012000818",bankAccount:"0021 5032 0885 122",ifsc:"TMBL0000002"},{dataBase:2,name:"SMT AGRO PRODUCTS",business:"",address:"H.O: 153, Chitrakara Street, 2nd Floor, Madurai -01 <br /> G.O: 746 Puliyur, Sayanapuram, Svga <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:s,gstin:"33ACMFS3420Q1ZQ",phone:"0452-4371625",fssai:"12418012000818",bankAccount:"0025 3031 0875 947",ifsc:"TMBL0000002"},{dataBase:3,name:"BHAVANI TRADERS",business:"",address:"H.O: 152-A, Chitrakara Street, Madurai -01 <br /> G.O: 30/1-Rajman Nagar, Chintamani Main Road, Mdu-01 <br /> Tax Invoice",logo:s,gstin:"33AAEFB6728J1ZG",phone:"958-559-7641, 958-559-7614",fssai:"12418012000670",bankAccount:"0021 5005 0800 309",ifsc:"TMBL0000002"}],n=[{name:"PURCHASE_ORDER",alias:"Purchase Order",moduleCode:"PO"},{name:"PURCHASE_INVOICE",alias:"Purchase Invoice",moduleCode:"PI"},{name:"SALE_ORDER",alias:"Sale Order",moduleCode:"SO"},{name:"SALE_INVOICE",alias:"Sale Invoice",moduleCode:"SI"},{name:"JOURNAL",alias:"Journal",moduleCode:"JO"},{name:"STOCK_JOURNAL",alias:"Stock Journal",moduleCode:"SJ"},{name:"PAYMENT",alias:"Payment",moduleCode:"PAY"},{name:"RECEIPT",alias:"Receipt",moduleCode:"REC"},{name:"CONTRA",alias:"Contra",moduleCode:"CON"}]},79484:(e,a,l)=>{l.d(a,{A:()=>d});var r=l(59662),s=l(70579);const d=(0,r.A)((0,s.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")}}]);
//# sourceMappingURL=7196.3c39a011.chunk.js.map