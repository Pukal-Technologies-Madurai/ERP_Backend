"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[3039],{3632:(e,l,a)=>{a.d(l,{A:()=>d});var t=a(59662),s=a(70579);const d=(0,t.A)((0,s.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")},10204:(e,l,a)=>{a.d(l,{T:()=>t,X:()=>s});const t=[{id:0,label:"New",color:" bg-info text-white "},{id:1,label:"Verified",color:" bg-warning text-white "},{id:2,label:"Converted",color:" bg-success text-white "},{id:3,label:"Canceled",color:" bg-danger text-white "}],s=[{id:1,label:"New",color:" bg-info text-white "},{id:2,label:"Progess",color:" bg-warning text-white "},{id:3,label:"Completed",color:" bg-success text-white "},{id:4,label:"Canceled",color:" bg-danger text-white "}]},13899:(e,l,a)=>{a.d(l,{A:()=>j});var t=a(89379),s=a(65043),d=a(83462),r=a(26600),i=a(35316),n=a(29347),o=a(11906),c=a(33438),u=a(47968),m=a(97707),h=a(93141),x=a(65074),v=a(70579);const b=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1){case 0:return(0,m.e3)(e*(l/100));case 1:return(0,m.e3)(e-e*(100/(100+l)));default:return 0}},j=e=>{let{orderDetails:l,orderProducts:a,download:j,actionOpen:g,clearDetails:N,children:p,TitleText:_}=e;const I=JSON.parse(localStorage.getItem("user")),[f,S]=(0,s.useState)(!1),[A,y]=(0,s.useState)({}),[T,C]=(0,s.useState)({}),G=(0,s.useRef)(null),D=(0,m.id)(l.GST_Inclusive,0),P=(0,m.id)(l.GST_Inclusive,1),w=(0,m.id)(l.GST_Inclusive,2),R=(0,m.id)(l.IS_IGST,1);(0,s.useEffect)(()=>{(0,x.z)({address:"masters/company?Company_id=".concat(null===I||void 0===I?void 0:I.Company_id)}).then(e=>{e.success&&C(null!==e&&void 0!==e&&e.data[0]?null===e||void 0===e?void 0:e.data[0]:{})}).catch(e=>console.error(e))},[null===I||void 0===I?void 0:I.Company_id]),(0,s.useEffect)(()=>{g&&S(!0)},[g]),(0,s.useEffect)(()=>{null!==l&&void 0!==l&&l.Retailer_Id&&(0,x.z)({address:"masters/retailers/info?Retailer_Id=".concat(null===l||void 0===l?void 0:l.Retailer_Id)}).then(e=>{e.success&&y(null!==e&&void 0!==e&&e.data[0]?null===e||void 0===e?void 0:e.data[0]:{})}).catch(e=>console.error(e))},[null===l||void 0===l?void 0:l.Retailer_Id]);const F=()=>{S(!1),N&&N()},B=a.filter(e=>(0,m.D)(null===e||void 0===e?void 0:e.Bill_Qty,0)),O=a.reduce((e,l)=>{const a=(0,m.e3)(null===l||void 0===l?void 0:l.Item_Rate),t=parseInt(null===l||void 0===l?void 0:l.Bill_Qty)||0;if(w)return e.TotalValue+=(0,m.JH)(t,a),e;const s=R?null===l||void 0===l?void 0:l.Igst:(0,m.Lr)(null===l||void 0===l?void 0:l.Sgst,null===l||void 0===l?void 0:l.Cgst);if(P){const l=b(1,a,s),d=(0,m.DG)(a,l);e.TotalTax+=(0,m.JH)(t,l),e.TotalValue+=(0,m.JH)(t,d)}if(D){const l=b(0,a,s);e.TotalTax+=(0,m.JH)(t,l),e.TotalValue+=(0,m.JH)(t,a)}return e},{TotalValue:0,TotalTax:0}),M=(0,h.useReactToPrint)({content:()=>G.current}),V=[{labelOne:"Invoice No",dataOne:null===l||void 0===l?void 0:l.So_Id,labelTwo:"Dated",dataTwo:(0,m.yc)(null===l||void 0===l?void 0:l.So_Date)},{labelOne:"Delivery Note",dataOne:"",labelTwo:"Mode/Terms of Payment",dataTwo:""},{labelOne:"Reference No. & Date",dataOne:"",labelTwo:"Other References",dataTwo:""},{labelOne:"Buyer's Order No",dataOne:"",labelTwo:"Dated",dataTwo:""},{labelOne:"Dispatch Doc No",dataOne:"",labelTwo:"Delivery Note Date",dataTwo:""},{labelOne:"Dispatched through",dataOne:"",labelTwo:"Destination",dataTwo:""},{labelOne:"Bill of Lading/LR-RR No",dataOne:"",labelTwo:"Motor Vehicle No",dataTwo:""}],H=null===a||void 0===a?void 0:a.reduce((e,a)=>{const s=e.findIndex(e=>e.hsnCode==a.HSN_Code),{Taxable_Amount:d,Cgst_Amo:r,Sgst_Amo:i,Igst_Amo:n,HSN_Code:o,Cgst:c,Sgst:u,Igst:h}=a;if(-1!==s){const a=e[s],o=(0,t.A)((0,t.A)({},a),{},{taxableValue:a.taxableValue+d,cgst:(0,m.Lr)(a.cgst,r),sgst:(0,m.Lr)(a.sgst,i),igst:(0,m.Lr)(a.igst,n),totalTax:a.totalTax+Number(l.IS_IGST?n:(0,m.Lr)(r,i))});return e[s]=o,e}const x={hsnCode:o,taxableValue:d,cgst:r,cgstPercentage:c,sgst:i,sgstPercentage:u,igst:n,igstPercentage:h,totalTax:l.IS_IGST?Number(n):(0,m.Lr)(r,i)};return[...e,x]},[]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("span",{onClick:()=>{S(!0)},children:p}),(0,v.jsxs)(d.A,{open:f,onClose:F,fullWidth:!0,maxWidth:"lg",children:[(0,v.jsx)(r.A,{children:"Order Preview"}),(0,v.jsxs)(i.A,{ref:G,children:[(0,v.jsx)("h3",{className:"text-center mb-2",children:null!==_&&void 0!==_?_:"Invoice Details"}),(0,v.jsxs)("div",{className:"row",children:[(0,v.jsxs)("div",{className:"col-6 p-0 border border-bottom-0 border-end-0",children:[(0,v.jsxs)("div",{className:"border-bottom p-2",children:[(0,v.jsx)("p",{className:"m-0 fa-17",children:null===T||void 0===T?void 0:T.Company_Name}),(0,v.jsxs)("p",{className:"m-0 fa-14",children:["Address: ",null===T||void 0===T?void 0:T.Company_Address]}),(0,v.jsxs)("p",{className:"m-0 fa-14",children:["City: ",null===T||void 0===T?void 0:T.Region," - ",null===T||void 0===T?void 0:T.Pincode]}),(0,v.jsx)("p",{className:"m-0 fa-14",children:null!==T&&void 0!==T&&T.Gst_Number||null!==T&&void 0!==T&&T.VAT_TIN_Number?(0,v.jsxs)(v.Fragment,{children:["GSTIN / UIN:",null!==T&&void 0!==T&&T.Gst_Number?" ".concat(T.Gst_Number):"",null!==T&&void 0!==T&&T.Gst_Number&&null!==T&&void 0!==T&&T.VAT_TIN_Number?" || ":"",null!==T&&void 0!==T&&T.VAT_TIN_Number?" ".concat(T.VAT_TIN_Number):""]}):(0,v.jsx)(v.Fragment,{children:"GSTIN / UIN: Not Available"})}),(0,v.jsxs)("p",{className:"m-0 fa-14",children:["State: ",null===T||void 0===T?void 0:T.State]}),(0,v.jsx)("p",{className:"m-0 fa-14",children:"Code: "})]}),(0,v.jsxs)("div",{className:"p-2",children:[" ",(0,v.jsx)("p",{className:"m-0 fa-12",children:"Buyer (Bill to)"}),(0,v.jsx)("p",{className:"m-0 fa-15",children:null===A||void 0===A?void 0:A.Retailer_Name}),(0,v.jsx)("p",{className:"m-0 fa-14",children:(null===A||void 0===A?void 0:A.Mobile_No)+" - "+(null===A||void 0===A?void 0:A.Reatailer_Address)}),(0,v.jsxs)("p",{className:"m-0 fa-14",children:[null===A||void 0===A?void 0:A.Reatailer_City," - ",null===A||void 0===A?void 0:A.PinCode]}),(0,v.jsxs)("p",{className:"m-0 fa-14",children:["GSTIN / UIN: ",null===A||void 0===A?void 0:A.Gstno]}),(0,v.jsxs)("p",{className:"m-0 fa-14",children:["State Name: ",null===A||void 0===A?void 0:A.StateGet]}),(0,v.jsx)("p",{className:"m-0 fa-14",children:"Code: "})]})]}),(0,v.jsx)("div",{className:"col-6 p-0 border border-bottom-0",children:(0,v.jsx)("table",{className:"table m-0",children:(0,v.jsxs)("tbody",{children:[V.map((e,l)=>(0,v.jsxs)("tr",{children:[(0,v.jsxs)("td",{className:"border-end fa-12 p-0 px-1",children:[(0,v.jsx)("p",{className:"m-0",children:e.labelOne}),(0,v.jsxs)("p",{className:"m-0",children:["\u2003",e.dataOne]})]}),(0,v.jsxs)("td",{className:"fa-12 p-0 px-1",children:[(0,v.jsx)("p",{className:"m-0",children:e.labelTwo}),(0,v.jsxs)("p",{className:"m-0",children:["\u2003",e.dataTwo]})]})]},l)),(0,v.jsx)("tr",{children:(0,v.jsxs)("td",{colSpan:2,className:"border-0 fa-12 p-0",children:[(0,v.jsx)("p",{className:"m-0",children:"Terms of Delivery"}),(0,v.jsx)("p",{className:"m-0"}),(0,v.jsx)("br",{}),(0,v.jsx)("br",{})]})})]})})})]}),(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-12 p-0",children:(0,v.jsxs)("table",{className:"table m-0",children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{className:"border bg-light fa-14",children:"Sno"}),(0,v.jsx)("td",{className:"border bg-light fa-14",children:"Product"}),(0,v.jsx)("td",{className:"border bg-light fa-14",children:"HSN/SAC"}),(0,v.jsx)("td",{className:"border bg-light fa-14 text-end",children:"Quantity"}),(0,v.jsx)("td",{className:"border bg-light fa-14 text-end",children:"Rate"}),(0,v.jsxs)("td",{className:"border bg-light fa-14 text-end",children:[(0,v.jsx)("p",{className:"m-2 ",children:"Rate"}),(0,v.jsxs)("p",{className:"m-0 ",children:[(0,m.id)(l.GST_Inclusive,1)&&"(Incl. of Tax)",(0,m.id)(l.GST_Inclusive,2)&&"(Tax not applicable)",(0,m.id)(l.GST_Inclusive,0)&&"(Excl. of Tax)"]})]}),(0,v.jsx)("td",{className:"border bg-light fa-14 text-end",children:"Amount"})]})}),(0,v.jsxs)("tbody",{children:[B.map((e,a)=>{var t;const s=null!==(t=R?null===e||void 0===e?void 0:e.Igst_P:(null===e||void 0===e?void 0:e.Cgst)+(null===e||void 0===e?void 0:e.Sgst))&&void 0!==t?t:0,d=Number((null===e||void 0===e?void 0:e.Bill_Qty)||0),r=Number((null===e||void 0===e?void 0:e.Item_Rate)||0),i=b(l.GST_Inclusive,r,s);return(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{className:"border fa-13",children:a+1}),(0,v.jsx)("td",{className:"border fa-13",children:null===e||void 0===e?void 0:e.Product_Name}),(0,v.jsx)("td",{className:"border fa-13",children:null===e||void 0===e?void 0:e.HSN_Code}),(0,v.jsxs)("td",{className:"border fa-13 text-end",children:[(0,m.jG)(d),(null===e||void 0===e?void 0:e.UOM)&&" ("+(null===e||void 0===e?void 0:e.UOM)+") "]}),(0,v.jsxs)("td",{className:"border fa-13 text-end",children:[" ",(0,m.jG)((0,m.id)(l.GST_Inclusive,1)?r-i:r)]}),(0,v.jsxs)("td",{className:"border fa-13 text-end",children:[" ",(0,m.jG)((0,m.id)(l.GST_Inclusive,1)?r:r+i)]}),(0,v.jsxs)("td",{className:"border fa-13 text-end",children:[" ",(0,m.jG)(null===e||void 0===e?void 0:e.Taxable_Amount)]})]},a)}),(0,v.jsxs)("tr",{children:[(0,v.jsxs)("td",{className:"border p-2",rowSpan:R?4:5,colSpan:4,children:[(0,v.jsx)("p",{className:"m-0",children:"Amount Chargeable (in words):"}),(0,v.jsxs)("p",{className:"m-0",children:["\u2003 INR ",(0,m.GF)(parseInt(null===l||void 0===l?void 0:l.Total_Invoice_value))," Only."]})]}),(0,v.jsx)("td",{className:"border p-2 fa-14",colSpan:2,children:"Total Taxable Amount"}),(0,v.jsx)("td",{className:"border p-2 text-end fa-14",children:(0,m.jG)(O.TotalValue)})]}),R?(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{className:"border p-2 fa-14",colSpan:2,children:"IGST"}),(0,v.jsx)("td",{className:"border p-2 fa-14 text-end",children:(0,m.jG)(l.IGST_Total)})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{className:"border p-2 fa-14",colSpan:2,children:"CGST"}),(0,v.jsx)("td",{className:"border p-2 text-end fa-14",children:(0,m.jG)(null===l||void 0===l?void 0:l.CSGT_Total)})]}),(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{className:"border p-2 fa-14",colSpan:2,children:"SGST"}),(0,v.jsx)("td",{className:"border p-2 fa-14 text-end",children:(0,m.jG)(null===l||void 0===l?void 0:l.SGST_Total)})]})]}),(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{className:"border p-2 fa-14",colSpan:2,children:"Round Off"}),(0,v.jsx)("td",{className:"border p-2 fa-14 text-end",children:(0,m.jG)(null===l||void 0===l?void 0:l.Round_off)})]}),(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{className:"border p-2 fa-14",colSpan:2,children:"Total"}),(0,v.jsx)("td",{className:"border p-2 fa-14 text-end fw-bold",children:(0,m.jG)(null===l||void 0===l?void 0:l.Total_Invoice_value)})]})]})]})})}),(0,v.jsxs)("table",{className:"table",children:[(0,v.jsxs)("thead",{children:[(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{className:"border bg-light fa-14 text-center",rowSpan:2,style:{verticalAlign:"middle"},children:"HSN / SAC"}),(0,v.jsx)("td",{className:"border bg-light fa-14 text-center",rowSpan:2,style:{verticalAlign:"middle"},children:"Taxable Value"}),(0,m.id)(l.IS_IGST,1)?(0,v.jsx)("td",{className:"border bg-light fa-14 text-center",colSpan:2,children:"IGST Tax"}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("td",{className:"border bg-light fa-14 text-center",colSpan:2,children:"Central Tax"}),(0,v.jsx)("td",{className:"border bg-light fa-14 text-center",colSpan:2,children:"State Tax"})]}),(0,v.jsx)("td",{className:"border bg-light fa-14 text-center",children:"Total"})]}),(0,v.jsxs)("tr",{children:[(0,m.id)(l.IS_IGST,1)?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("td",{className:"border bg-light fa-14 text-center",children:"Rate"}),(0,v.jsx)("td",{className:"border bg-light fa-14 text-center",children:"Amount"})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("td",{className:"border bg-light fa-14 text-center",children:"Rate"}),(0,v.jsx)("td",{className:"border bg-light fa-14 text-center",children:"Amount"}),(0,v.jsx)("td",{className:"border bg-light fa-14 text-center",children:"Rate"}),(0,v.jsx)("td",{className:"border bg-light fa-14 text-center",children:"Amount"})]}),(0,v.jsx)("td",{className:"border bg-light fa-14 text-center",children:"Tax Amount"})]})]}),(0,v.jsxs)("tbody",{children:[H.map((e,a)=>(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{className:"border fa-13 text-end",children:null===e||void 0===e?void 0:e.hsnCode}),(0,v.jsx)("td",{className:"border fa-13 text-end",children:(0,m.jG)(null===e||void 0===e?void 0:e.taxableValue)}),l.IS_IGST?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("td",{className:"border fa-13 text-end",children:(0,m.jG)(null===e||void 0===e?void 0:e.igstPercentage)}),(0,v.jsx)("td",{className:"border fa-13 text-end",children:(0,m.jG)(null===e||void 0===e?void 0:e.igst)})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("td",{className:"border fa-13 text-end",children:(0,m.jG)(null===e||void 0===e?void 0:e.cgstPercentage)}),(0,v.jsx)("td",{className:"border fa-13 text-end",children:(0,m.jG)(null===e||void 0===e?void 0:e.cgst)}),(0,v.jsx)("td",{className:"border fa-13 text-end",children:(0,m.jG)(null===e||void 0===e?void 0:e.sgstPercentage)}),(0,v.jsx)("td",{className:"border fa-13 text-end",children:(0,m.jG)(null===e||void 0===e?void 0:e.sgst)})]}),(0,v.jsx)("td",{className:"border fa-13 text-end",children:(0,m.jG)(null===e||void 0===e?void 0:e.totalTax)})]},a)),(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{className:"border fa-13 text-end",children:"Total"}),(0,v.jsx)("td",{className:"border fa-13 text-end fw-bold",children:(0,m.jG)(H.reduce((e,l)=>e+Number(l.taxableValue),0))}),l.IS_IGST?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("td",{className:"border fa-13 text-end"}),(0,v.jsx)("td",{className:"border fa-13 text-end fw-bold",children:(0,m.jG)(H.reduce((e,l)=>e+Number(l.igst),0))})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("td",{className:"border fa-13 text-end"}),(0,v.jsx)("td",{className:"border fa-13 text-end fw-bold",children:(0,m.jG)(H.reduce((e,l)=>e+Number(l.cgst),0))}),(0,v.jsx)("td",{className:"border fa-13 text-end"}),(0,v.jsx)("td",{className:"border fa-13 text-end fw-bold",children:(0,m.jG)(H.reduce((e,l)=>e+Number(l.sgst),0))})]}),(0,v.jsx)("td",{className:"border fa-13 text-end fw-bold",children:(0,m.jG)(H.reduce((e,l)=>e+Number(l.totalTax),0))})]}),(0,v.jsx)("tr",{children:(0,v.jsxs)("td",{colSpan:(0,m.id)(l.IS_IGST,1)?5:7,className:"border fa-13 fw-bold",children:["Tax Amount (in words) : INR \xa0",(0,m.GF)(parseInt(H.reduce((e,l)=>e+Number(l.totalTax),0)))," only."]})})]})]}),(0,v.jsx)("div",{className:"col-12 text-center",children:(0,v.jsx)("p",{children:"This is a Computer Generated Invoice"})})]}),(0,v.jsxs)(n.A,{children:[(0,v.jsx)(o.A,{startIcon:(0,v.jsx)(c.A,{}),variant:"outlined",color:"error",onClick:F,children:"Close"}),j&&(0,v.jsx)(o.A,{startIcon:(0,v.jsx)(u.A,{}),variant:"outlined",onClick:M,children:"Download"})]})]})]})}},30079:(e,l,a)=>{a.d(l,{A:()=>d});var t=a(59662),s=a(70579);const d=(0,t.A)((0,s.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear")},33438:(e,l,a)=>{a.d(l,{A:()=>d});var t=a(59662),s=a(70579);const d=(0,t.A)((0,s.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},37141:(e,l,a)=>{a.d(l,{A:()=>d});var t=a(59662),s=a(70579);const d=(0,t.A)((0,s.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save")},41488:(e,l,a)=>{a.d(l,{A:()=>T});var t=a(89379),s=a(65043),d=a(11906),r=a(17392),i=a(83462),n=a(26600),o=a(35316),c=a(29347),u=a(20656),m=a(63406),h=a(91036),x=a(97707),v=a(70141),b=a(30079),j=a(34496),g=a(51387),N=a(83560),p=a(37141),_=a(65074),I=a(48471),f=a(14792),S=a(14844),A=a(70579);const y=function(){var e;let l=arguments.length>1?arguments[1]:void 0;return null!==(e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find(e=>(0,x.id)(e.Product_Id,l)))&&void 0!==e?e:{}},T=e=>{var l,a,T,C;let{editValues:G,loadingOn:D,loadingOff:P,reload:w,switchScreen:R,editOn:F}=e;const B=JSON.parse(localStorage.getItem("user")),[O,M]=(0,s.useState)({products:[],branch:[],retailers:[],voucherType:[],uom:[],staff:[],staffType:[],salesPerson:[],brand:[]}),[V,H]=(0,s.useState)([]),[L,U]=(0,s.useState)([]),[k,z]=(0,s.useState)([]),[Q,E]=(0,s.useState)([]),[J,W]=(0,s.useState)({}),[q,X]=(0,s.useState)([]),[Y,K]=(0,s.useState)([]),Z={Company_Id:null===B||void 0===B?void 0:B.Company_id,Do_Date:(0,x.ny)(),VoucherType:"",Retailer_Id:"",Retailer_Name:"Select",Delivery_Status:1,Delivery_Person_Id:"",Payment_Ref_No:"",Delivery_Person_Name:"",Payment_Mode:0,Payment_Status:0,Branch_Id:null===B||void 0===B?void 0:B.BranchId,Narration:"",Created_by:null===B||void 0===B?void 0:B.UserId,Product_Array:[],So_No:null===G||void 0===G?void 0:G.So_Id,GST_Inclusive:1,IS_IGST:0},$={Item_Id:"",ItemName:"Search Item",Bill_Qty:0,Item_Rate:0,UOM:"",Units:"",Product:{},Group:"Search Group",GroupID:"",Brand:"Search Brand",BrandID:"",Amount:0},[ee,le]=(0,s.useState)(Z),[ae,te]=(0,s.useState)([]),[se,de]=(0,s.useState)($),[re,ie]=(0,s.useState)(!1),[ne,oe]=(0,s.useState)(!1),ce=(0,x.id)(ee.GST_Inclusive,1),ue=(0,x.id)(ee.GST_Inclusive,2),me=(0,s.useState)(0);(0,s.useEffect)(()=>{var e;(0,x.aF)(G)?(le(e=>{var l;return(0,t.A)((0,t.A)({},e),{},{Do_Id:null===G||void 0===G?void 0:G.Do_Id,Do_Date:null!==(l=null===G||void 0===G?void 0:G.Do_Date)&&void 0!==l?l:(0,x.ny)(),VoucherType:null===G||void 0===G?void 0:G.Voucher_Type,Retailer_Id:null===G||void 0===G?void 0:G.Retailer_Id,Retailer_Name:null===G||void 0===G?void 0:G.Retailer_Name,Delivery_Status:null===G||void 0===G?void 0:G.Delivery_Status,Payment_Status:null===G||void 0===G?void 0:G.Payment_Status,Payment_Mode:null===G||void 0===G?void 0:G.Payment_Mode,Branch_Id:null===G||void 0===G?void 0:G.Branch_Id,Narration:null===G||void 0===G?void 0:G.Narration,Created_by:null===G||void 0===G?void 0:G.Created_by,Payment_Ref_No:null===G||void 0===G?void 0:G.Payment_Ref_No,So_No:null===G||void 0===G?void 0:G.So_Id,GST_Inclusive:null===G||void 0===G?void 0:G.GST_Inclusive,IS_IGST:null===G||void 0===G?void 0:G.IS_IGST})}),te(null===G||void 0===G||null===(e=G.Products_List)||void 0===e?void 0:e.map(e=>{var l,a,s,d,r,i,n,o,c,u,m,h,v,b,j,g;return(0,t.A)((0,t.A)({},e),{},{Item_Id:null!==(l=e.Item_Id)&&void 0!==l?l:"",ItemName:null!==(a=null===e||void 0===e?void 0:e.Product_Name)&&void 0!==a?a:"",Bill_Qty:null!==(s=null===e||void 0===e?void 0:e.Bill_Qty)&&void 0!==s?s:0,Item_Rate:null!==(d=null===e||void 0===e?void 0:e.Item_Rate)&&void 0!==d?d:0,UOM:null!==(r=null===e||void 0===e?void 0:e.Unit_Id)&&void 0!==r?r:"",Units:null!==(i=null===e||void 0===e?void 0:e.Units)&&void 0!==i?i:"",Product:(0,t.A)((0,t.A)({},e),{},{Cgst_P:null!==(n=Number(null===(o=y(L,e.Item_Id))||void 0===o?void 0:o.Cgst_P))&&void 0!==n?n:0,Sgst_P:null!==(c=Number(null===(u=y(L,e.Item_Id))||void 0===u?void 0:u.Sgst_P))&&void 0!==c?c:0,Igst_P:null!==(m=Number(null===(h=y(L,e.Item_Id))||void 0===h?void 0:h.Igst_P))&&void 0!==m?m:0,Gst_P:null!==(v=(0,x.Lr)(null===(b=y(L,e.Item_Id))||void 0===b?void 0:b.Cgst_P,null===(j=y(L,e.Item_Id))||void 0===j?void 0:j.Sgst_P))&&void 0!==v?v:0}),Group:"Search Group",GroupID:"",Brand:"Search Brand",BrandID:"",Amount:null!==(g=null===e||void 0===e?void 0:e.Amount)&&void 0!==g?g:0})})),ie(!0),null!==G&&void 0!==G&&G.Latitude&&null!==G&&void 0!==G&&G.Longitude||(async()=>{try{const e=await new Promise((e,l)=>{navigator.geolocation.getCurrentPosition(e,l)}),{latitude:l,longitude:a}=e.coords;le(e=>(0,t.A)((0,t.A)({},e),{},{Delivery_Latitude:l,Delivery_Longitude:a}))}catch(e){h.oR.warn("Unable to fetch location. Allow location access.")}})()):(le(Z),te([]),ie(!1))},[G,L]),(0,s.useEffect)(()=>{(0,_.z)({address:"masters/retailers/dropDown?Company_Id=".concat(null===B||void 0===B?void 0:B.Company_id)}).then(e=>{e.success&&H(e.data)}).catch(e=>console.error(e)),(0,_.z)({address:"masters/uom"}).then(e=>{e.success&&E(e.data)}).catch(e=>console.error(e)),(0,_.z)({address:"masters/products"}).then(e=>{if(e.success){U(e.data);const l=(0,x.Mn)(e.data,"Brand",["Brand_Name"]);z(l)}else U([]),z([])}).catch(e=>console.error(e)),(0,_.z)({address:"masters/company?Company_id=".concat(null===B||void 0===B?void 0:B.Company_id)}).then(e=>{e.success&&W(null!==e&&void 0!==e&&e.data[0]?null===e||void 0===e?void 0:e.data[0]:{})}).catch(e=>console.error(e)),(0,_.z)({address:"masters/voucher?module=SALES"}).then(e=>{e.success&&X(e.data)}).catch(e=>console.error(e)),(0,_.z)({address:"masters/branch/dropDown"}).then(e=>{e.success&&K(e.data)}).catch(e=>console.error(e))},[null===B||void 0===B?void 0:B.Company_id]);(0,s.useEffect)(()=>{te(e=>e.map(e=>{const l=y(O.products,e.Item_Id),a=ee.IS_IGST?l.Igst_P:l.Gst_P,s=a>0&&!ue,d=(0,x.JH)(e.Item_Rate,e.Bill_Qty),r=(0,S.v)(d,a,ce?"remove":"add");return(0,t.A)((0,t.A)({},e),{},{Amount:d,Taxable_Amount:s?r.without_tax:d,Cgst_Amo:s&&!ee.IS_IGST?r.cgst_amount:0,Sgst_Amo:s&&!ee.IS_IGST?r.sgst_amount:0,Igst_Amo:s&&ee.IS_IGST?r.igst_amount:0,Final_Amo:s?r.with_tax:d,Tax_Rate:a,Cgst:ee.IS_IGST?0:r.cgst_per,Sgst:ee.IS_IGST?0:r.sgst_per,Igst:ee.IS_IGST?r.igst_per:0,Taxble:s?1:0})}))},[ee.GST_Inclusive,ee.IS_IGST]);const he=(e=>e.reduce((e,l)=>({taxableAmount:e.taxableAmount+(l.Taxable_Amount||0),cgst:e.cgst+(l.Cgst_Amo||0),sgst:e.sgst+(l.Sgst_Amo||0),igst:e.igst+(l.Igst_Amo||0),finalAmount:e.finalAmount+(l.Final_Amo||0)}),{taxableAmount:0,cgst:0,sgst:0,igst:0,finalAmount:0}))(ae),xe=Math.round(he.finalAmount)-he.finalAmount,ve=()=>{oe(!1),de($)};return(0,A.jsxs)(A.Fragment,{children:[F&&(0,A.jsx)(A.Fragment,{children:(0,A.jsx)("h6",{className:"fa-18 m-0 p-3 py-2 d-flex align-items-center justify-content-between",children:"Create Delivery Order"})}),(0,A.jsxs)("div",{className:"p-3 pt-0",children:[(0,A.jsxs)("div",{className:"p-3 bg-light rounded-3 mb-3 shadow-sm",children:[(0,A.jsx)("h5",{className:"border-bottom",children:"From:"}),(0,A.jsxs)("div",{className:"row",children:[(0,A.jsx)("div",{className:"col-lg-8 col-md-7",children:(0,A.jsx)("table",{className:"table",children:(0,A.jsxs)("tbody",{children:[(0,A.jsx)("tr",{children:(0,A.jsx)("td",{className:"border-0 bg-light",colSpan:2,children:null===J||void 0===J?void 0:J.Company_Name})}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{className:"border-0 bg-light",children:"Address:"}),(0,A.jsx)("td",{className:"border-0 bg-light",children:null===J||void 0===J?void 0:J.Company_Address})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{className:"border-0 bg-light",children:"Phone:"}),(0,A.jsx)("td",{className:"border-0 bg-light",children:null===J||void 0===J?void 0:J.Telephone_Number})]})]})})}),(0,A.jsx)("div",{className:"col-lg-4 col-md-5",children:(0,A.jsx)("table",{className:"table",children:(0,A.jsxs)("tbody",{children:[(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{className:"border-0 bg-light",children:"Date:"}),(0,A.jsx)("td",{className:"border-0 bg-light",children:(0,A.jsx)("input",{type:"date",value:null!==ee&&void 0!==ee&&ee.Do_Date?(0,x.ny)(null===ee||void 0===ee?void 0:ee.Do_Date):"",onChange:e=>le((0,t.A)((0,t.A)({},ee),{},{Do_Date:e.target.value})),className:"cus-inpt p-1"})})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{className:"border-0 bg-light",children:"Invoice Type:"}),(0,A.jsx)("td",{className:"border-0 bg-light",children:(0,A.jsxs)("select",{className:"cus-inpt p-1",onChange:e=>le((0,t.A)((0,t.A)({},ee),{},{GST_Inclusive:Number(e.target.value)})),value:ee.GST_Inclusive,children:[(0,A.jsx)("option",{value:1,children:"Inclusive Tax"}),(0,A.jsx)("option",{value:0,children:"Exclusive Tax"}),(0,A.jsx)("option",{value:2,children:"Not Taxable"})]})})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{className:"border-0 bg-light",children:"Tax Type:"}),(0,A.jsx)("td",{className:"border-0 bg-light",children:(0,A.jsxs)("select",{className:"cus-inpt p-1",onChange:e=>le((0,t.A)((0,t.A)({},ee),{},{IS_IGST:Number(e.target.value)})),value:ee.IS_IGST,children:[(0,A.jsx)("option",{value:"0",children:"GST"}),(0,A.jsx)("option",{value:"1",children:"IGST"})]})})]}),(0,A.jsxs)("tr",{children:[(0,A.jsxs)("td",{className:"border-0 bg-light",children:["Voucher Type ",(0,A.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,A.jsx)("td",{className:"border-0 bg-light",children:(0,A.jsxs)("select",{className:"cus-inpt p-1 ",onChange:e=>le((0,t.A)((0,t.A)({},ee),{},{VoucherType:e.target.value})),value:ee.VoucherType,children:[(0,A.jsx)("option",{value:"",disabled:!0,children:"select voucher"}),q.map((e,l)=>(0,A.jsx)("option",{value:e.Vocher_Type_Id,children:e.Voucher_Type},l))]})})]}),(0,A.jsxs)("tr",{children:[(0,A.jsxs)("td",{className:"border-0 bg-light",children:["Branch ",(0,A.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,A.jsx)("td",{className:"border-0 bg-light",children:(0,A.jsxs)("select",{className:"cus-inpt p-1",onChange:e=>le((0,t.A)((0,t.A)({},ee),{},{Branch_Id:Number(e.target.value)})),value:ee.Branch_Id,children:[(0,A.jsx)("option",{value:"",disabled:!0,children:"select Branch"}),Y.map((e,l)=>(0,A.jsx)("option",{value:e.BranchId,children:e.BranchName},l))]})})]})]})})})]})]}),(0,A.jsxs)("div",{className:"p-3 bg-light rounded-3 mb-3 shadow-sm",children:[(0,A.jsx)("h5",{className:"border-bottom",children:"To:"}),(0,A.jsxs)("div",{className:"row ",children:[(0,A.jsx)("div",{className:"col-md-6",children:(0,A.jsx)("table",{className:"table",children:(0,A.jsxs)("tbody",{children:[(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{className:"border-0 bg-light",children:"Retailer Name:"}),(0,A.jsx)("td",{className:"border-0 bg-light",children:(0,A.jsx)(u.Ay,{value:{value:null===ee||void 0===ee?void 0:ee.Retailer_Id,label:null===ee||void 0===ee?void 0:ee.Retailer_Name},onChange:e=>le((0,t.A)((0,t.A)({},ee),{},{Retailer_Id:e.value,Retailer_Name:e.label})),options:[{value:"",label:"select",isDisabled:!0},...V.map(e=>({value:null===e||void 0===e?void 0:e.Retailer_Id,label:null===e||void 0===e?void 0:e.Retailer_Name}))],styles:m.MR,isSearchable:!0,placeholder:"Retailer Name",maxMenuHeight:200})})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{className:"border-0 bg-light",children:"Address:"}),(0,A.jsx)("td",{className:"border-0 bg-light",children:B.Name})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{className:"border-0 bg-light",children:"Phone:"}),(0,A.jsx)("td",{className:"border-0 bg-light"})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{className:"border-0 bg-light",children:"Delivery_Status:"}),(0,A.jsx)("td",{className:"border-0 bg-light",children:(0,A.jsxs)("select",{className:"cus-inpt p-1",onChange:e=>le((0,t.A)((0,t.A)({},ee),{},{Delivery_Status:e.target.value})),value:ee.Delivery_Status?ee.Delivery_Status:1,children:[(0,A.jsx)("option",{value:5,children:"Pending"}),(0,A.jsx)("option",{value:7,children:"Delivered"}),(0,A.jsx)("option",{value:6,children:"Return"})]})})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{className:"border-0 bg-light",children:"Payment_Mode:"}),(0,A.jsx)("td",{className:"border-0 bg-light",children:(0,A.jsxs)("select",{className:"cus-inpt p-1",onChange:e=>le((0,t.A)((0,t.A)({},ee),{},{Payment_Mode:e.target.value})),value:ee.Payment_Mode||0,children:[(0,A.jsx)("option",{value:0}),(0,A.jsx)("option",{value:1,children:"Cash"}),(0,A.jsx)("option",{value:3,children:"QR-Pay"}),(0,A.jsx)("option",{value:2,children:"G-Pay"})]})})]})]})})}),(0,A.jsx)("div",{className:"col-md-6",children:(0,A.jsx)("table",{className:"table",children:(0,A.jsxs)("tbody",{children:[(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{className:"border-0 bg-light",children:"Q-Pay:"}),(0,A.jsx)("td",{className:"border-0 bg-light",children:10})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{className:"border-0 bg-light",children:"Frequency Days:"}),(0,A.jsx)("td",{className:"border-0 bg-light",children:20})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{className:"border-0 bg-light",children:"Payment_Status:"}),(0,A.jsx)("td",{className:"border-0 bg-light",children:(0,A.jsxs)("select",{className:"cus-inpt p-1",onChange:e=>le((0,t.A)((0,t.A)({},ee),{},{Payment_Status:Number(e.target.value)})),value:ee.Payment_Status,children:[(0,A.jsx)("option",{value:1,children:"Pending"}),(0,A.jsx)("option",{value:3,children:"Complete"})]})})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{className:"border-0 bg-light",children:"Payment Reference No:"}),(0,A.jsx)("td",{className:"border-0 bg-light",children:(0,A.jsx)("input",{type:"text",className:"cus-inpt p-1",onChange:e=>le((0,t.A)((0,t.A)({},ee),{},{Payment_Ref_No:e.target.value})),value:null===ee||void 0===ee?void 0:ee.Payment_Ref_No,placeholder:"Enter Payment Reference Number"})})]})]})})})]})]}),(0,A.jsx)("div",{className:"d-flex align-items-end justify-content-end flex-wrap mb-3",children:(0,A.jsx)(d.A,{onClick:()=>oe(!0),sx:{ml:1},variant:"outlined",startIcon:(0,A.jsx)(v.A,{}),children:"Add Product"})}),(0,A.jsx)(I.Ay,{dataArray:ae,columns:[{isCustomCell:!0,Cell:e=>{var l;let{row:a}=e;return null===a||void 0===a||null===(l=a.Product)||void 0===l?void 0:l.Product_Name},ColumnHeader:"Product",isVisible:1},{isCustomCell:!0,Cell:e=>{var l;let{row:a}=e;return null===a||void 0===a||null===(l=a.Product)||void 0===l?void 0:l.HSN_Code},ColumnHeader:"HSN Code",isVisible:1},{isCustomCell:!0,Cell:e=>{var l;let{row:a}=e;return(null===a||void 0===a?void 0:a.Bill_Qty)+(null!==(l=null===a||void 0===a?void 0:a.Units)&&void 0!==l?l:"")},ColumnHeader:"Quantity",isVisible:1,align:"center"},{Field_Name:"Item_Rate",ColumnHeader:"Rate",Fied_Data:"number",isVisible:1,align:"right"},{ColumnHeader:"Taxable Amount",isCustomCell:!0,Cell:e=>{let{row:l}=e;return(0,x.jG)(l.Taxable_Amount||0)},isVisible:1,align:"right"},{isCustomCell:!0,Cell:e=>{var l;let{row:a}=e;const t=(0,x.Lr)(a.Cgst_Amo||0,a.Sgst_Amo||0,a.Igst_Amo||0);return"".concat((0,x.jG)(t)," (").concat((null===(l=a.Product)||void 0===l?void 0:l.Tax_Rate)||0,"%)")},ColumnHeader:"Tax",isVisible:1,align:"right"},{ColumnHeader:"Amount",isCustomCell:!0,Cell:e=>{let{row:l}=e;return(0,x.jG)(l.Final_Amo||0)},isVisible:1,align:"right"},{isCustomCell:!0,Cell:e=>{let{row:l}=e;return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(r.A,{onClick:()=>{const e=l.Product||{},a=l.UOM||e.Unit_Id,t=l.Unit_Name||e.Units||e.Unit_Name;de({Item_Id:l.Item_Id,ItemName:e.Product_Name||l.ItemName,Bill_Qty:l.Bill_Qty,Item_Rate:l.Item_Rate,UOM:a,Units:t,Product:e,Group:e.Pro_Group||l.Group||"",GroupID:e.Product_Group||l.GroupID||"",Brand:e.Brand_Name||l.Brand||"",BrandID:e.Brand||l.BrandID||"",Amount:l.Amount}),oe(!0)},size:"small",children:(0,A.jsx)(N.A,{})}),(0,A.jsx)(r.A,{size:"small",onClick:()=>{te(e=>e.filter(e=>!(0,x.id)(e.Item_Id,l.Item_Id)))},color:"error",children:(0,A.jsx)(g.A,{})})]})},ColumnHeader:"Action",isVisible:1}],EnableSerialNumber:!0,CellSize:"small",disablePagination:!0}),ae.length>0&&(0,A.jsx)("div",{className:"d-flex justify-content-end py-2",children:(0,A.jsx)("table",{className:"table",children:(0,A.jsxs)("tbody",{children:[(0,A.jsxs)("tr",{children:[(0,A.jsxs)("td",{className:"border p-2",rowSpan:1===ee.IS_IGST?4:5,children:["Total in words: ",(0,x.GF)(Math.round(he.finalAmount))]}),(0,A.jsx)("td",{className:"border p-2",children:"Total Taxable Amount"}),(0,A.jsx)("td",{className:"border p-2 text-end",children:(0,x.jG)(he.taxableAmount.toFixed(2))})]}),1===ee.IS_IGST?(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{className:"border p-2",children:"IGST"}),(0,A.jsx)("td",{className:"border p-2 text-end",children:(0,x.jG)(he.igst.toFixed(2))})]}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{className:"border p-2",children:"CGST"}),(0,A.jsx)("td",{className:"border p-2 text-end",children:(0,x.jG)(he.cgst.toFixed(2))})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{className:"border p-2",children:"SGST"}),(0,A.jsx)("td",{className:"border p-2 text-end",children:(0,x.jG)(he.sgst.toFixed(2))})]})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{className:"border p-2",children:"Round Off"}),(0,A.jsx)("td",{className:"border p-2 text-end",children:(0,x.jG)(xe.toFixed(2))})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{className:"border p-2 fw-bold",children:"Total"}),(0,A.jsx)("td",{className:"border p-2 text-end fw-bold",children:(0,x.jG)(Math.round(he.finalAmount))})]})]})})}),(0,A.jsx)("p",{className:"fa-15 mt-3 m-0",children:"Narration"}),(0,A.jsx)("textarea",{className:"cus-inpt ",value:ee.Narration,onChange:e=>le(l=>(0,t.A)((0,t.A)({},l),{},{Narration:e.target.value}))}),(0,A.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,A.jsx)(d.A,{variant:"outlined",startIcon:(0,A.jsx)(b.A,{}),onClick:R,children:"cancel"}),(0,A.jsx)(d.A,{onClick:()=>{if((null===ae||void 0===ae?void 0:ae.length)>0&&null!==ee&&void 0!==ee&&ee.Retailer_Id){var e;D(),(0,_.z)({address:"delivery/deliveryOrder",method:re&&!F?"PUT":"POST",bodyData:(0,t.A)((0,t.A)({},ee),{},{Product_Array:ae.filter(e=>(0,x.D)(null===e||void 0===e?void 0:e.Bill_Qty,0)),Delivery_Person_Id:null!==(e=null!==me&&void 0!==me?me:Number(null===ee||void 0===ee?void 0:ee.Delivery_Person_Id))&&void 0!==e?e:0,Payment_Status:null!==ee&&void 0!==ee&&ee.Payment_Status?Number(null===ee||void 0===ee?void 0:ee.Payment_Status):1,Payment_Ref_No:null===ee||void 0===ee?void 0:ee.Payment_Ref_No,Delivery_Status:null!==ee&&void 0!==ee&&ee.Delivery_Status?Number(null===ee||void 0===ee?void 0:ee.Delivery_Status):1,Payment_Mode:null!==ee&&void 0!==ee&&ee.Payment_Mode?Number(null===ee||void 0===ee?void 0:ee.Payment_Mode):1})}).then(e=>{e.success?(h.oR.success(null===e||void 0===e?void 0:e.message),le(Z),te([]),w()):h.oR.error(null===e||void 0===e?void 0:e.message)}).catch(e=>console.error(e)).finally(()=>P())}else{if(ae.length<=0)return h.oR.error("Enter any one product quantity");if(null===ee||void 0===ee||!ee.Retailer_Id)return h.oR.error("Select Retailer"),h.oR.error("Select Retailer")}},sx:{ml:1},variant:"outlined",color:"success",startIcon:(0,A.jsx)(p.A,{}),disabled:0===(null===ae||void 0===ae?void 0:ae.length)||!(null!==ee&&void 0!==ee&&ee.Retailer_Id),children:"Save"})]})]}),(0,A.jsxs)(i.A,{open:ne,onClose:ve,maxWidth:"sm",fullWidth:!0,children:[(0,A.jsx)(n.A,{className:"border-bottom",children:(0,A.jsx)("span",{children:"Add Products Details"})}),(0,A.jsxs)("form",{onSubmit:e=>{e.preventDefault(),se.Item_Id&&se.Bill_Qty&&se.Item_Rate?(((e,l,a,t,s,d)=>{const r=y(O.products,e),i=ee.IS_IGST?r.Igst_P:r.Gst_P,n=i>0&&!ue,o=(0,x.JH)(l,a),c=(0,S.v)(o,i,ce?"remove":"add"),u=ae.findIndex(l=>(0,x.id)(l.Item_Id,e)),m={Item_Id:e,Bill_Qty:Number(l),Item_Rate:Number(a),UOM:s,Units:d,Amount:o,Product:t,Taxable_Amount:n?c.without_tax:o,Cgst_Amo:n&&!ee.IS_IGST?c.cgst_amount:0,Sgst_Amo:n&&!ee.IS_IGST?c.sgst_amount:0,Igst_Amo:n&&ee.IS_IGST?c.igst_amount:0,Final_Amo:n?c.with_tax:o,Tax_Rate:i,Cgst:ee.IS_IGST?0:c.cgst_per,Sgst:ee.IS_IGST?0:c.sgst_per,Igst:ee.IS_IGST?c.igst_per:0,Taxble:n?1:0};te(-1!==u?e=>[...e.slice(0,u),m,...e.slice(u+1)]:e=>[...e,m])})(se.Item_Id,se.Bill_Qty,se.Item_Rate,se.Product,se.UOM,se.Units),ve()):h.oR.warn(se.Item_Id?se.Bill_Qty?"Enter Rate or Amount":"Enter Quantity":"Select Product")},children:[(0,A.jsx)(o.A,{children:(0,A.jsxs)("div",{className:"row pb-5",children:[(0,A.jsxs)("div",{className:"col-6 p-2",children:[(0,A.jsx)("label",{children:"Brand"}),(0,A.jsx)(u.Ay,{value:{value:se.BrandID,label:se.Brand},onChange:e=>de(l=>(0,t.A)((0,t.A)({},l),{},{BrandID:e.value,Brand:e.label})),options:[{value:"",label:"select",isDisabled:!0},...k.map(e=>({value:null===e||void 0===e?void 0:e.Brand,label:null===e||void 0===e?void 0:e.Brand_Name}))],styles:m.MR,isSearchable:!0,placeholder:"Select Brand",maxMenuHeight:200})]}),(0,A.jsxs)("div",{className:"col-6 p-2",children:[(0,A.jsx)("label",{children:"Group"}),(0,A.jsx)(u.Ay,{value:{value:se.GroupID,label:se.Group},onChange:e=>de(l=>(0,t.A)((0,t.A)({},l),{},{GroupID:e.value,Group:e.label})),options:[{value:"",label:"select",isDisabled:!0},...L.filter(e=>!se.BrandID||(0,x.id)(e.Brand,se.BrandID)).reduce((e,l)=>(e.some(e=>e.value===l.Product_Group)||e.push({value:l.Product_Group,label:l.Pro_Group}),e),[])],styles:m.MR,isSearchable:!0,placeholder:"Select Group",maxMenuHeight:200})]}),(0,A.jsxs)("div",{className:"col-12 p-2",children:[(0,A.jsxs)("label",{children:["Item Name ",(0,A.jsx)(f.A,{})]}),(0,A.jsx)(u.Ay,{value:{value:se.Item_Id,label:se.ItemName},onChange:e=>{const l=L.find(l=>(0,x.id)(l.Product_Id,e.value));de(a=>{var s,d,r,i,n,o,c;return(0,t.A)((0,t.A)({},a),{},{Item_Id:e.value,ItemName:e.label,Product:null!==l&&void 0!==l?l:{},Group:null!==(s=l.Pro_Group)&&void 0!==s?s:a.Group,GroupID:null!==(d=l.Product_Group)&&void 0!==d?d:a.GroupID,Brand:null!==(r=l.Brand_Name)&&void 0!==r?r:a.Brand,BrandID:null!==(i=l.Brand)&&void 0!==i?i:a.BrandID,UOM:null!==(n=l.UOM_Id)&&void 0!==n?n:a.UOM,Units:null!==(o=l.Units)&&void 0!==o?o:a.Units,Item_Rate:null!==(c=l.Item_Rate)&&void 0!==c?c:0,Amount:0,Bill_Qty:0})})},options:[{value:"",label:"select",isDisabled:!0},...[...L.filter(e=>!se.BrandID||(0,x.id)(e.Brand,se.BrandID)).filter(e=>!se.GroupID||(0,x.id)(e.Product_Group,se.GroupID))].map(e=>({value:null===e||void 0===e?void 0:e.Product_Id,label:null===e||void 0===e?void 0:e.Product_Name,isDisabled:-1!==ae.findIndex(l=>(0,x.id)(null===l||void 0===l?void 0:l.Item_Id,null===e||void 0===e?void 0:e.Product_Id))}))],styles:m.MR,isSearchable:!0,required:!0,placeholder:"Select Product",maxMenuHeight:200})]}),(0,A.jsxs)("div",{className:"col-lg-4 col-md-6 p-2",children:[(0,A.jsxs)("label",{children:["Quantity ",(0,A.jsx)(f.A,{})]}),(0,A.jsx)("input",{type:"input",required:!0,value:se.Bill_Qty?se.Bill_Qty:"",onChange:e=>{se.Item_Rate?de(l=>(0,t.A)((0,t.A)({},l),{},{Amount:(0,x.JH)(se.Item_Rate,e.target.value),Bill_Qty:e.target.value})):de(l=>(0,t.A)((0,t.A)({},l),{},{Bill_Qty:e.target.value}))},className:"cus-inpt",placeholder:"Quantity"})]}),(0,A.jsxs)("div",{className:"col-lg-4 col-md-6 p-2",children:[(0,A.jsxs)("label",{children:["Rate ",(0,A.jsx)(f.A,{})]}),(0,A.jsx)("input",{type:"number",required:!0,value:se.Item_Rate?se.Item_Rate:"",onChange:e=>{se.Bill_Qty?de(l=>(0,t.A)((0,t.A)({},l),{},{Amount:(0,x.JH)(e.target.value,se.Bill_Qty),Item_Rate:e.target.value})):de(l=>(0,t.A)((0,t.A)({},l),{},{Item_Rate:e.target.value}))},className:"cus-inpt",placeholder:"Rate"})]}),(0,A.jsxs)("div",{className:"col-lg-4 col-md-6 p-2",children:[(0,A.jsx)("label",{children:"Amount"}),(0,A.jsx)("input",{type:"number",value:se.Amount?se.Amount:"",onChange:e=>{se.Bill_Qty?de(l=>(0,t.A)((0,t.A)({},l),{},{Item_Rate:(0,x.SX)(e.target.value,se.Bill_Qty),Amount:e.target.value})):de(l=>(0,t.A)((0,t.A)({},l),{},{Amount:e.target.value}))},className:"cus-inpt",placeholder:"Amount"})]}),(0,A.jsxs)("div",{className:"col-lg-4 col-md-6 p-2",children:[(0,A.jsx)("label",{children:"UOM"}),(0,A.jsx)(u.Ay,{value:{value:se.UOM,label:se.Units},onChange:e=>de(l=>(0,t.A)((0,t.A)({},l),{},{UOM:e.value,Units:e.label})),options:[{value:"",label:"select",isDisabled:!0},...Q.map(e=>({value:null===e||void 0===e?void 0:e.UOM_Id,label:null===e||void 0===e?void 0:e.UOM_Name}))],styles:m.MR,isSearchable:!0,placeholder:"Select UOM",maxMenuHeight:200})]}),(0,A.jsxs)("div",{className:"col-lg-4 col-md-6 p-2",children:[(0,A.jsx)("label",{children:"HSN Code"}),(0,A.jsx)("input",{type:"text",value:(null===(l=se.Product)||void 0===l?void 0:l.HSN_Code)||"",className:"cus-inpt",readOnly:!0})]}),(0,A.jsxs)("div",{className:"col-lg-4 col-md-6 p-2",children:[(0,A.jsx)("label",{children:"GST %"}),(0,A.jsx)("input",{type:"text",value:ee.IS_IGST?(null===(a=se.Product)||void 0===a?void 0:a.Igst_P)||0:(0,x.Lr)((null===(T=se.Product)||void 0===T?void 0:T.Cgst_P)||0,(null===(C=se.Product)||void 0===C?void 0:C.Sgst_P)||0),className:"cus-inpt",readOnly:!0})]})]})}),(0,A.jsxs)(c.A,{className:"border-top",children:[(0,A.jsx)(d.A,{variant:"outlined",color:"error",startIcon:(0,A.jsx)(j.A,{}),onClick:ve,children:"Clear"}),(0,A.jsx)(d.A,{variant:"outlined",color:"success",startIcon:(0,A.jsx)(p.A,{}),type:"submit",children:"Save"})]})]})]})]})}},59383:(e,l,a)=>{a.d(l,{A:()=>d});var t=a(59662),s=a(70579);const d=(0,t.A)((0,s.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt")},67784:(e,l,a)=>{a.d(l,{A:()=>A});var t=a(58168),s=a(98587),d=a(65043),r=a(58387),i=a(68606),n=a(20992),o=a(34535),c=a(6431),u=a(43360),m=a(95516),h=a(74050),x=a(79190),v=a(53193),b=a(81673),j=a(72221),g=a(57056),N=a(32400);function p(e){return(0,N.Ay)("MuiTextField",e)}(0,g.A)("MuiTextField",["root"]);var _=a(70579);const I=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],f={standard:u.A,filled:m.A,outlined:h.A},S=(0,o.Ay)(v.A,{name:"MuiTextField",slot:"Root",overridesResolver:(e,l)=>l.root})({}),A=d.forwardRef(function(e,l){const a=(0,c.b)({props:e,name:"MuiTextField"}),{autoComplete:d,autoFocus:o=!1,children:u,className:m,color:h="primary",defaultValue:v,disabled:g=!1,error:N=!1,FormHelperTextProps:A,fullWidth:y=!1,helperText:T,id:C,InputLabelProps:G,inputProps:D,InputProps:P,inputRef:w,label:R,maxRows:F,minRows:B,multiline:O=!1,name:M,onBlur:V,onChange:H,onFocus:L,placeholder:U,required:k=!1,rows:z,select:Q=!1,SelectProps:E,type:J,value:W,variant:q="outlined"}=a,X=(0,s.A)(a,I),Y=(0,t.A)({},a,{autoFocus:o,color:h,disabled:g,error:N,fullWidth:y,multiline:O,required:k,select:Q,variant:q}),K=(e=>{const{classes:l}=e;return(0,i.A)({root:["root"]},p,l)})(Y);const Z={};"outlined"===q&&(G&&"undefined"!==typeof G.shrink&&(Z.notched=G.shrink),Z.label=R),Q&&(E&&E.native||(Z.id=void 0),Z["aria-describedby"]=void 0);const $=(0,n.A)(C),ee=T&&$?"".concat($,"-helper-text"):void 0,le=R&&$?"".concat($,"-label"):void 0,ae=f[q],te=(0,_.jsx)(ae,(0,t.A)({"aria-describedby":ee,autoComplete:d,autoFocus:o,defaultValue:v,fullWidth:y,multiline:O,name:M,rows:z,maxRows:F,minRows:B,type:J,value:W,id:$,inputRef:w,onBlur:V,onChange:H,onFocus:L,placeholder:U,inputProps:D},Z,P));return(0,_.jsxs)(S,(0,t.A)({className:(0,r.A)(K.root,m),disabled:g,error:N,fullWidth:y,ref:l,required:k,color:h,variant:q,ownerState:Y},X,{children:[null!=R&&""!==R&&(0,_.jsx)(x.A,(0,t.A)({htmlFor:$,id:le},G,{children:R})),Q?(0,_.jsx)(j.A,(0,t.A)({"aria-describedby":ee,id:$,labelId:le,value:W,input:te},E,{children:u})):te,T&&(0,_.jsx)(b.A,(0,t.A)({id:ee},A,{children:T}))]}))})},83560:(e,l,a)=>{a.d(l,{A:()=>d});var t=a(59662),s=a(70579);const d=(0,t.A)((0,s.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},91299:(e,l,a)=>{a.d(l,{A:()=>w});var t=a(89379),s=a(65043),d=a(77739),r=a(17392),i=a(12110),n=a(4598),o=a(26494),c=a(83462),u=a(26600),m=a(35316),h=a(29347),x=a(11906),v=a(20656),b=a(63406),j=a(97707),g=a(3632),N=a(83560),p=a(51387),_=a(59383),I=a(65074),f=a(48471),S=a(91036),A=(a(92342),a(41488)),y=a(33438),T=a(47968),C=a(93141),G=a(70579);const D=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1){case 0:return(0,j.e3)(e*(l/100));case 1:return(0,j.e3)(e-e*(100/(100+l)));default:return 0}},P=e=>{let{orderDetails:l,orderProducts:a,download:d,actionOpen:r,clearDetails:i,children:n,TitleText:o}=e;const[v,b]=(0,s.useState)("A5"),g={width:"200mm",minHeight:"290mm",padding:"10mm",backgroundColor:"#fff",fontSize:"7px",boxSizing:"border-box",boxShadow:"0 0 5mm rgba(0,0,0,0.1)",fontFamily:"Arial, sans-serif",lineHeight:1.2,display:"flex",flexDirection:"column",flexGrow:1,margin:"0 auto"},N={width:"200mm",minHeight:"146mm",padding:"8mm",backgroundColor:"#fff",fontSize:"5px",boxSizing:"border-box",boxShadow:"0 0 5mm rgba(0,0,0,0.1)",fontFamily:"Arial, sans-serif",lineHeight:1,display:"flex",flexDirection:"column",flexGrow:1,margin:"0 auto"},p=JSON.parse(localStorage.getItem("user")),[_,f]=(0,s.useState)(!1),[S,A]=(0,s.useState)({}),[P,w]=(0,s.useState)({}),R=(0,s.useRef)(null),F=(0,j.id)(l.GST_Inclusive,0),B=(0,j.id)(l.GST_Inclusive,1),O=(0,j.id)(l.GST_Inclusive,2),M=(0,j.id)(l.IS_IGST,1);(0,s.useEffect)(()=>{(0,I.z)({address:"masters/company?Company_id=".concat(null===p||void 0===p?void 0:p.Company_id)}).then(e=>{e.success&&w(null!==e&&void 0!==e&&e.data[0]?null===e||void 0===e?void 0:e.data[0]:{})}).catch(e=>console.error(e))},[null===p||void 0===p?void 0:p.Company_id]),(0,s.useEffect)(()=>{r&&f(!0)},[r]),(0,s.useEffect)(()=>{null!==l&&void 0!==l&&l.Retailer_Id&&(0,I.z)({address:"masters/retailers/info?Retailer_Id=".concat(null===l||void 0===l?void 0:l.Retailer_Id)}).then(e=>{e.success&&A(null!==e&&void 0!==e&&e.data[0]?null===e||void 0===e?void 0:e.data[0]:{})}).catch(e=>console.error(e))},[null===l||void 0===l?void 0:l.Retailer_Id]);const V=()=>{f(!1),i&&i()},H=a.filter(e=>(0,j.D)(null===e||void 0===e?void 0:e.Bill_Qty,0)),L=a.reduce((e,l)=>{const a=(0,j.e3)(null===l||void 0===l?void 0:l.Item_Rate),t=parseInt(null===l||void 0===l?void 0:l.Bill_Qty)||0;if(O)return e.TotalValue+=(0,j.JH)(t,a),e;const s=M?null===l||void 0===l?void 0:l.Igst:(0,j.Lr)(null===l||void 0===l?void 0:l.Sgst,null===l||void 0===l?void 0:l.Cgst);if(B){const l=D(1,a,s),d=(0,j.DG)(a,l);e.TotalTax+=(0,j.JH)(t,l),e.TotalValue+=(0,j.JH)(t,d)}if(F){const l=D(0,a,s);e.TotalTax+=(0,j.JH)(t,l),e.TotalValue+=(0,j.JH)(t,a)}return e},{TotalValue:0,TotalTax:0}),U=(0,C.useReactToPrint)({content:()=>R.current,pageStyle:"\n    @page {\n      size: ".concat("A4"===v?"A4":"A5",";\n      margin-top: 10px;\n      margin-right: 0;\n      margin-bottom: 0;\n      margin-left: 0;\n      \n    }\n\n    @media print {\n      body {\n        margin: 0;\n        padding: 0;\n         margin-top: 10px;\n      }\n\n      .MuiDialog-root,\n      .MuiDialog-container,\n      .MuiPaper-root,\n      .MuiDialogTitle-root {\n        display: none !important;\n      }\n\n    .pagebreak {\n        clear: both;\n        page-break-after: always;\n    }\n\n      .print-content {\n        padding-top: 0;\n         margin-top: 10px;\n      }\n    }\n  ")}),k=[{labelOne:"Invoice No",dataOne:null===l||void 0===l?void 0:l.Do_Inv_No,labelTwo:"Dated",dataTwo:(0,j.yc)(null===l||void 0===l?void 0:l.Do_Date)},{labelOne:"Delivery Note",dataOne:"",labelTwo:"Mode/Terms of Payment",dataTwo:""},{labelOne:"Reference No. & Date",dataOne:"",labelTwo:"Other References",dataTwo:""},{labelOne:"Buyer's Order No",dataOne:"",labelTwo:"Dated",dataTwo:""},{labelOne:"Dispatch Doc No",dataOne:"",labelTwo:"Delivery Note Date",dataTwo:""},{labelOne:"Dispatched through",dataOne:"",labelTwo:"Destination",dataTwo:""},{labelOne:"Bill of Lading/LR-RR No",dataOne:"",labelTwo:"Motor Vehicle No",dataTwo:""}],z=null===a||void 0===a?void 0:a.reduce((e,a)=>{const s=e.findIndex(e=>e.hsnCode==a.HSN_Code),{Taxable_Amount:d,Cgst_Amo:r,Sgst_Amo:i,Igst_Amo:n,HSN_Code:o,Cgst:c,Sgst:u,Igst:m}=a;if(-1!==s){const a=e[s],o=(0,t.A)((0,t.A)({},a),{},{taxableValue:a.taxableValue+d,cgst:(0,j.Lr)(a.cgst,r),sgst:(0,j.Lr)(a.sgst,i),igst:(0,j.Lr)(a.igst,n),totalTax:a.totalTax+Number(l.IS_IGST?n:(0,j.Lr)(r,i))});return e[s]=o,e}const h={hsnCode:o,taxableValue:d,cgst:r,cgstPercentage:c,sgst:i,sgstPercentage:u,igst:n,igstPercentage:m,totalTax:l.IS_IGST?Number(n):(0,j.Lr)(r,i)};return[...e,h]},[]);return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("span",{onClick:()=>{f(!0)},children:n}),(0,G.jsxs)(c.A,{open:_,onClose:V,fullWidth:!0,maxWidth:"xl",sx:{"& .MuiDialog-container":{alignItems:"flex-start",padding:"20px 0",overflow:"auto"},"& .MuiPaper-root":{width:"auto",maxWidth:"95vw",maxHeight:"95vh",margin:0,overflow:"visible"}},children:[(0,G.jsx)(u.A,{sx:{textAlign:"center",fontWeight:"bold",width:"100%",position:"sticky",marginTop:"2px",backgroundColor:"white",zIndex:1},children:"Order Preview"}),(0,G.jsx)(m.A,{ref:R,sx:{padding:0,margin:0,overflow:"auto",display:"flex",justifyContent:"center",width:"100%","@media print":{overflow:"visible",display:"block",height:"auto",marginTop:"2px"}},children:(0,G.jsxs)("div",{style:"A4"===v?g:N,className:"print-container",children:[(0,G.jsx)("h3",{className:"text-center mb-2",children:null!==o&&void 0!==o?o:"Invoice Details"}),(0,G.jsxs)("div",{className:"row",children:[(0,G.jsxs)("div",{className:"col-6 p-0 border border-bottom-0 border-end-0",children:[(0,G.jsxs)("div",{className:"border-bottom p-2",children:[(0,G.jsx)("p",{className:"m-0 fa-17",children:null===P||void 0===P?void 0:P.Company_Name}),(0,G.jsxs)("p",{className:"m-0 fa-14",children:["Address: ",null===P||void 0===P?void 0:P.Company_Address]}),(0,G.jsxs)("p",{className:"m-0 fa-14",children:["City: ",null===P||void 0===P?void 0:P.Region," - ",null===P||void 0===P?void 0:P.Pincode]}),(0,G.jsxs)("p",{className:"m-0 fa-14",children:["Phone No: ",null===P||void 0===P?void 0:P.Telephone_Number]}),(0,G.jsx)("p",{className:"m-0 fa-14",children:null!==P&&void 0!==P&&P.Gst_Number||null!==P&&void 0!==P&&P.VAT_TIN_Number?(0,G.jsxs)(G.Fragment,{children:["GSTIN / UIN:",null!==P&&void 0!==P&&P.Gst_Number?" ".concat(P.Gst_Number):"",null!==P&&void 0!==P&&P.Gst_Number&&null!==P&&void 0!==P&&P.VAT_TIN_Number?" || ":"",null!==P&&void 0!==P&&P.VAT_TIN_Number?" ".concat(P.VAT_TIN_Number):""]}):(0,G.jsx)(G.Fragment,{children:"GSTIN / UIN: Not Available"})}),(0,G.jsxs)("p",{className:"m-0 fa-14",children:["State: ",null===P||void 0===P?void 0:P.State]}),(0,G.jsx)("p",{className:"m-0 fa-14",children:"Code: "})]}),(0,G.jsxs)("div",{className:"p-2",children:[(0,G.jsx)("p",{className:"m-0 fa-12",children:"Buyer (Bill to)"}),(0,G.jsx)("p",{className:"m-0 fa-15",children:null===S||void 0===S?void 0:S.Retailer_Name}),(0,G.jsx)("p",{className:"m-0 fa-14",children:(null===S||void 0===S?void 0:S.Mobile_No)+" - "+(null===S||void 0===S?void 0:S.Reatailer_Address)}),(0,G.jsxs)("p",{className:"m-0 fa-14",children:[null===S||void 0===S?void 0:S.Reatailer_City," - ",null===S||void 0===S?void 0:S.PinCode]}),(0,G.jsxs)("p",{className:"m-0 fa-14",children:["GSTIN / UIN: ",null===S||void 0===S?void 0:S.Gstno]}),(0,G.jsxs)("p",{className:"m-0 fa-14",children:["State Name: ",null===S||void 0===S?void 0:S.StateGet]}),(0,G.jsx)("p",{className:"m-0 fa-14",children:"Code: "})]})]}),(0,G.jsx)("div",{className:"col-6 p-0 border border-bottom-0",children:(0,G.jsx)("table",{className:"table m-0",children:(0,G.jsxs)("tbody",{children:[k.map((e,l)=>(0,G.jsxs)("tr",{children:[(0,G.jsxs)("td",{className:"border-end fa-12 p-0 px-1",children:[(0,G.jsx)("p",{className:"m-0",children:e.labelOne}),(0,G.jsxs)("p",{className:"m-0",children:["\u2003",e.dataOne]})]}),(0,G.jsxs)("td",{className:"fa-12 p-0 px-1",children:[(0,G.jsx)("p",{className:"m-0",children:e.labelTwo}),(0,G.jsxs)("p",{className:"m-0",children:["\u2003",e.dataTwo]})]})]},l)),(0,G.jsx)("tr",{children:(0,G.jsxs)("td",{colSpan:2,className:"border-0 fa-12 p-0",children:[(0,G.jsx)("p",{className:"m-0",children:"Terms of Delivery"}),(0,G.jsx)("p",{className:"m-0"}),(0,G.jsx)("br",{}),(0,G.jsx)("br",{})]})})]})})})]}),(0,G.jsx)("div",{className:"row",children:(0,G.jsx)("div",{className:"col-12 p-0",children:(0,G.jsxs)("table",{className:"table m-0",children:[(0,G.jsx)("thead",{children:(0,G.jsxs)("tr",{children:[(0,G.jsx)("td",{className:"border bg-light fa-14",children:"Sno"}),(0,G.jsx)("td",{className:"border bg-light fa-14",children:"Product"}),(0,G.jsx)("td",{className:"border bg-light fa-14",children:"HSN/SAC"}),(0,G.jsx)("td",{className:"border bg-light fa-14 text-end",children:"Quantity"}),(0,G.jsx)("td",{className:"border bg-light fa-14 text-end",children:"Rate"}),(0,G.jsxs)("td",{className:"border bg-light fa-14 text-end",children:[(0,G.jsx)("p",{className:"m-2 ",children:"Rate"}),(0,G.jsxs)("p",{className:"m-0 ",children:[(0,j.id)(l.GST_Inclusive,1)&&"(Incl. of Tax)",(0,j.id)(l.GST_Inclusive,2)&&"(Tax not applicable)",(0,j.id)(l.GST_Inclusive,0)&&"(Excl. of Tax)"]})]}),(0,G.jsx)("td",{className:"border bg-light fa-14 text-end",children:"Amount"})]})}),(0,G.jsx)("tbody",{children:(()=>{const e=[];for(let l=0;l<H.length;l+=15)e.push(H.slice(l,l+15));return e.map((a,t)=>(0,G.jsxs)(s.Fragment,{children:[a.map((e,a)=>{var s;const d=15*t+a,r=null!==(s=M?null===e||void 0===e?void 0:e.Igst_P:(null===e||void 0===e?void 0:e.Cgst)+(null===e||void 0===e?void 0:e.Sgst))&&void 0!==s?s:0,i=Number((null===e||void 0===e?void 0:e.Bill_Qty)||0),n=Number((null===e||void 0===e?void 0:e.Item_Rate)||0),o=D(l.GST_Inclusive,n,r);return(0,G.jsxs)("tr",{children:[(0,G.jsx)("td",{className:"border fa-13",children:d+1}),(0,G.jsx)("td",{className:"border fa-13",children:null===e||void 0===e?void 0:e.Product_Name}),(0,G.jsx)("td",{className:"border fa-13",children:null===e||void 0===e?void 0:e.HSN_Code}),(0,G.jsxs)("td",{className:"border fa-13 text-end",children:[(0,j.jG)(i),(null===e||void 0===e?void 0:e.UOM)&&" ("+(null===e||void 0===e?void 0:e.UOM)+") "]}),(0,G.jsx)("td",{className:"border fa-13 text-end",children:(0,j.jG)((0,j.id)(l.GST_Inclusive,1)?n-o:n)}),(0,G.jsx)("td",{className:"border fa-13 text-end",children:(0,j.jG)((0,j.id)(l.GST_Inclusive,1)?n:n+o)}),(0,G.jsx)("td",{className:"border fa-13 text-end",children:(0,j.jG)(null===e||void 0===e?void 0:e.Taxable_Amount)})]},d)}),t===e.length-1&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)("tr",{children:[(0,G.jsxs)("td",{className:"border p-2",rowSpan:M?4:5,colSpan:4,children:[(0,G.jsx)("p",{className:"m-0 mx-2 p-2 fa-13 fw-bold",children:"Amount Chargeable (in words):"}),(0,G.jsxs)("p",{className:"m-0 fa-13 fw-bold",children:["\u2003 INR ",(0,j.GF)(parseInt(null===l||void 0===l?void 0:l.Total_Invoice_value))," Only."]})]}),(0,G.jsx)("td",{className:"border p-2 fa-14",colSpan:2,children:"Total Taxable Amount"}),(0,G.jsx)("td",{className:"border p-2 text-end fa-14",children:(0,j.jG)(L.TotalValue)})]}),M?(0,G.jsxs)("tr",{children:[(0,G.jsx)("td",{className:"border p-2 fa-14",colSpan:2,children:"IGST"}),(0,G.jsx)("td",{className:"border p-2 fa-14 text-end",children:(0,j.jG)(l.IGST_Total)})]}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)("tr",{children:[(0,G.jsx)("td",{className:"border p-2 fa-14",colSpan:2,children:"CGST"}),(0,G.jsx)("td",{className:"border p-2 text-end fa-14",children:(0,j.jG)(null===l||void 0===l?void 0:l.CSGT_Total)})]}),(0,G.jsxs)("tr",{children:[(0,G.jsx)("td",{className:"border p-2 fa-14",colSpan:2,children:"SGST"}),(0,G.jsx)("td",{className:"border p-2 fa-14 text-end",children:(0,j.jG)(null===l||void 0===l?void 0:l.SGST_Total)})]})]}),(0,G.jsxs)("tr",{children:[(0,G.jsx)("td",{className:"border p-2 fa-14",colSpan:2,children:"Round Off"}),(0,G.jsx)("td",{className:"border p-2 fa-14 text-end",children:(0,j.jG)(null===l||void 0===l?void 0:l.Round_off)})]}),(0,G.jsxs)("tr",{children:[(0,G.jsx)("td",{className:"border p-2 fa-14",colSpan:2,children:"Total"}),(0,G.jsx)("td",{className:"border p-2 fa-14 text-end fw-bold",children:(0,j.jG)(null===l||void 0===l?void 0:l.Total_Invoice_value)})]})]}),t<e.length-1&&(0,G.jsx)("tr",{style:{pageBreakAfter:"always",height:"0",visibility:"hidden",border:"none"},children:(0,G.jsx)("td",{colSpan:"7",style:{border:"none"}})})]},t))})()})]})})}),(0,G.jsxs)("table",{className:"table",children:[(0,G.jsxs)("thead",{children:[(0,G.jsxs)("tr",{children:[(0,G.jsx)("td",{className:"border bg-light fa-14 text-center",rowSpan:2,style:{verticalAlign:"middle"},children:"HSN / SAC"}),(0,G.jsx)("td",{className:"border bg-light fa-14 text-center",rowSpan:2,style:{verticalAlign:"middle"},children:"Taxable Value"}),(0,j.id)(l.IS_IGST,1)?(0,G.jsx)("td",{className:"border bg-light fa-14 text-center",colSpan:2,children:"IGST Tax"}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("td",{className:"border bg-light fa-14 text-center",colSpan:2,children:"Central Tax"}),(0,G.jsx)("td",{className:"border bg-light fa-14 text-center",colSpan:2,children:"State Tax"})]}),(0,G.jsx)("td",{className:"border bg-light fa-14 text-center",children:"Total"})]}),(0,G.jsxs)("tr",{children:[(0,j.id)(l.IS_IGST,1)?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("td",{className:"border bg-light fa-14 text-center",children:"Rate"}),(0,G.jsx)("td",{className:"border bg-light fa-14 text-center",children:"Amount"})]}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("td",{className:"border bg-light fa-14 text-center",children:"Rate"}),(0,G.jsx)("td",{className:"border bg-light fa-14 text-center",children:"Amount"}),(0,G.jsx)("td",{className:"border bg-light fa-14 text-center",children:"Rate"}),(0,G.jsx)("td",{className:"border bg-light fa-14 text-center",children:"Amount"})]}),(0,G.jsx)("td",{className:"border bg-light fa-14 text-center",children:"Tax Amount"})]})]}),(0,G.jsxs)("tbody",{children:[z.map((e,a)=>(0,G.jsxs)("tr",{children:[(0,G.jsx)("td",{className:"border fa-13 text-end",children:null===e||void 0===e?void 0:e.hsnCode}),(0,G.jsx)("td",{className:"border fa-13 text-end",children:(0,j.jG)(null===e||void 0===e?void 0:e.taxableValue)}),l.IS_IGST?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("td",{className:"border fa-13 text-end",children:(0,j.jG)(null===e||void 0===e?void 0:e.igstPercentage)}),(0,G.jsx)("td",{className:"border fa-13 text-end",children:(0,j.jG)(null===e||void 0===e?void 0:e.igst)})]}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("td",{className:"border fa-13 text-end",children:(0,j.jG)(null===e||void 0===e?void 0:e.cgstPercentage)}),(0,G.jsx)("td",{className:"border fa-13 text-end",children:(0,j.jG)(null===e||void 0===e?void 0:e.cgst)}),(0,G.jsx)("td",{className:"border fa-13 text-end",children:(0,j.jG)(null===e||void 0===e?void 0:e.sgstPercentage)}),(0,G.jsx)("td",{className:"border fa-13 text-end",children:(0,j.jG)(null===e||void 0===e?void 0:e.sgst)})]}),(0,G.jsx)("td",{className:"border fa-13 text-end",children:(0,j.jG)(null===e||void 0===e?void 0:e.totalTax)})]},a)),(0,G.jsxs)("tr",{children:[(0,G.jsx)("td",{className:"border fa-13 text-end",children:"Total"}),(0,G.jsx)("td",{className:"border fa-13 text-end fw-bold",children:(0,j.jG)(z.reduce((e,l)=>e+Number(l.taxableValue),0))}),l.IS_IGST?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("td",{className:"border fa-13 text-end"}),(0,G.jsx)("td",{className:"border fa-13 text-end fw-bold",children:(0,j.jG)(z.reduce((e,l)=>e+Number(l.igst),0))})]}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("td",{className:"border fa-13 text-end"}),(0,G.jsx)("td",{className:"border fa-13 text-end fw-bold",children:(0,j.jG)(z.reduce((e,l)=>e+Number(l.cgst),0))}),(0,G.jsx)("td",{className:"border fa-13 text-end"}),(0,G.jsx)("td",{className:"border fa-13 text-end fw-bold",children:(0,j.jG)(z.reduce((e,l)=>e+Number(l.sgst),0))})]}),(0,G.jsx)("td",{className:"border fa-13 text-end fw-bold",children:(0,j.jG)(z.reduce((e,l)=>e+Number(l.totalTax),0))})]}),(0,G.jsx)("tr",{children:(0,G.jsxs)("td",{colSpan:(0,j.id)(l.IS_IGST,1)?5:7,className:"border fa-13 fw-bold",children:["Tax Amount (in words) : INR \xa0",(0,j.GF)(parseInt(z.reduce((e,l)=>e+Number(l.totalTax),0)))," only."]})})]})]}),(0,G.jsx)("div",{className:"col-12 text-center",children:(0,G.jsx)("p",{children:"This is a Computer Generated Invoice"})})]})}),(0,G.jsxs)(h.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",px:2},children:[(0,G.jsxs)("div",{className:"form-check form-switch",children:[(0,G.jsx)("input",{className:"form-check-input",type:"checkbox",id:"pageSizeSwitch",checked:"A4"===v,onChange:()=>{b(e=>"A5"===e?"A4":"A5")}}),(0,G.jsxs)("label",{className:"form-check-label",htmlFor:"pageSizeSwitch",children:[v," selected"]})]}),(0,G.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,G.jsx)(x.A,{startIcon:(0,G.jsx)(y.A,{}),variant:"outlined",color:"error",onClick:V,children:"Close"}),d&&(0,G.jsx)(x.A,{startIcon:(0,G.jsx)(T.A,{}),variant:"outlined",onClick:U,children:"Download"})]})]})]})]})},w=e=>{var l;let{loadingOn:a,loadingOff:y,onToggle:T,reload:C,triggerReload:D}=e;const w=JSON.parse(localStorage.getItem("user")),[R,F]=(0,s.useState)([]),[B,O]=(0,s.useState)([]),[M,V]=(0,s.useState)([]),[H,L]=(0,s.useState)([]),[U,k]=(0,s.useState)(!0),[z,Q]=(0,s.useState)({}),[E,J]=(0,s.useState)({}),[W,q]=(0,s.useState)(!1),[X,Y]=(0,s.useState)({}),[K,Z]=(0,s.useState)(!1),[$,ee]=(0,s.useState)([]),[le,ae]=(0,s.useState)({Fromdate:(0,j.IS)(7),Todate:(0,j.ny)(),Retailer_Id:"",RetailerGet:"ALL",Created_by:"",CreatedByGet:"ALL",Delivery_Person_Id:"",Delivery_Person_Name:"ALL",Sales_Person_Id:"",Sales_Person_Name:"ALL",Delivery_Status:""}),[te,se]=(0,s.useState)(le),[de,re]=(0,s.useState)(!1),[ie,ne]=(0,s.useState)({filters:!1,orderDetails:!1});(0,s.useEffect)(()=>{a&&a(),(0,I.z)({address:"delivery/deliveryOrderList?Fromdate=".concat(null===le||void 0===le?void 0:le.Fromdate,"&Todate=").concat(null===le||void 0===le?void 0:le.Todate,"&Retailer_Id=").concat(null===le||void 0===le?void 0:le.Retailer_Id,"&Sales_Person_Id=").concat(null===le||void 0===le?void 0:le.Sales_Person_Id,"&Delivery_Person_Id=").concat(null===le||void 0===le?void 0:le.Delivery_Person_Id,"&Created_by=").concat(null===le||void 0===le?void 0:le.Created_by,"&Delivery_Status=").concat(null===le||void 0===le?void 0:le.Delivery_Status)}).then(e=>{e.success&&F(null===e||void 0===e?void 0:e.data)}).catch(e=>{console.error("Error fetching delivery orders:",e)}).finally(()=>{y&&y()})},[le,de]),(0,s.useEffect)(()=>{(0,I.z)({address:"dataEntry/costCenter"}).then(e=>e.success&&ee(e.data)).catch(e=>console.error(e)),(0,I.z)({address:"masters/retailers/dropDown?Company_Id=".concat(null===w||void 0===w?void 0:w.Company_id)}).then(e=>e.success&&O(e.data)).catch(e=>console.error(e)),(0,I.z)({address:"masters/users/salesPerson/dropDown?Company_id=".concat(null===w||void 0===w?void 0:w.Company_id)}).then(e=>e.success&&V(e.data)).catch(e=>console.error(e)),(0,I.z)({address:"masters/user/dropDown?Company_id=".concat(null===w||void 0===w?void 0:w.Company_id)}).then(e=>e.success&&L(e.data)).catch(e=>console.error(e))},[]);const oe=[{Field_Name:"Do_Id",ColumnHeader:"Delivery ID",Fied_Data:"string",isVisible:1},{Field_Name:"So_No",ColumnHeader:"Sale Order ID",Fied_Data:"string",isVisible:1},{Field_Name:"Do_Inv_No",ColumnHeader:"Do_Inv_No ",Fied_Data:"string",isVisible:1,align:"center"},{Field_Name:"Retailer_Name",ColumnHeader:"Customer",Fied_Data:"string",isVisible:1},{Field_Name:"SalesDate",ColumnHeader:"Sale Order Date",Fied_Data:"date",isVisible:1,align:"center"},{Field_Name:"Do_Date",ColumnHeader:"Delivery Date",Fied_Data:"date",isVisible:1,align:"center"},{Field_Name:"Total_Before_Tax",ColumnHeader:"Before Tax",Fied_Data:"number",isVisible:1,align:"center"},{Field_Name:"Total_Tax",ColumnHeader:"Tax",Fied_Data:"number",isVisible:1,align:"center"},{Field_Name:"Total_Invoice_value",ColumnHeader:"Invoice Value",Fied_Data:"number",isVisible:1,align:"center"},{Field_Name:"DeliveryStatusName",ColumnHeader:"Delivery Status ",Fied_Data:"string",isVisible:1,align:"center"},{Field_Name:"Action",isVisible:1,isCustomCell:!0,Cell:e=>{let{row:l}=e;return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(d.A,{title:"View Order",children:(0,G.jsx)(r.A,{onClick:()=>{J({orderDetails:l,orderProducts:null!==l&&void 0!==l&&l.Products_List?null===l||void 0===l?void 0:l.Products_List:[]})},onFocus:e=>{e.target.blur()},color:"primary",size:"small",children:(0,G.jsx)(g.A,{className:"fa-16"})})}),(0,G.jsx)(d.A,{title:"Edit",children:(0,G.jsx)(r.A,{onClick:()=>{ce(),Q((0,t.A)((0,t.A)({},l),{},{isEdit:!0}))},size:"small",children:(0,G.jsx)(N.A,{className:"fa-16"})})}),(0,G.jsx)(d.A,{title:"Delete",children:(0,G.jsx)(r.A,{onClick:()=>{return Y({So_No:(e=l).So_No,Do_Id:e.Do_Id}),void q(!0);var e},size:"small",children:(0,G.jsx)(p.A,{className:"fa-16"})})})]})}}],ce=()=>{k(!U),Q({}),Z(!K)},ue=()=>{ne((0,t.A)((0,t.A)({},ie),{},{filters:!1,orderDetails:!1})),Q({}),q(!1)};return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(i.A,{children:[(0,G.jsxs)("div",{className:"p-3 py-2 d-flex align-items-center justify-content-between",children:[(0,G.jsx)("h6",{className:"fa-18 m-0 p-0",children:U?"Delivery Orders":(0,j.aF)(z)?"Modify Delivery Order":""}),(0,G.jsxs)("span",{children:[U&&(0,G.jsx)(d.A,{title:"Filters",children:(0,G.jsx)(r.A,{size:"small",onClick:()=>ne((0,t.A)((0,t.A)({},ie),{},{filters:!0})),children:(0,G.jsx)(_.A,{})})}),U&&(0,G.jsx)(n.A,{checked:!U,onChange:T,label:"Delivery Details",inputProps:{"aria-label":"controlled"}})]})]}),(0,G.jsx)(o.A,{className:"p-0 ",children:U?(0,G.jsx)(f.Ay,{dataArray:R,columns:oe,isExpendable:!0,tableMaxHeight:550,expandableComp:e=>{let{row:l}=e;return(0,G.jsx)("table",{className:"table",children:(0,G.jsxs)("tbody",{children:[(0,G.jsxs)("tr",{children:[(0,G.jsx)("td",{className:"border p-2 bg-light",children:"Branch"}),(0,G.jsx)("td",{className:"border p-2",children:l.Branch_Name}),(0,G.jsx)("td",{className:"border p-2 bg-light",children:"Delivery Person"}),(0,G.jsx)("td",{className:"border p-2",children:l.Delivery_Person_Name}),(0,G.jsx)("td",{className:"border p-2 bg-light",children:"Round off"}),(0,G.jsx)("td",{className:"border p-2",children:l.Round_off})]}),(0,G.jsxs)("tr",{children:[(0,G.jsx)("td",{className:"border p-2 bg-light",children:"Invoice Type"}),(0,G.jsxs)("td",{className:"border p-2",children:[(0,j.id)(l.GST_Inclusive,1)&&"Inclusive",(0,j.id)(l.GST_Inclusive,0)&&"Exclusive"]}),(0,G.jsx)("td",{className:"border p-2 bg-light",children:"Tax Type"}),(0,G.jsxs)("td",{className:"border p-2",children:[(0,j.id)(l.IS_IGST,1)&&"IGST",(0,j.id)(l.IS_IGST,0)&&"GST"]}),(0,G.jsx)("td",{className:"border p-2 bg-light",children:"Sales Person"}),(0,G.jsx)("td",{className:"border p-2",children:l.Sales_Person_Name})]}),(0,G.jsxs)("tr",{children:[(0,G.jsx)("td",{className:"border p-2 bg-light",children:"Narration"}),(0,G.jsx)("td",{className:"border p-2",colSpan:5,children:l.Narration})]})]})})}}):(0,G.jsx)(A.A,{editValues:z,loadingOn:a,loadingOff:y,reload:()=>{k(e=>!e)},switchScreen:ce})})]}),Object.keys(E).length>0&&(0,G.jsx)(P,{orderDetails:null===E||void 0===E?void 0:E.orderDetails,orderProducts:null===E||void 0===E?void 0:E.orderProducts,download:!0,actionOpen:!0,clearDetails:()=>J({}),TitleText:"Delivery Order"}),(0,G.jsxs)(c.A,{open:W,fullWidth:!0,maxWidth:"sm",children:[(0,G.jsx)(u.A,{children:"Delete"}),(0,G.jsx)(m.A,{children:(0,G.jsx)("div",{children:"Are You Want to Delete Delivery Details"})}),(0,G.jsxs)(h.A,{children:[(0,G.jsx)(x.A,{onClick:ue,children:"Close"}),(0,G.jsx)(x.A,{onClick:async()=>{if(X)try{const e=await(0,I.z)({address:"delivery/deliveryOrder",method:"DELETE",bodyData:{Order_Id:X.So_No,Do_Id:X.Do_Id}});e.success?(S.oR.success("Delivery Deleted successfully"),D(),q(!1),re(e=>!e),Z(!1)):S.oR.error((null===e||void 0===e?void 0:e.message)||"Deletion failed")}catch(e){S.oR.error("An error occurred while deleting.",e)}finally{q(!1)}},children:"Delete"})]})]}),(0,G.jsxs)(c.A,{open:ie.filters,onClose:ue,fullWidth:!0,maxWidth:"sm",children:[(0,G.jsx)(u.A,{children:"Filters"}),(0,G.jsx)(m.A,{children:(0,G.jsx)("div",{className:"table-responsive pb-4",children:(0,G.jsx)("table",{className:"table",children:(0,G.jsxs)("tbody",{children:[(0,G.jsxs)("tr",{children:[(0,G.jsx)("td",{style:{verticalAlign:"middle"},children:"Retailer"}),(0,G.jsx)("td",{children:(0,G.jsx)(v.Ay,{value:{value:null===te||void 0===te?void 0:te.Retailer_Id,label:null===te||void 0===te?void 0:te.RetailerGet},onChange:e=>se((0,t.A)((0,t.A)({},te),{},{Retailer_Id:e.value,RetailerGet:e.label})),options:[{value:"",label:"ALL"},...B.map(e=>({value:null===e||void 0===e?void 0:e.Retailer_Id,label:null===e||void 0===e?void 0:e.Retailer_Name}))],styles:b.MR,isSearchable:!0,placeholder:"Retailer Name"})})]}),(0,G.jsxs)("tr",{children:[(0,G.jsx)("td",{style:{verticalAlign:"middle"},children:"Delivery Person"}),(0,G.jsx)("td",{children:(0,G.jsx)(v.Ay,{value:{value:null===te||void 0===te?void 0:te.Delivery_Person_Id,label:null===te||void 0===te?void 0:te.Delivery_Person_Name},onChange:e=>se((0,t.A)((0,t.A)({},te),{},{Delivery_Person_Id:e.value,Delivery_Person_Name:e.label})),options:[{value:"",label:"ALL"},...$.map(e=>({value:null===e||void 0===e?void 0:e.User_Id,label:null===e||void 0===e?void 0:e.UserGet}))],styles:b.MR,isSearchable:!0,placeholder:"Delivery Person Name"})})]}),(0,G.jsxs)("tr",{children:[(0,G.jsx)("td",{style:{verticalAlign:"middle"},children:"Sales Person"}),(0,G.jsx)("td",{children:(0,G.jsx)(v.Ay,{value:{value:null===te||void 0===te?void 0:te.Sales_Person_Id,label:null===te||void 0===te?void 0:te.Sales_Person_Name},onChange:e=>se((0,t.A)((0,t.A)({},te),{},{Sales_Person_Id:e.value,Sales_Person_Name:e.label})),options:[{value:"",label:"ALL"},...M.map(e=>({value:null===e||void 0===e?void 0:e.UserId,label:null===e||void 0===e?void 0:e.Name}))],styles:(0,t.A)((0,t.A)({},b.MR),{},{menu:e=>(0,t.A)((0,t.A)({},e),{},{zIndex:9999})}),isSearchable:!0,placeholder:"Sales Person Name",menuPortalTarget:document.body,menuPosition:"fixed"})})]}),(0,G.jsxs)("tr",{children:[(0,G.jsx)("td",{style:{verticalAlign:"middle"},children:"Created By"}),(0,G.jsx)("td",{children:(0,G.jsx)(v.Ay,{value:{value:null===te||void 0===te?void 0:te.Created_by,label:null===te||void 0===te?void 0:te.CreatedByGet},onChange:e=>se((0,t.A)((0,t.A)({},te),{},{Created_by:e.value,CreatedByGet:e.label})),options:[{value:"",label:"ALL"},...H.map(e=>({value:null===e||void 0===e?void 0:e.UserId,label:null===e||void 0===e?void 0:e.Name}))],styles:b.MR,isSearchable:!0,placeholder:"Created By"})})]}),(0,G.jsxs)("tr",{children:[(0,G.jsx)("td",{style:{verticalAlign:"middle"},children:"From"}),(0,G.jsx)("td",{children:(0,G.jsx)("input",{type:"date",value:te.Fromdate,onChange:e=>se((0,t.A)((0,t.A)({},te),{},{Fromdate:e.target.value})),className:"cus-inpt"})})]}),(0,G.jsxs)("tr",{children:[(0,G.jsx)("td",{style:{verticalAlign:"middle"},children:"To"}),(0,G.jsx)("td",{children:(0,G.jsx)("input",{type:"date",value:te.Todate,onChange:e=>se((0,t.A)((0,t.A)({},te),{},{Todate:e.target.value})),className:"cus-inpt"})})]}),(0,G.jsxs)("tr",{children:[(0,G.jsx)("td",{style:{verticalAlign:"middle"},children:"Order Status"}),(0,G.jsx)("td",{children:(0,G.jsxs)("select",{value:null!==(l=le.Delivery_Status)&&void 0!==l?l:"",onChange:e=>ae((0,t.A)((0,t.A)({},le),{},{Delivery_Status:""===e.target.value?void 0:Number(e.target.value)})),className:"cus-inpt",children:[(0,G.jsx)("option",{value:"",children:"ALL"}),(0,G.jsx)("option",{value:"1",children:"New"}),(0,G.jsx)("option",{value:"0",children:"Cancel"}),(0,G.jsx)("option",{value:"6",children:"Return"}),(0,G.jsx)("option",{value:"7",children:"Delivered"})]})})]})]})})})}),(0,G.jsxs)(h.A,{children:[(0,G.jsx)(x.A,{onClick:ue,children:"Close"}),(0,G.jsx)(x.A,{variant:"contained",onClick:()=>{ae(te),ne((0,t.A)((0,t.A)({},ie),{},{filters:!1}))},children:"Search"})]})]})]})}}}]);
//# sourceMappingURL=3039.8c9c7631.chunk.js.map