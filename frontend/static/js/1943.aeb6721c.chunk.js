"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[1943],{26494:(e,r,i)=>{i.d(r,{A:()=>A});var t=i(58168),l=i(98587),a=i(65043),d=i(58387),o=i(68606),n=i(34535),s=i(6431),v=i(57056),u=i(32400);function c(e){return(0,u.Ay)("MuiCardContent",e)}(0,v.A)("MuiCardContent",["root"]);var m=i(70579);const D=["className","component"],I=(0,n.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,r)=>r.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),A=a.forwardRef(function(e,r){const i=(0,s.b)({props:e,name:"MuiCardContent"}),{className:a,component:n="div"}=i,v=(0,l.A)(i,D),u=(0,t.A)({},i,{component:n}),A=(e=>{const{classes:r}=e;return(0,o.A)({root:["root"]},c,r)})(u);return(0,m.jsx)(I,(0,t.A)({as:n,className:(0,d.A)(A.root,a),ownerState:u,ref:r},v))})},61943:(e,r,i)=>{i.r(r),i.d(r,{default:()=>B});var t=i(89379),l=i(65043),a=i(48471),d=i(65074),o=i(97707),n=i(12110),s=i(17392),v=i(26494),u=i(83462),c=i(26600),m=i(35316),D=i(29347),I=i(11906),A=i(73216),y=i(59383),C=i(77739),O=i(3632),h=i(20846),p=i(83560),f=i(51387),g=i(70579);const P=e=>Array.isArray(e),N=e=>{let{data:r=[],status:i="ITEMS"}=e;switch(i){case"ITEMS":case"PO-Vendor-Wise":case"PO-Item-Wise":return null===r||void 0===r?void 0:r.reduce((e,r)=>{if(!Array.isArray(null===r||void 0===r?void 0:r.ItemDetails))return e;const i=r.ItemDetails.map(e=>{var i,l,a;return(0,t.A)((0,t.A)({},e),{},{OrderDetails:{Id:null===r||void 0===r?void 0:r.Id,Sno:null===r||void 0===r?void 0:r.Sno,PoYear:null===r||void 0===r?void 0:r.PoYear,PO_ID:null===r||void 0===r?void 0:r.PO_ID,BranchId:null===r||void 0===r?void 0:r.BranchId,BrokerId:null!==(i=r.BrokerId)&&void 0!==i?i:"",BrokerName:r.BrokerName,CreatedBy:r.CreatedBy,CreatedAt:r.CreatedAt,ItemDetails:null===r||void 0===r?void 0:r.ItemDetails,OrderStatus:null===r||void 0===r?void 0:r.OrderStatus,StaffDetails:P(r.StaffDetails)?r.StaffDetails:[],TranspoterDetails:P(r.TranspoterDetails)?r.TranspoterDetails:[],DeliveryDetails:P(r.DeliveryDetails)?r.DeliveryDetails:[],ConvertedAsInvoices:P(r.ConvertedAsInvoices)?r.ConvertedAsInvoices:[],LoadingDate:r.LoadingDate,OwnerId:null!==(l=r.OwnerId)&&void 0!==l?l:"",OwnerName:r.OwnerName,PartyAddress:r.PartyAddress,PartyId:null!==(a=r.PartyId)&&void 0!==a?a:"",PartyName:r.PartyName,PaymentCondition:r.PaymentCondition,Remarks:r.Remarks,TradeConfirmDate:r.TradeConfirmDate,Ledger_Name:r.Ledger_Name,Party_District:r.Party_District,isConvertableArrivalExist:(0,o.Ro)(null===r||void 0===r?void 0:r.isConvertableArrivalExist),IsConvertedAsInvoice:(0,o.Ro)(null===r||void 0===r?void 0:r.IsConvertedAsInvoice)}})});return e.concat(i)},[]);case"ITEMS PENDING":case"PO-Pending-Only":return null===r||void 0===r?void 0:r.reduce((e,r)=>{var i;if(!Array.isArray(null===r||void 0===r?void 0:r.ItemDetails))return e;const l=null===r||void 0===r||null===(i=r.ItemDetails)||void 0===i?void 0:i.filter(e=>{var i;const t=(null===r||void 0===r||null===(i=r.DeliveryDetails)||void 0===i?void 0:i.filter(r=>(0,o.id)(r.ItemId,null===e||void 0===e?void 0:e.ItemId))).reduce((e,r)=>(0,o.Lr)(e,null===r||void 0===r?void 0:r.Weight),0);return Number(t)<Number(null===e||void 0===e?void 0:e.Weight)&&(0,o.iw)(r.OrderStatus)!==(0,o.iw)("Canceled")}).map(e=>{var i,l,a;return(0,t.A)((0,t.A)({},e),{},{OrderDetails:{Id:null===r||void 0===r?void 0:r.Id,Sno:null===r||void 0===r?void 0:r.Sno,PoYear:null===r||void 0===r?void 0:r.PoYear,PO_ID:null===r||void 0===r?void 0:r.PO_ID,BranchId:null===r||void 0===r?void 0:r.BranchId,BrokerId:null!==(i=r.BrokerId)&&void 0!==i?i:"",BrokerName:r.BrokerName,CreatedBy:r.CreatedBy,CreatedAt:r.CreatedAt,ItemDetails:null===r||void 0===r?void 0:r.ItemDetails,OrderStatus:null===r||void 0===r?void 0:r.OrderStatus,StaffDetails:P(r.StaffDetails)?r.StaffDetails:[],TranspoterDetails:P(r.TranspoterDetails)?r.TranspoterDetails:[],DeliveryDetails:P(r.DeliveryDetails)?r.DeliveryDetails:[],ConvertedAsInvoices:P(r.ConvertedAsInvoices)?r.ConvertedAsInvoices:[],LoadingDate:r.LoadingDate,OwnerId:null!==(l=r.OwnerId)&&void 0!==l?l:"",OwnerName:r.OwnerName,PartyAddress:r.PartyAddress,PartyId:null!==(a=r.PartyId)&&void 0!==a?a:"",PartyName:r.PartyName,PaymentCondition:r.PaymentCondition,Remarks:r.Remarks,TradeConfirmDate:r.TradeConfirmDate,Ledger_Name:r.Ledger_Name,Party_District:r.Party_District,isConvertableArrivalExist:(0,o.Ro)(null===r||void 0===r?void 0:r.isConvertableArrivalExist),IsConvertedAsInvoice:(0,o.Ro)(null===r||void 0===r?void 0:r.IsConvertedAsInvoice)}})});return e.concat(l)},[]);case"ITEMS ARRIVED":return null===r||void 0===r?void 0:r.reduce((e,r)=>{var i;if(!Array.isArray(null===r||void 0===r?void 0:r.ItemDetails))return e;const l=null===r||void 0===r||null===(i=r.ItemDetails)||void 0===i?void 0:i.filter(e=>{var i;const t=(null===r||void 0===r||null===(i=r.DeliveryDetails)||void 0===i?void 0:i.filter(r=>(0,o.id)(r.ItemId,null===e||void 0===e?void 0:e.ItemId))).reduce((e,r)=>(0,o.Lr)(e,null===r||void 0===r?void 0:r.Weight),0);return Number(t)>=Number(null===e||void 0===e?void 0:e.Weight)}).map(e=>{var i,l,a;return(0,t.A)((0,t.A)({},e),{},{OrderDetails:{Id:null===r||void 0===r?void 0:r.Id,Sno:null===r||void 0===r?void 0:r.Sno,PoYear:null===r||void 0===r?void 0:r.PoYear,PO_ID:null===r||void 0===r?void 0:r.PO_ID,BranchId:null===r||void 0===r?void 0:r.BranchId,BrokerId:null!==(i=r.BrokerId)&&void 0!==i?i:"",BrokerName:r.BrokerName,CreatedBy:r.CreatedBy,CreatedAt:r.CreatedAt,ItemDetails:null===r||void 0===r?void 0:r.ItemDetails,OrderStatus:null===r||void 0===r?void 0:r.OrderStatus,StaffDetails:P(r.StaffDetails)?r.StaffDetails:[],TranspoterDetails:P(r.TranspoterDetails)?r.TranspoterDetails:[],DeliveryDetails:P(r.DeliveryDetails)?r.DeliveryDetails:[],ConvertedAsInvoices:P(r.ConvertedAsInvoices)?r.ConvertedAsInvoices:[],LoadingDate:r.LoadingDate,OwnerId:null!==(l=r.OwnerId)&&void 0!==l?l:"",OwnerName:r.OwnerName,PartyAddress:r.PartyAddress,PartyId:null!==(a=r.PartyId)&&void 0!==a?a:"",PartyName:r.PartyName,PaymentCondition:r.PaymentCondition,Remarks:r.Remarks,TradeConfirmDate:r.TradeConfirmDate,Ledger_Name:r.Ledger_Name,Party_District:r.Party_District,isConvertableArrivalExist:(0,o.Ro)(null===r||void 0===r?void 0:r.isConvertableArrivalExist),IsConvertedAsInvoice:(0,o.Ro)(null===r||void 0===r?void 0:r.IsConvertedAsInvoice)}})});return e.concat(l)},[]);case"AR-Item-Based":case"AR-Vendor-Wise":return null===r||void 0===r?void 0:r.reduce((e,r)=>{if(!Array.isArray(null===r||void 0===r?void 0:r.DeliveryDetails))return e;const i=r.DeliveryDetails.map(e=>{var i,l,a;return(0,t.A)((0,t.A)({},e),{},{OrderDetails:{Id:null===r||void 0===r?void 0:r.Id,Sno:null===r||void 0===r?void 0:r.Sno,PoYear:null===r||void 0===r?void 0:r.PoYear,PO_ID:null===r||void 0===r?void 0:r.PO_ID,BranchId:null===r||void 0===r?void 0:r.BranchId,BrokerId:null!==(i=r.BrokerId)&&void 0!==i?i:"",BrokerName:r.BrokerName,CreatedBy:r.CreatedBy,CreatedAt:r.CreatedAt,ItemDetails:P(r.ItemDetails)?r.ItemDetails:[],StaffDetails:P(r.StaffDetails)?r.StaffDetails:[],TranspoterDetails:P(r.TranspoterDetails)?r.TranspoterDetails:[],DeliveryDetails:P(r.DeliveryDetails)?r.DeliveryDetails:[],ConvertedAsInvoices:P(r.ConvertedAsInvoices)?r.ConvertedAsInvoices:[],OrderStatus:null===r||void 0===r?void 0:r.OrderStatus,LoadingDate:r.LoadingDate,OwnerId:null!==(l=r.OwnerId)&&void 0!==l?l:"",OwnerName:r.OwnerName,PartyAddress:r.PartyAddress,PartyId:null!==(a=r.PartyId)&&void 0!==a?a:"",PartyName:r.PartyName,PaymentCondition:r.PaymentCondition,Remarks:r.Remarks,TradeConfirmDate:r.TradeConfirmDate,Ledger_Name:r.Ledger_Name,Party_District:r.Party_District,isConvertableArrivalExist:(0,o.Ro)(null===r||void 0===r?void 0:r.isConvertableArrivalExist),IsConvertedAsInvoice:(0,o.Ro)(null===r||void 0===r?void 0:r.IsConvertedAsInvoice)}})});return e.concat(i)},[]);case"ORDERS":return r;case"ORDERS PENDING":return r.reduce((e,r)=>{var i;return!Array.isArray(null===r||void 0===r?void 0:r.DeliveryDetails)||(0,o.D)(null===r||void 0===r||null===(i=r.DeliveryDetails)||void 0===i?void 0:i.length,0)?e:e.concat(r)},[]);case"ORDERS ARRIVED":return r.reduce((e,r)=>{var i;return!Array.isArray(null===r||void 0===r?void 0:r.DeliveryDetails)||(0,o.id)(null===r||void 0===r||null===(i=r.DeliveryDetails)||void 0===i?void 0:i.length,0)?e:e.concat(r)},[]);case"COMPLETED ORDERS":return r.reduce((e,r)=>"Completed"!==(null===r||void 0===r?void 0:r.OrderStatus)?e:e.concat(r),[]);case"IN-COMPLETED ORDERS":return r.reduce((e,r)=>"Completed"===(null===r||void 0===r?void 0:r.OrderStatus)?e:e.concat(r),[]);default:return[]}},x=" bg-info fw-bold fa-11 px-2 py-1 rounded-3 ",S=" bg-warning fw-bold fa-11 px-2 py-1 rounded-3 ",R=" bg-success text-light fa-11 px-2 py-1 rounded-3 ",j=" bg-danger text-light fw-bold fa-11 px-2 py-1 rounded-3 ",_=e=>{switch(e){case"New Order":return x;case"On Process":return S;case"Completed":return R;case"Canceled":return j;default:return""}},E=(e,r,i)=>(0,t.A)({isVisible:1,Field_Name:e,Fied_Data:r},i&&{ColumnHeader:i}),T=e=>{let{OrderStatus:r="ITEMS",dialogs:i,setOrderPreview:l,navigation:a,products:d,EditRights:n,DeleteRights:v,AddRights:u}=e;E("OrderId","string","Order Id");const c={isVisible:1,ColumnHeader:"Owners",isCustomCell:!0,Cell:e=>{var r;let{row:i}=e;return null===i||void 0===i||null===(r=i.StaffDetails)||void 0===r?void 0:r.filter(e=>"Owners"===e.Cost_Category).map(e=>e.Emp_Name).join(", ")}},m={isVisible:1,ColumnHeader:"Brokers",isCustomCell:!0,Cell:e=>{var r;let{row:i}=e;return null===i||void 0===i||null===(r=i.StaffDetails)||void 0===r?void 0:r.filter(e=>"Broker"===e.Cost_Category).map(e=>e.Emp_Name).join(", ")}},D=E("PartyName","string","Party"),I=(E("PaymentCondition","string","Payment Condition"),E("Remarks","string")),A=E("TradeConfirmDate","date","Trade Confirm Date"),y=(E("LoadingDate","date","Loading Date"),E("QualityCondition","string","Condition"),{isVisible:1,ColumnHeader:"Party",isCustomCell:!0,Cell:e=>{var r;let{row:i}=e;return null===i||void 0===i||null===(r=i.OrderDetails)||void 0===r?void 0:r.PartyName}}),P={isVisible:1,ColumnHeader:"Action",isCustomCell:!0,Cell:e=>{let{row:r}=e;const d=r,{ItemDetails:v=[],DeliveryDetails:c=[],StaffDetails:m=[],TranspoterDetails:D=[],ConvertedAsInvoices:I=[]}=d,A=(0,o.id)(null===r||void 0===r?void 0:r.isConvertableArrivalExist,1),y=(0,o.id)(null===r||void 0===r?void 0:r.IsConvertedAsInvoice,1);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(C.A,{title:"Preview Order",children:(0,g.jsx)("span",{children:(0,g.jsx)(s.A,{size:"small",color:"primary",onClick:()=>l(e=>(0,t.A)((0,t.A)({},e),{},{OrderDetails:d,OrderItemsArray:v,DeliveryArray:c,TranspoterArray:D,StaffArray:m,display:!0})),children:(0,g.jsx)(O.A,{className:"fa-16"})})})}),a&&A&&"Completed"===(null===d||void 0===d?void 0:d.OrderStatus)&&u&&(0,g.jsx)(C.A,{title:"Convert to invoice",children:(0,g.jsx)(s.A,{size:"small",onClick:()=>{a({page:"/erp/purchase/invoice/create",stateToTransfer:{invoiceInfo:{Branch_Id:null===d||void 0===d?void 0:d.BranchId,Po_Inv_Date:(0,o.ny)(),Po_Entry_Date:null!==d&&void 0!==d&&d.LoadingDate?(0,o.ny)(null===d||void 0===d?void 0:d.LoadingDate):(0,o.ny)(),Retailer_Id:null===d||void 0===d?void 0:d.PartyId,Retailer_Name:null===d||void 0===d?void 0:d.PartyName},orderInfo:c.filter(e=>(0,o.Ro)(e.pendingInvoiceWeight)>0).map(e=>({POI_St_Id:"",DeliveryId:null===e||void 0===e?void 0:e.Trip_Item_SNo,OrderId:null===e||void 0===e?void 0:e.OrderId,Location_Id:null===e||void 0===e?void 0:e.LocationId,Item_Id:null===e||void 0===e?void 0:e.ItemId,Item_Name:(null===e||void 0===e?void 0:e.ItemName)||"not found",Bill_Qty:null===e||void 0===e?void 0:e.pendingInvoiceWeight,Act_Qty:null===e||void 0===e?void 0:e.Weight,Bill_Alt_Qty:null===e||void 0===e?void 0:e.Quantity,Item_Rate:null===e||void 0===e?void 0:e.BilledRate,Amount:(0,o.JH)(null===e||void 0===e?void 0:e.BilledRate,null===e||void 0===e?void 0:e.Weight),Free_Qty:0,Batch_No:null===e||void 0===e?void 0:e.BatchLocation})),staffInfo:m.map(e=>({Involved_Emp_Id:Number(e.EmployeeId),Involved_Emp_Name:e.Emp_Name,Cost_Center_Type_Id:Number(e.CostType)}))}})},children:(0,g.jsx)(h.A,{})})}),a&&!y&&n&&(0,g.jsx)(C.A,{title:"Edit",children:(0,g.jsx)("span",{children:(0,g.jsx)(s.A,{size:"small",onClick:()=>{a({page:"create",stateToTransfer:{OrderDetails:d,OrderItemsArray:v,DeliveryArray:c,TranspoterArray:D,StaffArray:m,editPage:"PurchaseOderWithDelivery"}})},children:(0,g.jsx)(p.A,{className:"fa-16"})})})}),A&&(0,g.jsx)(C.A,{title:"Delete Order",children:(0,g.jsx)("span",{children:(0,g.jsx)(s.A,{size:"small",onClick:()=>i(e=>(0,t.A)((0,t.A)({},e),{},{deleteOrderDialog:!0,deleteOrderId:null===r||void 0===r?void 0:r.Id})),color:"error",children:(0,g.jsx)(f.A,{className:"fa-16"})})})})]})}},N={isVisible:1,ColumnHeader:"Status",isCustomCell:!0,Cell:e=>{let{row:r}=e;const i=null===r||void 0===r?void 0:r.OrderStatus;return(0,g.jsx)("span",{className:_(i),children:String(i).replace(" ","")})}},x=E("PO_ID","string","Order ID"),S={isVisible:1,ColumnHeader:"Order ID",isCustomCell:!0,Cell:e=>{var r,i;let{row:t}=e;return null!==(r=null===t||void 0===t||null===(i=t.OrderDetails)||void 0===i?void 0:i.PO_ID)&&void 0!==r?r:""}},R=E("ItemName","string","Item"),j=E("Rate","number"),T={isVisible:1,ColumnHeader:"Weight",isCustomCell:!0,Cell:e=>{let{row:r}=e;return(0,o.IQ)(null===r||void 0===r?void 0:r.Weight)?(0,o.jG)(null===r||void 0===r?void 0:r.Weight):0}},b={isVisible:1,ColumnHeader:"Arrived Quantity",isCustomCell:!0,Cell:e=>{var r,i;let{row:t}=e;return(null===t||void 0===t||null===(r=t.OrderDetails)||void 0===r||null===(i=r.DeliveryDetails)||void 0===i?void 0:i.filter(e=>(0,o.id)(e.ItemId,null===t||void 0===t?void 0:t.ItemId))).reduce((e,r)=>(0,o.Lr)(e,null===r||void 0===r?void 0:r.Weight),0)}},w={isVisible:1,ColumnHeader:"Pending-Quantity",isCustomCell:!0,Cell:e=>{var r,i;let{row:t}=e;const l=(null===t||void 0===t||null===(r=t.OrderDetails)||void 0===r||null===(i=r.DeliveryDetails)||void 0===i?void 0:i.filter(e=>(0,o.id)(e.ItemId,null===t||void 0===t?void 0:t.ItemId))).reduce((e,r)=>(0,o.Lr)(e,null===r||void 0===r?void 0:r.Weight),0);return(0,o.DG)(null===t||void 0===t?void 0:t.Weight,l)}},B={isVisible:1,isCustomCell:!0,ColumnHeader:"Date",Cell:e=>{var r;let{row:i}=e;return(0,o.yc)(null===i||void 0===i||null===(r=i.OrderDetails)||void 0===r?void 0:r.TradeConfirmDate)}},k={isVisible:1,ColumnHeader:"Owners",isCustomCell:!0,Cell:e=>{let{row:r}=e;const i=null===r||void 0===r?void 0:r.OrderDetails,{StaffDetails:t}=i;return null===t||void 0===t?void 0:t.filter(e=>"Owners"===e.Cost_Category).map(e=>e.Emp_Name).join(", ")}},L={isVisible:1,ColumnHeader:"Brokers",isCustomCell:!0,Cell:e=>{let{row:r}=e;const i=null===r||void 0===r?void 0:r.OrderDetails,{StaffDetails:t}=i;return null===t||void 0===t?void 0:t.filter(e=>"Broker"===e.Cost_Category).map(e=>e.Emp_Name).join(", ")}},W={isVisible:1,ColumnHeader:"Action",isCustomCell:!0,Cell:e=>{let{row:r}=e;const i=null===r||void 0===r?void 0:r.OrderDetails,{ItemDetails:d,DeliveryDetails:v,TranspoterDetails:u,StaffDetails:c}=i,m=(0,o.id)(null===r||void 0===r?void 0:r.IsConvertedAsInvoice,1);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(C.A,{title:"Preview Order",children:(0,g.jsx)("span",{children:(0,g.jsx)(s.A,{size:"small",color:"primary",onClick:()=>l(e=>(0,t.A)((0,t.A)({},e),{},{OrderDetails:i,OrderItemsArray:d,DeliveryArray:v,TranspoterArray:u,StaffArray:c,display:!0})),children:(0,g.jsx)(O.A,{className:"fa-16"})})})}),a&&!m&&n&&(0,g.jsx)(C.A,{title:"Edit",children:(0,g.jsx)("span",{children:(0,g.jsx)(s.A,{size:"small",onClick:()=>a({page:"create",stateToTransfer:{OrderDetails:i,OrderItemsArray:d,DeliveryArray:v,TranspoterArray:u,StaffArray:c,editPage:"PurchaseOderWithDelivery"}}),children:(0,g.jsx)(p.A,{className:"fa-16"})})})})]})}},V={isVisible:1,isCustomCell:!0,ColumnHeader:"Arrived Date",Cell:e=>{let{row:r}=e;return null!==r&&void 0!==r&&r.ArrivalDate?(0,o.yc)(null===r||void 0===r?void 0:r.ArrivalDate):""}},H=E("Location","string"),F={isVisible:1,ColumnHeader:"Rate",isCustomCell:!0,Cell:e=>{var r,i,t,l;let{row:a}=e;const d=null!==(t=null===(l=(Array.isArray(null===a||void 0===a||null===(r=a.OrderDetails)||void 0===r?void 0:r.ItemDetails)?null===a||void 0===a||null===(i=a.OrderDetails)||void 0===i?void 0:i.ItemDetails:[]).find(e=>(0,o.id)(null===e||void 0===e?void 0:e.ItemId,null===a||void 0===a?void 0:a.ItemId)))||void 0===l?void 0:l.Rate)&&void 0!==t?t:0,n=Number(null===a||void 0===a?void 0:a.BilledRate);return"".concat(n," (").concat((0,o.D)(n,d)?"+"+(n-d):"-"+(d-n),")")}},M=(E("Ledger_Name","string","LOL Ledger Name"),E("Party_District","string","LOL Party District"),{isVisible:1,ColumnHeader:"LOL Ledger Name",isCustomCell:!0,Cell:e=>{var r;let{row:i}=e;return null===i||void 0===i||null===(r=i.OrderDetails)||void 0===r?void 0:r.Ledger_Name}}),Q={isVisible:1,ColumnHeader:"LOL Party District",isCustomCell:!0,Cell:e=>{var r;let{row:i}=e;return null===i||void 0===i||null===(r=i.OrderDetails)||void 0===r?void 0:r.Party_District}},z=E("Stock_Item","string","Stock Item"),G=E("Stock_Group","string","Stock Group");switch(r){case"ITEMS":case"ITEMS PENDING":case"ITEMS ARRIVED":return[S,y,B,R,T,b,w,j,k,L,W];case"ORDERS":case"COMPLETED ORDERS":case"IN-COMPLETED ORDERS":return[x,A,D,m,c,I,N,P];case"ORDERS PENDING":case"ORDERS ARRIVED":return[x,A,D,m,c,I,P];case"PO-Vendor-Wise":return[S,B,M,Q,G,T,j,w,W];case"PO-Item-Wise":case"PO-Pending-Only":return[S,B,G,z,T,j,w,M,Q,W];case"AR-Item-Based":return[S,V,H,G,z,T,F,M,Q,W];case"AR-Vendor-Wise":return[S,V,H,M,Q,G,F,T,w,W];default:return[]}};var b=i(91036),w=i(93709);const B=e=>{let{loadingOn:r,loadingOff:i}=e;const[C,O]=(0,l.useState)([]),[h,p]=(0,l.useState)({OrderDetails:{},OrderItemsArray:[],DeliveryArray:[],TranspoterArray:[],display:!1}),f=(0,A.Zp)(),[P,x]=(0,l.useState)({Fromdate:(0,o.IS)(10),Todate:(0,o.ny)(),FilterDialog:!1,OrderStatus:"PO-Vendor-Wise",deleteOrderDialog:!1,deleteOrderId:"",refresh:!1,view:"PURCHASE ORDERS"});(0,l.useEffect)(()=>{(0,d.z)({address:"dataEntry/purchaseOrderEntry?Fromdate=".concat(null===P||void 0===P?void 0:P.Fromdate,"&Todate=").concat(null===P||void 0===P?void 0:P.Todate)}).then(e=>{e.success&&O(e.data)}).catch(e=>console.error(e))},[P.Fromdate,P.Todate,P.refresh]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(n.A,{children:[(0,g.jsxs)("div",{className:"p-2 d-flex flex-wrap align-items-center border-bottom",children:[(0,g.jsx)("h5",{className:"m-0 flex-grow-1 ps-2",children:"Purchase Order Report"}),(0,g.jsx)(s.A,{size:"small",className:"me-2",onClick:()=>x(e=>(0,t.A)((0,t.A)({},e),{},{FilterDialog:!0})),children:(0,g.jsx)(y.A,{})})]}),(0,g.jsx)(v.A,{children:(0,g.jsx)(a.Ay,{dataArray:N({data:C,status:P.OrderStatus}),columns:T({OrderStatus:P.OrderStatus,dialogs:x,setOrderPreview:p,navigation:e=>{let{page:r="",stateToTransfer:i={}}=e;f(r,{state:i})}}),tableMaxHeight:750,EnableSerialNumber:!0,title:P.OrderStatus,PDFPrintOption:!0,ExcelPrintOption:!0,maxHeightOption:!0})})]}),h.display&&(0,g.jsx)(w.A,{OrderDetails:h.OrderDetails,OrderItemsArray:h.OrderItemsArray,DeliveryArray:h.DeliveryArray,TranspoterArray:h.TranspoterArray,display:h.display,onCloseDialog:()=>{p({OrderDetails:{},OrderItemsArray:[],DeliveryArray:[],TranspoterArray:[],display:!1})}}),(0,g.jsxs)(u.A,{open:P.FilterDialog,onClose:()=>x(e=>(0,t.A)((0,t.A)({},e),{},{FilterDialog:!1})),maxWidth:"sm",fullWidth:!0,children:[(0,g.jsx)(c.A,{children:"Filters"}),(0,g.jsx)(m.A,{children:(0,g.jsx)("table",{className:"table m-0 border-0",children:(0,g.jsxs)("tbody",{children:[(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{className:"border-0 vctr",children:"Fromdate"}),(0,g.jsx)("td",{className:"border-0 vctr",children:(0,g.jsx)("input",{type:"date",onChange:e=>x(r=>(0,t.A)((0,t.A)({},r),{},{Fromdate:e.target.value})),value:P.Fromdate,className:"cus-inpt p-2"})})]}),(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{className:"border-0 vctr",children:"Todate"}),(0,g.jsx)("td",{className:"border-0 vctr",children:(0,g.jsx)("input",{type:"date",onChange:e=>x(r=>(0,t.A)((0,t.A)({},r),{},{Todate:e.target.value})),value:P.Todate,className:"cus-inpt p-2"})})]}),(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{className:"border-0 vctr",children:"Order Status"}),(0,g.jsx)("td",{className:"border-0 vctr",children:(0,g.jsxs)("select",{className:"cus-inpt p-2",value:P.OrderStatus,onChange:e=>x(r=>(0,t.A)((0,t.A)({},r),{},{OrderStatus:e.target.value})),children:[(0,g.jsx)("option",{value:"PO-Vendor-Wise",children:"PO-Vendor-Wise"}),(0,g.jsx)("option",{value:"PO-Item-Wise",children:"PO-Item-Wise"}),(0,g.jsx)("option",{value:"PO-Pending-Only",children:"PO-Pending-Only"}),(0,g.jsx)("option",{value:"AR-Item-Based",children:"AR-Item-Based"}),(0,g.jsx)("option",{value:"AR-Vendor-Wise",children:"AR-Vendor-Wise"})]})})]})]})})}),(0,g.jsx)(D.A,{children:(0,g.jsx)(I.A,{onClick:()=>x(e=>(0,t.A)((0,t.A)({},e),{},{FilterDialog:!1})),variant:"outlined",children:"Close"})})]}),(0,g.jsxs)(u.A,{open:P.deleteOrderDialog,onClose:()=>x(e=>(0,t.A)((0,t.A)({},e),{},{deleteOrderDialog:!1,deleteOrderId:""})),maxWidth:"sm",children:[(0,g.jsx)(c.A,{children:"Confirmation"}),(0,g.jsx)(m.A,{children:(0,g.jsx)("h6",{children:"Do you want to delete the order permanently?"})}),(0,g.jsxs)(D.A,{children:[(0,g.jsx)(I.A,{onClick:()=>x(e=>(0,t.A)((0,t.A)({},e),{},{deleteOrderDialog:!1,deleteOrderId:""})),children:"Cancel"}),(0,g.jsx)(I.A,{color:"error",variant:"outlined",onClick:()=>{return e=P.deleteOrderId,void((0,o.IQ)(e)&&(0,d.z)({address:"dataEntry/purchaseOrderEntry",method:"DELETE",bodyData:{OrderId:e}}).then(e=>{e.success?(x(e=>(0,t.A)((0,t.A)({},e),{},{deleteOrderDialog:!1,deleteOrderId:"",refresh:!e.refresh})),b.oR.success(e.message)):(x(e=>(0,t.A)((0,t.A)({},e),{},{deleteOrderDialog:!1,deleteOrderId:""})),b.oR.error(e.message))}).catch(e=>console.error(e)));var e},children:"Delete"})]})]})]})}}}]);
//# sourceMappingURL=1943.aeb6721c.chunk.js.map