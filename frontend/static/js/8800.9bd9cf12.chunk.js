"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[8800],{18800:(e,l,t)=>{t.r(l),t.d(l,{default:()=>O});var r=t(89379),o=t(65043),i=t(63336),n=t(68903),a=t(81e3),d=t(85865),s=t(77739),c=t(17392),u=t(52083),v=t(84511),x=t(11906),h=t(83462),m=t(26600),g=t(35316),y=t(29347),p=t(20656),A=t(22520),b=t(83560),f=t(59383),j=t(71403),_=t(79484),D=t(99010),C=t(3632),S=t(65074),I=t(48471),N=t(73216),P=(t(41649),t(70579));const O=e=>{let{loadingOn:l,loadingOff:t,AddRights:O,EditRights:T,pageID:k}=e;const F=sessionStorage.getItem("filterValues"),L={Fromdate:(0,A.ny)(),Todate:(0,A.ny)(),Retailer:{value:"",label:"ALL"},CreatedBy:{value:"",label:"ALL"},SalesPerson:{value:"",label:"ALL"},VoucherType:{value:"",label:"ALL"},DeliveryPerson:{value:"",label:"ALL"},Cancel_status:1},R=JSON.parse(localStorage.getItem("user")),w=(0,N.Zp)(),[V,E]=(0,o.useState)([]),[B,z]=(0,o.useState)([]),[Q,W]=(0,o.useState)([]),[G,M]=(0,o.useState)([]),[H,U]=(0,o.useState)([]),[J,Z]=(0,o.useState)([]),[q,K]=(0,o.useState)([]),[X,Y]=(0,o.useState)({}),[$,ee]=(0,o.useState)("sales"),[le,te]=(0,o.useState)("All"),[re,oe]=(0,o.useState)("All"),[ie,ne]=(0,o.useState)({totalPendingOrders:0,totalFilteredOrders:0,totalOrders:0,pendingOrders:0,fulfilledOrders:0}),[ae,de]=(0,o.useState)({totalDeliveries:0,deliveredCount:0,pendingCount:0,returnedCount:0,cancelledCount:0,totalAmount:0}),[se,ce]=(0,o.useState)({all:0,delivered:0,pending:0,previousDaySalesCount:0}),[ue,ve]=(0,o.useState)({all:0,converted:0,nonConvert:0}),[xe,he]=(0,o.useState)(L),[me,ge]=(0,o.useState)({filters:!1,orderDetails:!1});(0,o.useEffect)(()=>{const e=(0,A.vU)(k),{Fromdate:l,Todate:t,Retailer:o=L.Retailer,CreatedBy:i=L.CreatedBy,SalesPerson:n=L.SalesPerson,VoucherType:a=L.VoucherType,DeliveryPerson:d=L.DeliveryPerson,Cancel_status:s=L.Cancel_status}=e;he(e=>(0,r.A)((0,r.A)({},e),{},{Fromdate:l,Todate:t,Retailer:o,CreatedBy:i,SalesPerson:n,VoucherType:a,DeliveryPerson:d,Cancel_status:s}))},[F,k,$]),(0,o.useEffect)(()=>{(0,S.z)({address:"sales/saleOrder/retailers"}).then(e=>{e.success&&W(e.data)}).catch(e=>console.error(e)),(0,S.z)({address:"masters/users/salesPerson/dropDown?Company_id=".concat(null===R||void 0===R?void 0:R.Company_id)}).then(e=>{e.success&&M(e.data)}).catch(e=>console.error(e)),(0,S.z)({address:"masters/user/dropDown?Company_id=".concat(null===R||void 0===R?void 0:R.Company_id)}).then(e=>{e.success&&U(e.data)}).catch(e=>console.error(e)),(0,S.z)({address:"masters/voucher"}).then(e=>{e.success&&Z(e.data)}).catch(e=>console.error(e)),(0,S.z)({address:"dataEntry/costCenter"}).then(e=>{e.success&&K(e.data)}).catch(e=>console.error(e))},[]),(0,o.useEffect)(()=>{const e=(0,A.vU)(k),{Fromdate:r,Todate:o,Retailer:i=L.Retailer,CreatedBy:n=L.CreatedBy,SalesPerson:a=L.SalesPerson,VoucherType:d=L.VoucherType,DeliveryPerson:s=L.DeliveryPerson,Cancel_status:c=L.Cancel_status}=e;"sales"===$?(0,S.z)({address:"reports/reportsNonconvert/sales?Fromdate=".concat(r,"&Todate=").concat(o,"&Retailer_Id=").concat(null===i||void 0===i?void 0:i.value,"&Sales_Person_Id=").concat(null===a||void 0===a?void 0:a.value,"&Created_by=").concat(null===n||void 0===n?void 0:n.value,"&VoucherType=").concat(null===d||void 0===d?void 0:d.value,"&Cancel_status=").concat(c),loadingOn:l,loadingOff:t}).then(e=>{if(e.success){var l,t,r;const o=(null===e||void 0===e?void 0:e.data)||{},i=o.orders||[];ne({totalPendingOrders:o.totalPendingOrders||0,totalFilteredOrders:o.totalFilteredOrders||0,totalOrders:(null===(l=o.summary)||void 0===l?void 0:l.totalOrders)||0,pendingOrders:(null===(t=o.summary)||void 0===t?void 0:t.pendingOrders)||0,fulfilledOrders:(null===(r=o.summary)||void 0===r?void 0:r.fulfilledOrders)||0}),E(i);const n=i.filter(e=>2==e.isConverted).length,a=i.filter(e=>2!=e.isConverted).length,d=i.length;ve({all:d,converted:n,nonConvert:a})}}).catch(e=>console.error(e)):(0,S.z)({address:"delivery/deliveryOrderListData?Fromdate=".concat(r,"&Todate=").concat(o,"&Retailer_Id=").concat(null===i||void 0===i?void 0:i.value,"&Sales_Person_Id=").concat(null===a||void 0===a?void 0:a.value,"&Delivery_Person_Id=").concat(null===s||void 0===s?void 0:s.value,"&Created_by=").concat(null===n||void 0===n?void 0:n.value,"&Cancel_status=").concat(c),loadingOn:l,loadingOff:t}).then(e=>{if(e.success){const l=(null===e||void 0===e?void 0:e.data)||[];z(l);const t=l.filter(e=>"Delivered"===e.DeliveryStatusName).length,r=l.filter(e=>1===e.Delivery_Status).length,o=l.filter(e=>6===e.Delivery_Status).length,i=l.length,n=l.length>0&&l[0].PreviousDaySalesOrderCount||0;ce({all:i,delivered:t,returned:o,pending:r,previousDaySalesCount:n});const a=l.filter(e=>0===e.Delivery_Status).length,d=l.reduce((e,l)=>e+(0,A.Ro)(l.Total_Invoice_value||0),0);de({totalDeliveries:i,deliveredCount:t,pendingCount:r,returnedCount:o,cancelledCount:a,totalAmount:d})}}).catch(e=>console.error(e))},[F,k,$]);const ye=()=>{ge(e=>(0,r.A)((0,r.A)({},e),{},{filters:!1,orderDetails:!1}))},pe=(0,o.useMemo)(()=>("sales"===$?V:B).reduce((e,l)=>(0,A.Lr)(e,null===l||void 0===l?void 0:l.Total_Invoice_value),0),[V,B,$]),Ae=(0,o.useMemo)(()=>{if("delivery"!==$)return B;switch(le){case"Delivered":return B.filter(e=>7===e.Delivery_Status);case"Pending":return B.filter(e=>1===e.Delivery_Status);default:return B}},[B,le,$]),be=(0,o.useMemo)(()=>{if("sales"!==$)return V;switch(re){case"Converted":return V.filter(e=>2===e.isConverted);case"Non-Converted":return V.filter(e=>2!==e.isConverted);default:return V}},[V,re,$]),fe=()=>"sales"!==$?null:(0,P.jsx)(i.A,{elevation:2,sx:{p:2,mb:2,backgroundColor:"#f8f9fa",borderLeft:"4px solid #1976d2"},children:(0,P.jsxs)(n.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,P.jsx)(n.Ay,{item:!0,xs:12,children:(0,P.jsxs)(a.A,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[(0,P.jsx)(D.A,{sx:{color:"#1976d2"}}),(0,P.jsx)(d.A,{variant:"h6",sx:{color:"#1976d2",fontWeight:"bold"},children:"\ud83d\udcca Sale Order Summary"})]})}),(0,P.jsx)(n.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,P.jsxs)(i.A,{elevation:1,sx:{p:2,textAlign:"center",backgroundColor:"#e3f2fd",border:"1px solid #bbdefb"},children:[(0,P.jsx)(d.A,{variant:"h4",sx:{fontWeight:"bold",color:"#1976d2"},children:ie.totalFilteredOrders||0}),(0,P.jsx)(d.A,{variant:"body2",color:"text.secondary",children:"Total Orders"})]})}),(0,P.jsx)(n.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,P.jsxs)(i.A,{elevation:1,sx:{p:2,textAlign:"center",backgroundColor:"#fff3e0",border:"1px solid #ffe0b2"},children:[(0,P.jsx)(d.A,{variant:"h4",sx:{fontWeight:"bold",color:"#f57c00"},children:ie.totalPendingOrders||0}),(0,P.jsx)(d.A,{variant:"body2",color:"text.secondary",children:"Pending Orders"})]})}),(0,P.jsx)(n.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,P.jsxs)(i.A,{elevation:1,sx:{p:2,textAlign:"center",backgroundColor:"#e8f5e9",border:"1px solid #c8e6c9"},children:[(0,P.jsx)(d.A,{variant:"h4",sx:{fontWeight:"bold",color:"#388e3c"},children:ie.fulfilledOrders||0}),(0,P.jsx)(d.A,{variant:"body2",color:"text.secondary",children:"Fulfilled Orders"})]})}),(0,P.jsx)(n.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,P.jsxs)(i.A,{elevation:1,sx:{p:2,textAlign:"center",backgroundColor:"#fce4ec",border:"1px solid #f8bbd9"},children:[(0,P.jsx)(d.A,{variant:"h6",sx:{fontWeight:"bold",color:"#c2185b"},children:ie.totalOrders?"".concat(Math.round(ie.fulfilledOrders/ie.totalOrders*100),"%"):"0%"}),(0,P.jsx)(d.A,{variant:"body2",color:"text.secondary",children:"Fulfillment Rate"})]})})]})}),je=()=>"delivery"!==$?null:(0,P.jsx)(i.A,{elevation:2,sx:{p:2,mb:2,backgroundColor:"#f8f9fa",borderLeft:"4px solid #9c27b0"},children:(0,P.jsxs)(n.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,P.jsx)(n.Ay,{item:!0,xs:12,children:(0,P.jsxs)(a.A,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[(0,P.jsx)(j.A,{sx:{color:"#9c27b0"}}),(0,P.jsx)(d.A,{variant:"h6",sx:{color:"#9c27b0",fontWeight:"bold"},children:"\ud83d\ude9a Delivery Summary"})]})}),(0,P.jsx)(n.Ay,{item:!0,xs:6,sm:4,md:3,lg:2,children:(0,P.jsxs)(i.A,{elevation:1,sx:{p:2,textAlign:"center",backgroundColor:"#f3e5f5",border:"1px solid #e1bee7"},children:[(0,P.jsx)(d.A,{variant:"h4",sx:{fontWeight:"bold",color:"#9c27b0"},children:ae.totalDeliveries||0}),(0,P.jsx)(d.A,{variant:"body2",color:"text.secondary",children:"Total Deliveries"})]})}),(0,P.jsx)(n.Ay,{item:!0,xs:6,sm:4,md:3,lg:2,children:(0,P.jsxs)(i.A,{elevation:1,sx:{p:2,textAlign:"center",backgroundColor:"#e8f5e9",border:"1px solid #c8e6c9"},children:[(0,P.jsx)(d.A,{variant:"h4",sx:{fontWeight:"bold",color:"#388e3c"},children:ae.deliveredCount||0}),(0,P.jsx)(d.A,{variant:"body2",color:"text.secondary",children:"Delivered"})]})}),(0,P.jsx)(n.Ay,{item:!0,xs:6,sm:4,md:3,lg:2,children:(0,P.jsxs)(i.A,{elevation:1,sx:{p:2,textAlign:"center",backgroundColor:"#fff3e0",border:"1px solid #ffe0b2"},children:[(0,P.jsx)(d.A,{variant:"h4",sx:{fontWeight:"bold",color:"#f57c00"},children:ae.pendingCount||0}),(0,P.jsx)(d.A,{variant:"body2",color:"text.secondary",children:"Pending"})]})}),(0,P.jsx)(n.Ay,{item:!0,xs:6,sm:4,md:3,lg:2,children:(0,P.jsxs)(i.A,{elevation:1,sx:{p:2,textAlign:"center",backgroundColor:"#ffebee",border:"1px solid #ffcdd2"},children:[(0,P.jsx)(d.A,{variant:"h4",sx:{fontWeight:"bold",color:"#d32f2f"},children:ae.cancelledCount||0}),(0,P.jsx)(d.A,{variant:"body2",color:"text.secondary",children:"Cancelled"})]})}),(0,P.jsx)(n.Ay,{item:!0,xs:6,sm:4,md:3,lg:2,children:(0,P.jsxs)(i.A,{elevation:1,sx:{p:2,textAlign:"center",backgroundColor:"#ffebee",border:"1px solid #ffcdd2"},children:[(0,P.jsx)(d.A,{variant:"h4",sx:{fontWeight:"bold",color:"#d32f2f"},children:ae.returnedCount||0}),(0,P.jsx)(d.A,{variant:"body2",color:"text.secondary",children:"Return"})]})}),(0,P.jsx)(n.Ay,{item:!0,xs:6,sm:4,md:3,lg:2,children:(0,P.jsxs)(i.A,{elevation:1,sx:{p:2,textAlign:"center",backgroundColor:"#e3f2fd",border:"1px solid #bbdefb"},children:[(0,P.jsx)(d.A,{variant:"h6",sx:{fontWeight:"bold",color:"#1976d2"},children:ae.totalDeliveries>0?"".concat(Math.round(ae.deliveredCount/ae.totalDeliveries*100),"%"):"0%"}),(0,P.jsx)(d.A,{variant:"body2",color:"text.secondary",children:"Delivery Rate"})]})})]})}),_e=(0,o.useMemo)(()=>"sales"===$?[(0,I.Lj)("So_Date","date","SoDate"),(0,I.Lj)("So_Inv_No","string","SO ID"),(0,I.Lj)("Retailer_Name","string","Customer"),(0,I.Lj)("VoucherTypeGet","string","Voucher"),(0,I.Lj)("Total_Before_Tax","number","Before Tax"),(0,I.Lj)("Total_Tax","number","Tax"),(0,I.Lj)("Total_Invoice_value","number","Invoice Value"),{Field_Name:"Action",isVisible:1,isCustomCell:!0,Cell:e=>{let{row:l}=e;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(s.A,{title:"View Order",children:(0,P.jsx)(c.A,{onClick:()=>Y({orderDetails:l,orderProducts:(null===l||void 0===l?void 0:l.Products_List)||[]}),color:"primary",size:"small",children:(0,P.jsx)(C.A,{className:"fa-16"})})}),T&&(0,P.jsx)(s.A,{title:"Edit",children:(0,P.jsx)(c.A,{onClick:()=>w("create",{state:(0,r.A)((0,r.A)({},l),{},{isEdit:!0})}),size:"small",children:(0,P.jsx)(b.A,{className:"fa-16"})})})]})}}]:[(0,I.Lj)("Do_Id","string","Delivery ID"),(0,I.Lj)("So_No","string","Sale Order ID"),(0,I.Lj)("Do_Inv_No","string","DO Inv No"),(0,I.Lj)("Retailer_Name","string","Customer"),(0,I.Lj)("SalesDate","date","Sale Order Date"),(0,I.Lj)("Do_Date","date","Delivery Date"),(0,I.Lj)("Total_Before_Tax","number","Before Tax"),(0,I.Lj)("Total_Tax","number","Tax"),(0,I.Lj)("Total_Invoice_value","number","Invoice Value"),(0,I.Lj)("DeliveryStatusName","string","Delivery Status"),{Field_Name:"Action",isVisible:1,isCustomCell:!0,Cell:e=>{let{row:l}=e;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(s.A,{title:"View Order",children:(0,P.jsx)(c.A,{onClick:()=>Y({orderDetails:l,orderProducts:(null===l||void 0===l?void 0:l.Products_List)||[]}),color:"primary",size:"small",children:(0,P.jsx)(C.A,{className:"fa-16"})})}),T&&(0,P.jsx)(s.A,{title:"Edit",children:(0,P.jsx)(c.A,{onClick:()=>w("create",{state:(0,r.A)((0,r.A)({},l),{},{isEdit:!0})}),size:"small",children:(0,P.jsx)(b.A,{className:"fa-16"})})})]})}}],[$,T,w]);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(fe,{}),(0,P.jsx)(je,{}),(0,P.jsx)(I.Ay,{title:"".concat("sales"===$?"Sale":"Delivery"," Orders"),dataArray:"sales"===$?be:Ae,EnableSerialNumber:!0,columns:_e,ButtonArea:(0,P.jsx)(P.Fragment,{children:(0,P.jsxs)(a.A,{sx:{display:"flex",gap:2,alignItems:"center",flexWrap:"wrap",mb:2},children:[(0,P.jsxs)(u.A,{value:$,exclusive:!0,onChange:(e,l)=>{l&&(he(L),(0,A.Mb)((0,r.A)((0,r.A)({},L),{},{pageID:k})),"sales"===$?oe("All"):te("All"),ee(l),oe("All"),te("All"))},"aria-label":"view type",sx:{"& .MuiToggleButton-root":{px:3,py:1,m:.5}},children:[(0,P.jsx)(v.A,{value:"sales","aria-label":"sales view",sx:{backgroundColor:"sales"===$?"#1976d2":"inherit",color:"sales"===$?"white":"inherit",fontWeight:"sales"===$?"bold":"normal","&:hover":{backgroundColor:"sales"===$?"#1565c0":"rgba(0, 0, 0, 0.04)"}},children:"Sale Order"}),(0,P.jsx)(v.A,{value:"delivery","aria-label":"delivery view",sx:{backgroundColor:"delivery"===$?"#9c27b0":"inherit",color:"delivery"===$?"white":"inherit",fontWeight:"delivery"===$?"bold":"normal","&:hover":{backgroundColor:"delivery"===$?"#7b1fa2":"rgba(0, 0, 0, 0.04)"}},children:"Invoice"})]}),"sales"===$&&(0,P.jsxs)(a.A,{sx:{display:"flex",gap:1,alignItems:"center"},children:[(0,P.jsxs)(x.A,{variant:"All"===re?"contained":"outlined",color:"primary",onClick:()=>oe("All"),sx:{px:3,py:1,fontWeight:"All"===re?"bold":"normal",m:.5},children:["Overall - ",ue.all]}),(0,P.jsxs)(x.A,{variant:"Converted"===re?"contained":"outlined",color:"success",onClick:()=>oe("Converted"),sx:{px:3,py:1,fontWeight:"Converted"===re?"bold":"normal",m:.5},children:["Converted - ",ue.converted]}),(0,P.jsxs)(x.A,{variant:"Non-Converted"===re?"contained":"outlined",color:"warning",onClick:()=>oe("Non-Converted"),sx:{px:3,py:1,fontWeight:"Non-Converted"===re?"bold":"normal",m:.5},children:["Non-Converted - ",ue.nonConvert]})]}),"delivery"===$&&(0,P.jsxs)(a.A,{sx:{display:"flex",gap:1,alignItems:"center"},children:[(0,P.jsxs)(x.A,{variant:"All"===le?"contained":"outlined",color:"primary",onClick:()=>te("All"),sx:{px:3,py:1,fontWeight:"All"===le?"bold":"normal",m:.5},children:["Overall - ",se.all]}),(0,P.jsxs)(x.A,{variant:"Delivered"===le?"contained":"outlined",color:"success",onClick:()=>te("Delivered"),sx:{px:3,py:1,fontWeight:"Delivered"===le?"bold":"normal",m:.5},children:["Delivered - ",se.delivered]}),(0,P.jsxs)(x.A,{variant:"Pending"===le?"contained":"outlined",color:"warning",onClick:()=>te("Pending"),sx:{px:3,py:1,fontWeight:"Pending"===le?"bold":"normal",m:.5},children:["Pending - ",se.pending]})]}),(0,P.jsx)(s.A,{title:"Filters",children:(0,P.jsx)(c.A,{size:"medium",onClick:()=>ge(e=>(0,r.A)((0,r.A)({},e),{},{filters:!0})),sx:{ml:1},children:(0,P.jsx)(f.A,{})})}),(0,P.jsx)(a.A,{sx:{bgcolor:"background.paper",px:2,py:1,borderRadius:1,ml:"auto"},children:(0,A.Ro)(pe)>0&&(0,P.jsxs)(d.A,{variant:"subtitle2",color:"text.secondary",children:["Total Amount: ",(0,A.jG)(pe)]})})]})}),isExpendable:!0,tableMaxHeight:550,expandableComp:e=>{let{row:l}=e;return(0,P.jsx)("table",{className:"table",children:(0,P.jsxs)("tbody",{children:[(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{className:"border p-2 bg-light",children:"Branch"}),(0,P.jsx)("td",{className:"border p-2",children:l.Branch_Name}),(0,P.jsx)("td",{className:"border p-2 bg-light",children:"sales"===$?"Sales Person":"Delivery Person"}),(0,P.jsx)("td",{className:"border p-2",children:"sales"===$?l.Sales_Person_Name:l.Delivery_Person_Name}),(0,P.jsx)("td",{className:"border p-2 bg-light",children:"Round off"}),(0,P.jsx)("td",{className:"border p-2",children:l.Round_off})]}),(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{className:"border p-2 bg-light",children:"Invoice Type"}),(0,P.jsxs)("td",{className:"border p-2",children:[(0,A.id)(l.GST_Inclusive,1)&&"Inclusive",(0,A.id)(l.GST_Inclusive,0)&&"Exclusive"]}),(0,P.jsx)("td",{className:"border p-2 bg-light",children:"Tax Type"}),(0,P.jsxs)("td",{className:"border p-2",children:[(0,A.id)(l.IS_IGST,1)&&"IGST",(0,A.id)(l.IS_IGST,0)&&"GST"]}),(0,P.jsx)("td",{className:"border p-2 bg-light",children:"Sales Person"}),(0,P.jsx)("td",{className:"border p-2",children:l.Sales_Person_Name})]}),(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{className:"border p-2 bg-light",children:"Narration"}),(0,P.jsx)("td",{className:"border p-2",colSpan:5,children:l.Narration})]})]})})}}),(0,P.jsxs)(h.A,{open:me.filters,onClose:ye,fullWidth:!0,maxWidth:"sm",children:[(0,P.jsx)(m.A,{children:"Filters"}),(0,P.jsx)(g.A,{children:(0,P.jsx)("div",{className:"table-responsive pb-4",children:(0,P.jsx)("table",{className:"table",children:(0,P.jsxs)("tbody",{children:[(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{style:{verticalAlign:"middle"},children:"From"}),(0,P.jsx)("td",{children:(0,P.jsx)("input",{type:"date",value:xe.Fromdate,onChange:e=>he(l=>(0,r.A)((0,r.A)({},l),{},{Fromdate:e.target.value})),className:"cus-inpt"})})]}),(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{style:{verticalAlign:"middle"},children:"To"}),(0,P.jsx)("td",{children:(0,P.jsx)("input",{type:"date",value:xe.Todate,onChange:e=>he(l=>(0,r.A)((0,r.A)({},l),{},{Todate:e.target.value})),className:"cus-inpt"})})]}),(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{style:{verticalAlign:"middle"},children:"Retailer"}),(0,P.jsx)("td",{children:(0,P.jsx)(p.Ay,{value:xe.Retailer,onChange:e=>he(l=>(0,r.A)((0,r.A)({},l),{},{Retailer:e})),options:[{value:"",label:"ALL"},...Q.map(e=>({value:null===e||void 0===e?void 0:e.Retailer_Id,label:"".concat(null===e||void 0===e?void 0:e.Retailer_Name," - \u20b9").concat((0,A.jG)((0,A.Ro)(null===e||void 0===e?void 0:e.TotalSales))," (").concat((0,A.Ro)(null===e||void 0===e?void 0:e.OrderCount),")")}))],isSearchable:!0,placeholder:"Retailer Name"})})]}),"delivery"===$&&(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{style:{verticalAlign:"middle"},children:"Delivery Person"}),(0,P.jsx)("td",{children:(0,P.jsx)(p.Ay,{value:xe.DeliveryPerson,onChange:e=>he(l=>(0,r.A)((0,r.A)({},l),{},{DeliveryPerson:e})),options:[{value:"",label:"ALL"},...q.map(e=>({value:null===e||void 0===e?void 0:e.Cost_Center_Id,label:null===e||void 0===e?void 0:e.Cost_Center_Name}))],isSearchable:!0,placeholder:"Delivery Person Name"})})]}),(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{style:{verticalAlign:"middle"},children:"Sales Person"}),(0,P.jsx)("td",{children:(0,P.jsx)(p.Ay,{value:xe.SalesPerson,onChange:e=>he(l=>(0,r.A)((0,r.A)({},l),{},{SalesPerson:e})),options:[{value:"",label:"ALL"},...G.map(e=>({value:null===e||void 0===e?void 0:e.UserId,label:null===e||void 0===e?void 0:e.Name}))],isSearchable:!0,placeholder:"Sales Person Name"})})]}),(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{style:{verticalAlign:"middle"},children:"Created By"}),(0,P.jsx)("td",{children:(0,P.jsx)(p.Ay,{value:xe.CreatedBy,onChange:e=>he(l=>(0,r.A)((0,r.A)({},l),{},{CreatedBy:e})),options:[{value:"",label:"ALL"},...H.map(e=>({value:null===e||void 0===e?void 0:e.UserId,label:null===e||void 0===e?void 0:e.Name}))],isSearchable:!0,placeholder:"Created By"})})]}),(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{style:{verticalAlign:"middle"},children:"Voucher"}),(0,P.jsx)("td",{children:(0,P.jsx)(p.Ay,{value:xe.VoucherType,onChange:e=>he(l=>(0,r.A)((0,r.A)({},l),{},{VoucherType:e})),options:[{value:"",label:"ALL"},...J.filter(e=>"SALES"===e.Type).map(e=>({value:null===e||void 0===e?void 0:e.Vocher_Type_Id,label:null===e||void 0===e?void 0:e.Voucher_Type}))],menuPortalTarget:document.body,isSearchable:!0,placeholder:"Voucher Name"})})]}),(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{style:{verticalAlign:"middle"},children:"Canceled Order"}),(0,P.jsx)("td",{children:(0,P.jsxs)("select",{value:xe.Cancel_status,onChange:e=>he(l=>(0,r.A)((0,r.A)({},l),{},{Cancel_status:Number(e.target.value)})),className:"cus-inpt",children:[(0,P.jsx)("option",{value:1,children:"Show"}),(0,P.jsx)("option",{value:0,children:"Hide"})]})})]})]})})})}),(0,P.jsxs)(y.A,{children:[(0,P.jsx)(x.A,{onClick:ye,children:"Close"}),(0,P.jsx)(x.A,{onClick:()=>{ye(),(0,A.Mb)({Fromdate:xe.Fromdate,Todate:xe.Todate,pageID:k,Retailer:xe.Retailer,CreatedBy:xe.CreatedBy,SalesPerson:xe.SalesPerson,DeliveryPerson:xe.DeliveryPerson,VoucherType:xe.VoucherType,Cancel_status:xe.Cancel_status})},startIcon:(0,P.jsx)(_.A,{}),variant:"outlined",children:"Search"})]})]})]})}},41649:(e,l,t)=>{t.d(l,{Uh:()=>y,bI:()=>v});var r=t(89379),o=t(22520),i=t(70579);const n=e=>Array.isArray(e),a={ITEMS:{dataTransformer:e=>d(e,"all"),columns:["OrderId","Party","Date","Item","Quantity","ArrivedQuantity","PendingQuantity","Rate","Amount","Actions"]},"ITEMS PENDING":{dataTransformer:e=>d(e,"pending"),columns:["OrderId","Party","Date","Item","Quantity","ArrivedQuantity","PendingQuantity","Rate","Amount","Actions"]},"ITEMS DELIVERED":{dataTransformer:e=>d(e,"arrived"),columns:["OrderId","Party","Date","Item","Quantity","ArrivedQuantity","PendingQuantity","Rate","Amount","Actions"]},ORDERS:{dataTransformer:e=>e,columns:["OrderId","Date","Party","InvoiceValue","DeliveryStatus","Status","Actions"]},"COMPLETED ORDERS":{dataTransformer:e=>s(e,"completed"),columns:["OrderId","Date","Party","InvoiceValue","DeliveryStatus","Status","Actions"]},"IN-COMPLETED ORDERS":{dataTransformer:e=>s(e,"incomplete"),columns:["OrderId","Date","Party","InvoiceValue","DeliveryStatus","Status","Actions"]},"ORDERS PENDING":{dataTransformer:e=>c(e,"noDelivery"),columns:["OrderId","Date","Party","InvoiceValue","Actions"]},"ORDERS ARRIVED":{dataTransformer:e=>c(e,"hasDelivery"),columns:["OrderId","Date","Party","InvoiceValue","DeliveryCount","Actions"]}},d=function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";return null===e||void 0===e?void 0:e.reduce((e,t)=>{if("pending"===l&&3===Number(null===t||void 0===t?void 0:t.Cancel_status))return e;if(!Array.isArray(null===t||void 0===t?void 0:t.OrderStockDetails))return e;let i=t.OrderStockDetails;var n;if("pending"===l)i=null===(n=t.OrderStockDetails)||void 0===n?void 0:n.filter(e=>{const l=((null===t||void 0===t?void 0:t.DeliveryDetails)||[]).filter(l=>{var t;return null===(t=l.StockDetails)||void 0===t?void 0:t.some(l=>(0,o.id)(l.Item_Id,null===e||void 0===e?void 0:e.Item_Id))}).reduce((l,t)=>{var r;const i=null===(r=t.StockDetails)||void 0===r?void 0:r.find(l=>(0,o.id)(l.Item_Id,null===e||void 0===e?void 0:e.Item_Id));return(0,o.Lr)(l,(null===i||void 0===i?void 0:i.Bill_Qty)||0)},0);return Number(l)<Number(null===e||void 0===e?void 0:e.Bill_Qty)});else if("arrived"===l){var a;i=null===(a=t.OrderStockDetails)||void 0===a?void 0:a.filter(e=>{const l=((null===t||void 0===t?void 0:t.DeliveryDetails)||[]).filter(l=>{var t;return null===(t=l.StockDetails)||void 0===t?void 0:t.some(l=>(0,o.id)(l.Item_Id,null===e||void 0===e?void 0:e.Item_Id))}).reduce((l,t)=>{var r;const i=null===(r=t.StockDetails)||void 0===r?void 0:r.find(l=>(0,o.id)(l.Item_Id,null===e||void 0===e?void 0:e.Item_Id));return(0,o.Lr)(l,(null===i||void 0===i?void 0:i.Bill_Qty)||0)},0);return Number(l)>=Number(null===e||void 0===e?void 0:e.Bill_Qty)})}const d=i.map(e=>(0,r.A)((0,r.A)({},e),{},{OrderDetails:u(t)}));return e.concat(d)},[])},s=(e,l)=>e.reduce((e,t)=>{if("0"!==(null===t||void 0===t?void 0:t.Cancel_status))return e;const r=(null===t||void 0===t?void 0:t.OrderStockDetails)||[],i=(null===t||void 0===t?void 0:t.DeliveryDetails)||[];if(!r.length)return e;const n=r.every(e=>{const l=i.reduce((l,t)=>{var r;const i=null===(r=t.StockDetails)||void 0===r?void 0:r.find(l=>(0,o.id)(l.Item_Id,e.Item_Id));return(0,o.Lr)(l,(null===i||void 0===i?void 0:i.Bill_Qty)||0)},0);return Number(l)>=Number(e.Bill_Qty)});return"completed"===l&&n&&e.push(t),"incomplete"!==l||n||e.push(t),e},[]),c=(e,l)=>e.reduce((e,t)=>{const r=Array.isArray(null===t||void 0===t?void 0:t.DeliveryDetails)&&t.DeliveryDetails.length>0;return"noDelivery"===l&&r?e:"hasDelivery"!==l||r?e.concat(t):e},[]),u=e=>{var l,t,r,i,a,d,s,c;return{S_Id:null===e||void 0===e?void 0:e.S_Id,So_Id:null===e||void 0===e?void 0:e.So_Id,So_Inv_No:null===e||void 0===e?void 0:e.So_Inv_No,So_Date:null===e||void 0===e?void 0:e.So_Date,Retailer_Id:null===e||void 0===e?void 0:e.Retailer_Id,Sales_Person_Id:null===e||void 0===e?void 0:e.Sales_Person_Id,Branch_Id:null===e||void 0===e?void 0:e.Branch_Id,Ledger_Name:(null===e||void 0===e?void 0:e.Ledger_Name)||(null===e||void 0===e||null===(l=e.DeliveryDetails)||void 0===l||null===(t=l[0])||void 0===t?void 0:t.Ledger_Name)||(null===e||void 0===e||null===(r=e.OrderStockDetails)||void 0===r||null===(i=r[0])||void 0===i?void 0:i.Ledger_Name),Party_District:(null===e||void 0===e?void 0:e.Party_District)||(null===e||void 0===e||null===(a=e.DeliveryDetails)||void 0===a||null===(d=a[0])||void 0===d?void 0:d.Party_District)||(null===e||void 0===e||null===(s=e.OrderStockDetails)||void 0===s||null===(c=s[0])||void 0===c?void 0:c.Party_District),Total_Invoice_value:null===e||void 0===e?void 0:e.Total_Invoice_value,Total_Before_Tax:null===e||void 0===e?void 0:e.Total_Before_Tax,Round_off:null===e||void 0===e?void 0:e.Round_off,Cancel_status:null===e||void 0===e?void 0:e.Cancel_status,isConverted:null===e||void 0===e?void 0:e.isConverted,IsConvertedAsInvoice:(0,o.Ro)(null===e||void 0===e?void 0:e.IsConvertedAsInvoice),isConvertableArrivalExist:(0,o.Ro)(null===e||void 0===e?void 0:e.isConvertableArrivalExist),OrderStockDetails:n(e.OrderStockDetails)?e.OrderStockDetails:[],DeliveryDetails:n(e.DeliveryDetails)?e.DeliveryDetails:[],StaffDetails:n(e.StaffDetails)?e.StaffDetails:[],Created_on:null===e||void 0===e?void 0:e.Created_on,Alterd_on:null===e||void 0===e?void 0:e.Alterd_on,Narration:null===e||void 0===e?void 0:e.Narration,VoucherType:null===e||void 0===e?void 0:e.VoucherType,GST_Inclusive:null===e||void 0===e?void 0:e.GST_Inclusive}},v=e=>{let{data:l=[],status:t="ITEMS"}=e;const r=a[t];return r?r.dataTransformer(l):[]},x="bg-success text-light fa-11 px-2 py-1 rounded-3",h="bg-danger text-light fw-bold fa-11 px-2 py-1 rounded-3",m="bg-warning fw-bold fa-11 px-2 py-1 rounded-3",g={OrderId:{type:"string",header:"Order ID",getValue:e=>{var l;return(null===e||void 0===e?void 0:e.So_Inv_No)||(null===e||void 0===e||null===(l=e.OrderDetails)||void 0===l?void 0:l.So_Inv_No)||""}},Date:{type:"custom",header:"Order Date",getValue:e=>{var l;return(0,o.yc)((null===e||void 0===e?void 0:e.So_Date)||(null===e||void 0===e||null===(l=e.OrderDetails)||void 0===l?void 0:l.So_Date))}},Party:{type:"custom",header:"Party",getValue:e=>{const l=(null===e||void 0===e?void 0:e.OrderDetails)||e;return(null===l||void 0===l?void 0:l.Ledger_Name)||"N/A"}},InvoiceValue:{type:"custom",header:"Invoice Value",getValue:e=>{var l;const t=(null===e||void 0===e?void 0:e.Total_Invoice_value)||(null===e||void 0===e||null===(l=e.OrderDetails)||void 0===l?void 0:l.Total_Invoice_value);return(0,o.IQ)(t)?(0,o.jG)(t):"0"}},Status:{type:"custom",header:"Status",getValue:e=>{const l=(null===e||void 0===e?void 0:e.OrderDetails)||e,t=(e=>{const l="0"==(null===e||void 0===e?void 0:e.Cancel_status),t=Array.isArray(null===e||void 0===e?void 0:e.DeliveryDetails)&&e.DeliveryDetails.length>0;return l?"Canceled":t?"Delivered":"Pending"})(l),r=(e=>{const l="0"==(null===e||void 0===e?void 0:e.Cancel_status),t=Array.isArray(null===e||void 0===e?void 0:e.DeliveryDetails)&&e.DeliveryDetails.length>0;return l?h:t?x:m})(l);return(0,i.jsx)("span",{className:r,children:t})}},Item:{type:"string",header:"Item",getValue:e=>(null===e||void 0===e?void 0:e.Stock_Item)||"N/A"},Quantity:{type:"custom",header:"Quantity",getValue:e=>{const l=(null===e||void 0===e?void 0:e.Bill_Qty)||(null===e||void 0===e?void 0:e.Total_Qty);return(0,o.IQ)(l)?(0,o.jG)(l):"0"}},ArrivedQuantity:{type:"custom",header:"Delivered Qty",getValue:e=>{const l=null===e||void 0===e?void 0:e.OrderDetails,t=null===e||void 0===e?void 0:e.Item_Id;return((null===l||void 0===l?void 0:l.DeliveryDetails)||[]).reduce((e,l)=>{var r;const i=null===(r=l.StockDetails)||void 0===r?void 0:r.find(e=>(0,o.id)(e.Item_Id,t));return(0,o.Lr)(e,(null===i||void 0===i?void 0:i.Bill_Qty)||0)},0)}},PendingQuantity:{type:"custom",header:"Pending Qty",getValue:e=>{const l=null===e||void 0===e?void 0:e.OrderDetails,t=null===e||void 0===e?void 0:e.Item_Id,r=Number((null===e||void 0===e?void 0:e.Bill_Qty)||0),i=((null===l||void 0===l?void 0:l.DeliveryDetails)||[]).reduce((e,l)=>{var r;const i=null===(r=l.StockDetails)||void 0===r?void 0:r.find(e=>(0,o.id)(e.Item_Id,t));return(0,o.Lr)(e,(null===i||void 0===i?void 0:i.Bill_Qty)||0)},0);return(0,o.DG)(r,i)}},Rate:{type:"custom",header:"Rate",getValue:e=>{const l=(null===e||void 0===e?void 0:e.Item_Rate)||(null===e||void 0===e?void 0:e.Taxable_Rate);return(0,o.IQ)(l)?(0,o.jG)(l):"0"}},Amount:{type:"custom",header:"Amount",getValue:e=>{const l=(null===e||void 0===e?void 0:e.Amount)||(null===e||void 0===e?void 0:e.Final_Amo);return(0,o.IQ)(l)?(0,o.jG)(l):"0"}},DeliveryCount:{type:"custom",header:"Deliveries",getValue:e=>{var l;return((null===e||void 0===e?void 0:e.DeliveryDetails)||(null===e||void 0===e||null===(l=e.OrderDetails)||void 0===l?void 0:l.DeliveryDetails)||[]).length}},Stock_Item:{type:"string",header:"Stock Item",getValue:e=>null===e||void 0===e?void 0:e.Stock_Item},Stock_Group:{type:"string",header:"Stock Group",getValue:e=>null===e||void 0===e?void 0:e.Stock_Group}},y=e=>{let{OrderStatus:l="ITEMS",dialogs:t,setOrderPreview:o,navigation:i,EditRights:n,DeleteRights:d,AddRights:s}=e;const c=a[l];return c?c.columns.map(e=>{const l=g[e];if(!l)return console.warn("Sales column definition not found for key: ".concat(e)),null;const a={isVisible:1,ColumnHeader:l.header,isCustomCell:"custom"===l.type};return"custom"===l.type?(0,r.A)((0,r.A)({},a),{},{Cell:e=>{let{row:r}=e;return l.getValue(r,{setOrderPreview:o,navigation:i,EditRights:n,DeleteRights:d,AddRights:s,dialogs:t})}}):(0,r.A)((0,r.A)({},a),{},{Field_Name:e,Fied_Data:l.type},l.getValue&&{isCustomCell:!0,Cell:e=>{let{row:t}=e;return l.getValue(t)}})}).filter(Boolean):[]}},48471:(e,l,t)=>{t.d(l,{Ay:()=>V,JT:()=>R,Lj:()=>F,wF:()=>L});var r=t(89379),o=t(65043),i=t(77739),n=t(17392),a=t(41020),d=t(30922),s=t(32143),c=t(2050),u=t(48734),v=t(28076),x=t(39652),h=t(12110),m=t(63336),g=t(79650),y=t(71806),p=t(84882),A=t(58093),b=t(73460),f=t(31159),j=t(22520),_=t(47968),D=t(692),C=t(8737),S=t(58558),I=t(30599),N=t(433),P=t(37762),O=(t(20557),t(11238)),T=t(70579);const k=(e,l)=>e.map(e=>{const t={};return l.forEach((l,r)=>{if(l.isVisible||l.Defult_Display)if(l.isCustomCell&&l.Cell){const o=l.Cell({row:e}),i=l.ColumnHeader?String(l.ColumnHeader).replace(/\s+/g,"_").toLowerCase():"field_".concat(r+1);"string"!==typeof o&&"number"!==typeof o&&"bigint"!==typeof o||(t[i]=o)}else{let r=l.Field_Name;t[r]=e[r]||""}}),t}),F=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"string",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"left",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"center",n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return(0,r.A)({isVisible:n,Field_Name:e,Fied_Data:l,align:o,verticalAlign:i},t&&{ColumnHeader:t})},L=e=>{let{buttonsData:l=[],ToolTipText:t="Options"}=e;const[r,v]=(0,o.useState)(null),x=Boolean(r);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(i.A,{title:t,children:(0,T.jsx)(n.A,{"aria-describedby":x,onClick:e=>{v(e.currentTarget)},className:"ms-2",size:"small",children:(0,T.jsx)(S.A,{})})}),(0,T.jsx)(a.Ay,{open:x,anchorEl:r,onClose:()=>{v(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:(0,T.jsx)(d.A,{children:l.map((e,l)=>(0,T.jsxs)(s.A,{onClick:()=>(null===e||void 0===e?void 0:e.onclick)&&(null===e||void 0===e?void 0:e.onclick()),disabled:null===e||void 0===e?void 0:e.disabled,children:[(0,T.jsx)(c.A,{children:null===e||void 0===e?void 0:e.icon}),(0,T.jsx)(u.A,{children:null===e||void 0===e?void 0:e.name})]},l))})})]})},R=(e,l)=>{switch(l){case"number":return e?(0,j.jG)(e):e;case"date":return e?(0,j.yc)(e):e;case"time":return e?(0,j.JG)(e):e;case"string":return e;default:return""}},w=e=>{let{dataArray:l=[],columns:t=[],onClickFun:i=null,isExpendable:a=!1,expandableComp:d=null,tableMaxHeight:s=550,initialPageCount:c=20,EnableSerialNumber:u=!1,CellSize:S="small",disablePagination:F=!1,title:w="",PDFPrintOption:V=!1,ExcelPrintOption:E=!1,maxHeightOption:B=!1,ButtonArea:z=null,MenuButtons:Q=[],bodyFontSizePx:W=13,headerFontSizePx:G=13}=e;const[M,H]=(0,o.useState)(0),[U,J]=(0,o.useState)(c),[Z,q]=(0,o.useState)([]),[K,X]=(0,o.useState)(!0),Y=K&&B?" max-content ":s,$=[{type:"left",class:"text-start"},{type:"right",class:"text-end"},{type:"center",class:"text-center"}],ee=[{type:"top",class:" vtop "},{type:"bottom",class:" vbottom "},{type:"center",class:" vctr "}],le=(e=>{if(!Z.length)return e;return[...e].sort((e,l)=>{for(const t of Z){const{columnId:r,direction:o}=t,i=e[r],n=l[r];if(i!==n)return"asc"===o?i>n?1:-1:i<n?1:-1}return 0})})(l),te=M*U,re=te+U,oe=le.slice(te,re),ie=e=>{let{row:l,index:r}=e;const[s,c]=(0,o.useState)(!1),h="20px";return(0,T.jsxs)(o.Fragment,{children:[(0,T.jsxs)(v.A,{children:[!0===a&&d&&(0,T.jsx)(x.A,{className:"border-end text-center vtop",sx:{fontSize:"".concat(W,"px")},children:(0,T.jsx)(n.A,{size:"small",onClick:()=>c(e=>!e),children:s?(0,T.jsx)(C.A,{sx:{fontSize:h}}):(0,T.jsx)(D.A,{sx:{fontSize:h}})})}),!0===u&&(0,T.jsx)(x.A,{className:"border-end text-center vtop",sx:{fontSize:"".concat(W,"px")},children:U*M+r+1}),null===t||void 0===t?void 0:t.map((e,t)=>{var o,n;const a=(0,j.id)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,j.id)(null===e||void 0===e?void 0:e.isVisible,1),d=Boolean(null===e||void 0===e?void 0:e.isCustomCell)&&e.Cell,s=!d,c=(l,t,r)=>null!==e&&void 0!==e&&e.tdClass?" ".concat(null===e||void 0===e?void 0:e.tdClass({row:l,Field_Name:t,index:r})," "):"",u=e.align?null===(o=$.find(l=>l.type===String(e.align).toLowerCase()))||void 0===o?void 0:o.class:"",v=e.verticalAlign?null===(n=ee.find(l=>l.type===String(e.verticalAlign).toLowerCase()))||void 0===n?void 0:n.class:" vctr ";if(a&&s){const o=Object.entries(l).find(l=>{let[t]=l;return t===e.Field_Name});return(0,T.jsx)(x.A,{className:"border-end ".concat(u," ").concat(v," ").concat(c(l,e.Field_Name,r)),sx:{fontSize:"".concat(W,"px")},onClick:()=>i?i(l):console.log("Function not supplied"),children:o?R(o[1],null===e||void 0===e?void 0:e.Fied_Data):"-"},t)}return a&&d?(0,T.jsx)(x.A,{className:"border-end ".concat(u," ").concat(v," ").concat(c(l,e.Field_Name,r)),sx:{fontSize:"".concat(W,"px")},children:e.Cell({row:l,Field_Name:e.Field_Name,index:r})},t):(0,T.jsx)(x.A,{sx:{fontSize:"".concat(W,"px")},className:"border-end ".concat(u," ").concat(v),children:"-"},t)})]}),!0===a&&d&&s&&(0,T.jsx)(v.A,{children:(0,T.jsx)(x.A,{colSpan:Number(null===t||void 0===t?void 0:t.length)+(!0===u?2:1),children:d({row:l,index:r})})})]})};return(0,T.jsxs)(h.A,{className:"rounded-3 bg-white overflow-hidden",component:m.A,children:[(0,T.jsxs)("div",{className:"d-flex align-items-center flex-wrap px-3 py-2 flex-row-reverse ",children:[(V||E||Q.length>0||B)&&(0,T.jsx)(L,{ToolTipText:"Table Options",buttonsData:[...B?[{name:"Max Height",icon:K?(0,T.jsx)(N.A,{fontSize:"small",color:"primary"}):(0,T.jsx)(I.A,{fontSize:"small"}),onclick:()=>X(e=>!e),disabled:(0,j.id)(null===l||void 0===l?void 0:l.length,0)}]:[],...V?[{name:"PDF Print",icon:(0,T.jsx)(_.A,{fontSize:"small",color:"primary"}),onclick:()=>((e,l)=>{try{const t=new P.default,o=k(e,l),i=l.filter(e=>e.isVisible||e.Defult_Display).map(e=>e.Field_Name||String(e.ColumnHeader).replace(/\s+/g,"_").toLowerCase()),n=o.map(e=>i.map(l=>e[l])).map((e,l)=>(0,r.A)((0,r.A)({},e),{},{Sno:l+1}));t.autoTable({head:[i],body:n}),t.save("table.pdf")}catch(t){console.error(t)}})(l,t),disabled:(0,j.id)(null===l||void 0===l?void 0:l.length,0)}]:[],...E?[{name:"Excel Print",icon:(0,T.jsx)(_.A,{fontSize:"small",color:"primary"}),onclick:()=>((e,l)=>{try{const t=k(e,l),r=O.Wp.json_to_sheet(t),o=O.Wp.book_new();O.Wp.book_append_sheet(o,r,"Data"),O._h(o,"table.xlsx")}catch(t){console.error(t)}})(l,t),disabled:(0,j.id)(null===l||void 0===l?void 0:l.length,0)}]:[],...Q]}),z&&z,w&&(0,T.jsx)("h6",{className:"fw-bold text-muted flex-grow-1 m-0",children:w})]}),(0,T.jsx)(g.A,{sx:{maxHeight:Y},children:(0,T.jsxs)(y.A,{stickyHeader:!0,size:S,children:[(0,T.jsx)(p.A,{children:(0,T.jsxs)(v.A,{children:[a&&d&&(0,T.jsx)(x.A,{className:"fw-bold border-end border-top text-center",sx:{fontSize:"".concat(G,"px"),backgroundColor:"#EDF0F7"},children:"#"}),u&&(0,T.jsx)(x.A,{className:"fw-bold border-end border-top text-center",sx:{fontSize:"".concat(G,"px"),backgroundColor:"#EDF0F7"},children:"SNo"}),t.map((e,l)=>{const t=(0,j.id)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,j.id)(null===e||void 0===e?void 0:e.isVisible,1),o=!1===Boolean(null===e||void 0===e?void 0:e.isCustomCell)||!e.Cell,i=Z.find(l=>l.columnId===e.Field_Name),n=i?i.direction:"asc";var a,d,s,c;return t?o?(0,T.jsx)(x.A,{className:"fw-bold border-end border-top "+(e.align?null===(a=$.find(l=>l.type===String(e.align).toLowerCase()))||void 0===a?void 0:a.class:""),sx:{fontSize:"".concat(G,"px"),backgroundColor:"#EDF0F7"},sortDirection:!!i&&n,children:(0,T.jsx)(A.A,{active:!!i,direction:n,onClick:()=>(e=>{const l=Z.find(l=>l.columnId===e);if(l){const t="asc"===l.direction;q(Z.map(l=>l.columnId===e?(0,r.A)((0,r.A)({},l),{},{direction:t?"desc":"asc"}):l))}else q([...Z,{columnId:e,direction:"asc"}])})(e.Field_Name),children:e.ColumnHeader||(null===e||void 0===e||null===(d=e.Field_Name)||void 0===d?void 0:d.replace(/_/g," "))})},l):(0,T.jsx)(x.A,{className:"".concat(e.ColumnHeader||null!==e&&void 0!==e&&e.Field_Name?" fw-bold border-end border-top p-2 appFont ":" p-0 "," ")+(e.align?null===(s=$.find(l=>l.type===String(e.align).toLowerCase()))||void 0===s?void 0:s.class:""),sx:{fontSize:"".concat(G,"px"),backgroundColor:"#EDF0F7"},children:e.ColumnHeader||(null===e||void 0===e||null===(c=e.Field_Name)||void 0===c?void 0:c.replace(/_/g," "))},l):null})]})}),(0,T.jsxs)(b.A,{children:[(F?le:oe).map((e,l)=>(0,T.jsx)(ie,{row:e,index:l},l)),0===l.length&&(0,T.jsx)(v.A,{children:(0,T.jsx)(x.A,{colSpan:t.length+(!0===a&&d?1:0)+(!0===u?1:0),sx:{textAlign:"center"},children:"No Data"})})]})]})}),!F&&0!==oe.length&&(0,T.jsx)("div",{className:"p-2 pb-0",children:(0,T.jsx)(f.A,{component:"div",count:l.length,page:M,onPageChange:(e,l)=>{H(l)},rowsPerPage:U,onRowsPerPageChange:e=>{J(parseInt(e.target.value,10)),H(0)},rowsPerPageOptions:Array.from(new Set([c,5,20,50,100,200,500,1e3,2e3])).sort((e,l)=>e-l),labelRowsPerPage:"Rows per page",showFirstButton:!0,showLastButton:!0})})]})};w.defaultProps={dataArray:[],columns:[],onClickFun:null,isExpendable:!1,expandableComp:null,tableMaxHeight:550,initialPageCount:20,EnableSerialNumber:!1,CellSize:"small",disablePagination:!1,title:void 0,PDFPrintOption:!1,ExcelPrintOption:!1,maxHeightOption:!1,ButtonArea:null,MenuButtons:[],headerFontSizePx:13,bodyFontSizePx:13};const V=w}}]);
//# sourceMappingURL=8800.9bd9cf12.chunk.js.map