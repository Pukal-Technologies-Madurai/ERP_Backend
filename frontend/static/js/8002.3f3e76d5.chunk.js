"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[8002],{1989:(e,l,t)=>{t.d(l,{A:()=>h});var a=t(89379),n=t(45424),r=t(17392),s=t(32143),o=t(98082),i=t(65043),d=t(34535),c=t(90310),u=t(70579);const m=(0,d.Ay)(e=>(0,u.jsx)(n.A,(0,a.A)({elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},e)))(e=>{let{theme:l}=e;return{"& .MuiPaper-root":(0,a.A)({borderRadius:6,marginTop:l.spacing(1),minWidth:180,color:"rgb(55, 65, 81)",boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":(0,a.A)({fontSize:18,color:l.palette.text.secondary,marginRight:l.spacing(1.5)},l.applyStyles("dark",{color:"inherit"})),"&:active":{backgroundColor:(0,c.X4)(l.palette.primary.main,l.palette.action.selectedOpacity)}}},l.applyStyles("dark",{color:l.palette.grey[300]}))}}),h=e=>{let{options:l}=e;const[t,a]=(0,i.useState)(null);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(r.A,{onClick:e=>a(e.currentTarget),children:(0,u.jsx)(o.A,{})}),(0,u.jsx)(m,{id:"demo-customized-menu",slotProps:{list:{"aria-labelledby":"demo-customized-button"}},open:!!t,anchorEl:t,onClose:()=>a(null),children:l.map((e,l)=>(0,u.jsxs)(s.A,{disabled:e.disabled,onClick:()=>{e.onClick(),a(null)},children:[(null===e||void 0===e?void 0:e.icon)&&e.icon,e.label]},l))})]})}},3632:(e,l,t)=>{t.d(l,{A:()=>r});var a=t(59662),n=t(70579);const r=(0,a.A)((0,n.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")},8002:(e,l,t)=>{t.d(l,{A:()=>ne});var a=t(89379),n=t(65043),r=t(28076),s=t(39652),o=t(17392),i=t(31159),d=t(12110),c=t(67784),u=t(51787),m=t(53193),h=t(79190),p=t(72221),g=t(32143),x=t(79650),A=t(71806),v=t(84882),f=t(73460),j=t(207),C=t(8737),b=t(692),y=t(79484),N=t(433),S=t(30599),F=t(59383),_=t(3632),w=t(59662),z=t(70579);const V=(0,w.A)((0,z.jsx)("path",{d:"M22 18v-2H8V4h2L7 1 4 4h2v2H2v2h4v8c0 1.1.9 2 2 2h8v2h-2l3 3 3-3h-2v-2zM10 8h6v6h2V8c0-1.1-.9-2-2-2h-6z"}),"Transform");var k=t(37141),D=t(38504);const H=(0,w.A)((0,z.jsx)("path",{d:"M4 18h2.5v-2.5H4zm0-4.75h2.5v-2.5H4zM4 8.5h2.5V6H4zM17.5 6v2.5H20V6zM13 8.5h2.5V6H13zm4.5 9.5H20v-2.5h-2.5zm0-4.75H20v-2.5h-2.5zM8.5 18H11v-2.5H8.5zm4.5 0h2.5v-2.5H13zM8.5 8.5H11V6H8.5zm4.5 4.75h2.5v-2.5H13zm-4.5 0H11v-2.5H8.5z"}),"ViewCompact"),O=(0,w.A)((0,z.jsx)("path",{d:"M9 17H7v-7h2zm4 0h-2V7h2zm4 0h-2v-4h2zm2.5 2.1h-15V5h15zm0-16.1h-15c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"InsertChartOutlined");var M=t(22520);const P=(e,l,t)=>{const[r,s]=(0,n.useState)({}),[o,i]=(0,n.useState)(e);(0,n.useEffect)(()=>{i(((e,l,t,a)=>{let n=[...e];return l.forEach(e=>{const l=t[e.Field_Name];l&&("range"===l.type&&(n=n.filter(t=>{const a=t[e.Field_Name];return(void 0===l.min||a>=l.min)&&(void 0===l.max||a<=l.max)})),"date"===l.type&&(n=n.filter(t=>{var a,n;const r=new Date(t[e.Field_Name]);return(!(null!==(a=l.value)&&void 0!==a&&a.start)||r>=new Date(l.value.start))&&(!(null!==(n=l.value)&&void 0!==n&&n.end)||r<=new Date(l.value.end))})),Array.isArray(l)&&(n=l.length?n.filter(t=>{const a=t[e.Field_Name];return l.some(e=>(0,M.GI)({label:String(a)},String(e)))}):n))}),a&&(n=n.filter(e=>l.some(l=>{const t=e[l.Field_Name];return t&&(0,M.GI)({label:String(t)},a)}))),n})(e,l,r,t))},[r,e,l,t]);return{filters:r,filteredData:o,updateFilter:(e,l)=>{s(t=>(0,a.A)((0,a.A)({},t),{},{[e]:l}))},setFilters:s}};var E=t(65074);const G={count:e=>e.length,sum:e=>e.reduce((e,l)=>e+(+l||0),0),min:e=>Math.min(...e),max:e=>Math.max(...e),mean:e=>e.reduce((e,l)=>e+(+l||0),0)/e.length,median:e=>{const l=[...e].sort((e,l)=>e-l),t=Math.floor(l.length/2);return l.length%2?l[t]:(l[t-1]+l[t])/2}},B=(e,l,t)=>{if(!t.length)return e;const a=(e,n)=>{const r=t[n];if(!r)return e;const s={};return e.forEach(e=>{var l;const t=null!==(l=e[r])&&void 0!==l?l:"N/A";s[t]=s[t]||[],s[t].push(e)}),Object.entries(s).map(e=>{let[s,o]=e;const i=((e,l,t)=>{const a={};return l.forEach(l=>{const n=l.Field_Name;if(t.includes(n))return;const r=e.map(e=>e[n]).filter(e=>void 0!==e&&null!==e);if(r.length)if(l.Aggregation&&G[l.Aggregation])a[n]=G[l.Aggregation](r);else switch(l.Fied_Data){case"number":a[n]=G.sum(r);break;case"date":case"time":a[n]=r.reduce((e,l)=>new Date(e)>new Date(l)?e:l);break;default:a[n]=G.count(r)}}),a})(o,l,t);return{__isGroup:!0,__level:n,__groupField:r,__groupValue:s,__aggregates:i,__rows:a(o,n+1)}})};return a(e,0)};var W=t(64912),I=t(10489);const R=e=>{let{open:l,onClose:t,columns:a,grouping:n,onChange:r,onApply:s}=e;return(0,z.jsx)(I.A,{open:l,onClose:t,title:"Group By Columns",onSubmit:s,submitText:"Apply",maxWidth:"sm",children:(0,z.jsx)(W.A,{spacing:2,children:[0,1,2].map(e=>{const l=1===e&&!n[0]||2===e&&!n[1];return(0,z.jsxs)(p.A,{size:"small",displayEmpty:!0,disabled:l,value:n[e]||"",onChange:l=>{const t=l.target.value||"";let a=[...n];if(a[e]=t,!t)for(let n=e+1;n<3;n++)a[n]="";r(void 0,void 0,a)},children:[(0,z.jsxs)(g.A,{value:"",children:["No Grouping (Level ",e+1,")"]}),a.filter(e=>!e.isCustomCell&&1==e.isVisible).map(e=>(0,z.jsx)(g.A,{value:e.Field_Name,children:e.ColumnHeader||e.Field_Name},(0,M.RZ)()))]},(0,M.RZ)())})})})};var T=t(1989),U=t(9715),L=t(83462),Z=t(26600),$=t(35316),q=t(29347),J=t(11906);const X=[{value:"",label:"Default"},{value:"sum",label:"Sum"},{value:"mean",label:"Average"},{value:"median",label:"Median"},{value:"min",label:"Min"},{value:"max",label:"Max"},{value:"count",label:"Count"}],Y=e=>{let{open:l,onClose:t,columns:a,onUpdateAggregation:n}=e;const o=e=>{switch(e){case"number":return"Sum";case"date":case"time":return"Max";default:return"Count"}};return(0,z.jsxs)(L.A,{open:l,onClose:t,maxWidth:"md",fullWidth:!0,children:[(0,z.jsx)(Z.A,{children:"Column Aggregations"}),(0,z.jsx)($.A,{dividers:!0,children:(0,z.jsxs)(A.A,{size:"small",children:[(0,z.jsx)(v.A,{children:(0,z.jsxs)(r.A,{children:[(0,z.jsx)(s.A,{children:"Column"}),(0,z.jsx)(s.A,{children:"Data Type"}),(0,z.jsx)(s.A,{children:"Default Aggregation"}),(0,z.jsx)(s.A,{children:"Custom Aggregation"})]})}),(0,z.jsx)(f.A,{children:a.filter(e=>!e.isCustomCell&&1==e.isVisible).map(e=>(0,z.jsxs)(r.A,{children:[(0,z.jsx)(s.A,{children:e.ColumnHeader||e.Field_Name}),(0,z.jsx)(s.A,{children:e.Fied_Data||"string"}),(0,z.jsx)(s.A,{className:"text-muted",children:o(e.Fied_Data)}),(0,z.jsx)(s.A,{children:(0,z.jsx)(m.A,{size:"small",fullWidth:!0,children:(0,z.jsx)(p.A,{value:e.Aggregation||"",onChange:l=>n(e.Field_Name,l.target.value),displayEmpty:!0,children:X.map(e=>(0,z.jsx)(g.A,{value:e.value,children:e.label},e.value))})})})]},(0,M.RZ)()))})]})}),(0,z.jsx)(q.A,{children:(0,z.jsx)(J.A,{onClick:t,variant:"contained",color:"primary",children:"Done"})})]})};var K=t(75936),Q=t(67854);const ee=e=>{let{open:l,onClose:t,columns:a,showData:n,filters:r,onChange:s,onClear:o}=e;return(0,z.jsxs)(L.A,{open:l,onClose:t,maxWidth:"md",fullWidth:!0,children:[(0,z.jsx)(Z.A,{children:(0,z.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,z.jsx)("span",{children:"Filters"}),(0,z.jsx)(J.A,{onClick:o,size:"small",color:"error",children:"Clear All"})]})}),(0,z.jsx)($.A,{dividers:!0,children:(0,z.jsx)("div",{className:"row",children:a.filter(e=>1===e.isVisible&&!e.isCustomCell).map((e,l)=>(0,z.jsx)("div",{className:"col-md-6 p-2",children:(0,z.jsxs)(d.A,{variant:"outlined",className:"p-3",children:[(0,z.jsx)("h6",{className:"mb-2 fw-bold text-secondary",style:{fontSize:"0.9rem"},children:e.ColumnHeader||e.Field_Name}),(0,z.jsx)(Q.A,{column:e,showData:n,filters:r,onChange:s})]})},(0,M.RZ)()))})}),(0,z.jsx)(q.A,{children:(0,z.jsx)(J.A,{onClick:t,variant:"contained",children:"Close"})})]})};var le=t(37762),te=(t(20557),t(11238));const ae=(e,l)=>e.map(e=>{const t={};return l.forEach((l,a)=>{if(l.isVisible||l.Defult_Display)if(l.isCustomCell&&l.Cell){const n=l.Cell({row:e}),r=l.ColumnHeader?String(l.ColumnHeader).replace(/\s+/g,"_").toLowerCase():"field_".concat(a+1);"string"!==typeof n&&"number"!==typeof n&&"bigint"!==typeof n||(t[r]=n)}else{let a=l.Field_Name;t[a]=e[a]||""}}),t}),ne=e=>{let{dataArray:l=[],columns:t=[],title:w="",stateName:W,stateUrl:I,stateGroup:L,PDFPrintOption:Z,ExcelPrintOption:$,MenuButtons:q=[],onClickFun:J,onFilteredDataChange:X,isExpendable:Q=!1,expandableComp:ne,tableMaxHeight:re=550,initialPageCount:se=20,EnableSerialNumber:oe=!1,CellSize:ie="small",disablePagination:de=!1,maxHeightOption:ce=!1,ButtonArea:ue,bodyFontSizePx:me=12,headerFontSizePx:he=12,enableGlobalSearch:pe=!1,enableColumnFooterRow:ge=!0,loadingOn:xe,loadingOff:Ae}=e;const[ve,fe]=(0,n.useState)(!1),[je,Ce]=(0,n.useState)(!1),[be,ye]=(0,n.useState)(!1),[Ne,Se]=(0,n.useState)(!1),[Fe,_e]=(0,n.useState)(!1),[we,ze]=(0,n.useState)([]),[Ve,ke]=(0,n.useState)({}),[De,He]=(0,n.useState)(0),[Oe,Me]=(0,n.useState)({}),[Pe,Ee]=(0,n.useState)(se),[Ge,Be]=(0,n.useState)(!1),[We,Ie]=(0,n.useState)(""),Re=(0,n.useDeferredValue)(We),Te=e=>{Ee(parseInt(e.target.value,10)),He(0),Me({})},Ue=(e,l)=>{switch(l){case"number":return e?(0,M.jG)(e):e;case"date":return e?(0,M.yc)(e):e;case"time":return e?(0,M.JG)(e):e;default:return e}},{dispColumns:Le,setDispColumns:Ze,toggleVisibility:$e,updateOrder:qe,updateAggregation:Je}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const[l,t]=(0,n.useState)(e);return{dispColumns:(0,n.useMemo)(()=>[...l].sort((e,l)=>{var t,a;return(null!==(t=e.OrderBy)&&void 0!==t?t:999)-(null!==(a=l.OrderBy)&&void 0!==a?a:999)}),[l]),rawColumns:l,setDispColumns:t,toggleVisibility:(e,l)=>{t(t=>t.map(t=>t.Field_Name===e?(0,a.A)((0,a.A)({},t),{},{isVisible:l?1:0}):t))},updateOrder:(e,l)=>{t(t=>t.map(t=>t.Field_Name===e?(0,a.A)((0,a.A)({},t),{},{OrderBy:Number(l)}):t))},updateAggregation:(e,l)=>{t(t=>t.map(t=>t.Field_Name===e?(0,a.A)((0,a.A)({},t),{},{Aggregation:l}):t))}}}(t),{filteredData:Xe,filters:Ye,setFilters:Ke,updateFilter:Qe}=P(l,Le,Re);(0,n.useEffect)(()=>{X&&"function"===typeof X&&X(Xe,Le)},[Xe,Le,X]);const{enabled:el,availableViews:ll,savedVisibility:tl,savedGrouping:al,checkIfNameExists:nl,saveState:rl}=(e=>{let{stateName:l,stateUrl:t,stateGroup:a,dispColumns:r,grouping:s,loadingOn:o,loadingOff:i}=e;const[d,c]=(0,n.useState)([]),[u,m]=(0,n.useState)([]),[h,p]=(0,n.useState)(1),[g,x]=(0,n.useState)([]),A=l&&t&&a;return(0,n.useEffect)(()=>{A&&(m([]),c([]),Promise.all([(0,E.z)({address:"reports/reportState/columnVisiblity?reportGroup=".concat(a)}).then(e=>(0,M.$r)(e.data)),(0,E.z)({address:"reports/reportState/columnGrouping?reportGroup=".concat(a)}).then(e=>(0,M.$r)(e.data))]).then(e=>{let[l,t]=e;c(l),m(t);const a=[],n=new Set;[...l,...t].forEach(e=>{e.reportName&&!n.has(e.reportName)&&(n.add(e.reportName),a.push({reportName:e.reportName,displayName:e.displayName||e.reportName}))}),x(a)}))},[A,a,h]),{enabled:A,savedVisibility:d,savedGrouping:u,availableViews:g,checkIfNameExists:e=>g.some(l=>l.reportName===e||l.displayName===e),saveState:e=>{let{name:l,displayName:t,reportUrl:a,reportGroup:n}=e;const d={visibleColumns:r.filter(e=>1==e.isVisible).map(e=>({ColumnName:e.Field_Name,ColumnOrder:e.OrderBy})),reportName:l,displayName:t,reportUrl:a,reportGroup:n},c={groupingColumns:s.filter(Boolean).map((e,l)=>({ColumnName:e,ColumnOrder:l+1})),reportName:l,reportUrl:a,reportGroup:n};return o&&o(),Promise.all([(0,E.z)({address:"reports/reportState/columnVisiblity",method:"POST",bodyData:d}),(0,E.z)({address:"reports/reportState/columnGrouping",method:"POST",bodyData:c})]).then(()=>{p(e=>e+1)}).finally(()=>{i&&i()})}}})({stateName:W,stateUrl:I,stateGroup:L,dispColumns:Le,grouping:we,loadingOn:xe,loadingOff:Ae}),sl=we.filter(Boolean),ol=sl.length?B(Xe,Le,sl):Xe,il=e=>{let{row:l,rowIndex:t}=e;const[a,i]=(0,n.useState)(!1);return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(r.A,{hover:!0,onClick:()=>J&&J(l),style:{cursor:J?"pointer":"default"},children:[sl.length>0&&(0,z.jsx)(s.A,{}),Q&&ne&&(0,z.jsx)(s.A,{className:"text-center",style:{width:50,fontSize:me},children:(0,z.jsx)(o.A,{size:"small",onClick:e=>{e.stopPropagation(),i(!a)},children:a?(0,z.jsx)(C.A,{}):(0,z.jsx)(b.A,{})})}),oe&&(0,z.jsx)(s.A,{className:"text-center",style:{width:60,fontSize:me},children:t+1+De*Pe}),Le.filter(e=>1===e.isVisible).map((e,t)=>{var a;return e.isCustomCell&&"function"===typeof e.Cell?(0,z.jsx)(s.A,{style:{fontSize:me},className:null!==e&&void 0!==e&&e.tdClass?" ".concat(null===e||void 0===e?void 0:e.tdClass({row:l,Field_Name:e.Field_Name,index:t})," "):"",children:e.Cell({row:l})},t):(0,z.jsx)(s.A,{style:{fontSize:me},className:null!==e&&void 0!==e&&e.tdClass?" ".concat(null===e||void 0===e?void 0:e.tdClass({row:l,Field_Name:e.Field_Name,index:t})," "):"",children:null!==(a=Ue(l[e.Field_Name],e.Fied_Data))&&void 0!==a?a:"-"},t)})]},t),Q&&ne&&a&&(0,z.jsx)(r.A,{children:(0,z.jsx)(s.A,{colSpan:Le.filter(e=>1===e.isVisible&&!sl.includes(e.Field_Name)).length+(oe?1:0)+(sl.length>0?1:0)+1,children:ne({row:l,index:t})})})]})},dl=function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.map((e,t)=>{if(e.__isGroup){const n="".concat(l,"-").concat(e.__groupValue);return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(r.A,{className:"bg-light",children:[(0,z.jsx)(s.A,{style:{fontSize:me},className:"",children:(0,z.jsx)(o.A,{size:"small",onClick:()=>(e=>ke(l=>(0,a.A)((0,a.A)({},l),{},{[e]:!l[e]})))(n),children:Ve[n]?(0,z.jsx)(C.A,{}):(0,z.jsx)(b.A,{})})}),Q&&(0,z.jsx)(s.A,{}),oe&&(0,z.jsx)(s.A,{className:"text-center ",style:{width:60,fontSize:me},children:t+1+De*Pe}),Le.filter(e=>1===e.isVisible).map((l,t)=>{var a;return l.Field_Name===e.__groupField?(0,z.jsx)(s.A,{style:{fontSize:me},className:"",children:(0,z.jsx)("strong",{children:e.__groupValue})},t):l.isCustomCell?(0,z.jsx)(s.A,{style:{fontSize:me},className:""},t):(0,z.jsx)(s.A,{style:{fontSize:me},className:"",children:null!==(a=Ue(e.__aggregates[l.Field_Name],l.Fied_Data))&&void 0!==a?a:""},t)})]},n),Ve[n]&&(0,z.jsxs)(z.Fragment,{children:[dl(e.__rows.slice((Oe[n]||0)*Pe,(Oe[n]||0)*Pe+Pe),l+1),e.__rows.length>Pe&&(0,z.jsx)(r.A,{children:(0,z.jsx)(s.A,{colSpan:Le.filter(e=>1===e.isVisible).length+(sl.length>0?1:0)+(Q?1:0)+(oe?1:0),style:{padding:0},children:(0,z.jsx)(i.A,{component:"div",count:e.__rows.length,rowsPerPage:Pe,page:Oe[n]||0,onPageChange:(e,l)=>((e,l)=>{Me(t=>(0,a.A)((0,a.A)({},t),{},{[e]:l}))})(n,l),onRowsPerPageChange:Te,rowsPerPageOptions:[Pe],labelRowsPerPage:""})})})]})]})}return(0,z.jsx)(il,{row:e,rowIndex:t},t)})},cl={maxHeight:Ge&&ce?"none":re,overflowY:Ge&&ce?"visible":"auto"};return(0,z.jsxs)(d.A,{children:[(0,z.jsxs)("div",{className:"d-flex p-2 align-items-center flex-wrap",children:[(0,z.jsx)("h6",{className:"flex-grow-1 mb-0",children:w}),(0,z.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[pe&&(0,z.jsx)(c.A,{size:"small",placeholder:"Search...",variant:"outlined",value:We,onChange:e=>Ie(e.target.value),InputProps:{startAdornment:(0,z.jsx)(u.A,{position:"start",children:(0,z.jsx)(y.A,{})})},style:{minWidth:200}}),el&&ll.length>0&&(0,z.jsxs)(m.A,{size:"small",style:{minWidth:150},children:[(0,z.jsx)(h.A,{children:"Saved View"}),(0,z.jsxs)(p.A,{label:"Saved View",onChange:e=>(e=>{if(!e)return Ze(t.map((e,l)=>{var t,n;return(0,a.A)((0,a.A)({},e),{},{isVisible:null!==(t=e.isVisible)&&void 0!==t?t:1,OrderBy:null!==(n=e.OrderBy)&&void 0!==n?n:l+1,Aggregation:e.Aggregation||(["number","currency"].includes(e.Fied_Data)?"sum":["date","time"].includes(e.Fied_Data)?"max":"count")})})),void ze([]);const l=tl.filter(l=>l.reportName===e);l.length>0&&Ze(e=>e.map(e=>{const t=l.find(l=>l.columnName===e.Field_Name);return t?(0,a.A)((0,a.A)({},e),{},{isVisible:1,OrderBy:t.orderNum}):(0,a.A)((0,a.A)({},e),{},{isVisible:0})}));const n=al.filter(l=>l.reportName===e),r=[];n.sort((e,l)=>(e.orderNum||0)-(l.orderNum||0)),n.forEach((e,l)=>{l<3&&(r[l]=e.columnName)}),ze(r)})(e.target.value),defaultValue:"",children:[(0,z.jsx)(g.A,{value:"",children:"Select View (Default)"}),ll.map((e,l)=>(0,z.jsx)(g.A,{value:e.reportName,children:e.reportName},l))]})]}),ue&&ue,(0,z.jsx)(T.A,{options:[ce&&{label:Ge?"Min Height":"Max Height",onClick:()=>Be(!Ge),icon:Ge?(0,z.jsx)(N.A,{color:"primary"}):(0,z.jsx)(S.A,{})},{label:"Filters",onClick:()=>_e(!0),icon:(0,z.jsx)(F.A,{})},{label:"Columns",onClick:()=>Ce(!0),icon:(0,z.jsx)(_.A,{})},{label:"Group By",onClick:()=>fe(!0),icon:(0,z.jsx)(V,{})},el&&{label:"Save View",onClick:()=>Se(!0),icon:(0,z.jsx)(k.A,{})},Z&&{label:"Print PDF",onClick:()=>"function"===typeof Z?Z():((e,l)=>{try{const t=new le.default,n=ae(e,l),r=l.filter(e=>e.isVisible||e.Defult_Display).map(e=>e.Field_Name||String(e.ColumnHeader).replace(/\s+/g,"_").toLowerCase()),s=n.map(e=>r.map(l=>e[l])).map((e,l)=>(0,a.A)((0,a.A)({},e),{},{Sno:l+1}));t.autoTable({head:[r],body:s}),t.save("table.pdf")}catch(t){console.error(t)}})(Xe,Le),icon:(0,z.jsx)(D.A,{})},$&&{label:"Export Excel",onClick:()=>"function"===typeof $?$():((e,l)=>{try{const t=ae(e,l),a=te.Wp.json_to_sheet(t),n=te.Wp.book_new();te.Wp.book_append_sheet(n,a,"Data"),te._h(n,"table.xlsx")}catch(t){console.error(t)}})(Xe,Le),icon:(0,z.jsx)(H,{})},{label:"Aggregations",onClick:()=>ye(!0),icon:(0,z.jsx)(O,{})},...q.map(e=>({label:e.name,onClick:e.onclick||e.onClick,disabled:e.disabled,icon:e.icon}))].filter(Boolean)})]})]}),(0,z.jsx)(x.A,{style:cl,children:(0,z.jsxs)(A.A,{size:ie,stickyHeader:!0,children:[(0,z.jsx)(v.A,{children:(0,z.jsxs)(r.A,{children:[sl.length>0&&(0,z.jsx)(s.A,{style:{width:50,fontSize:he,backgroundColor:"#EDF0F7"},className:"fw-bold text-center",padding:"checkbox"}),Q&&(0,z.jsx)(s.A,{style:{width:50,fontSize:he,backgroundColor:"#EDF0F7"},className:"fw-bold text-center",children:"#"}),oe&&(0,z.jsx)(s.A,{style:{width:60,fontSize:he,backgroundColor:"#EDF0F7"},className:"fw-bold text-center ",children:"SNo"}),Le.filter(e=>1===e.isVisible).map(e=>(0,z.jsx)(s.A,{style:{fontSize:he,backgroundColor:"#EDF0F7"},className:"fw-bold",children:e.ColumnHeader||e.Field_Name},(0,M.RZ)()))]})}),(0,z.jsx)(f.A,{children:Array.isArray(ol)?dl(ol.slice(De*Pe,De*Pe+Pe)):null}),ge&&Xe.length>0&&(()=>{const e=((e,l)=>{const t={};return l.filter(e=>1===e.isVisible&&!e.isCustomCell).forEach(l=>{const a=l.Field_Name,n=e.map(e=>e[a]).filter(e=>void 0!==e&&null!==e&&""!==e);if(!n.length)return void(t[a]=null);const r=l.Aggregation;if(r&&G[r])t[a]=G[r](n);else switch(l.Fied_Data){case"number":t[a]=G.sum(n);break;case"date":case"time":t[a]=n.reduce((e,l)=>new Date(e)>new Date(l)?e:l);break;default:t[a]=G.count(n)}}),t})(Xe,Le),l=Le.filter(e=>1===e.isVisible);return(0,z.jsx)(j.A,{children:(0,z.jsxs)(r.A,{children:[sl.length>0&&(0,z.jsx)(s.A,{style:{backgroundColor:"#EDF0F7"}}),Q&&ne&&(0,z.jsx)(s.A,{style:{backgroundColor:"#EDF0F7"}}),oe&&(0,z.jsx)(s.A,{style:{backgroundColor:"#EDF0F7"}}),l.map((l,t)=>{const a={fontSize:me,fontWeight:"bold",backgroundColor:"#EDF0F7",position:"sticky",bottom:0,zIndex:1};if("function"===typeof l.FooterCell)return(0,z.jsx)(s.A,{style:a,children:l.FooterCell({data:Xe})},t);if(!l.isCustomCell){const n=e[l.Field_Name];return(0,z.jsx)(s.A,{style:a,children:null!=n?Ue(n,l.Fied_Data):""},t)}return(0,z.jsx)(s.A,{style:a},t)})]})})})()]})}),!de&&(0,z.jsx)(i.A,{rowsPerPageOptions:Array.from(new Set([se,5,10,25,50,100,200,500,1e3,2e3])).sort((e,l)=>e-l),component:"div",count:ol.length,rowsPerPage:Pe,page:De,onPageChange:(e,l)=>{He(l)},onRowsPerPageChange:Te,showFirstButton:!0,showLastButton:!0}),(0,z.jsx)(R,{open:ve,onClose:()=>fe(!1),columns:Le,grouping:we,onChange:(e,l,t)=>{if(t)ze(t);else{const t=[...we];t[e]=l,ze(t)}},onApply:()=>fe(!1)}),(0,z.jsx)(U.A,{open:je,onClose:()=>Ce(!1),columns:t,dispColumns:Le,onToggle:$e,onOrderChange:qe}),(0,z.jsx)(Y,{open:be,onClose:()=>ye(!1),columns:Le,onUpdateAggregation:Je}),(0,z.jsx)(ee,{open:Fe,onClose:()=>_e(!1),columns:Le,showData:l,filters:Ye,onChange:Qe,onClear:()=>Ke({})}),(0,z.jsx)(K.A,{open:Ne,onClose:()=>Se(!1),onSave:async e=>{try{await rl(e),Se(!1)}catch(l){console.error("Failed to save state",l),alert("Failed to save state: "+l.message)}},defaults:{reportUrl:I,reportGroup:L}})]})}},9715:(e,l,t)=>{t.d(l,{A:()=>u});var a=t(83462),n=t(26600),r=t(35316),s=t(12110),o=t(4598),i=t(29347),d=t(11906),c=t(70579);const u=e=>{let{open:l,columns:t,dispColumns:u,onToggle:m,onOrderChange:h,onClose:p}=e;return(0,c.jsxs)(a.A,{open:l,onClose:p,maxWidth:"lg",fullWidth:!0,children:[(0,c.jsx)(n.A,{children:"Column Settings"}),(0,c.jsx)(r.A,{children:(0,c.jsx)("div",{className:"row",children:t.map((e,l)=>{const t=u.find(l=>l.Field_Name===e.Field_Name);return(0,c.jsx)("div",{className:"col-md-6 col-lg-4 p-2",children:(0,c.jsxs)(s.A,{className:"p-2 d-flex justify-content-between",children:[(0,c.jsx)(o.A,{checked:!(null===t||void 0===t||!t.isVisible),onChange:l=>m(e.Field_Name,l.target.checked)}),(0,c.jsx)("h6",{className:"mb-0 mx-2 flex-grow-1",style:{fontSize:"0.9rem"},children:e.ColumnHeader||e.Field_Name}),(0,c.jsx)("input",{type:"number",className:"border-0",value:(null===t||void 0===t?void 0:t.OrderBy)||"",onChange:l=>h(e.Field_Name,l.target.value),placeholder:"Order",style:{width:60}})]})},l)})})}),(0,c.jsx)(i.A,{children:(0,c.jsx)(d.A,{color:"error",onClick:p,children:"Close"})})]})}},37141:(e,l,t)=>{t.d(l,{A:()=>r});var a=t(59662),n=t(70579);const r=(0,a.A)((0,n.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save")},38504:(e,l,t)=>{t.d(l,{A:()=>r});var a=t(59662),n=t(70579);const r=(0,a.A)((0,n.jsx)("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5zm4-3H19v1h1.5V11H19v2h-1.5V7h3zM9 9.5h1v-1H9zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm10 5.5h1v-3h-1z"}),"PictureAsPdf")},67854:(e,l,t)=>{t.d(l,{A:()=>i});var a=t(89379),n=t(12412),r=t(51962),s=t(67784),o=t(70579);const i=e=>{let{column:l,showData:t,filters:i,onChange:d}=e;const{Field_Name:c,Fied_Data:u}=l,m=(e,l)=>{const t=i[c]||{type:"range"};d(c,(0,a.A)((0,a.A)({},t),{},{type:"range",[e]:""===l?void 0:Number(l)}))},h=(e,l)=>{const t=i[c]||{type:"date",value:{}};d(c,(0,a.A)((0,a.A)({},t),{},{type:"date",value:(0,a.A)((0,a.A)({},t.value),{},{[e]:l||void 0})}))};if("number"===u){var p,g;const e=i[c]||{};return(0,o.jsxs)("div",{className:"d-flex gap-1",children:[(0,o.jsx)("input",{type:"number",className:"form-control form-control-sm",placeholder:"Min",value:null!==(p=e.min)&&void 0!==p?p:"",onChange:e=>m("min",e.target.value),style:{minWidth:"60px"}}),(0,o.jsx)("input",{type:"number",className:"form-control form-control-sm",placeholder:"Max",value:null!==(g=e.max)&&void 0!==g?g:"",onChange:e=>m("max",e.target.value),style:{minWidth:"60px"}})]})}if(["date","time"].includes(u)){var x,A,v;const e=(null===(x=i[c])||void 0===x?void 0:x.value)||{},l="time"===u?"time":"date";return(0,o.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,o.jsx)("input",{type:l,className:"form-control form-control-sm",placeholder:"Start",value:null!==(A=e.start)&&void 0!==A?A:"",onChange:e=>h("start",e.target.value)}),(0,o.jsx)("input",{type:l,className:"form-control form-control-sm",placeholder:"End",value:null!==(v=e.end)&&void 0!==v?v:"",onChange:e=>h("end",e.target.value)})]})}const f=[...new Set(t.map(e=>{var l;return null===(l=e[c])||void 0===l?void 0:l.toString().toLowerCase().trim()}).filter(Boolean))];return(0,o.jsx)(n.A,{multiple:!0,options:f,value:i[c]||[],onChange:(e,l)=>d(c,l),disableCloseOnSelect:!0,getOptionLabel:e=>e,isOptionEqualToValue:(e,l)=>e===l,renderOption:(e,l,t)=>{let{selected:n}=t;return(0,o.jsxs)("li",(0,a.A)((0,a.A)({},e),{},{children:[(0,o.jsx)(r.A,{checked:n,style:{marginRight:8}}),l]}))},renderInput:e=>(0,o.jsx)(s.A,(0,a.A)((0,a.A)({},e),{},{size:"small",placeholder:"Select...",variant:"standard"}))})}},75936:(e,l,t)=>{t.d(l,{A:()=>u});var a=t(89379),n=t(83462),r=t(26600),s=t(35316),o=t(29347),i=t(11906),d=t(65043),c=t(70579);const u=e=>{let{open:l,onSave:t,onClose:u,defaults:m={}}=e;const[h,p]=(0,d.useState)({name:"",displayName:"",reportUrl:"",reportGroup:""});return(0,d.useEffect)(()=>{l&&p({name:"",displayName:"",reportUrl:m.reportUrl||"",reportGroup:m.reportGroup||""})},[l,m]),(0,c.jsxs)(n.A,{open:l,onClose:u,children:[(0,c.jsx)(r.A,{children:"Save Table State"}),(0,c.jsx)(s.A,{children:(0,c.jsxs)("div",{className:"d-flex flex-column gap-3 mt-1",children:[(0,c.jsx)("label",{htmlFor:"",children:"State Name"}),(0,c.jsx)("input",{type:"text",value:h.name,onChange:e=>p((0,a.A)((0,a.A)({},h),{},{name:e.target.value,displayName:e.target.value})),className:"cus-inpt",style:{minWidth:"310px"}})]})}),(0,c.jsxs)(o.A,{children:[(0,c.jsx)(i.A,{onClick:u,children:"Cancel"}),(0,c.jsx)(i.A,{variant:"contained",onClick:()=>t(h),disabled:!h.name||!h.displayName,children:"Save"})]})]})}},79484:(e,l,t)=>{t.d(l,{A:()=>r});var a=t(59662),n=t(70579);const r=(0,a.A)((0,n.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")}}]);
//# sourceMappingURL=8002.3f3e76d5.chunk.js.map