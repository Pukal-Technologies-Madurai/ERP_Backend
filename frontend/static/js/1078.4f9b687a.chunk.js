"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[1078],{6593:(e,t,s)=>{s.d(t,{A:()=>l});const l=s(44708).A},10204:(e,t,s)=>{s.d(t,{T:()=>l,X:()=>a});const l=[{id:0,label:"New",color:" bg-info text-white "},{id:1,label:"Verified",color:" bg-warning text-white "},{id:2,label:"Converted",color:" bg-success text-white "},{id:3,label:"Canceled",color:" bg-danger text-white "}],a=[{id:1,label:"New",color:" bg-info text-white "},{id:2,label:"Progess",color:" bg-warning text-white "},{id:3,label:"Completed",color:" bg-success text-white "},{id:4,label:"Canceled",color:" bg-danger text-white "}]},24651:(e,t,s)=>{s.d(t,{A:()=>i});var l=s(89379),a=s(65043),o=s(97707),r=s(14844),n=s(70579);const d=function(){var e;let t=arguments.length>1?arguments[1]:void 0;return null!==(e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find(e=>(0,o.id)(e.Product_Id,t)))&&void 0!==e?e:{}},i=e=>{let{invoiceProducts:t=[],invoiceExpences:s=[],isNotTaxableBill:i,isInclusive:c,IS_IGST:u,products:m=[],invoiceInfo:v={},setInvoiceInfo:_}=e;const p=(0,a.useMemo)(()=>(0,o.$r)(s).reduce((e,t)=>(0,o.Lr)(e,null===t||void 0===t?void 0:t.Expence_Value),0),[s]),h=(0,a.useMemo)(()=>{const e=t.reduce((e,t)=>{const s=(0,o.e3)(null===t||void 0===t?void 0:t.Amount);if(i)return(0,o.Lr)(e,s);const l=d(m,t.Item_Id),a=u?l.Igst_P:l.Gst_P;return c?(0,o.Lr)(e,(0,r.v)(s,a,"remove").with_tax):(0,o.Lr)(e,(0,r.v)(s,a,"add").with_tax)},0);return(0,o.Lr)(e,p)},[t,i,m,u,c,p]),x=(0,a.useMemo)(()=>{if(!t||0===t.length)return{};let e=0,s=0;t.forEach(t=>{const l=(0,o.e3)((null===t||void 0===t?void 0:t.Amount)||0);if(i)return void(e=(0,o.Lr)(e,l));const a=d(m,t.Item_Id),n=(0,o.id)(u,1)?a.Igst_P:a.Gst_P,v=(0,r.v)(l,n,c?"remove":"add");e=(0,o.Lr)(e,parseFloat(v.without_tax)),s=(0,o.Lr)(s,parseFloat(v.tax_amount))});const l=(0,o.Lr)(e,s),a=(0,o.Lr)(l,p),n=Math.round(a),v=(0,o.e3)(n-a),_=(0,o.id)(u,1)?0:(0,o.e3)(s/2),h=(0,o.id)(u,1)?0:(0,o.e3)(s/2),x=(0,o.id)(u,1)?(0,o.e3)(s):0;return{totalTaxable:(0,o.e3)(e),totalTax:(0,o.e3)(s),cgst:_,sgst:h,igst:x,roundOff:v,invoiceTotal:n}},[t,m,u,i,c,p]);return(0,a.useMemo)(()=>{void 0!==x.roundOff&&x.roundOff!==v.Round_off&&_(e=>(0,l.A)((0,l.A)({},e),{},{Round_off:x.roundOff}))},[x.roundOff]),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("table",{className:"table",children:(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsxs)("td",{className:"border p-2",rowSpan:u?5:6,children:["Total in words: ",(0,o.GF)(parseInt(h))]}),(0,n.jsx)("td",{className:"border p-2",children:"Total Taxable Amount"}),(0,n.jsx)("td",{className:"border p-2",children:x.totalTaxable})]}),u?(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"border p-2",children:"IGST"}),(0,n.jsx)("td",{className:"border p-2",children:x.igst})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"border p-2",children:"CGST"}),(0,n.jsx)("td",{className:"border p-2",children:x.cgst})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"border p-2",children:"SGST"}),(0,n.jsx)("td",{className:"border p-2",children:x.sgst})]})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"border p-2",children:"Total Expences"}),(0,n.jsx)("td",{className:"border p-2",children:(0,o.e3)(p)})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"border p-2",children:"Round Off"}),(0,n.jsx)("td",{className:"border p-0",children:(0,n.jsx)("input",{value:v.Round_off||x.roundOff||0,className:"cus-inpt p-2 m-0 border-0",onInput:o.rV,onChange:e=>_(t=>(0,l.A)((0,l.A)({},t),{},{Round_off:parseFloat(e.target.value)||0}))})})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"border p-2",children:"Total"}),(0,n.jsx)("td",{className:"border p-2",children:(0,o.jG)(Math.round(h))})]})]})})})}},33438:(e,t,s)=>{s.d(t,{A:()=>o});var l=s(59662),a=s(70579);const o=(0,l.A)((0,a.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},35786:(e,t,s)=>{s.d(t,{A:()=>_});var l=s(89379),a=s(12110),o=s(11906),r=s(17392),n=(s(48471),s(97707)),d=s(97280),i=(s(65043),s(63406)),c=s(51387),u=s(20656),m=s(14844),v=s(70579);const _=e=>{let{invoiceExpences:t=[],setInvoiceExpences:s,expenceMaster:_=[],IS_IGST:p,taxType:h}=e;return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)(a.A,{children:[(0,v.jsxs)("div",{className:"d-flex align-items-center justify-content-between flex-wrap px-3 py-2",children:[(0,v.jsx)("h5",{className:"m-0",children:"Expenses"}),(0,v.jsx)(o.A,{variant:"outlined",type:"button",onClick:()=>{s(e=>[...e,(0,l.A)((0,l.A)({},d.ju),{},{Sno:e.length})])},children:"Add"})]}),(0,v.jsx)("div",{className:"table-responsive",children:(0,v.jsxs)("table",{className:"table table-bordered m-0",children:[(0,v.jsx)("thead",{className:"table-light",children:(0,v.jsx)("tr",{children:["S.No","Expense","Expense Value","Action"].map((e,t)=>(0,v.jsx)("th",{className:"fa-13 bg-light",children:e},t))})}),(0,v.jsxs)("tbody",{style:{fontSize:"13px"},children:[t.map((e,a)=>{var o;const d=(null===(o=_.find(t=>(0,n.id)(t.Id,null===e||void 0===e?void 0:e.Expense_Id)))||void 0===o?void 0:o.Expence_Name)||"";return(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{children:a+1}),(0,v.jsx)("td",{className:"p-0 vctr",style:{minWidth:"180px"},children:(0,v.jsx)(u.Ay,{value:{value:null===e||void 0===e?void 0:e.Expense_Id,label:d},onChange:e=>((e,t)=>{const a=_.find(e=>(0,n.id)(e.Id,t.value))||{};s(t=>t.map((t,s)=>s!==e?t:(0,l.A)((0,l.A)({},t),{},{Expense_Id:a.Id,Expence_Value:0})))})(a,e),options:_.filter(s=>!!(0,n.id)(s.Id,null===e||void 0===e?void 0:e.Expense_Id)||!t.some((e,t)=>t!==a&&(0,n.id)(e.Expense_Id,s.Id))).map(e=>({value:e.Id,label:e.Expence_Name})),styles:i.MR,menuPortalTarget:document.body,isSearchable:!0,placeholder:"Select Expense"})}),(0,v.jsx)("td",{className:"p-0 vctr",children:(0,v.jsx)("input",{onInput:n.rV,className:"cus-inpt p-2 border-0",value:e.Expence_Value||"",disabled:!(0,n.IQ)(e.Expense_Id),onChange:e=>{((e,t,a)=>{s(s=>s.map((s,o)=>{if(o!==e)return s;const r=(0,l.A)((0,l.A)({},s),{},{[t]:a});if("Expence_Value"===t){const e=s.Cgst?(0,n.Ro)(s.Cgst):0,t=s.Sgst?(0,n.Ro)(s.Sgst):0,l=s.Igst?(0,n.Ro)(s.Igst):0,o=(0,n.Ro)(a),d=p?l:(0,n.Lr)(e,t),i=(0,m.v)(o,d,h);r.Cgst_Amo=e>0&&!p?i.cgst_amount:0,r.Sgst_Amo=t>0&&!p?i.sgst_amount:0,r.Igst_Amo=l>0&&p?i.igst_amount:0}if("Igst"===t){const e=p?(0,n.Ro)(a):0,t=p?0:(0,n.SX)((0,n.Ro)(a),2),l=p?0:(0,n.SX)((0,n.Ro)(a),2),o=(0,n.Ro)(s.Expence_Value),d=p?e:(0,n.Lr)(t,l),i=(0,m.v)(o,d,h);r.Cgst=t,r.Sgst=l,r.Cgst_Amo=t>0?i.cgst_amount:0,r.Sgst_Amo=l>0?i.sgst_amount:0,r.Igst_Amo=e>0?i.igst_amount:0}return r}))})(a,"Expence_Value",e.target.value)}})}),(0,v.jsx)("td",{className:"p-0 vctr  text-center ",children:(0,v.jsx)(r.A,{onClick:()=>(e=>{s(t=>t.filter((t,s)=>s!==e))})(a),size:"small",children:(0,v.jsx)(c.A,{color:"error",fontSize:"small"})})})]},a)}),0===t.length&&(0,v.jsx)("tr",{children:(0,v.jsx)("td",{className:"text-center",colSpan:6,children:"No rows"})})]})]})})]})})}},38641:(e,t,s)=>{s.d(t,{A:()=>i});var l=s(89379),a=(s(65043),s(20656)),o=s(63406),r=s(97707),n=s(14792),d=s(70579);const i=e=>{var t;let{invoiceInfo:s={},setInvoiceInfo:i,retailers:c=[],voucherType:u=[],branches:m=[],onChangeRetailer:v,stockItemLedgerName:_=[]}=e;const p="cus-inpt p-2";return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"row",children:[(0,d.jsxs)("div",{className:"col-sm-8 p-2",children:[(0,d.jsx)("label",{className:"fa-13",children:"Party Name"}),(0,d.jsx)(a.Ay,{value:{value:null===s||void 0===s?void 0:s.Retailer_Id,label:null===s||void 0===s?void 0:s.Retailer_Name},onChange:e=>{i(t=>(0,l.A)((0,l.A)({},t),{},{Retailer_Id:e.value,Retailer_Name:e.label})),v&&v()},options:[{value:"",label:"Search",isDisabled:!0},...(0,r.$r)(c).map(e=>({value:null===e||void 0===e?void 0:e.Retailer_Id,label:null===e||void 0===e?void 0:e.Retailer_Name}))],styles:o.MR,isSearchable:!0,placeholder:"Select Vendor",maxMenuHeight:300})]}),(0,d.jsxs)("div",{className:"col-sm-4 p-2",children:[(0,d.jsx)("label",{className:"fa-13",children:"Voucher Type"}),(0,d.jsx)(a.Ay,{value:{value:s.Voucher_Type,label:null===(t=(0,r.$r)(u).find(e=>(0,r.id)(e.Vocher_Type_Id,s.Voucher_Type)))||void 0===t?void 0:t.Voucher_Type},onChange:e=>i(t=>(0,l.A)((0,l.A)({},t),{},{Voucher_Type:e.value})),options:[{value:"",label:"Search",isDisabled:!0},...(0,r.$r)(u).filter(e=>"SALES"===(null===e||void 0===e?void 0:e.Type)).map(e=>({value:null===e||void 0===e?void 0:e.Vocher_Type_Id,label:null===e||void 0===e?void 0:e.Voucher_Type}))],styles:o.MR,isSearchable:!0,required:!0,placeholder:"Select Voucher Type",maxMenuHeight:300,isDisabled:!!(0,r.IQ)(null===s||void 0===s?void 0:s.Do_Id)})]}),(0,d.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,d.jsxs)("label",{className:"fa-13",children:["Entry Date ",(0,d.jsx)(n.A,{})]}),(0,d.jsx)("input",{value:null===s||void 0===s?void 0:s.Do_Date,type:"date",required:!0,className:p,onChange:e=>i(t=>(0,l.A)((0,l.A)({},t),{},{Do_Date:e.target.value}))})]}),(0,d.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,d.jsxs)("label",{className:"fa-13",children:["Branch ",(0,d.jsx)(n.A,{})]}),(0,d.jsxs)("select",{className:p,value:null===s||void 0===s?void 0:s.Branch_Id,required:!0,onChange:e=>i(t=>(0,l.A)((0,l.A)({},t),{},{Branch_Id:e.target.value})),children:[(0,d.jsx)("option",{value:"",children:"select"}),m.map((e,t)=>(0,d.jsx)("option",{value:null===e||void 0===e?void 0:e.BranchId,children:null===e||void 0===e?void 0:e.BranchName},t))]})]}),(0,d.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,d.jsxs)("label",{className:"fa-13",children:["GST Type ",(0,d.jsx)(n.A,{})]}),(0,d.jsxs)("select",{className:p,onChange:e=>i(t=>(0,l.A)((0,l.A)({},t),{},{GST_Inclusive:Number(e.target.value)})),value:s.GST_Inclusive,required:!0,children:[(0,d.jsx)("option",{value:1,children:"Inclusive Tax"}),(0,d.jsx)("option",{value:0,children:"Exclusive Tax"}),(0,d.jsx)("option",{value:2,children:"Not Taxable"})]})]}),(0,d.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,d.jsx)("label",{className:"fa-13",children:"Tax Type"}),(0,d.jsxs)("select",{className:p,onChange:e=>i(t=>(0,l.A)((0,l.A)({},t),{},{IS_IGST:Number(e.target.value)})),value:s.IS_IGST,children:[(0,d.jsx)("option",{value:"0",children:"GST"}),(0,d.jsx)("option",{value:"1",children:"IGST"})]})]}),(0,d.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,d.jsx)("label",{className:"fa-13",children:"Stock Item Ledger Name"}),(0,d.jsx)(a.Ay,{value:{value:s.Stock_Item_Ledger_Name,label:s.Stock_Item_Ledger_Name},onChange:e=>i(t=>(0,l.A)((0,l.A)({},t),{},{Stock_Item_Ledger_Name:e.value})),options:[{value:"",label:"Search",isDisabled:!0},..._.map(e=>({value:null===e||void 0===e?void 0:e.Stock_Item_Ledger_Name,label:null===e||void 0===e?void 0:e.Stock_Item_Ledger_Name}))],styles:o.MR,menuPortalTarget:document.body,required:!0,isSearchable:!0,placeholder:"Select",maxMenuHeight:300})]}),(0,d.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,d.jsx)("label",{className:"fa-13",children:"Status"}),(0,d.jsxs)("select",{value:null===s||void 0===s?void 0:s.Cancel_status,className:p,onChange:e=>i(t=>(0,l.A)((0,l.A)({},t),{},{Cancel_status:e.target.value})),children:[(0,d.jsx)("option",{value:"",disabled:!0,children:"Select"}),(0,d.jsx)("option",{value:"1",children:"New"}),(0,d.jsx)("option",{value:"2",children:"Progess"}),(0,d.jsx)("option",{value:"3",children:"Completed"}),(0,d.jsx)("option",{value:"0",children:"Canceled"})]})]})]}),(0,d.jsx)("label",{className:"fa-13",children:"Narration"}),(0,d.jsx)("textarea",{className:"cus-inpt fa-14",rows:2,value:s.Narration,onChange:e=>i(t=>(0,l.A)((0,l.A)({},t),{},{Narration:e.target.value}))})]})}},40039:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l.createSvgIcon}});var l=s(81512)},42841:(e,t,s)=>{var l=s(24994);t.A=void 0;var a=l(s(40039)),o=s(70579);t.A=(0,a.default)((0,o.jsx)("path",{d:"M6 6v2h8.59L5 17.59 6.41 19 16 9.41V18h2V6z"}),"ArrowOutward")},81512:(e,t,s)=>{s.r(t),s.d(t,{capitalize:()=>a.A,createChainedFunction:()=>o.A,createSvgIcon:()=>r.A,debounce:()=>n.A,deprecatedPropType:()=>d,isMuiElement:()=>i.A,ownerDocument:()=>c.A,ownerWindow:()=>u.A,requirePropFactory:()=>m,setRef:()=>v,unstable_ClassNameGenerator:()=>f,unstable_useEnhancedEffect:()=>_.A,unstable_useId:()=>p.A,unsupportedProp:()=>h,useControlled:()=>x.A,useEventCallback:()=>g.A,useForkRef:()=>I.A,useIsFocusVisible:()=>j.A});var l=s(25430),a=s(6803),o=s(6593),r=s(59662),n=s(80950);const d=function(e,t){return()=>null};var i=s(90154),c=s(22427),u=s(36078);const m=function(e,t){return()=>null};const v=s(69184).A;var _=s(55013),p=s(45879);const h=function(e,t,s,l,a){return null};var x=s(54516),g=s(93319),I=s(95849),j=s(87844);const f={configure:e=>{l.A.configure(e)}}},83560:(e,t,s)=>{s.d(t,{A:()=>o});var l=s(59662),a=s(70579);const o=(0,l.A)((0,a.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},90154:(e,t,s)=>{s.d(t,{A:()=>a});var l=s(65043);const a=function(e,t){var s,a;return l.isValidElement(e)&&-1!==t.indexOf(null!=(s=e.type.muiName)?s:null==(a=e.type)||null==(a=a._payload)||null==(a=a.value)?void 0:a.muiName)}},91078:(e,t,s)=>{s.r(t),s.d(t,{default:()=>F});var l=s(89379),a=s(65043),o=s(65074),r=s(97707),n=s(48471),d=s(12110),i=s(17392),c=s(11906),u=s(91036),m=s(59662),v=s(70579);const _=(0,m.A)((0,v.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4z"}),"AddBox");var p=s(83560),h=s(10204),x=s(42841),g=s(83462),I=s(26494),j=s(20656),f=s(63406),C=s(33438),A=s(70141),N=s(51387),b=s(14844),y=s(97280),S=s(38641),T=s(24651),w=s(56779),E=s(34104),P=s(35786);const L=(0,r.aN)().user,R=e=>{let{loadingOn:t,loadingOff:s,open:m,onClose:_,editValues:h}=e;console.log("Editvalues",h);const[x,j]=(0,a.useState)({products:[],branch:[],retailers:[],voucherType:[],uom:[],staff:[],staffType:[],brand:[],godown:[],expence:[],stockInGodown:[],stockItemLedgerName:[]}),[f,R]=(0,a.useState)({addProductDialog:!1,importFromSaleOrder:!1}),[D,F]=(0,a.useState)(y.Q4),[V,G]=(0,a.useState)([]),[B,z]=(0,a.useState)([]),[O,M]=(0,a.useState)([]),[Q,H]=(0,a.useState)(null),U=(0,r.id)(D.GST_Inclusive,1),W=(0,r.id)(D.GST_Inclusive,2),$=(0,r.id)(D.IS_IGST,1),q=W?"zerotax":U?"remove":"add",X=3-V.length;(0,a.useEffect)(()=>{if(!m)return;(async()=>{try{t&&t();const[e,s,a,n,d,i,c,u,m,v,_]=await Promise.all([(0,o.z)({address:"masters/branch/dropDown"}),(0,o.z)({address:"masters/products"}),(0,o.z)({address:"masters/retailers/dropDown?Company_Id=".concat(null===L||void 0===L?void 0:L.Company_id)}),(0,o.z)({address:"purchase/voucherType"}),(0,o.z)({address:"masters/uom"}),(0,o.z)({address:"dataEntry/costCenter"}),(0,o.z)({address:"dataEntry/costCenter/category"}),(0,o.z)({address:"dataEntry/godownLocationMaster"}),(0,o.z)({address:"masters/defaultAccountMaster"}),(0,o.z)({address:"sales/stockInGodown"}),(0,o.z)({address:"purchase/stockItemLedgerName?type=SALES"})]),p=(e.success?e.data:[]).sort((e,t)=>String(null===e||void 0===e?void 0:e.BranchName).localeCompare(null===t||void 0===t?void 0:t.BranchName)),h=(s.success?s.data:[]).sort((e,t)=>String(null===e||void 0===e?void 0:e.Product_Name).localeCompare(null===t||void 0===t?void 0:t.Product_Name)),x=(a.success?a.data:[]).sort((e,t)=>String(null===e||void 0===e?void 0:e.Retailer_Name).localeCompare(null===t||void 0===t?void 0:t.Retailer_Name)),g=(n.success?n.data:[]).sort((e,t)=>String(null===e||void 0===e?void 0:e.Voucher_Type).localeCompare(null===t||void 0===t?void 0:t.Voucher_Type)),I=(d.success?d.data:[]).sort((e,t)=>String(e.Units).localeCompare(t.Units)),f=(i.success?i.data:[]).sort((e,t)=>String(null===e||void 0===e?void 0:e.Cost_Center_Name).localeCompare(null===t||void 0===t?void 0:t.Cost_Center_Name)),C=(c.success?c.data:[]).sort((e,t)=>String(null===e||void 0===e?void 0:e.Cost_Category).localeCompare(null===t||void 0===t?void 0:t.Cost_Category)),A=(u.success?u.data:[]).sort((e,t)=>String(null===e||void 0===e?void 0:e.Godown_Name).localeCompare(null===t||void 0===t?void 0:t.Godown_Name)),N=(m.success?(0,r.$r)(m.data):[]).sort((e,t)=>String(null===e||void 0===e?void 0:e.Account_Name).localeCompare(null===t||void 0===t?void 0:t.Account_Name)),b=(v.success?v.data:[]).sort((e,t)=>String(null===e||void 0===e?void 0:e.stock_item_name).localeCompare(null===t||void 0===t?void 0:t.stock_item_name)),y=(_.success?_.data:[]).sort((e,t)=>String(null===e||void 0===e?void 0:e.Stock_Item_Ledger_Name).localeCompare(null===t||void 0===t?void 0:t.Stock_Item_Ledger_Name));j(e=>(0,l.A)((0,l.A)({},e),{},{products:h,branch:p,retailers:x,voucherType:g,uom:I,staff:f,staffType:C,godown:A,brand:(0,r.Mn)(h,"Brand",["Brand_Name"]),expence:N.filter(e=>!(0,r.xL)(e.Type,"DEFAULT")).map(e=>({Id:e.Acc_Id,Expence_Name:e.Account_Name})),stockInGodown:b,stockItemLedgerName:y}))}catch(e){console.error("Error fetching data:",e)}finally{s&&s()}})()},[null===L||void 0===L?void 0:L.Company_id,m]);(0,a.useEffect)(()=>{G(e=>[...e].map(e=>Object.fromEntries(Object.entries(e).map(t=>{let[s,l]=t;const a=function(){var e;let t=arguments.length>1?arguments[1]:void 0;return null!==(e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find(e=>(0,r.id)(e.Product_Id,t)))&&void 0!==e?e:{}}(x.products,null===e||void 0===e?void 0:e.Item_Id),o=$?a.Igst_P:a.Gst_P,n=o>0,{Bill_Qty:d,Item_Rate:i,Amount:c}=e,u=(0,b.v)(i,o,q),m=(0,b.v)(c,o,q),v=$?0:m.cgst_per,_=$?m.igst_per:0,p=$?0:m.cgst_amount,h=$?m.igst_amount:0;switch(s){case"Taxable_Rate":return[s,u.base_amount];case"Total_Qty":return[s,d];case"Taxble":return[s,n?1:0];case"Taxable_Amount":return[s,m.base_amount];case"Tax_Rate":return[s,o];case"Cgst":case"Sgst":return[s,null!==v&&void 0!==v?v:0];case"Cgst_Amo":case"Sgst_Amo":return[s,W?0:p];case"Igst":return[s,null!==_&&void 0!==_?_:0];case"Igst_Amo":return[s,W?0:h];case"Final_Amo":return[s,m.with_tax];default:return[s,e[s]||l]}}))))},[x.products,$,q]),(0,a.useEffect)(()=>{z(e=>[...e].map(e=>{const t=$?(0,r.Ro)(null===e||void 0===e?void 0:e.Igst):0,s=$?0:(0,r.Ro)(null===e||void 0===e?void 0:e.Cgst),a=$?0:(0,r.Ro)(null===e||void 0===e?void 0:e.Sgst),o=(0,r.Ro)(null===e||void 0===e?void 0:e.Expence_Value),n=$?t:(0,r.Lr)(s,a),d=(0,b.v)(o,n,q);return(0,l.A)((0,l.A)({},e),{},{Cgst:s,Sgst:a,Igst:t,Expence_Value:o,Cgst_Amo:s>0?d.cgst_amount:0,Sgst_Amo:a>0?d.sgst_amount:0,Igst_Amo:t>0?d.igst_amount:0})}))},[x.expence,$,q]),(0,a.useEffect)(()=>{if((0,r.aF)(h)&&Array.isArray(null===h||void 0===h?void 0:h.ProductList)&&x.staff.length>0&&x.staffType.length>0){const{ProductList:e,Staffs_Array:t,Broker_Id:s,Broker_Name:a,Expence_Array:o,Transporter_Id:n,Transporter_Name:d}=h,i=(h.Expence_Array||h.expenceArray||h.Expenses||h.expenses||h.ExpenceList||h.expenceList,x.retailers.find(e=>(0,r.id)(e.Retailer_Id,h.Custome_Id)));z((0,r.$r)(o).map(e=>Object.fromEntries(Object.entries(y.ju).map(t=>{var s;let[l,a]=t;return[l,null!==(s=e[l])&&void 0!==s?s:a]})))),F(e=>(0,l.A)((0,l.A)({},e),{},{Do_Id:h.Pos_Id||"",So_No:h.Pre_Id||"",So_Date:h.Pre_Date?(0,r.ny)(h.Pre_Date):"",Retailer_Id:h.Custome_Id||"",Retailer_Name:(null===i||void 0===i?void 0:i.Retailer_Name)||"",Broker_Id:h.Broker_Id||"",Broker_Name:h.Broker_Name||"",Transporter_Id:h.Transporter_Id||"",Transporter_Name:h.Transporter_Name||"",TrasnportType:h.TrasnportType||2,Voucher_Type:h.baseData||0,Status:h.Status||"",isConverted:h.isConverted||0,Total_Invoice_value:h.Total_Invoice_value||0})),G(e.map(e=>(0,l.A)((0,l.A)({},y.a4),{},{Item_Id:e.Item_Id||"",Item_Name:e.Product_Name||"",HSN_Code:e.HSN_Code||"",Bill_Qty:e.Bill_Qty||0,Act_Qty:e.Bill_Qty||0,Item_Rate:e.Item_Rate||0,Amount:e.Amount||0,GoDown_Id:e.Godown_Id||"",Tax_Rate:e.Tax_Rate||0,Cgst:e.Cgst||0,UOM:e.Unit_Id||0,Units:e.Unit_Name||"",Sgst:e.Sgst||0,Igst:e.Igst||0,Cgst_Amo:e.Cgst_Amo||0,Sgst_Amo:e.Sgst_Amo||0,Igst_Amo:e.Igst_Amo||0,Taxable_Amount:e.Taxable_Amount||0,Final_Amo:e.Final_Amo||0})));let c=[];const u=e=>{const t=x.staffType.find(t=>(0,r.xL)(t.Cost_Category,e));return(null===t||void 0===t?void 0:t.Cost_Category_Id)||""};if(s&&!(0,r.id)(s,0)){const e=x.staff.find(e=>(0,r.id)(e.Cost_Center_Id,s)),t=u("Broker");e&&c.push({Involved_Emp_Id:e.Cost_Center_Id,EmpName:e.Cost_Center_Name,Cost_Center_Type_Id:t,Cost_Center_Type:"Broker"})}if(n&&!(0,r.id)(n,0)){const e=x.staff.find(e=>(0,r.id)(e.Cost_Center_Id,n)),t=u("Transport");e&&c.push({Involved_Emp_Id:e.Cost_Center_Id,EmpName:e.Cost_Center_Name,Cost_Center_Type_Id:t,Cost_Center_Type:"Transporter"})}(0,r.$r)(t).forEach((e,t)=>{const s=x.staff.find(t=>(0,r.id)(t.Cost_Center_Id,e.Staff_Id));let l=e.Cost_Cat_Id,a=e.Cost_Cat_Name;!l&&a&&(l=u(a)),s&&c.push({Involved_Emp_Id:s.Cost_Center_Id,EmpName:s.Cost_Center_Name,Cost_Center_Type_Id:l||"",Cost_Center_Type:a||""})}),M(c)}},[h,x.staff,x.staffType,x.retailers]),(0,a.useEffect)(()=>{z(e=>[...e].map(e=>{const t=$?(0,r.Ro)(null===e||void 0===e?void 0:e.Igst):0,s=$?0:(0,r.Ro)(null===e||void 0===e?void 0:e.Cgst),a=$?0:(0,r.Ro)(null===e||void 0===e?void 0:e.Sgst),o=(0,r.Ro)(null===e||void 0===e?void 0:e.Expence_Value),n=$?t:(0,r.Lr)(s,a),d=(0,b.v)(o,n,q);return(0,l.A)((0,l.A)({},e),{},{Cgst:s,Sgst:a,Igst:t,Expence_Value:o,Cgst_Amo:s>0?d.cgst_amount:0,Sgst_Amo:a>0?d.sgst_amount:0,Igst_Amo:t>0?d.igst_amount:0})}))},[x.expence,$,q]);const Z=()=>{t&&t();const e=O.map(e=>({Involved_Emp_Id:e.Involved_Emp_Id,Cost_Center_Type_Id:e.Cost_Center_Type_Id}));console.log("invoiceinfo",D),(0,o.z)({address:"sales/salesOrderSalesInvoice",method:"POST",bodyData:(0,l.A)((0,l.A)({},D),{},{Pre_Id:D.Do_Id,Product_Array:V,staff_Involved_List:e,Expence_Array:B,transactionType:"both"})}).then(e=>{e.success?(F(y.Q4),G([]),z([]),M([]),u.oR.success(e.message),_(!0)):u.oR.warn(e.message)}).catch(e=>console.error(e)).finally(()=>{s&&s()})};return m?(0,v.jsx)(g.A,{open:m,onClose:()=>_(!1),maxWidth:"xl",fullWidth:!0,children:(0,v.jsxs)("div",{style:{maxHeight:"90vh",overflow:"auto"},children:[(0,v.jsx)(w.A,{orderProducts:V,setOrderProducts:G,open:f.addProductDialog,onClose:()=>{R(e=>(0,l.A)((0,l.A)({},e),{},{addProductDialog:!1})),H(null)},products:x.products,brands:x.brand,uom:x.uom,godowns:x.godown,GST_Inclusive:D.GST_Inclusive,IS_IGST:$,editValues:Q,initialValue:(0,l.A)((0,l.A)({},y.a4),{},{Pre_Id:D.So_No}),stockInGodown:x.stockInGodown}),(0,v.jsxs)(d.A,{children:[(0,v.jsxs)("div",{className:"d-flex flex-wrap align-items-center border-bottom py-2 px-3",children:[(0,v.jsx)("span",{className:"flex-grow-1 fa-16 fw-bold",children:"Sales Invoice"}),(0,v.jsxs)("span",{children:[(0,v.jsx)(i.A,{onClick:()=>_(!1),children:(0,v.jsx)(C.A,{})}),(0,v.jsx)(c.A,{onClick:()=>Z(),variant:"contained",children:"Submit"})]})]}),(0,v.jsxs)(I.A,{children:[(0,v.jsxs)("div",{className:"row p-0",children:[(0,v.jsx)("div",{className:"col-xxl-3 col-lg-4 col-md-5 p-2",children:(0,v.jsx)("div",{className:"border p-2",style:{minHeight:"30vh",height:"100%"},children:(0,v.jsx)(k,{StaffArray:O,setStaffArray:e=>{M(e)},costCenter:x.staff,costCategory:x.staffType})})}),(0,v.jsx)("div",{className:"col-xxl-9 col-lg-8 col-md-7 py-2 px-0",children:(0,v.jsx)("div",{className:"border px-3 py-1",style:{minHeight:"30vh",height:"100%"},children:(0,v.jsx)(S.A,{invoiceInfo:D,setInvoiceInfo:F,retailers:x.retailers,branches:x.branch,voucherType:x.voucherType,stockItemLedgerName:x.stockItemLedgerName,onChangeRetailer:()=>{G([]),z([])}})})})]}),(0,v.jsx)(n.Ay,{title:"Items",headerFontSizePx:13,bodyFontSizePx:13,EnableSerialNumber:!0,disablePagination:!0,ButtonArea:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(c.A,{onClick:()=>{H(null),R(e=>(0,l.A)((0,l.A)({},e),{},{addProductDialog:!0}))},sx:{ml:1},variant:"outlined",type:"button",startIcon:(0,v.jsx)(A.A,{}),disabled:!(0,r.IQ)(D.Retailer_Id)||V.length>0&&(0,r.IQ)(D.So_No),children:"Add Product"}),(0,v.jsx)(E.A,{loadingOn:t,loadingOff:s,open:f.importFromSaleOrder,onClose:()=>R(e=>(0,l.A)((0,l.A)({},e),{},{importFromSaleOrder:!1})),retailer:null===D||void 0===D?void 0:D.Retailer_Id,selectedItems:V,setSelectedItems:G,staffArray:O,setStaffArray:M,products:x.products,GST_Inclusive:D.GST_Inclusive,IS_IGST:$,invoiceInfo:D,setInvoiceInfo:F,godowns:x.godown,stockInGodown:x.stockInGodown})]}),dataArray:[...V,...Array.from({length:X>0?X:0}).map(e=>y.a4)],columns:[(0,n.Lj)("Item_Name","string"),(0,n.Lj)("HSN_Code","string"),(0,n.Lj)("Bill_Qty","number"),(0,n.Lj)("Act_Qty","number"),(0,n.Lj)("Item_Rate","number"),{isVisible:1,ColumnHeader:"Tax",isCustomCell:!0,Cell:e=>{let{row:t}=e;const{Cgst:s=0,Sgst:l=0,Igst:a=0,Cgst_Amo:o=0,Sgst_Amo:n=0,Igst_Amo:d=0}=t,i=$?a:(0,r.Lr)(s,l),c=$?d:(0,r.Lr)(o,n);return(0,r.IQ)(null===t||void 0===t?void 0:t.Item_Id)?"".concat(c," - (").concat(i," %)"):""}},{isVisible:1,ColumnHeader:"Godown",isCustomCell:!0,Cell:e=>{var t,s;let{row:l}=e;return null!==(t=null===(s=x.godown.find(e=>(0,r.id)(e.Godown_Id,null===l||void 0===l?void 0:l.GoDown_Id)))||void 0===s?void 0:s.Godown_Name)&&void 0!==t?t:""}},(0,n.Lj)("Amount","number"),{isCustomCell:!0,Cell:e=>{let{row:t}=e;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(i.A,{onClick:()=>{H(t),R(e=>(0,l.A)((0,l.A)({},e),{},{addProductDialog:!0}))},size:"small",type:"button",disabled:!(0,r.IQ)(null===t||void 0===t?void 0:t.Item_Id),children:(0,v.jsx)(p.A,{})}),(0,v.jsx)(i.A,{size:"small",type:"button",onClick:()=>G(e=>e.filter(e=>!(0,r.id)(e.Item_Id,t.Item_Id))),color:"error",disabled:!(0,r.IQ)(null===t||void 0===t?void 0:t.Item_Id),children:(0,v.jsx)(N.A,{})})]})},ColumnHeader:"Action",isVisible:1}]}),(0,v.jsx)("br",{}),(0,v.jsx)(P.A,{invoiceExpences:B,setInvoiceExpences:z,expenceMaster:x.expence,IS_IGST:$,taxType:q}),(0,v.jsx)("br",{}),(0,v.jsx)(T.A,{invoiceProducts:V,invoiceExpences:B,isNotTaxableBill:W,isInclusive:U,IS_IGST:$,products:x.products,invoiceInfo:D,setInvoiceInfo:F})]})]})]})}):null},k=e=>{let{StaffArray:t=[],setStaffArray:s,costCenter:a=[],costCategory:o=[]}=e;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"d-flex align-items-center flex-wrap mb-2 border-bottom pb-2",children:[(0,v.jsx)("h6",{className:"flex-grow-1 m-0",children:"Staff Involved"}),(0,v.jsx)(c.A,{variant:"outlined",color:"primary",type:"button",onClick:()=>s(e=>[...e,{Involved_Emp_Id:"",EmpName:"",Cost_Center_Type_Id:"",Cost_Center_Type:""}]),children:"Add"})]}),(0,v.jsxs)("table",{className:"table table-bordered",children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:"fa-13",children:"Sno"}),(0,v.jsx)("th",{className:"fa-13",children:"Staff Name"}),(0,v.jsx)("th",{className:"fa-13",children:"Category"}),(0,v.jsx)("th",{className:"fa-13",children:"#"})]})}),(0,v.jsx)("tbody",{children:(0,r.$r)(t).map((e,n)=>{const d=e.Cost_Center_Type_Id||(e=>{const t=o.find(t=>(0,r.xL)(t.Cost_Category,e));return(null===t||void 0===t?void 0:t.Cost_Category_Id)||""})(e.Cost_Center_Type);return(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{className:"fa-13 vctr text-center",children:n+1}),(0,v.jsx)("td",{className:"fa-13 w-100 p-0",children:(0,v.jsx)(j.Ay,{value:{value:e.Involved_Emp_Id,label:e.EmpName||"Select Staff"},onChange:e=>{a.find(t=>(0,r.id)(t.Cost_Center_Id,e.value));const o=t.map((t,s)=>s===n?(0,l.A)((0,l.A)({},t),{},{Involved_Emp_Id:Number(e.value),EmpName:e.label}):t);s(o)},options:a.filter(e=>!t.some((t,s)=>s!==n&&(0,r.id)(t.Involved_Emp_Id,e.Cost_Center_Id))).map(e=>({value:e.Cost_Center_Id,label:e.Cost_Center_Name})),styles:f.MR,isSearchable:!0,placeholder:"Select Staff"})}),(0,v.jsx)("td",{className:"fa-13 vctr p-0",style:{maxWidth:"130px",minWidth:"100px"},children:(0,v.jsxs)("select",{value:d,onChange:e=>{const a=o.find(t=>(0,r.id)(t.Cost_Category_Id,e.target.value)),d=t.map((t,s)=>s===n?(0,l.A)((0,l.A)({},t),{},{Cost_Center_Type_Id:e.target.value,Cost_Center_Type:(null===a||void 0===a?void 0:a.Cost_Category)||""}):t);s(d)},className:"cus-inpt p-2 border-0",children:[(0,v.jsx)("option",{value:"",children:"Select"}),o.map((e,t)=>(0,v.jsx)("option",{value:e.Cost_Category_Id,children:e.Cost_Category},t))]})}),(0,v.jsx)("td",{className:"fa-13 vctr p-0",children:(0,v.jsx)(i.A,{onClick:()=>{const e=t.filter((e,t)=>t!==n);s(e)},size:"small",children:(0,v.jsx)(N.A,{color:"error"})})})]},n)})})]})]})};var D=s(73216);const F=e=>{let{loadingOn:t,loadingOff:s}=e;const[m,g]=(0,a.useState)({FromDate:(new Date).toISOString().split("T")[0],ToDate:(new Date).toISOString().split("T")[0],refresh:!1,search:""}),[I,j]=(0,a.useState)(""),[f,C]=(0,a.useState)([]),[A,N]=(0,a.useState)(!1),[b,y]=(0,a.useState)(!1),[S,T]=(0,a.useState)(!1),[w,E]=(0,a.useState)(null),P=((0,D.Zp)(),e=>{E(e),T(!0)});(0,a.useEffect)(()=>{(async()=>{y(!0),t&&t();try{const e=await(0,o.z)({address:"sales/presaleOrder/getList?FromDate=".concat(m.FromDate,"&ToDate=").concat(m.ToDate)});e.success&&C(e.data)}catch(e){console.error(e)}finally{y(!1),s&&s()}})()},[m.FromDate,m.ToDate,m.refresh]);const L=e=>String(e).toLowerCase().replace(/\s+/g," ").replace(/[^a-z0-9]/gi,"").trim(),k=(0,a.useMemo)(()=>{const e=L(m.search||"");return f.filter(t=>{let s=[];for(let e in t)"ProductList"!==e&&s.push(t[e]);Array.isArray(t.ProductList)&&t.ProductList.forEach(e=>{s.push(...Object.values(e))});return L(s.join(" ")).includes(e)})},[m.search,f]),F=e=>{var t,s;let{row:l}=e;return(0,v.jsx)(v.Fragment,{children:(null===l||void 0===l||null===(t=l.ProductList)||void 0===t?void 0:t.length)>0&&(0,v.jsxs)("table",{className:"table",children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:"border p-2 bg-light",children:"S_No"}),(0,v.jsx)("th",{className:"border p-2 bg-light",children:"Item_Id"}),(0,v.jsx)("th",{className:"border p-2 bg-light",children:"Product_Name"}),(0,v.jsx)("th",{className:"border p-2 bg-light",children:"Bill_Qty"}),(0,v.jsx)("th",{className:"border p-2 bg-light",children:"Item_Rate"}),(0,v.jsx)("th",{className:"border p-2 bg-light",children:"Unit_Id"}),(0,v.jsx)("th",{className:"border p-2 bg-light",children:"Unit_Name"}),(0,v.jsx)("th",{className:"border p-2 bg-light",children:"Amount"})]})}),(0,v.jsx)("tbody",{children:null===l||void 0===l||null===(s=l.ProductList)||void 0===s?void 0:s.map((e,t)=>(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{className:"border p-2",children:null===e||void 0===e?void 0:e.S_No}),(0,v.jsx)("td",{className:"border p-2",children:null===e||void 0===e?void 0:e.Item_Id}),(0,v.jsx)("td",{className:"border p-2",children:null===e||void 0===e?void 0:e.Product_Name}),(0,v.jsx)("td",{className:"border p-2",children:null===e||void 0===e?void 0:e.Bill_Qty}),(0,v.jsx)("td",{className:"border p-2",children:null===e||void 0===e?void 0:e.Item_Rate}),(0,v.jsx)("td",{className:"border p-2",children:null===e||void 0===e?void 0:e.Unit_Id}),(0,v.jsx)("td",{className:"border p-2",children:null===e||void 0===e?void 0:e.Unit_Name}),(0,v.jsx)("td",{className:"border p-2",children:null===e||void 0===e?void 0:e.Amount})]},t))})]})})},V=e=>{t();const a=Array.isArray(e.ProductList)?e.ProductList.filter(e=>(0,r.D)(null===e||void 0===e?void 0:e.Bill_Qty,0)).map(t=>{const s=(e=>{const t=null===e||void 0===e?void 0:e.match(/(\d+)\s?kg/i);return t?parseInt(t[1]):1})(null===t||void 0===t?void 0:t.Product_Name);return(0,l.A)((0,l.A)({},t),{},{Pre_Id:null===e||void 0===e?void 0:e.Pre_Id,Bill_Qty:s*(null===t||void 0===t?void 0:t.Bill_Qty),Total_Qty:null===t||void 0===t?void 0:t.Bill_Qty})}):[],n=(e=>{const t=[];return e.Broker_Id&&0!==e.Broker_Id&&t.push({Id:"",So_Id:"",Emp_Id:e.Broker_Id,Emp_Type_Id:e.Broker_Type||0}),e.Transporter_Id&&0!==e.Transporter_Id&&t.push({Id:"",Do_Id:"",Emp_Id:e.Transporter_Id,Emp_Type_Id:e.TrasnportType||0}),t.filter(e=>0!==e.Emp_Type_Id)})(e),d=(0,l.A)((0,l.A)({},e),{},{Product_Array:a,Retailer_Id:null===e||void 0===e?void 0:e.Custome_Id,Staffs_Array:n});(0,o.z)({address:"sales/presaleOrder/saleOrderCreationWithPso",method:0!==(null===e||void 0===e?void 0:e.isConverted)?"PUT":"POST",bodyData:d}).then(e=>{e.success?(u.oR.success(null===e||void 0===e?void 0:e.message),N(!0)):u.oR.error(null===e||void 0===e?void 0:e.message)}).catch(()=>{u.oR.error("Something went wrong!")}).finally(()=>s())};return(0,a.useEffect)(()=>{A&&(0,o.z)({address:"sales/presaleOrder/getList?FromDate=".concat(m.FromDate,"&ToDate=").concat(m.ToDate)}).then(e=>{e.success&&C(e.data)}).catch(e=>console.error(e)).finally(()=>N(!1))},[A,m.FromDate,m.ToDate]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(d.A,{children:[(0,v.jsx)("div",{className:"px-3 py-2 fa-14",children:(0,v.jsxs)("div",{className:"d-flex flex-wrap align-items-center",children:[(0,v.jsx)("td",{style:{verticalAlign:"middle"},children:"From"}),(0,v.jsx)("td",{children:(0,v.jsx)("input",{type:"date",value:m.FromDate,onChange:e=>g((0,l.A)((0,l.A)({},m),{},{FromDate:e.target.value})),className:"cus-inpt"})}),(0,v.jsx)("td",{style:{verticalAlign:"middle"},children:"To"}),(0,v.jsx)("td",{children:(0,v.jsx)("input",{type:"date",value:m.ToDate,onChange:e=>g((0,l.A)((0,l.A)({},m),{},{ToDate:e.target.value})),className:"cus-inpt"})}),(0,v.jsx)(i.A,{size:"small",onClick:()=>{g(e=>(0,l.A)((0,l.A)({},e),{},{viewNotSynced:!e.viewNotSynced}))}})]})}),m.search?(0,v.jsx)(n.Ay,{title:"Pre-Sale Order List",bodyFontSizePx:11,headerFontSizePx:11,dataArray:k,columns:[(0,n.Lj)("Pre_Id","string","Pre_Id"),{Field_Name:"Pre_Date",ColumnHeader:"Pre_Date",isVisible:1,isCustomCell:!0,Cell:e=>{let{row:t}=e;return(0,v.jsx)("td",{className:"fa-12",style:{minWidth:"80px"},children:null===t||void 0===t?void 0:t.Pre_Date.split("T")[0]})}},(0,n.Lj)("Retailer_Name","string","Retailer_Name"),(0,n.Lj)("Broker_Name","string","Broker_Name"),(0,n.Lj)("Transporter_Name","string","Transporter_Name"),(0,n.Lj)("Total_Invoice_value","string","Total_Invoice_value"),{ColumnHeader:"Status",isVisible:1,align:"center",isCustomCell:!0,Cell:e=>{var t,s;let{row:l}=e;const a=h.T.find(e=>e.id===Number(null===l||void 0===l?void 0:l.isConverted));return(0,v.jsx)("span",{className:null!==(t="py-0 fw-bold px-2 rounded-4 fa-12 "+(null===a||void 0===a?void 0:a.color))&&void 0!==t?t:"bg-secondary text-white",children:null!==(s=null===a||void 0===a?void 0:a.label)&&void 0!==s?s:"Undefined"})}},{Field_Name:"Actions",ColumnHeader:"Actions",isVisible:1,isCustomCell:!0,Cell:e=>{let{row:t}=e;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("td",{className:"fa-12",style:{minWidth:"80px"},children:(0,v.jsx)(i.A,{size:"small",onClick:()=>V(t),children:0===(null===t||void 0===t?void 0:t.isConverted)?(0,v.jsx)(_,{}):(0,v.jsx)(p.A,{})})}),(0,v.jsx)("td",{className:"fa-12",style:{minWidth:"80px"},children:(0,v.jsx)(i.A,{size:"small",onClick:()=>P(t),children:(0,v.jsx)(x.A,{})})})]})}}],isExpendable:!0,tableMaxHeight:550,expandableComp:F,ButtonArea:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(c.A,{sx:{ml:1},variant:"outlined",onClick:()=>g(e=>(0,l.A)((0,l.A)({},e),{},{search:I})),children:"Search"}),(0,v.jsx)("input",{type:"search",className:"cus-inpt p-1 w-auto",value:I,onChange:e=>j(e.target.value),placeholder:"Search.."})]})}):(0,v.jsx)(n.Ay,{title:"Pre-Sale Order List",bodyFontSizePx:11,headerFontSizePx:11,dataArray:f,columns:[(0,n.Lj)("Pre_Id","string","Pre_Id"),{Field_Name:"Pre_Date",ColumnHeader:"Pre_Date",isVisible:1,isCustomCell:!0,Cell:e=>{let{row:t}=e;return(0,v.jsx)("td",{className:"fa-12",style:{minWidth:"80px"},children:null===t||void 0===t?void 0:t.Pre_Date.split("T")[0]})}},(0,n.Lj)("Retailer_Name","string","Retailer_Name"),(0,n.Lj)("Broker_Name","string","Broker_Name"),(0,n.Lj)("Transporter_Name","string","Transporter_Name"),(0,n.Lj)("Total_Invoice_value","string","Total_Invoice_value"),{ColumnHeader:"Status",isVisible:1,align:"center",isCustomCell:!0,Cell:e=>{var t,s;let{row:l}=e;const a=h.T.find(e=>e.id===Number(null===l||void 0===l?void 0:l.isConverted));return(0,v.jsx)("span",{className:null!==(t="py-0 fw-bold px-2 rounded-4 fa-12 "+(null===a||void 0===a?void 0:a.color))&&void 0!==t?t:"bg-secondary text-white",children:null!==(s=null===a||void 0===a?void 0:a.label)&&void 0!==s?s:"Undefined"})}},{Field_Name:"Actions",ColumnHeader:"Actions",isVisible:1,isCustomCell:!0,Cell:e=>{let{row:t}=e;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("td",{className:"fa-12",style:{minWidth:"50px"},children:(0,v.jsx)(i.A,{size:"small",onClick:()=>V(t),children:0===(null===t||void 0===t?void 0:t.isConverted)?(0,v.jsx)(_,{}):(0,v.jsx)(p.A,{})})}),2!=(null===t||void 0===t?void 0:t.isConverted)&&(0,v.jsx)("td",{className:"fa-12",style:{minWidth:"50px"},children:(0,v.jsx)(i.A,{size:"small",onClick:()=>P(t),children:(0,v.jsx)(x.A,{})})})]})}}],isExpendable:!0,tableMaxHeight:550,expandableComp:F,ButtonArea:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(c.A,{sx:{ml:1},variant:"outlined",onClick:()=>g(e=>(0,l.A)((0,l.A)({},e),{},{search:I})),children:"Search"}),(0,v.jsx)("input",{type:"search",className:"cus-inpt p-1 w-auto",value:I,onChange:e=>j(e.target.value),placeholder:"Search.."})]})})]}),(0,v.jsx)(R,{open:S,onClose:e=>{T(!1),e&&N(!0)},editValues:w,loadingOn:t,loadingOff:s})]})}}}]);
//# sourceMappingURL=1078.4f9b687a.chunk.js.map