"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[1614,2110,9729],{11614:(e,l,t)=>{t.r(l),t.d(l,{default:()=>_});var n=t(89379),a=t(65043),r=t(81e3),o=t(85865),s=t(68903),d=t(12110),i=t(11906),c=t(26494),u=t(77739),m=t(83462),b=t(26600),p=t(35316),h=t(29347),x=t(38463),A=t(65829),v=t(55434),y=t(37141),N=t(97707),g=t(91036),f=t(73216),I=t(45777),j=t(65074),C=t(20656),S=t(70579);const _=()=>{const e=JSON.parse(localStorage.getItem("user")),l=(0,f.Zp)(),{contextObj:t}=(0,a.useContext)(I.i),_=(0,f.zy)().state,T={Report_Type_Id:"",reportName:"",tables:[],tableJoins:[],currentTab:"",createdBy:null===e||void 0===e?void 0:e.UserId},[F,R]=(0,a.useState)([]),[w,L]=(0,a.useState)(T),[k,E]=(0,a.useState)([]),[M,B]=(0,a.useState)([]),[D,O]=(0,a.useState)(!1),[z,W]=(0,a.useState)([]),[G,P]=(0,a.useState)([{slot:1,enabled:!1,tableId:null,columnName:null,type:1},{slot:2,enabled:!1,tableId:null,columnName:null,type:2},{slot:3,enabled:!1,tableId:null,columnName:null,type:3}]),[H,J]=(0,a.useState)([{slot:1,enabled:!1,tableId:null,columnName:null,type:4},{slot:2,enabled:!1,tableId:null,columnName:null,type:5},{slot:3,enabled:!1,tableId:null,columnName:null,type:6}]),[U,K]=(0,a.useState)([{slot:1,enabled:!1,tableId:null,columnName:null,type:7}]),[V,q]=(0,a.useState)([]),[Z,Q]=(0,a.useState)(!1),X=k.filter(e=>{var l,t;return(null===(l=e.Table_Name)||void 0===l?void 0:l.toLowerCase().includes("los"))||(null===(t=e.AliasName)||void 0===t?void 0:t.toLowerCase().includes("los"))});(0,a.useEffect)(()=>{Y()},[]);const Y=async()=>{try{O(!0);const e=await(0,j.z)({address:"reports/templateMobile",method:"GET"});if(null!==e&&void 0!==e&&e.success){const l=(null===e||void 0===e?void 0:e.data)||[],t=[...new Set(l.map(e=>e.Report_Name).filter(e=>e))];B(t);const n=t.map(e=>({value:e,label:e}));W(n)}}catch(e){console.error("Error fetching existing reports:",e),g.oR.error("Failed to load existing reports")}finally{O(!1)}};(0,a.useEffect)(()=>{const l=null===_||void 0===_?void 0:_.ReportState;if((0,N.aF)(l)){var t;const a=null!==(t=null===l||void 0===l?void 0:l.reportName)&&void 0!==t?t:"";if(L(t=>{var r,o;return(0,n.A)((0,n.A)({},t),{},{Report_Type_Id:null!==(r=null===l||void 0===l?void 0:l.Report_Type_Id)&&void 0!==r?r:"",reportName:a,tables:[...(null===l||void 0===l?void 0:l.tables)||[]],createdBy:null!==(o=null===l||void 0===l?void 0:l.createdBy)&&void 0!==o?o:null===e||void 0===e?void 0:e.UserId})}),a&&!z.some(e=>e.value===a)){const e={value:a,label:a};W(l=>[...l,e]),B(e=>[...e,a])}const r=(null===l||void 0===l?void 0:l.GroupFilter)||[];r.length>0&&K(e=>{const l=[...e];return r.forEach((e,t)=>{t<l.length&&(l[t]=(0,n.A)((0,n.A)({},l[t]),{},{enabled:!0,tableId:e.Table_Id,columnName:e.Column_Name,type:e.Type||7}))}),l})}},[null===_||void 0===_?void 0:_.ReportState,null===e||void 0===e?void 0:e.UserId]),(0,a.useEffect)(()=>{(0,j.z)({address:"reports/tablesAndColumnsMobile"}).then(e=>{null!==e&&void 0!==e&&e.success&&E((null===e||void 0===e?void 0:e.data)||[])}).catch(e=>console.error(e))},[]),(0,a.useEffect)(()=>{if(!w.tables||0===w.tables.length)return;const e=[],l=new Set;w.tables.forEach(t=>{var n;null===(n=t.columns)||void 0===n||n.forEach(n=>{if(n.Type){(Array.isArray(n.Type)?n.Type:[n.Type]).forEach(a=>{if(a&&(e.push({type:Number(a),tableId:t.Table_Id,columnName:n.Column_Name,listType:n.List_Type,level:n.Level}),n.List_Type)){String(n.List_Type).split(",").map(e=>Number(e.trim())).filter(e=>!isNaN(e)).forEach(e=>l.add(e))}})}})});const t=e.filter(e=>1===e.level||e.type>=1&&e.type<=3),a=e.filter(e=>2===e.level||e.type>=4&&e.type<=6),r=e.filter(e=>7===e.type);t.length>0&&P(e=>{const l=e.map(e=>(0,n.A)((0,n.A)({},e),{},{enabled:!1,tableId:null,columnName:null}));return t.forEach(e=>{const t=l.findIndex(l=>l.type===e.type);-1!==t&&(l[t]=(0,n.A)((0,n.A)({},l[t]),{},{enabled:!0,tableId:e.tableId,columnName:e.columnName}))}),l}),a.length>0&&J(e=>{const l=e.map(e=>(0,n.A)((0,n.A)({},e),{},{enabled:!1,tableId:null,columnName:null}));return a.forEach(e=>{const t=l.findIndex(l=>l.type===e.type);-1!==t&&(l[t]=(0,n.A)((0,n.A)({},l[t]),{},{enabled:!0,tableId:e.tableId,columnName:e.columnName}))}),l}),r.length>0&&K(e=>{const l=e.map(e=>(0,n.A)((0,n.A)({},e),{},{enabled:!1,tableId:null,columnName:null}));return r.forEach(e=>{const t=l.findIndex(l=>l.type===e.type);-1!==t&&(l[t]=(0,n.A)((0,n.A)({},l[t]),{},{enabled:!0,tableId:e.tableId,columnName:e.columnName}))}),l}),l.size>0?q(Array.from(l)):q([1])},[w.tables]);const $=e=>{if(!e)return[];const l=w.tables.find(l=>String(l.Table_Id)===String(e));if(l&&Array.isArray(l.columns)&&l.columns.length)return l.columns;const t=k.find(l=>String(l.Table_Id)===String(e));return t&&Array.isArray(t.Columns)?t.Columns.map(e=>{var l,t,n,a,r,o;return{Column_Name:e.Column_Name,Column_Data_Type:null!==(l=null!==(t=e.Column_Data_Type)&&void 0!==t?t:null===e||void 0===e?void 0:e.Column_Data_Type)&&void 0!==l?l:"string",IS_Default:null!==(n=null!==(a=e.IS_Default)&&void 0!==a?a:null===e||void 0===e?void 0:e.IS_Default)&&void 0!==n?n:0,IS_Join_Key:null!==(r=null!==(o=e.IS_Join_Key)&&void 0!==o?o:null===e||void 0===e?void 0:e.IS_Join_Key)&&void 0!==r?r:0}}):[]},ee=(e,l,t,n,a)=>{let r;r="level1"===n?G:"level2"===n?H:U;const o=r.some((n,a)=>!!n.enabled&&(a!==t&&(String(n.tableId)===String(e)&&String(n.columnName)===String(l)))),s=[..."level1"===n?[]:G,..."level2"===n?[]:H,..."group"===n?[]:U].some(t=>!!t.enabled&&(String(t.tableId)===String(e)&&String(t.columnName)===String(l)));return o||s},le=G.reduce((e,l)=>e+(l.enabled&&l.tableId?1:0),0),te=G.reduce((e,l)=>e+(l.enabled&&l.columnName?1:0),0),ne=H.reduce((e,l)=>e+(l.enabled&&l.tableId?1:0),0),ae=H.reduce((e,l)=>e+(l.enabled&&l.columnName?1:0),0),re=U.reduce((e,l)=>e+(l.enabled&&l.tableId?1:0),0),oe=le+ne+re,se=te+ae+U.reduce((e,l)=>e+(l.enabled&&l.columnName?1:0),0),de=async()=>{const{details:t,groupFilterDetails:a}=(()=>{const e=[],l=[];return G.forEach(l=>{if(!l.enabled)return;if(!l.tableId||!l.columnName)return;const t=0===V.length?"1":V.join(",");e.push({Type:Number(l.type),Table_Id:Number(l.tableId),Column_Name:l.columnName,List_Type:t,Level:1})}),H.forEach(l=>{if(!l.enabled)return;if(!l.tableId||!l.columnName)return;const t=0===V.length?"1":V.join(",");e.push({Type:Number(l.type),Table_Id:Number(l.tableId),Column_Name:l.columnName,List_Type:t,Level:2})}),U.forEach(e=>{if(!e.enabled)return;if(!e.tableId||!e.columnName)return;const t=0===V.length?"1":V.join(",");l.push({Type:Number(e.type),Table_Id:Number(e.tableId),Column_Name:e.columnName,List_Type:t,Level:3})}),{details:e,groupFilterDetails:l}})();if(0===t.length&&0===a.length)return void g.oR.error("Assign at least one filter slot (table + column) before saving");if(!w.reportName||""===String(w.reportName).trim())return void g.oR.error("Report name is required");const r=(0,n.A)({Report_Type_Id:(null===w||void 0===w?void 0:w.Report_Type_Id)||null,reportName:w.reportName,createdBy:w.createdBy,updatedBy:null===e||void 0===e?void 0:e.UserId,details:t},a.length>0&&{GroupFilter:a});try{const e=await(0,j.z)({address:"reports/templateMobile",method:null!==w&&void 0!==w&&w.Report_Type_Id?"PUT":"POST",bodyData:r});null!==e&&void 0!==e&&e.success?(g.oR.success(e.message),L(T),P([{slot:1,enabled:!1,tableId:null,columnName:null,type:1},{slot:2,enabled:!1,tableId:null,columnName:null,type:2},{slot:3,enabled:!1,tableId:null,columnName:null,type:3}]),J([{slot:1,enabled:!1,tableId:null,columnName:null,type:4},{slot:2,enabled:!1,tableId:null,columnName:null,type:5},{slot:3,enabled:!1,tableId:null,columnName:null,type:6}]),K([{slot:1,enabled:!1,tableId:null,columnName:null,type:7}]),q([]),l(-1)):g.oR.error((null===e||void 0===e?void 0:e.message)||"Failed to save")}catch(o){console.error(o),g.oR.error("Error saving template")}},ie=G.some(e=>e.enabled&&e.tableId&&e.columnName)||H.some(e=>e.enabled&&e.tableId&&e.columnName)||U.some(e=>e.enabled&&e.tableId&&e.columnName);if(!(0,N.id)(null===t||void 0===t?void 0:t.Add_Rights,1))return null;const ce=(e,l,t)=>(0,S.jsxs)(r.A,{className:"mt-3 p-3 border rounded",sx:{background:"#FBFCFD"},children:[(0,S.jsx)(o.A,{variant:"subtitle1",fontWeight:700,gutterBottom:!0,children:e}),(0,S.jsx)(s.Ay,{container:!0,spacing:3,children:l.map((e,l)=>{var a,d;const i="group"===t?"Group Filter":"Filter ".concat(e.slot),c="group"===t?X:k;return(0,S.jsxs)(s.Ay,{item:!0,xs:4,children:[(0,S.jsx)(r.A,{sx:{display:"flex",alignItems:"center",p:1.5,mb:1,borderRadius:1,background:"#fff",border:"1px solid #e0e0e0",minHeight:"60px"},children:(0,S.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:10,width:"100%"},children:[(0,S.jsx)("input",{type:"checkbox",checked:e.enabled,onChange:()=>((e,l)=>{"level1"===l?P(l=>{const t=[...l],a=!t[e].enabled;return t[e]=(0,n.A)((0,n.A)({},t[e]),{},{enabled:a,tableId:a?t[e].tableId:null,columnName:a?t[e].columnName:null}),t}):"level2"===l?J(l=>{const t=[...l],a=!t[e].enabled;return t[e]=(0,n.A)((0,n.A)({},t[e]),{},{enabled:a,tableId:a?t[e].tableId:null,columnName:a?t[e].columnName:null}),t}):K(l=>{const t=[...l],a=!t[e].enabled;return t[e]=(0,n.A)((0,n.A)({},t[e]),{},{enabled:a,tableId:a?t[e].tableId:null,columnName:a?t[e].columnName:null}),t})})(l,t),style:{width:"18px",height:"18px"}}),(0,S.jsx)(o.A,{variant:"subtitle1",fontWeight:600,children:i})]})}),e.enabled?(0,S.jsxs)(r.A,{sx:{display:"flex",flexDirection:"column",gap:1.5},children:[(0,S.jsxs)(r.A,{children:[(0,S.jsx)(o.A,{variant:"caption",color:"textSecondary",sx:{mb:.5,display:"block"},children:"Table"}),(0,S.jsxs)("select",{className:"cus-inpt",value:null!==(a=e.tableId)&&void 0!==a?a:"",onChange:e=>{const a=e.target.value||null;"level1"===t?P(e=>{const t=[...e];return t[l]=(0,n.A)((0,n.A)({},t[l]),{},{tableId:a,columnName:null}),t}):"level2"===t?J(e=>{const t=[...e];return t[l]=(0,n.A)((0,n.A)({},t[l]),{},{tableId:a,columnName:null}),t}):K(e=>{const t=[...e];return t[l]=(0,n.A)((0,n.A)({},t[l]),{},{tableId:a,columnName:null}),t})},style:{width:"100%"},children:[(0,S.jsx)("option",{value:"",children:"Select table"}),c.map((e,l)=>(0,S.jsxs)("option",{value:e.Table_Id,children:[e.AliasName||e.Table_Name,"group"===t&&" (LOS)"]},l)),"group"===t&&0===c.length&&(0,S.jsx)("option",{value:"",disabled:!0,children:"No LOS tables found"})]}),"group"===t&&(0,S.jsx)(o.A,{variant:"caption",color:"textSecondary",sx:{mt:.5,display:"block"},children:"Only LOS tables are shown for group filter"})]}),(0,S.jsxs)(r.A,{children:[(0,S.jsx)(o.A,{variant:"caption",color:"textSecondary",sx:{mb:.5,display:"block"},children:"Column"}),(0,S.jsxs)("select",{className:"cus-inpt",value:null!==(d=e.columnName)&&void 0!==d?d:"",disabled:!e.tableId,onChange:a=>{const r=a.target.value||null;r&&ee(e.tableId,r,l,t,e.type)?g.oR.error("Column already assigned to another filter slot. Choose a different column."):"level1"===t?P(e=>{const t=[...e];return t[l]=(0,n.A)((0,n.A)({},t[l]),{},{columnName:r}),t}):"level2"===t?J(e=>{const t=[...e];return t[l]=(0,n.A)((0,n.A)({},t[l]),{},{columnName:r}),t}):K(e=>{const t=[...e];return t[l]=(0,n.A)((0,n.A)({},t[l]),{},{columnName:r}),t})},style:{width:"100%"},children:[(0,S.jsx)("option",{value:"",children:"Select column"}),e.tableId&&$(e.tableId).map((n,a)=>{const r=ee(e.tableId,n.Column_Name,l,t,e.type),o=e.columnName===n.Column_Name,s=o||!r;return(0,S.jsxs)("option",{value:n.Column_Name,disabled:!s,style:{color:s?"inherit":"#999",backgroundColor:s?"inherit":"#f5f5f5",fontStyle:s?"normal":"italic"},children:[n.Column_Name,n.Column_Data_Type?" (".concat(n.Column_Data_Type,")"):"",r&&!o?" (Already used)":""]},a)})]})]})]}):(0,S.jsx)(r.A,{sx:{display:"flex",alignItems:"center",justifyContent:"center",p:3,borderRadius:1,background:"#f8f9fa",border:"1px dashed #dee2e6",color:"#6c757d",textAlign:"center",minHeight:"120px"},children:(0,S.jsxs)(o.A,{variant:"body2",children:["Enable ",i," to configure"]})})]},e.type)})})]});return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(d.A,{children:[(0,S.jsxs)("div",{className:"p-2 border-bottom fa-16 fw-bold d-flex justify-content-between align-items-center",children:[(0,S.jsx)("span",{className:"text-primary text-uppercase ps-3",children:null!==w&&void 0!==w&&w.Report_Type_Id?"Modify Mobile Template":"Mobile Template Creation"}),(0,S.jsx)(i.A,{variant:"outlined",onClick:()=>l(-1),startIcon:(0,S.jsx)(A.A,{}),children:"Back"})]}),(0,S.jsxs)(c.A,{children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"w-100",children:"Report Name"}),(0,S.jsx)(C.Ay,{value:w.reportName?{value:w.reportName,label:w.reportName}:null,onChange:e=>{L((0,n.A)((0,n.A)({},w),{},{reportName:e?e.value:""}))},options:z,placeholder:D?"Loading reports...":"Select or type to search...",isClearable:!0,isSearchable:!0,isLoading:D,noOptionsMessage:e=>{let{inputValue:l}=e;return l?'Press Enter to create "'.concat(l,'"'):"No options available"},formatCreateLabel:e=>'Create "'.concat(e,'"'),onCreateOption:e=>{if(!z.some(l=>l.value.toLowerCase()===e.toLowerCase())){const l={value:e,label:e};W(e=>[...e,l]),B(l=>[...l,e])}L((0,n.A)((0,n.A)({},w),{},{reportName:e}))},styles:{control:e=>(0,n.A)((0,n.A)({},e),{},{width:"600px",border:"1px solid #ccc",borderRadius:"4px",minHeight:"36px"}),menu:e=>(0,n.A)((0,n.A)({},e),{},{width:"300px"})}})]}),(0,S.jsx)("div",{className:"p-2 mt-3 border rounded-3 d-inline-block",children:(0,S.jsx)("table",{children:(0,S.jsxs)("tbody",{children:[(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{className:"border-end",children:"Total Filters Assigned"}),(0,S.jsx)("td",{className:"px-2 blue-text",children:oe})]}),(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{className:"border-end",children:"Total Columns Assigned"}),(0,S.jsx)("td",{className:"px-2 blue-text",children:se})]}),(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{className:"border-end",children:"Level 1 Filters"}),(0,S.jsx)("td",{className:"px-2 blue-text",children:le})]}),(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{className:"border-end",children:"Level 2 Filters"}),(0,S.jsx)("td",{className:"px-2 blue-text",children:ne})]}),(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{className:"border-end",children:"Group Filters"}),(0,S.jsx)("td",{className:"px-2 blue-text",children:re})]})]})})}),ce("Level 1 Filters",G,"level1"),ce("Level 2 Filters",H,"level2"),ce("Group Filter",U,"group"),(0,S.jsxs)(r.A,{className:"mt-3 d-flex align-items-center",sx:{gap:2},children:[(0,S.jsx)(o.A,{fontWeight:700,children:"List Type:"}),(0,S.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:6},children:[(0,S.jsx)("input",{type:"checkbox",checked:V.includes(1),onChange:e=>{e.target.checked?q(e=>[...e,1]):q(e=>e.filter(e=>1!==e))}}),(0,S.jsx)("span",{children:"Sum"})]}),(0,S.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:6},children:[(0,S.jsx)("input",{type:"checkbox",checked:V.includes(2),onChange:e=>{e.target.checked?q(e=>[...e,2]):q(e=>e.filter(e=>2!==e))}}),(0,S.jsx)("span",{children:"Avg"})]})]}),(0,S.jsxs)(r.A,{className:"mt-4 d-flex justify-content-end",sx:{gap:2},children:[(0,S.jsx)(i.A,{variant:"outlined",onClick:()=>{P([{slot:1,enabled:!1,tableId:null,columnName:null,type:1},{slot:2,enabled:!1,tableId:null,columnName:null,type:2},{slot:3,enabled:!1,tableId:null,columnName:null,type:3}]),J([{slot:1,enabled:!1,tableId:null,columnName:null,type:4},{slot:2,enabled:!1,tableId:null,columnName:null,type:5},{slot:3,enabled:!1,tableId:null,columnName:null,type:6}]),K([{slot:1,enabled:!1,tableId:null,columnName:null,type:7}]),q([])},children:"Reset All"}),(0,S.jsx)(u.A,{title:ie?"":"Assign at least one slot to Preview",children:(0,S.jsx)("span",{children:(0,S.jsx)(i.A,{variant:"outlined",startIcon:(0,S.jsx)(v.A,{}),disabled:!ie,onClick:()=>Q(!0),children:"Preview"})})}),(0,S.jsx)(i.A,{variant:"contained",startIcon:(0,S.jsx)(y.A,{}),onClick:de,children:"Submit"})]})]})]}),(0,S.jsxs)(m.A,{open:Z,onClose:()=>Q(!1),fullWidth:!0,maxWidth:"md",children:[(0,S.jsx)(b.A,{children:"Preview - Template Configuration"}),(0,S.jsxs)(p.A,{dividers:!0,children:[(0,S.jsxs)(o.A,{variant:"subtitle1",fontWeight:700,gutterBottom:!0,children:["Report: ",w.reportName||"\u2014"]}),(0,S.jsxs)(r.A,{sx:{mb:2},children:[0===G.filter(e=>e.enabled&&e.tableId&&e.columnName).length&&0===H.filter(e=>e.enabled&&e.tableId&&e.columnName).length&&0===U.filter(e=>e.enabled&&e.tableId&&e.columnName).length&&(0,S.jsx)(o.A,{children:"No filter assigned yet."}),G.filter(e=>e.enabled&&e.tableId&&e.columnName).length>0&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(o.A,{variant:"subtitle2",fontWeight:700,sx:{mt:2,mb:1},children:"Level 1 Filters:"}),G.filter(e=>e.enabled&&e.tableId&&e.columnName).map((e,l)=>{const t=k.find(l=>String(l.Table_Id)===String(e.tableId)),n=t?t.AliasName||t.Table_Name:"Table ".concat(e.tableId),a=0===V.length?"\u2014":2===V.length?"Sum & Avg":1===V[0]?"Sum":"Avg",o="Filter ".concat(e.slot);return(0,S.jsx)(r.A,{sx:{p:1,borderRadius:1,background:"#F7F9FB",mb:1},children:(0,S.jsxs)(s.Ay,{container:!0,alignItems:"center",children:[(0,S.jsx)(s.Ay,{item:!0,xs:12,md:3,children:(0,S.jsx)("strong",{children:o})}),(0,S.jsx)(s.Ay,{item:!0,xs:12,md:4,children:n}),(0,S.jsx)(s.Ay,{item:!0,xs:12,md:3,children:e.columnName}),(0,S.jsx)(s.Ay,{item:!0,xs:12,md:2,style:{textAlign:"right"},children:a})]})},e.type)})]}),H.filter(e=>e.enabled&&e.tableId&&e.columnName).length>0&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(o.A,{variant:"subtitle2",fontWeight:700,sx:{mt:2,mb:1},children:"Level 2 Filters:"}),H.filter(e=>e.enabled&&e.tableId&&e.columnName).map((e,l)=>{const t=k.find(l=>String(l.Table_Id)===String(e.tableId)),n=t?t.AliasName||t.Table_Name:"Table ".concat(e.tableId),a=0===V.length?"\u2014":2===V.length?"Sum & Avg":1===V[0]?"Sum":"Avg",o="Filter ".concat(e.slot);return(0,S.jsx)(r.A,{sx:{p:1,borderRadius:1,background:"#F7F9FB",mb:1},children:(0,S.jsxs)(s.Ay,{container:!0,alignItems:"center",children:[(0,S.jsx)(s.Ay,{item:!0,xs:12,md:3,children:(0,S.jsx)("strong",{children:o})}),(0,S.jsx)(s.Ay,{item:!0,xs:12,md:4,children:n}),(0,S.jsx)(s.Ay,{item:!0,xs:12,md:3,children:e.columnName}),(0,S.jsx)(s.Ay,{item:!0,xs:12,md:2,style:{textAlign:"right"},children:a})]})},e.type)})]}),U.filter(e=>e.enabled&&e.tableId&&e.columnName).length>0&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(o.A,{variant:"subtitle2",fontWeight:700,sx:{mt:2,mb:1},children:"Group Filter:"}),U.filter(e=>e.enabled&&e.tableId&&e.columnName).map((e,l)=>{var t,n;const a=k.find(l=>String(l.Table_Id)===String(e.tableId)),o=a?a.AliasName||a.Table_Name:"Table ".concat(e.tableId),d=0===V.length?"\u2014":2===V.length?"Sum & Avg":1===V[0]?"Sum":"Avg";return(0,S.jsx)(r.A,{sx:{p:1,borderRadius:1,background:"#F7F9FB",mb:1},children:(0,S.jsxs)(s.Ay,{container:!0,alignItems:"center",children:[(0,S.jsx)(s.Ay,{item:!0,xs:12,md:3,children:(0,S.jsx)("strong",{children:"Group Filter"})}),(0,S.jsxs)(s.Ay,{item:!0,xs:12,md:4,children:[o," ",a&&((null===(t=a.Table_Name)||void 0===t?void 0:t.toLowerCase().includes("los"))||(null===(n=a.AliasName)||void 0===n?void 0:n.toLowerCase().includes("los")))&&"(LOS)"]}),(0,S.jsx)(s.Ay,{item:!0,xs:12,md:3,children:e.columnName}),(0,S.jsx)(s.Ay,{item:!0,xs:12,md:2,style:{textAlign:"right"},children:d})]})},e.type)})]})]}),(0,S.jsx)(o.A,{variant:"caption",color:"textSecondary",children:"Note: Columns already used in other filter slots are disabled to prevent duplicates."})]}),(0,S.jsxs)(h.A,{children:[(0,S.jsx)(i.A,{onClick:()=>Q(!1),startIcon:(0,S.jsx)(x.A,{}),children:"Back"}),(0,S.jsx)(i.A,{variant:"contained",onClick:()=>{Q(!1),de()},children:"Submit"})]})]})]})}},12110:(e,l,t)=>{t.d(l,{A:()=>A});var n=t(58168),a=t(98587),r=t(65043),o=t(58387),s=t(68606),d=t(34535),i=t(6431),c=t(63336),u=t(57056),m=t(32400);function b(e){return(0,m.Ay)("MuiCard",e)}(0,u.A)("MuiCard",["root"]);var p=t(70579);const h=["className","raised"],x=(0,d.Ay)(c.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,l)=>l.root})(()=>({overflow:"hidden"})),A=r.forwardRef(function(e,l){const t=(0,i.b)({props:e,name:"MuiCard"}),{className:r,raised:d=!1}=t,c=(0,a.A)(t,h),u=(0,n.A)({},t,{raised:d}),m=(e=>{const{classes:l}=e;return(0,s.A)({root:["root"]},b,l)})(u);return(0,p.jsx)(x,(0,n.A)({className:(0,o.A)(m.root,r),elevation:d?8:void 0,ref:l,ownerState:u},c))})},26494:(e,l,t)=>{t.d(l,{A:()=>x});var n=t(58168),a=t(98587),r=t(65043),o=t(58387),s=t(68606),d=t(34535),i=t(6431),c=t(57056),u=t(32400);function m(e){return(0,u.Ay)("MuiCardContent",e)}(0,c.A)("MuiCardContent",["root"]);var b=t(70579);const p=["className","component"],h=(0,d.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,l)=>l.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),x=r.forwardRef(function(e,l){const t=(0,i.b)({props:e,name:"MuiCardContent"}),{className:r,component:d="div"}=t,c=(0,a.A)(t,p),u=(0,n.A)({},t,{component:d}),x=(e=>{const{classes:l}=e;return(0,s.A)({root:["root"]},m,l)})(u);return(0,b.jsx)(h,(0,n.A)({as:d,className:(0,o.A)(x.root,r),ownerState:u,ref:l},c))})},37141:(e,l,t)=>{t.d(l,{A:()=>r});var n=t(59662),a=t(70579);const r=(0,n.A)((0,a.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save")},38463:(e,l,t)=>{t.d(l,{A:()=>r});var n=t(59662),a=t(70579);const r=(0,n.A)((0,a.jsx)("path",{d:"M17.77 3.77 16 2 6 12l10 10 1.77-1.77L9.54 12z"}),"ArrowBackIosNewOutlined")},55434:(e,l,t)=>{t.d(l,{A:()=>r});var n=t(59662),a=t(70579);const r=(0,n.A)((0,a.jsx)("path",{d:"M12 6.5c3.79 0 7.17 2.13 8.82 5.5-1.65 3.37-5.02 5.5-8.82 5.5S4.83 15.37 3.18 12C4.83 8.63 8.21 6.5 12 6.5m0-2C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5m0 5c1.38 0 2.5 1.12 2.5 2.5s-1.12 2.5-2.5 2.5-2.5-1.12-2.5-2.5 1.12-2.5 2.5-2.5m0-2c-2.48 0-4.5 2.02-4.5 4.5s2.02 4.5 4.5 4.5 4.5-2.02 4.5-4.5-2.02-4.5-4.5-4.5"}),"RemoveRedEyeOutlined")},65829:(e,l,t)=>{t.d(l,{A:()=>r});var n=t(59662),a=t(70579);const r=(0,n.A)((0,a.jsx)("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"}),"KeyboardArrowLeft")},81e3:(e,l,t)=>{t.d(l,{A:()=>i});var n=t(84402),a=t(25430),r=t(37344),o=t(13375);const s=(0,t(57056).A)("MuiBox",["root"]),d=(0,r.A)(),i=(0,n.A)({themeId:o.A,defaultTheme:d,defaultClassName:s.root,generateClassName:a.A.generate})},84402:(e,l,t)=>{t.d(l,{A:()=>b});var n=t(58168),a=t(98587),r=t(65043),o=t(58387),s=t(13174),d=t(58812),i=t(18698),c=t(45527),u=t(70579);const m=["className","component"];function b(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:l,defaultTheme:t,defaultClassName:b="MuiBox-root",generateClassName:p}=e,h=(0,s.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(d.A);return r.forwardRef(function(e,r){const s=(0,c.A)(t),d=(0,i.A)(e),{className:x,component:A="div"}=d,v=(0,a.A)(d,m);return(0,u.jsx)(h,(0,n.A)({as:A,ref:r,className:(0,o.A)(x,p?p(b):b),theme:l&&s[l]||s},v))})}}}]);
//# sourceMappingURL=1614.a5673c91.chunk.js.map