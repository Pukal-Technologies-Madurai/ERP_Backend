"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[6598],{14140:(e,t,a)=>{a.d(t,{Am:()=>n,Ay:()=>i});var s=a(65043),r=a(70579);const o=["as","disabled"];function n(e){let{tagName:t,disabled:a,href:s,target:r,rel:o,role:n,onClick:c,tabIndex:i=0,type:l}=e;t||(t=null!=s||null!=r||null!=o?"a":"button");const d={tagName:t};if("button"===t)return[{type:l||"button",disabled:a},d];const p=e=>{(a||"a"===t&&function(e){return!e||"#"===e.trim()}(s))&&e.preventDefault(),a?e.stopPropagation():null==c||c(e)};return"a"===t&&(s||(s="#"),a&&(s=void 0)),[{role:null!=n?n:"button",disabled:void 0,tabIndex:a?void 0:i,href:s,target:"a"===t?r:void 0,"aria-disabled":a||void 0,rel:"a"===t?o:void 0,onClick:p,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),p(e))}},d]}const c=s.forwardRef((e,t)=>{let{as:a,disabled:s}=e,c=function(e,t){if(null==e)return{};var a,s,r={},o=Object.keys(e);for(s=0;s<o.length;s++)a=o[s],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,o);const[i,{tagName:l}]=n(Object.assign({tagName:a,disabled:s},c));return(0,r.jsx)(l,Object.assign({},c,i,{ref:t}))});c.displayName="Button";const i=c},14282:(e,t,a)=>{a.d(t,{A:()=>y});var s=a(89379),r=a(80045),o=a(98139),n=a.n(o),c=a(65043),i=a(14140),l=a(67852),d=a(70579);const p=["as","bsPrefix","variant","size","active","disabled","className"],u=c.forwardRef((e,t)=>{let{as:a,bsPrefix:o,variant:c="primary",size:u,active:y=!1,disabled:h=!1,className:x}=e,m=(0,r.A)(e,p);const b=(0,l.oU)(o,"btn"),[A,{tagName:v}]=(0,i.Am)((0,s.A)({tagName:a,disabled:h},m)),f=v;return(0,d.jsx)(f,(0,s.A)((0,s.A)((0,s.A)({},A),m),{},{ref:t,disabled:h,className:n()(x,b,y&&"active",c&&"".concat(b,"-").concat(c),u&&"".concat(b,"-").concat(u),m.href&&h&&"disabled")}))});u.displayName="Button";const y=u},51387:(e,t,a)=>{a.d(t,{A:()=>o});var s=a(59662),r=a(70579);const o=(0,s.A)((0,r.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},56598:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var s=a(89379),r=a(65043),o=a(91036),n=a(14282),c=a(79650),i=a(71806),l=a(84882),d=a(28076),p=a(39652),u=a(58093),y=a(73460),h=a(17392),x=a(83462),m=a(26600),b=a(35316),A=a(29347),v=a(51387),f=a(83560),j=a(65074),T=a(58471),k=a(70579);const g=()=>{const[e,t]=(0,r.useState)([]),[a,g]=(0,r.useState)(!1),[N,w]=(0,r.useState)(!1),[C,S]=(0,r.useState)(null),[R,D]=(0,r.useState)(!1),[I,_]=(0,r.useState)("asc"),[z,L]=(0,r.useState)("Task_Type_Id");(0,r.useEffect)(()=>{(async()=>{try{const e=await(0,j.z)({address:"masters/taskType"});e.success?t(e.data):o.oR.error("Failed to fetch task types: "+e.message)}catch(e){console.error(e),o.oR.error("Error fetching task types.")}})()},[a]);const M=()=>{w(!1)},E=[...e].sort((e,t)=>{const a=e[z],s=t[z];return"asc"===I?a<s?-1:1:a>s?-1:1});return(0,k.jsxs)(r.Fragment,{children:[(0,k.jsxs)("div",{className:"card",children:[(0,k.jsxs)("div",{className:"card-header bg-white fw-bold d-flex align-items-center justify-content-between",children:["Task Types",(0,k.jsx)(n.A,{className:"rounded-5 px-3 py-1 fa-13 shadow",onClick:()=>{S(null),D(!0)},children:"Create Task Type"})]}),(0,k.jsx)("div",{className:"card-body overflow-scroll",style:{maxHeight:"78vh"},children:(0,k.jsx)(c.A,{children:(0,k.jsxs)(i.A,{children:[(0,k.jsx)(l.A,{children:(0,k.jsx)(d.A,{children:[{id:"index",label:"Id No",sort:!1},{id:"Task_Type",label:"Task Type",sort:!0},{id:"Project_Name",label:"Project_Name",sort:!0},{id:"actions",label:"Actions",sort:!1}].map(e=>(0,k.jsx)(p.A,{sx:{padding:"4px 8px"},children:e.sort?(0,k.jsx)(u.A,{active:z===e.id,direction:z===e.id?I:"asc",onClick:()=>{return t=e.id,_(z===t&&"asc"===I?"desc":"asc"),void L(t);var t},children:e.label}):e.label},e.id))})}),(0,k.jsx)(y.A,{children:E.map((e,t)=>(0,k.jsxs)(d.A,{children:[(0,k.jsx)(p.A,{sx:{padding:"4px 8px"},children:t+1}),(0,k.jsx)(p.A,{sx:{padding:"4px 8px"},children:e.Task_Type}),(0,k.jsx)(p.A,{sx:{padding:"4px 8px"},children:e.Project_Name}),(0,k.jsxs)(p.A,{sx:{padding:"4px 8px"},children:[(0,k.jsx)(h.A,{onClick:()=>(S(e),void D(!0)),size:"small",children:(0,k.jsx)(f.A,{})}),(0,k.jsx)(h.A,{onClick:()=>(S(e),void w(!0)),sx:{color:"#FF6865"},children:(0,k.jsx)(v.A,{})})]})]},e.Task_Type_Id))})]})})})]}),(0,k.jsx)(T.A,{open:R,onClose:()=>D(!1),existingTaskType:C,onCreate:async e=>{try{const t=await(0,j.z)({address:"masters/taskType",method:"POST",headers:{"Content-Type":"application/json"},bodyData:{Task_Type:e}});t.success?(g(!a),o.oR.success("Task type created successfully!"),D(!1)):o.oR.error("Failed to create task type: "+t.message)}catch(t){console.error(t),o.oR.error("Error creating task type.")}},onUpdate:async e=>{try{const t=await(0,j.z)({address:"masters/taskType",method:"PUT",headers:{"Content-Type":"application/json"},bodyData:(0,s.A)({},e)});t.success?(g(!a),o.oR.success("Task type updated successfully!"),D(!1)):o.oR.error("Failed to update task type: "+t.message)}catch(t){console.error(t),o.oR.error("Error updating task type.")}}}),(0,k.jsxs)(x.A,{open:N,onClose:M,children:[(0,k.jsx)(m.A,{className:"bg-primary text-white mb-4 px-3 py-2",children:"Confirmation"}),(0,k.jsxs)(b.A,{className:"p-4",children:["Do you want to delete the Task Type",(0,k.jsx)("span",{className:"text-primary",children:" "+(null===C||void 0===C?void 0:C.Task_Type)+" "}),"?"]}),(0,k.jsxs)(A.A,{children:[(0,k.jsx)(n.A,{className:"btn btn-light rounded-5 px-3 me-1",onClick:M,children:"Cancel"}),(0,k.jsx)(n.A,{className:"btn btn-primary rounded-5 px-3",onClick:async()=>{try{const e=await(0,j.z)({address:"masters/taskType",method:"DELETE",headers:{"Content-Type":"application/json"},bodyData:{Task_Type_Id:C.Task_Type_Id}});e.success?(g(!a),w(!1),o.oR.success("Task type deleted successfully!")):o.oR.error("Failed to delete task type: "+e.message)}catch(e){console.error(e),o.oR.error("Error deleting task type.")}},children:"Delete"})]})]})]})}},58093:(e,t,a)=>{a.d(t,{A:()=>T});var s=a(98587),r=a(58168),o=a(68606),n=a(58387),c=a(65043),i=a(75429),l=a(59662),d=a(70579);const p=(0,l.A)((0,d.jsx)("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");var u=a(34535),y=a(6431),h=a(6803),x=a(57056),m=a(32400);function b(e){return(0,m.Ay)("MuiTableSortLabel",e)}const A=(0,x.A)("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc"]),v=["active","children","className","direction","hideSortIcon","IconComponent"],f=(0,u.Ay)(i.A,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.active&&t.active]}})(e=>{let{theme:t}=e;return{cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(t.vars||t).palette.text.secondary},"&:hover":{color:(t.vars||t).palette.text.secondary,["& .".concat(A.icon)]:{opacity:.5}},["&.".concat(A.active)]:{color:(t.vars||t).palette.text.primary,["& .".concat(A.icon)]:{opacity:1,color:(t.vars||t).palette.text.secondary}}}}),j=(0,u.Ay)("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.icon,t["iconDirection".concat((0,h.A)(a.direction))]]}})(e=>{let{theme:t,ownerState:a}=e;return(0,r.A)({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:t.transitions.create(["opacity","transform"],{duration:t.transitions.duration.shorter}),userSelect:"none"},"desc"===a.direction&&{transform:"rotate(0deg)"},"asc"===a.direction&&{transform:"rotate(180deg)"})}),T=c.forwardRef(function(e,t){const a=(0,y.b)({props:e,name:"MuiTableSortLabel"}),{active:c=!1,children:i,className:l,direction:u="asc",hideSortIcon:x=!1,IconComponent:m=p}=a,A=(0,s.A)(a,v),T=(0,r.A)({},a,{active:c,direction:u,hideSortIcon:x,IconComponent:m}),k=(e=>{const{classes:t,direction:a,active:s}=e,r={root:["root",s&&"active"],icon:["icon","iconDirection".concat((0,h.A)(a))]};return(0,o.A)(r,b,t)})(T);return(0,d.jsxs)(f,(0,r.A)({className:(0,n.A)(k.root,l),component:"span",disableRipple:!0,ownerState:T,ref:t},A,{children:[i,x&&!c?null:(0,d.jsx)(j,{as:m,className:(0,n.A)(k.icon),ownerState:T})]}))})},83560:(e,t,a)=>{a.d(t,{A:()=>o});var s=a(59662),r=a(70579);const o=(0,s.A)((0,r.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")}}]);
//# sourceMappingURL=6598.47a8e676.chunk.js.map