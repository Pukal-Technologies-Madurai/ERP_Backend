{"version":3,"file":"static/js/1138.2dde098b.chunk.js","mappings":"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","sources":["Pages/CurrentProjects/subTask.jsx","Pages/CurrentProjects/projectsList.jsx"],"sourcesContent":["// Level2TaskDialog.jsx\r\nimport React, { useState, useEffect } from 'react';\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Button,\r\n  TextField,\r\n  Checkbox,\r\n  Autocomplete,\r\n//   MenuItem\r\n} from '@mui/material';\r\nimport Select from 'react-select';\r\nimport { toast } from \"react-toastify\";\r\nimport { fetchLink } from '../../Components/fetchComponent';\r\nimport { customSelectStyles } from \"../../Components/tablecolumn\";\r\n// import { ISOString } from '../../Components/functions';\r\nimport CheckBoxOutlineBlankIcon from '@mui/icons-material/CheckBoxOutlineBlank';\r\nimport CheckBoxIcon from '@mui/icons-material/CheckBox';\r\n\r\nconst icon = <CheckBoxOutlineBlankIcon fontSize=\"small\" />;\r\nconst checkedIcon = <CheckBoxIcon fontSize=\"small\" />;\r\n\r\nconst Level2TaskDialog = ({\r\n  open,\r\n  onClose,\r\n  isEdit = false,\r\n  initialData = null,\r\n  scheduleId,\r\n  projectId,\r\n  dependencyTasks = [],\r\n  tasks = [],\r\n  taskType = [],\r\n  workStatus = [],\r\n  onSuccess\r\n}) => {\r\n  const [taskScheduleInput, setTaskScheduleInput] = useState({\r\n    Sch_Project_Id: projectId,\r\n    Sch_Id: scheduleId,\r\n    Task_Levl_Id: '',\r\n    Task_Id: '',\r\n    Type_Task_Id: 1,\r\n    Task_Sch_Duaration: '01:00',\r\n    Task_Start_Time: '10:00',\r\n    Task_End_Time: '11:00',\r\n    Task_Est_Start_Date: new Date().toISOString().split('T')[0],\r\n    Task_Est_End_Date: new Date().toISOString().split('T')[0],\r\n    Task_Sch_Status: 1,\r\n    Levl_Id: 2,\r\n    Task_Depend_Level_Id: '',\r\n    TasksGet: '- Select Task -'\r\n  });\r\n\r\n  const [selectedDependencyTasks, setSelectedDependencyTasks] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // Initialize form when dialog opens or data changes\r\n  useEffect(() => {\r\n    if (open) {\r\n      if (isEdit && initialData) {\r\n        setTaskScheduleInput(initialData);\r\n        setSelectedDependencyTasks(initialData.dependencyTasks || []);\r\n      } else {\r\n        setTaskScheduleInput(prev => ({\r\n          ...prev,\r\n          Sch_Project_Id: projectId,\r\n          Sch_Id: scheduleId,\r\n          Levl_Id: 2\r\n        }));\r\n        setSelectedDependencyTasks([]);\r\n      }\r\n    }\r\n  }, [open, isEdit, initialData, projectId, scheduleId]);\r\n\r\n  // Update duration when start/end time changes\r\n  useEffect(() => {\r\n    const [hours1, minutes1] = taskScheduleInput?.Task_Start_Time.split(':').map(Number);\r\n    const [hours2, minutes2] = taskScheduleInput?.Task_End_Time.split(':').map(Number);\r\n\r\n    const date1 = new Date(0, 0, 0, hours1, minutes1);\r\n    const date2 = new Date(0, 0, 0, hours2, minutes2);\r\n\r\n    if (date2 > date1) {\r\n      let difference = Math.abs(date2 - date1);\r\n      const hours = Math.floor(difference / (1000 * 60 * 60));\r\n      difference %= (1000 * 60 * 60);\r\n      const minutes = Math.floor(difference / (1000 * 60));\r\n\r\n      const formattedHours = String(hours).padStart(2, '0');\r\n      const formattedMinutes = String(minutes).padStart(2, '0');\r\n\r\n      setTaskScheduleInput(opt => ({ \r\n        ...opt, \r\n        Task_Sch_Duaration: `${formattedHours}:${formattedMinutes}` \r\n      }));\r\n    }\r\n  }, [taskScheduleInput?.Task_Start_Time, taskScheduleInput?.Task_End_Time]);\r\n\r\n  // Update dependency task IDs\r\n  useEffect(() => {\r\n    if (selectedDependencyTasks.length > 0) {\r\n      const numStr = selectedDependencyTasks.map(obj => obj?.Task_Levl_Id).join(',');\r\n      setTaskScheduleInput(opt => ({ ...opt, Task_Depend_Level_Id: numStr }));\r\n    } else {\r\n      setTaskScheduleInput(opt => ({ ...opt, Task_Depend_Level_Id: '' }));\r\n    }\r\n  }, [selectedDependencyTasks]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    if (!taskScheduleInput.Task_Id) {\r\n      toast.warn('Select Task');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    if (taskScheduleInput.Task_Depend_Level_Id === '') {\r\n      toast.warn('Select Dependency Tasks');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetchLink({\r\n        address: `taskManagement/project/schedule/scheduleTask`,\r\n        method: isEdit ? 'PUT' : 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        bodyData: taskScheduleInput\r\n      });\r\n\r\n      if (response.success) {\r\n        toast.success(response.message);\r\n        onSuccess();\r\n        handleClose();\r\n      } else {\r\n        toast.error(response.message);\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      toast.error('An error occurred while saving the task');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setTaskScheduleInput({\r\n      Sch_Project_Id: projectId,\r\n      Sch_Id: scheduleId,\r\n      Task_Levl_Id: '',\r\n      Task_Id: '',\r\n      Type_Task_Id: 1,\r\n      Task_Sch_Duaration: '01:00',\r\n      Task_Start_Time: '10:00',\r\n      Task_End_Time: '11:00',\r\n      Task_Est_Start_Date: new Date().toISOString().split('T')[0],\r\n      Task_Est_End_Date: new Date().toISOString().split('T')[0],\r\n      Task_Sch_Status: 1,\r\n      Levl_Id: 2,\r\n      Task_Depend_Level_Id: '',\r\n      TasksGet: '- Select Task -'\r\n    });\r\n    setSelectedDependencyTasks([]);\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={handleClose}\r\n      maxWidth='sm'\r\n      fullWidth\r\n    >\r\n      <DialogTitle>{isEdit ? 'Edit Sub Task' : 'Assign Sub Task'}</DialogTitle>\r\n      <form onSubmit={handleSubmit}>\r\n        <DialogContent>\r\n          <table className=\"table\">\r\n            <tbody>\r\n              <tr>\r\n                <td className=\"border-bottom-0 fa-15\" style={{ verticalAlign: 'middle' }}>Task</td>\r\n                <td className=\"border-bottom-0 fa-15\">\r\n                  <Select\r\n                    value={{ \r\n                      value: taskScheduleInput?.Task_Id, \r\n                      label: taskScheduleInput?.TasksGet \r\n                    }}\r\n                    onChange={(e) => setTaskScheduleInput({ \r\n                      ...taskScheduleInput, \r\n                      Task_Id: e.value, \r\n                      TasksGet: e.label \r\n                    })}\r\n                    options={[...tasks.map(obj => ({ \r\n                      value: obj.Task_Id, \r\n                      label: obj.Task_Name \r\n                    }))]}\r\n                    styles={customSelectStyles}\r\n                    isSearchable={true}\r\n                    required\r\n                    placeholder={\"Select Task\"}\r\n                  />\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td className=\"border-bottom-0 fa-15\" style={{ verticalAlign: 'middle' }}>Task Type</td>\r\n                <td className=\"border-bottom-0 fa-15\">\r\n                  <select\r\n                    className=\"cus-inpt\"\r\n                    value={taskScheduleInput?.Type_Task_Id}\r\n                    required\r\n                    onChange={e => setTaskScheduleInput({ \r\n                      ...taskScheduleInput, \r\n                      Type_Task_Id: e.target.value \r\n                    })}\r\n                  >\r\n                    {taskType.map((o, i) => (\r\n                      <option key={i} value={o?.Task_Type_Id}>\r\n                        {o?.Task_Type}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td className=\"border-bottom-0 fa-15\" style={{ verticalAlign: 'middle' }}>Start Date</td>\r\n                <td className=\"border-bottom-0 fa-15\">\r\n                  <input\r\n                    type='date'\r\n                    className=\"cus-inpt\"\r\n                    required\r\n                    value={taskScheduleInput?.Task_Est_Start_Date && \r\n                      new Date(taskScheduleInput?.Task_Est_Start_Date).toISOString().split('T')[0]}\r\n                    onChange={e => setTaskScheduleInput({ \r\n                      ...taskScheduleInput, \r\n                      Task_Est_Start_Date: e.target.value \r\n                    })}\r\n                  />\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td className=\"border-bottom-0 fa-15\" style={{ verticalAlign: 'middle' }}>End Date</td>\r\n                <td className=\"border-bottom-0 fa-15\">\r\n                  <input\r\n                    type='date'\r\n                    className=\"cus-inpt\"\r\n                    required\r\n                    min={taskScheduleInput?.Task_Est_Start_Date}\r\n                    value={taskScheduleInput?.Task_Est_End_Date && \r\n                      new Date(taskScheduleInput?.Task_Est_End_Date).toISOString().split('T')[0]}\r\n                    onChange={e => setTaskScheduleInput({ \r\n                      ...taskScheduleInput, \r\n                      Task_Est_End_Date: e.target.value \r\n                    })}\r\n                  />\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td className=\"border-bottom-0 fa-15\" style={{ verticalAlign: 'middle' }}>Start Time</td>\r\n                <td className=\"border-bottom-0 fa-15\">\r\n                  <input\r\n                    type='time'\r\n                    className=\"cus-inpt\"\r\n                    value={taskScheduleInput?.Task_Start_Time}\r\n                    required\r\n                    onChange={e => setTaskScheduleInput({ \r\n                      ...taskScheduleInput, \r\n                      Task_Start_Time: e.target.value \r\n                    })}\r\n                  />\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td className=\"border-bottom-0 fa-15\" style={{ verticalAlign: 'middle' }}>End Time</td>\r\n                <td className=\"border-bottom-0 fa-15\">\r\n                  <input\r\n                    type='time'\r\n                    className=\"cus-inpt\"\r\n                    required\r\n                    min={taskScheduleInput?.Task_Start_Time}\r\n                    value={taskScheduleInput?.Task_End_Time}\r\n                    onChange={e => setTaskScheduleInput({ \r\n                      ...taskScheduleInput, \r\n                      Task_End_Time: e.target.value \r\n                    })}\r\n                  />\r\n                </td>\r\n              </tr>\r\n              {isEdit && (\r\n                <tr>\r\n                  <td className=\"border-bottom-0 fa-15\" style={{ verticalAlign: 'middle' }}>Status</td>\r\n                  <td className=\"border-bottom-0 fa-15\">\r\n                    <select\r\n                      className=\"cus-inpt\"\r\n                      value={taskScheduleInput.Task_Sch_Status}\r\n                      required\r\n                      onChange={e => setTaskScheduleInput({ \r\n                        ...taskScheduleInput, \r\n                        Task_Sch_Status: e.target.value \r\n                      })}\r\n                    >\r\n                      {workStatus.map((o, i) => (\r\n                        <option key={i} value={o?.Status_Id}>\r\n                          {o?.Status}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n\r\n          {/* Dependency Tasks Section */}\r\n          <label className=\"mb-2\">Select Dependency Tasks</label>\r\n          <Autocomplete\r\n            multiple\r\n            id=\"level2-dependency-tasks\"\r\n            options={dependencyTasks}\r\n            disableCloseOnSelect\r\n            getOptionLabel={(option) => option?.TaskNameGet}\r\n            value={selectedDependencyTasks}\r\n            onChange={(event, newValue) => setSelectedDependencyTasks(newValue)}\r\n            renderOption={(props, option, { selected }) => (\r\n              <li {...props}>\r\n                <Checkbox\r\n                  icon={icon}\r\n                  checkedIcon={checkedIcon}\r\n                  style={{ marginRight: 8 }}\r\n                  checked={selected}\r\n                />\r\n                {option?.TaskNameGet}\r\n              </li>\r\n            )}\r\n            style={{ width: '100%' }}\r\n            isOptionEqualToValue={(opt, val) => \r\n              Number(opt?.Task_Levl_Id) === Number(val?.Task_Levl_Id)\r\n            }\r\n            renderInput={(params) => (\r\n              <TextField \r\n                {...params} \r\n                label=\"Dependency Tasks\" \r\n                placeholder=\"Select tasks this task depends on\" \r\n                required\r\n              />\r\n            )}\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button \r\n            type='button' \r\n            onClick={handleClose}\r\n            disabled={loading}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button \r\n            type='submit'\r\n            disabled={loading}\r\n          >\r\n            {loading ? 'Saving...' : (isEdit ? 'Update Task' : 'Assign Task')}\r\n          </Button>\r\n        </DialogActions>\r\n      </form>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default Level2TaskDialog;","// import { useEffect, useState, useContext } from \"react\";\r\n// import '../common.css';\r\n// import { IconButton } from '@mui/material'\r\n// import { Launch } from '@mui/icons-material'\r\n// import { BarChart, Group, WorkHistory, CalendarMonth } from '@mui/icons-material';\r\n// import { CgUserList } from \"react-icons/cg\";\r\n// import { useNavigate } from 'react-router-dom';\r\n// import { MyContext } from \"../../Components/context/contextProvider\";\r\n// import { fetchLink } from \"../../Components/fetchComponent\";\r\n\r\n\r\n\r\n// const ActiveProjects = () => {\r\n//     const localData = localStorage.getItem(\"user\");\r\n//     const parseData = JSON.parse(localData);\r\n//     const [projects, setProjects] = useState([]);\r\n//     const { contextObj } = useContext(MyContext);\r\n//     const nav = useNavigate();\r\n\r\n//     useEffect(() => {\r\n//         fetchLink({\r\n//             address: `taskManagement/project/Abstract?Company_id=${parseData?.Company_id}`\r\n//         }).then(data => {\r\n//             if (data.success) {\r\n//                 setProjects(data.data);\r\n//             }\r\n//         }).catch(e => console.error(e)) \r\n//     }, []);\r\n\r\n//     const calcPercentage = (task, completed) => {\r\n//         if (Number(task) === 0) {\r\n//             return 0;\r\n//         } else {\r\n//             return ((Number(completed) / Number(task)) * 100).toFixed(0);\r\n//         }\r\n//     }\r\n\r\n//     const CardDisplay = ({ icon, label, value, value2 }) => {\r\n//         return (\r\n//             <div className=\"col-xxl-3 col-lg-4 col-md-6 mb-3\">\r\n//                 <div className=\"p-3 rounded-3 mnh\">\r\n//                     <div className=\"d-flex\">\r\n//                         <span className='smallicon fa-17 me-2'>{icon}</span>\r\n//                         <span className={`text-uppercase fw-bold text-muted fa-16`}>\r\n//                             {label}\r\n//                         </span>\r\n//                     </div>\r\n//                     <p className={`text-end mb-0 fw-bold`} style={{ fontSize: '26px' }} >\r\n//                         {value}\r\n//                         <span className=\"fa-20\">{value2 && ' /' + value2}</span>\r\n//                     </p>\r\n//                 </div>\r\n//             </div>\r\n//         )\r\n//     }\r\n\r\n//     return (\r\n//         <>\r\n//             {projects.map((o, i) => (\r\n//                 <div className=\"project-card p-0\"\r\n//                     key={i}\r\n//                     onClick={() => {\r\n//                         nav('projectDetails', {\r\n//                             state: {\r\n//                                 project: o,\r\n//                                 rights: {\r\n//                                     read: contextObj.Read_Rights,\r\n//                                     add: contextObj.Add_Rights,\r\n//                                     edit: contextObj.Edit_Rights,\r\n//                                     delete: contextObj.Delete_Rights\r\n//                                 }\r\n//                             }\r\n//                         })\r\n//                     }} >\r\n//                     <div className=\"fa-18 mb-3 text-dark text-uppercase fw-bold d-flex align-items-center px-3 py-2 border-bottom \">\r\n//                         <span className=\"flex-grow-1\">{o.Project_Name} </span>\r\n//                         <IconButton className=\"bg-light\" onClick={() => {\r\n//                             nav('projectschedule', {\r\n//                                 state: {\r\n//                                     project: o,\r\n//                                     rights: {\r\n//                                         read: contextObj.Read_Rights,\r\n//                                         add: contextObj.Add_Rights,\r\n//                                         edit: contextObj.Edit_Rights,\r\n//                                         delete: contextObj.Delete_Rights\r\n//                                     }\r\n//                                 }\r\n//                             })\r\n//                         }\r\n//                         }>\r\n//                             <Launch className=\"text-dark\" />\r\n//                         </IconButton>\r\n//                     </div>\r\n\r\n//                     <div className=\"row px-3\">\r\n\r\n//                         <CardDisplay\r\n//                             icon={<BarChart className=\"fa-in\" />}\r\n//                             label={'progress'}\r\n//                             value={calcPercentage(o?.TasksScheduled, o?.CompletedTasks) + ' %'}\r\n//                         />\r\n\r\n//                         <CardDisplay\r\n//                             icon={<WorkHistory className=\"fa-in\" />}\r\n//                             label={'schedule / completed'}\r\n//                             value={o?.SchedulesCompletedCount}\r\n//                             value2={o?.SchedulesCount}\r\n//                         />\r\n\r\n//                         <CardDisplay\r\n//                             icon={<WorkHistory className=\"fa-in\" />}\r\n//                             label={'task / Completed'}\r\n//                             value={o?.CompletedTasks}\r\n//                             value2={o?.TasksScheduled}\r\n//                         />\r\n\r\n//                         <CardDisplay\r\n//                             icon={<CgUserList className=\"fa-in\" />}\r\n//                             label={'task process / assigned'}\r\n//                             value={o?.TasksProgressCount}\r\n//                             value2={o?.TasksAssignedToEmployee}\r\n//                         />\r\n\r\n//                         <CardDisplay\r\n//                             icon={<Group className=\"fa-in\" />}\r\n//                             label={'employee involved'}\r\n//                             value={o?.EmployeesInvolved}\r\n//                         />\r\n\r\n//                         <div className=\"col-xxl-3 col-lg-4 col-md-6 mb-3\">\r\n//                             <div className=\"p-3 rounded-3 mnh\" >\r\n//                                 <div className=\"d-flex\">\r\n//                                     <span className='smallicon fa-17 me-2'><CalendarMonth className=\"fa-in\" /></span>\r\n//                                     <span className='text-uppercase fw-bold fa-16 text-muted'>duration</span>\r\n//                                 </div>\r\n//                                 <p className=\"text-end fa-15 mb-0 fw-bold\">\r\n//                                     {o?.Est_Start_Dt && (\r\n//                                         new Date(o.Est_Start_Dt)\r\n//                                             .toLocaleDateString('en-IN', { day: '2-digit', month: '2-digit', year: 'numeric' })\r\n//                                     )}\r\n//                                     {\" - \"}\r\n//                                     {o?.Est_End_Dt && (\r\n//                                         new Date(o.Est_End_Dt)\r\n//                                             .toLocaleDateString('en-IN', { day: '2-digit', month: '2-digit', year: 'numeric' })\r\n//                                     )}\r\n//                                     {\" \"}\r\n//                                     {\"(\" + ((new Date(o.Est_End_Dt) - new Date(o.Est_Start_Dt)) / (1000 * 60 * 60 * 24) + 1) + \"DAYS)\"}\r\n//                                 </p>\r\n//                             </div>\r\n//                         </div>\r\n\r\n//                     </div>\r\n//                 </div>\r\n//             ))}\r\n//         </>\r\n//     )\r\n// }\r\n\r\n// export default ActiveProjects;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// import { useEffect, useState, useContext } from \"react\";\r\n// import '../common.css';\r\n// import { IconButton, Tooltip } from '@mui/material'\r\n// import { ArrowOutward as ArrowOutwardIcon, Refresh as RefreshIcon } from '@mui/icons-material'\r\n// import { BarChart, Group, CalendarMonth } from '@mui/icons-material';\r\n\r\n// import { useNavigate } from 'react-router-dom';\r\n// import { MyContext } from \"../../Components/context/contextProvider\";\r\n// import { fetchLink } from \"../../Components/fetchComponent\";\r\n// import FilterableTable, { createCol } from \"../../Components/filterableTable2\";\r\n\r\n// const ActiveProjects = () => {\r\n//     const localData = localStorage.getItem(\"user\");\r\n//     const parseData = JSON.parse(localData);\r\n//     const [projects, setProjects] = useState([]);\r\n//     const [projectTasks, setProjectTasks] = useState({});\r\n//     const [isLoading, setIsLoading] = useState(true);\r\n//     const { contextObj } = useContext(MyContext);\r\n//     const nav = useNavigate();\r\n\r\n//     useEffect(() => {\r\n//         setIsLoading(true);\r\n//         fetchLink({\r\n//             address: `taskManagement/project/Abstract?Company_id=${parseData?.Company_id}`\r\n//         }).then(data => {\r\n//             if (data.success) {\r\n//                 setProjects(data.data);\r\n//             }\r\n//         }).catch(e => console.error(e))\r\n//         .finally(() => setIsLoading(false));\r\n//     }, []);\r\n\r\n//     const fetchProjectTasks = async (projectId) => {\r\n//         // Return early if already fetched to avoid duplicate calls\r\n//         if (projectTasks[projectId]) return;\r\n        \r\n//         try {\r\n//             const data = await fetchLink({\r\n//                 address: `taskManagement/task/project/${projectId}`\r\n//             });\r\n//             if (data.success) {\r\n//                 setProjectTasks(prev => ({\r\n//                     ...prev,\r\n//                     [projectId]: data.data\r\n//                 }));\r\n//             }\r\n//         } catch (e) {\r\n//             console.error('Error fetching project tasks:', e);\r\n//         }\r\n//     }\r\n\r\n//     const calcPercentage = (task, completed) => {\r\n//         if (Number(task) === 0) {\r\n//             return 0;\r\n//         } else {\r\n//             return ((Number(completed) / Number(task)) * 100).toFixed(0);\r\n//         }\r\n//     }\r\n\r\n//     const getDurationDays = (startDate, endDate) => {\r\n//         const start = new Date(startDate);\r\n//         const end = new Date(endDate);\r\n//         const timeDiff = end - start;\r\n//         const dayDiff = timeDiff / (1000 * 60 * 60 * 24);\r\n//         return Math.max(1, Math.ceil(dayDiff + 1)); // Ensure at least 1 day\r\n//     }\r\n\r\n//     const formatDate = (dateString) => {\r\n//         if (!dateString) return 'N/A';\r\n//         try {\r\n//             return new Date(dateString).toLocaleDateString('en-IN', { \r\n//                 day: '2-digit', \r\n//                 month: '2-digit', \r\n//                 year: 'numeric' \r\n//             });\r\n//         } catch (error) {\r\n//             return 'Invalid Date';\r\n//         }\r\n//     }\r\n\r\n//     const getStatusBadge = (status) => {\r\n//         switch (status?.toLowerCase()) {\r\n//             case 'completed':\r\n//                 return 'bg-success';\r\n//             case 'in progress':\r\n//                 return 'bg-warning';\r\n//             case 'pending':\r\n//                 return 'bg-secondary';\r\n//             case 'not started':\r\n//                 return 'bg-info';\r\n//             default:\r\n//                 return 'bg-secondary';\r\n//         }\r\n//     }\r\n\r\n//     const getPriorityBadge = (priority) => {\r\n//         switch (priority?.toLowerCase()) {\r\n//             case 'high':\r\n//                 return 'bg-danger';\r\n//             case 'medium':\r\n//                 return 'bg-warning';\r\n//             case 'low':\r\n//                 return 'bg-info';\r\n//             default:\r\n//                 return 'bg-secondary';\r\n//         }\r\n//     }\r\n\r\n//     const handleProjectClick = (project) => {\r\n//         nav('projectDetails', {\r\n//             state: {\r\n//                 project: project,\r\n//                 rights: {\r\n//                     read: contextObj.Read_Rights,\r\n//                     add: contextObj.Add_Rights,\r\n//                     edit: contextObj.Edit_Rights,\r\n//                     delete: contextObj.Delete_Rights\r\n//                 }\r\n//             }\r\n//         });\r\n//     }\r\n\r\n//     const handleScheduleClick = (project, e) => {\r\n//         e?.stopPropagation();\r\n//         nav('projectschedule', {\r\n//             state: {\r\n//                 project: project,\r\n//                 rights: {\r\n//                     read: contextObj.Read_Rights,\r\n//                     add: contextObj.Add_Rights,\r\n//                     edit: contextObj.Edit_Rights,\r\n//                     delete: contextObj.Delete_Rights\r\n//                 }\r\n//             }\r\n//         });\r\n//     }\r\n\r\n//     const handleTaskClick = (task, e) => {\r\n//         e?.stopPropagation();\r\n//         // Navigate to task details or handle task click\r\n//         console.log('Task clicked:', task);\r\n//         // You can implement navigation to task details here\r\n//         // nav('taskDetails', { state: { task } });\r\n//     }\r\n\r\n//     // Expandable Component for Project Details with Task List\r\n//     const ProjectExpandableComponent = ({ row }) => {\r\n//         const [isTasksLoading, setIsTasksLoading] = useState(false);\r\n//         const hasPendingTasks = Number(row?.TasksScheduled) - Number(row?.CompletedTasks) > 0;\r\n//         const tasks = projectTasks[row.Project_id] || [];\r\n        \r\n//         // Fetch tasks when component mounts/expands\r\n//         useEffect(() => {\r\n//             const fetchTasks = async () => {\r\n//                 if (row.Project_id && !projectTasks[row.Project_id]) {\r\n//                     setIsTasksLoading(true);\r\n//                     await fetchProjectTasks(row.Project_id);\r\n//                     setIsTasksLoading(false);\r\n//                 }\r\n//             };\r\n\r\n//             fetchTasks();\r\n//         }, [row.Project_id]);\r\n\r\n//         return (\r\n//             <div className=\"p-3\">\r\n//                 {/* Project Summary Table */}\r\n//                 <div className=\"mb-4\">\r\n//                     <h6 className=\"fw-bold mb-3\">Project Summary</h6>\r\n//                     <table className=\"table table-bordered\">\r\n//                         <tbody>\r\n//                             <tr>\r\n//                                 <td className=\"p-2 bg-light fw-bold\" style={{width: '15%'}}>Project Code</td>\r\n//                                 <td className=\"p-2\" style={{width: '18%'}}>{row.Project_Code || 'N/A'}</td>\r\n//                                 <td className=\"p-2 bg-light fw-bold\" style={{width: '15%'}}>Start Date</td>\r\n//                                 <td className=\"p-2\" style={{width: '18%'}}>{formatDate(row?.Est_Start_Dt)}</td>\r\n//                                 <td className=\"p-2 bg-light fw-bold\" style={{width: '15%'}}>End Date</td>\r\n//                                 <td className=\"p-2\" style={{width: '19%'}}>{formatDate(row?.Est_End_Dt)}</td>\r\n//                             </tr>\r\n//                             <tr>\r\n//                                 <td className=\"p-2 bg-light fw-bold\">Duration</td>\r\n//                                 <td className=\"p-2\">\r\n//                                     {getDurationDays(row?.Est_Start_Dt, row?.Est_End_Dt)} DAYS\r\n//                                 </td>\r\n//                                 <td className=\"p-2 bg-light fw-bold\">Total Tasks</td>\r\n//                                 <td className=\"p-2\">{row?.TasksScheduled || 0}</td>\r\n//                                 <td className=\"p-2 bg-light fw-bold\">Completed Tasks</td>\r\n//                                 <td className=\"p-2\">{row?.CompletedTasks || 0}</td>\r\n//                             </tr>\r\n//                             <tr>\r\n//                                 <td className=\"p-2 bg-light fw-bold\">Project Status</td>\r\n//                                 <td className=\"p-2\" colSpan={5}>\r\n//                                     <span className={`badge ${Number(row?.CompletedTasks) === Number(row?.TasksScheduled) ? \r\n//                                         'bg-success' : 'bg-warning'}`}>\r\n//                                         {Number(row?.CompletedTasks) === Number(row?.TasksScheduled) ? \r\n//                                         'Completed' : 'In Progress'}\r\n//                                     </span>\r\n//                                 </td>\r\n//                             </tr>\r\n//                         </tbody>\r\n//                     </table>\r\n//                 </div>\r\n\r\n//                 {/* Progress Details Table */}\r\n//                 <div className=\"mb-4\">\r\n//                     <h6 className=\"fw-bold mb-3\">Progress Overview</h6>\r\n//                     <table className=\"table table-bordered\">\r\n//                         <thead className=\"bg-light\">\r\n//                             <tr>\r\n//                                 <th className=\"p-2\">Metric</th>\r\n//                                 <th className=\"p-2\">Completed</th>\r\n//                                 <th className=\"p-2\">Total</th>\r\n//                                 <th className=\"p-2\">\r\n//                                     Progress\r\n//                                     {hasPendingTasks && (\r\n//                                         <Tooltip title=\"View Schedule\">\r\n//                                             <IconButton \r\n//                                                 size=\"small\" \r\n//                                                 onClick={(e) => handleScheduleClick(row, e)}\r\n//                                             >\r\n//                                                 <ArrowOutwardIcon className=\"text-blue-600\" />\r\n//                                             </IconButton>\r\n//                                         </Tooltip>\r\n//                                     )}\r\n//                                 </th>\r\n//                             </tr>\r\n//                         </thead>\r\n//                         <tbody>\r\n//                             <tr>\r\n//                                 <td className=\"p-2 fw-bold\">Tasks</td>\r\n//                                 <td className=\"p-2\">{row?.CompletedTasks || 0}</td>\r\n//                                 <td className=\"p-2\">{row?.TasksScheduled || 0}</td>\r\n//                                 <td className=\"p-2 fw-bold\">\r\n//                                     <span className={Number(row?.CompletedTasks) === Number(row?.TasksScheduled) ? \r\n//                                         \"text-green-600\" : \"text-orange-600\"}>\r\n//                                         {calcPercentage(row?.TasksScheduled, row?.CompletedTasks)}%\r\n//                                     </span>\r\n//                                 </td>\r\n//                             </tr>\r\n//                             <tr>\r\n//                                 <td className=\"p-2 fw-bold\">Schedules</td>\r\n//                                 <td className=\"p-2\">{row?.SchedulesCompletedCount || 0}</td>\r\n//                                 <td className=\"p-2\">{row?.SchedulesCount || 0}</td>\r\n//                                 <td className=\"p-2 fw-bold\">\r\n//                                     <span className={Number(row?.SchedulesCompletedCount) === Number(row?.SchedulesCount) ? \r\n//                                         \"text-green-600\" : \"text-orange-600\"}>\r\n//                                         {calcPercentage(row?.SchedulesCount, row?.SchedulesCompletedCount)}%\r\n//                                     </span>\r\n//                                 </td>\r\n//                             </tr>\r\n//                             <tr>\r\n//                                 <td className=\"p-2 fw-bold\">Task Progress</td>\r\n//                                 <td className=\"p-2\">{row?.TasksProgressCount || 0}</td>\r\n//                                 <td className=\"p-2\">{row?.TasksAssignedToEmployee || 0}</td>\r\n//                                 <td className=\"p-2 fw-bold\">\r\n//                                     <span className={Number(row?.TasksProgressCount) === Number(row?.TasksAssignedToEmployee) ? \r\n//                                         \"text-green-600\" : \"text-orange-600\"}>\r\n//                                         {calcPercentage(row?.TasksAssignedToEmployee, row?.TasksProgressCount)}%\r\n//                                     </span>\r\n//                                 </td>\r\n//                             </tr>\r\n//                         </tbody>\r\n//                     </table>\r\n//                 </div>\r\n\r\n//                 {/* Task Details List */}\r\n//                 <div className=\"mb-4\">\r\n//                     <div className=\"d-flex justify-content-between align-items-center mb-3\">\r\n//                         <h6 className=\"fw-bold mb-0\">Task Details</h6>\r\n//                         <div className=\"d-flex align-items-center\">\r\n//                             {isTasksLoading && (\r\n//                                 <div className=\"spinner-border spinner-border-sm text-primary me-2\" role=\"status\">\r\n//                                     <span className=\"visually-hidden\">Loading...</span>\r\n//                                 </div>\r\n//                             )}\r\n//                             <small className=\"text-muted\">\r\n//                                 {tasks.length} task(s) found\r\n//                             </small>\r\n//                         </div>\r\n//                     </div>\r\n                    \r\n//                     {isTasksLoading ? (\r\n//                         <div className=\"text-center py-4\">\r\n//                             <div className=\"spinner-border text-primary\" role=\"status\">\r\n//                                 <span className=\"visually-hidden\">Loading tasks...</span>\r\n//                             </div>\r\n//                             <p className=\"mt-2 text-muted\">Loading tasks...</p>\r\n//                         </div>\r\n//                     ) : tasks.length > 0 ? (\r\n//                         <div className=\"table-responsive\">\r\n//                             <table className=\"table table-bordered table-hover\">\r\n//                                 <thead className=\"bg-light\">\r\n//                                     <tr>\r\n//                                         <th className=\"p-2\">Task Name</th>\r\n//                                         <th className=\"p-2\">Assigned To</th>\r\n//                                         <th className=\"p-2\">Priority</th>\r\n//                                         <th className=\"p-2\">Status</th>\r\n//                                         <th className=\"p-2\">Start Date</th>\r\n//                                         <th className=\"p-2\">End Date</th>\r\n//                                         <th className=\"p-2\">Progress</th>\r\n//                                     </tr>\r\n//                                 </thead>\r\n//                                 <tbody>\r\n//                                     {tasks.map((task, index) => (\r\n//                                         <tr \r\n//                                             key={task.Task_id || index} \r\n//                                             className=\"cursor-pointer\"\r\n//                                             onClick={(e) => handleTaskClick(task, e)}\r\n//                                         >\r\n//                                             <td className=\"p-2 fw-bold\">\r\n//                                                 {task.Task_name || `Task ${index + 1}`}\r\n//                                             </td>\r\n//                                             <td className=\"p-2\">\r\n//                                                 {task.AssignedTo || task.Assigned_To || 'Unassigned'}\r\n//                                             </td>\r\n//                                             <td className=\"p-2\">\r\n//                                                 <span className={`badge ${getPriorityBadge(task.Priority)}`}>\r\n//                                                     {task.Priority || 'Medium'}\r\n//                                                 </span>\r\n//                                             </td>\r\n//                                             <td className=\"p-2\">\r\n//                                                 <span className={`badge ${getStatusBadge(task.Status)}`}>\r\n//                                                     {task.Status || 'Not Started'}\r\n//                                                 </span>\r\n//                                             </td>\r\n//                                             <td className=\"p-2\">\r\n//                                                 {formatDate(task.Start_date || task.Start_Date)}\r\n//                                             </td>\r\n//                                             <td className=\"p-2\">\r\n//                                                 {formatDate(task.End_date || task.End_Date)}\r\n//                                             </td>\r\n//                                             <td className=\"p-2\">\r\n//                                                 <div className=\"d-flex align-items-center\">\r\n//                                                     <div className=\"progress flex-grow-1 me-2\" style={{height: '8px'}}>\r\n//                                                         <div \r\n//                                                             className={`progress-bar ${\r\n//                                                                 task.Status?.toLowerCase() === 'completed' ? 'bg-success' : \r\n//                                                                 task.Status?.toLowerCase() === 'in progress' ? 'bg-warning' : 'bg-info'\r\n//                                                             }`}\r\n//                                                             style={{width: `${task.Progress || 0}%`}}\r\n//                                                         ></div>\r\n//                                                     </div>\r\n//                                                     <small className=\"fw-bold\">\r\n//                                                         {task.Progress || 0}%\r\n//                                                     </small>\r\n//                                                 </div>\r\n//                                             </td>\r\n//                                         </tr>\r\n//                                     ))}\r\n//                                 </tbody>\r\n//                             </table>\r\n//                         </div>\r\n//                     ) : (\r\n//                         <div className=\"text-center py-4 border rounded\">\r\n//                             <p className=\"text-muted mb-0\">No tasks found for this project</p>\r\n//                         </div>\r\n//                     )}\r\n//                 </div>\r\n\r\n//                 {/* Action Buttons */}\r\n//                 <div className=\"mt-3 d-flex gap-2\">\r\n//                     <button \r\n//                         className=\"btn btn-sm btn-outline-primary\"\r\n//                         onClick={() => handleProjectClick(row)}\r\n//                     >\r\n//                         View Project Details\r\n//                     </button>\r\n//                     <button \r\n//                         className=\"btn btn-sm btn-outline-secondary\"\r\n//                         onClick={(e) => handleScheduleClick(row, e)}\r\n//                     >\r\n//                         View Project Schedule\r\n//                     </button>\r\n//                 </div>\r\n//             </div>\r\n//         );\r\n//     };\r\n\r\n//     return (\r\n//         <FilterableTable\r\n//             title=\"Active Projects\"\r\n//             dataArray={projects}\r\n//             EnableSerialNumber\r\n//             columns={[\r\n//                 {\r\n//                     ColumnHeader: \"Project Name\",\r\n//                     isVisible: 1,\r\n//                     isCustomCell: true,\r\n//                     Cell: ({ row }) => (\r\n//                         <span \r\n//                             className=\"fw-bold text-uppercase cursor-pointer\"\r\n//                             onClick={() => handleProjectClick(row)}\r\n//                             style={{ cursor: 'pointer' }}\r\n//                         >\r\n//                             {row.Project_Name}\r\n//                         </span>\r\n//                     ),\r\n//                 },\r\n//                 {\r\n//                     ColumnHeader: \"Progress\",\r\n//                     isVisible: 1,\r\n//                     isCustomCell: true,\r\n//                     Cell: ({ row }) => (\r\n//                         <div className=\"d-flex align-items-center\">\r\n//                             <BarChart className=\"text-muted me-2\" fontSize=\"small\" />\r\n//                             <span>{calcPercentage(row?.TasksScheduled, row?.CompletedTasks)}%</span>\r\n//                         </div>\r\n//                     ),\r\n//                 },\r\n//                 {\r\n//                     ColumnHeader: \"Employee Involved\",\r\n//                     isVisible: 1,\r\n//                     isCustomCell: true,\r\n//                     Cell: ({ row }) => (\r\n//                         <div className=\"d-flex align-items-center\">\r\n//                             <Group className=\"text-muted me-2\" fontSize=\"small\" />\r\n//                             <span>{row?.EmployeesInvolved || 0}</span>\r\n//                         </div>\r\n//                     ),\r\n//                 },\r\n//                 {\r\n//                     ColumnHeader: \"Duration\",\r\n//                     isVisible: 1,\r\n//                     isCustomCell: true,\r\n//                     Cell: ({ row }) => (\r\n//                         <div className=\"d-flex align-items-center\">\r\n//                             <CalendarMonth className=\"text-muted me-2\" fontSize=\"small\" />\r\n//                             <div>\r\n//                                 <div>{formatDate(row?.Est_Start_Dt)} - {formatDate(row?.Est_End_Dt)}</div>\r\n//                                 <small className=\"text-muted\">\r\n//                                     ({getDurationDays(row?.Est_Start_Dt, row?.Est_End_Dt)} DAYS)\r\n//                                 </small>\r\n//                             </div>\r\n//                         </div>\r\n//                     ),\r\n//                 },\r\n//             ]}\r\n//             ButtonArea={\r\n//                 <>\r\n//                     <Tooltip title=\"Refresh Projects\">\r\n//                         <IconButton\r\n//                             size=\"small\"\r\n//                             onClick={() => window.location.reload()}\r\n//                         >\r\n//                             <RefreshIcon />\r\n//                         </IconButton>\r\n//                     </Tooltip>\r\n//                 </>\r\n//             }\r\n//             tableMaxHeight={550}\r\n//             isExpendable={true}\r\n//             expandableComp={(props) => (\r\n//                 <ProjectExpandableComponent {...props} />\r\n//             )}\r\n//         />\r\n//     )\r\n// }\r\n\r\n// export default ActiveProjects;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nimport { useEffect, useState, useContext, useCallback } from \"react\";\r\nimport '../common.css';\r\nimport { \r\n  IconButton, \r\n  Tooltip, \r\n  Chip,\r\n  LinearProgress,\r\n  Box,\r\n  Typography,\r\n  Card,\r\n  CardContent,\r\n  Collapse,\r\n  Table,\r\n  TableBody,\r\n  TableContainer,\r\n  TableRow,\r\n  TableCell,\r\n  TableHead,\r\n  Paper,\r\n  TextField,\r\n  InputAdornment,\r\n  TablePagination,\r\n  CircularProgress,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  Button,\r\n  DialogActions\r\n} from '@mui/material'\r\nimport { \r\n  ArrowOutward as ArrowOutwardIcon, \r\n  Refresh as RefreshIcon,\r\n//   Group, \r\n//   CalendarMonth,\r\n  ExpandMore,\r\n//   Schedule,\r\n  Search,\r\n  Download,\r\n  LibraryAdd,\r\n  ViewHeadlineSharp,\r\n  CheckCircle,\r\n  Pending,\r\n  PlayArrow,\r\n  People,\r\n//   Add\r\n} from '@mui/icons-material'\r\n\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { MyContext } from \"../../Components/context/contextProvider\";\r\nimport { fetchLink } from \"../../Components/fetchComponent\";\r\nimport { toast } from 'react-toastify';\r\nimport EmployeeManagementDialog from \"../employeeManagement/employeeManagement\";\r\nimport ProjectForm from \"../ProjectList/addEditProject\";\r\n\r\nimport TaskAssign from '../../Pages/Tasks/taskAssign/addEditTaskAssign';\r\nimport SubtaskDialog from './subTask'\r\nconst ActiveProjects = ({ onReload }) => {\r\n  const localData = localStorage.getItem(\"user\");\r\n  const parseData = JSON.parse(localData || '{}');\r\n//   const [isDialogOpen, setIsDialogOpen] = useState(false);\r\n  const [projects, setProjects] = useState([]);\r\n  const [filteredProjects, setFilteredProjects] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [expandedRows, setExpandedRows] = useState(new Set());\r\n  const [schedulesData, setSchedulesData] = useState({});\r\n  const [loadingSchedules, setLoadingSchedules] = useState({});\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(10);\r\n  const [assignDialogOpen, setAssignDialogOpen] = useState(false);\r\n  const { contextObj } = useContext(MyContext);\r\n  const [taskData, setTaskData] = useState([]);\r\n  const [scheduleTypes, setScheduleTypes] = useState([]);\r\n  const [isEdit, setIsEdit] = useState(false);\r\n  const [updateDialogOpen, setUpdateDialogOpen] = useState(false);\r\n  const [tasks, setTasks] = useState([]);\r\n  const userData = JSON.parse(localStorage.getItem('user') || '{}');\r\n  const [selectedTask, setSelectedTask] = useState(null);\r\n  const entryBy = userData?.UserId;\r\n  const nav = useNavigate();\r\n  const [projectId, setProjectId] = useState('');\r\n      const [reload, setReload] = useState(false);\r\n          const [reloadFlag, setReloadFlag] = useState(false);\r\n              const [selectedProject, setSelectedProject] = useState(null);\r\n\tconst companyId = userData?.Company_id;\r\n        const [employeeDialogOpen, setEmployeeDialogOpen] = useState(false);\r\n            const [dialogOpen, setDialogOpen] = useState(false);\r\n                const [listingTaskDialogOpen, setListingTaskDialogOpen] = useState(false);\r\n                    const [projectToDelete, setProjectToDelete] = useState(null);\r\n                       const [deleteDialog, setDeleteDialog] = useState(false);\r\n                       \r\nconst [subtaskDialogOpen, setSubtaskDialogOpen] = useState(false);\r\nconst [selectedParentTask, setSelectedParentTask] = useState(null);\r\n                           const [taskAssignOpen, setTaskAssignOpen] = useState(false);\r\n  const [taskScheduleInput, setTaskScheduleInput] = useState({\r\n    Sch_Type_Id: '',\r\n    Sch_Type: '',\r\n    Task_Id: '',\r\n    Task_Est_Start_Date: '',\r\n    Task_Est_End_Date: ''\r\n  });\r\n\r\n    const [moduleAssign,setModuleAssign]=useState(false)\r\n\r\n  const [level2Dialog, setLevel2Dialog] = useState({\r\n  open: false,\r\n  isEdit: false,\r\n  initialData: null,\r\n  scheduleId: '',\r\n  dependencyTasks: []\r\n});\r\n\r\n// Replace the Level 2 task assignment button click handler\r\nconst handleLevel2TaskAssign = (scheduleId, dependencyTasks, editData = null) => {\r\n  setLevel2Dialog({\r\n    open: true,\r\n    isEdit: !!editData,\r\n    initialData: editData,\r\n    scheduleId: scheduleId,\r\n    dependencyTasks: dependencyTasks\r\n  });\r\n};\r\n\r\n\r\n  useEffect(() => {\r\n    fetchProjects();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    filterProjects();\r\n  }, [projects, searchTerm]);\r\n\r\n\r\n      const handleReloadProjects = () => {\r\n        setReload(prev => !prev);  \r\n        setReloadFlag(prev => !prev); \r\n    };\r\n    \r\n\r\n  const fetchProjects = () => {\r\n    fetchLink({\r\n      address: `taskManagement/project/AbstractNew?Company_id=${parseData?.Company_id}`\r\n    }).then(data => {\r\n      if (data.success) {\r\n        const projectsWithProgress = data.data.map(project => ({\r\n          ...project,\r\n          progress: calculateProjectProgress(project)\r\n        }));\r\n        setProjects(projectsWithProgress);\r\n      }\r\n    }).catch(e => {\r\n      console.error('Error fetching projects:', e);\r\n      toast.error('Failed to load projects');\r\n    });\r\n  }\r\n\r\n  const calculateProjectProgress = (project) => {\r\n    const totalTasks = Number(project.TasksScheduled) || 0;\r\n    const completedTasks = Number(project.CompletedTasks) || 0;\r\n    \r\n    if (totalTasks === 0) return 0;\r\n    return Math.round((completedTasks / totalTasks) * 100);\r\n  }\r\n\r\n  const filterProjects = () => {\r\n    if (!searchTerm.trim()) {\r\n      setFilteredProjects(projects);\r\n      return;\r\n    }\r\n\r\n    const filtered = projects.filter(project => \r\n      project.Project_Name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      project.Project_Code?.toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n    setFilteredProjects(filtered);\r\n  }\r\n\r\n//   const fetchData = useCallback(async () => {\r\n//     try {\r\n//       if (!projectId) return;\r\n      \r\n//       const data = await fetchLink({\r\n//         address: `taskManagement/project/schedule/ListingDetails?Project_Id=${projectId}`\r\n//       });\r\n//       if (data.success) {\r\n//         setTaskData(data.data);\r\n//       } else {\r\n//         console.error('Failed to fetch task details:', data.message);\r\n//         toast.error('Failed to load task details');\r\n//       }\r\n//     } catch (e) {\r\n//       console.error('Error fetching task details:', e);\r\n//       toast.error('Error loading task details');\r\n//     }\r\n//   }, [projectId]);\r\n\r\n\r\nconst handleAddSubtask = (task) => {\r\n  setSelectedParentTask(task);\r\n  setSubtaskDialogOpen(true);\r\n};\r\n\r\nconst handleSubtaskAdded = () => {\r\n  // Refresh the data when a subtask is added\r\n  fetchProjects();\r\n  if (selectedParentTask?.Project_Id) {\r\n    fetchProjectSchedules(selectedParentTask.Project_Id);\r\n  }\r\n  toast.success('Subtask added successfully!');\r\n};\r\n\r\nconst handleCloseSubtaskDialog = () => {\r\n  setSubtaskDialogOpen(false);\r\n  setSelectedParentTask(null);\r\n};\r\n\r\n\r\n\r\n  const handleAssignTask = async () => {\r\n    if (!taskScheduleInput.Task_Id || !taskScheduleInput.Sch_Type_Id) {\r\n      toast.error(\"Please select a task and schedule type before saving.\");\r\n      return;\r\n    }\r\n\r\n    const requestData = {\r\n      entryBy: entryBy,\r\n      Project_Id: projectId,\r\n      Sch_Type_Id: taskScheduleInput.Sch_Type_Id,\r\n      Sch_Est_Start_Date: taskScheduleInput.Task_Est_Start_Date,\r\n      Sch_Est_End_Date: taskScheduleInput.Task_Est_End_Date,\r\n      tasks: [taskScheduleInput]\r\n    };\r\n\r\n    try {\r\n      const response = await fetchLink({\r\n        address: 'taskManagement/project/schedule/createNewTaskWithSchedule',\r\n        method: 'POST',\r\n        bodyData: requestData,\r\n      });\r\n\r\n      if (response.success) {\r\n        toast.success(response.message);\r\n        setAssignDialogOpen(false);\r\n        setTaskScheduleInput({\r\n          Sch_Type_Id: '',\r\n          Sch_Type: '',\r\n          Task_Id: '',\r\n          Task_Est_Start_Date: '',\r\n          Task_Est_End_Date: ''\r\n        });\r\n        // fetchDatas();\r\n        onReload?.();\r\n      } else if (response.status === 'warning') {\r\n        toast.warn(response.message || \"Task already exists for this project.\");\r\n      } else {\r\n        toast.warn(response.message || \"Failed to assign task.\");\r\n      }\r\n    } catch (error) {\r\n      console.error('Error assigning task:', error);\r\n      toast.error('Failed to assign task');\r\n    }\r\n  };\r\n\r\n  const updateTaskDetails = async (task) => {\r\n    const requestData = {\r\n      Sch_Project_Id: task.Sch_Project_Id,\r\n      Sch_Id: task.TaskSchId,\r\n      schtypeid: taskScheduleInput.Sch_Type_Id,\r\n      Task_Id: task.Task_Id\r\n    };\r\n\r\n    try {\r\n      const response = await fetchLink({\r\n        address: 'taskManagement/project/schedule/updateScheduleTaskUpdate',\r\n        method: 'PUT',\r\n        bodyData: requestData,\r\n      });\r\n\r\n      if (response.success) {\r\n        toast.success(response.message);\r\n        setUpdateDialogOpen(false);\r\n        setIsEdit(false);\r\n        onReload?.();\r\n      } else if (response.status === 'warning') {\r\n        toast.warn(response.message || \"Task already exists for this project.\");\r\n      } else {\r\n        toast.warn(response.message || \"Failed to update task.\");\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating task:', error);\r\n      toast.error('Failed to update task');\r\n    }\r\n  };\r\n\r\n  const fetchProjectSchedules = async (projectId) => {\r\n    setLoadingSchedules(prev => ({\r\n      ...prev,\r\n      [projectId]: true\r\n    }));\r\n\r\n    try {\r\n      const data = await fetchLink({\r\n        address: `taskManagement/project/schedule/ListingDetailsAbstract?Project_Id=${projectId}`\r\n      });\r\n      \r\n      if (data.success && data.data) {\r\n        setSchedulesData(prev => ({\r\n          ...prev,\r\n          [projectId]: data.data\r\n        }));\r\n      } else {\r\n        setSchedulesData(prev => ({\r\n          ...prev,\r\n          [projectId]: []\r\n        }));\r\n      }\r\n    } catch (e) {\r\n      console.error('Error fetching schedules:', e);\r\n      setSchedulesData(prev => ({\r\n        ...prev,\r\n        [projectId]: []\r\n      }));\r\n      toast.error('Failed to load project schedules');\r\n    } finally {\r\n      setLoadingSchedules(prev => ({ \r\n        ...prev, \r\n        [projectId]: false \r\n      }));\r\n    }\r\n  }\r\n\r\n  const handleRowExpand = async (projectId) => {\r\n    const newExpanded = new Set(expandedRows);\r\n    \r\n    if (newExpanded.has(projectId)) {\r\n      newExpanded.delete(projectId);\r\n    } else {\r\n      newExpanded.add(projectId);\r\n      if (!schedulesData[projectId] && !loadingSchedules[projectId]) {\r\n        await fetchProjectSchedules(projectId);\r\n      }\r\n    }\r\n    setExpandedRows(newExpanded);\r\n  }\r\n\r\n  const handleSchTypeChange = (e) => {\r\n    const selectedOption = scheduleTypes.find(option => option.Sch_Type_Id === parseInt(e.target.value));\r\n    if (selectedOption) {\r\n      setTaskScheduleInput({\r\n        ...taskScheduleInput,\r\n        Sch_Type_Id: selectedOption.Sch_Type_Id,\r\n        Sch_Type: selectedOption.Sch_Type,\r\n      });\r\n    }\r\n  };\r\n\r\n\r\n\r\n   const handleCloseDialogs = () => {\r\n        setDialogOpen(false);\r\n        setListingTaskDialogOpen(false);\r\n        setSelectedProject(null);\r\n        setProjectToDelete(null);\r\n        setDeleteDialog(false);\r\n    };\r\n\r\n  const handleTaskChange = async (e) => {\r\n    const selectedTaskId = e.target.value;\r\n    setTaskScheduleInput(prev => ({\r\n      ...prev,\r\n      Task_Id: selectedTaskId\r\n    }));\r\n\r\n    try {\r\n      const response = await fetchLink({\r\n        address: `taskManagement/tasks/tasklistsid?Task_Id=${selectedTaskId}`\r\n      });\r\n      if (response.success) {\r\n        const taskDetails = response.data;\r\n        setTaskScheduleInput(prev => ({\r\n          ...prev,\r\n          Task_Levl_Id: taskDetails.Task_Levl_Id,\r\n          Task_Name: taskDetails.Task_Name,\r\n          Task_Desc: taskDetails.Task_Desc,\r\n          Task_Group_Id: taskDetails.Task_Group_Id,\r\n          Sch_Type_Id: taskDetails.Sch_Type_Id,\r\n          Task_Sch_Duaration: taskDetails.Task_Sch_Duaration || '',\r\n          Task_Start_Time: taskDetails.Task_Start_Time || new Date().toISOString(),\r\n          Task_End_Time: taskDetails.Task_End_Time || new Date().toISOString(),\r\n          Task_Est_Start_Date: taskDetails.Task_Est_Start_Date || new Date().toISOString(),\r\n          Task_Est_End_Date: taskDetails.Task_Est_End_Date || new Date().toISOString(),\r\n        }));\r\n      } else {\r\n        toast.error(\"Failed to fetch task details\");\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching task details:', error);\r\n      toast.error(\"Error loading task details\");\r\n    }\r\n  };\r\n\r\n  const calcPercentage = (task, completed) => {\r\n    if (!task || Number(task) === 0) return 0;\r\n    return Math.round((Number(completed) / Number(task)) * 100);\r\n  }\r\n\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return 'N/A';\r\n    try {\r\n      return new Date(dateString).toLocaleDateString('en-IN', { \r\n        day: '2-digit', \r\n        month: '2-digit', \r\n        year: 'numeric' \r\n      });\r\n    } catch (error) {\r\n      return 'Invalid Date';\r\n    }\r\n  }\r\n\r\n  const formatTime = (timeString) => {\r\n    if (!timeString) return 'N/A';\r\n    try {\r\n      const timePart = timeString.split('T')[1]?.split('.')[0];\r\n      return timePart || timeString;\r\n    } catch (error) {\r\n      return timeString;\r\n    }\r\n  }\r\n\r\n  const getStatusChip = (status) => {\r\n    const statusConfig = {\r\n      1: { label: 'New', color: 'primary', icon: <Pending /> },\r\n      2: { label: 'In Progress', color: 'warning', icon: <PlayArrow /> },\r\n      3: { label: 'Completed', color: 'success', icon: <CheckCircle /> },\r\n      4: { label: 'Canceled', color: 'error', icon: <Pending /> }\r\n    };\r\n    \r\n    const config = statusConfig[Number(status)] || { label: 'Unknown', color: 'default', icon: <Pending /> };\r\n    return (\r\n      <Chip \r\n        label={config.label} \r\n        color={config.color} \r\n        size=\"small\" \r\n        icon={config.icon}\r\n        variant=\"outlined\"\r\n      />\r\n    );\r\n  }\r\n\r\n  const getTaskStatusChip = (status) => {\r\n    let statusId;\r\n    \r\n    if (typeof status === 'number') {\r\n      statusId = status;\r\n    } else if (typeof status === 'string') {\r\n      const statusMap = {\r\n        'completed': 3,\r\n        'in progress': 2,\r\n        'new': 1,\r\n        'not started': 1,\r\n        'canceled': 4,\r\n        'not assigned': 1\r\n      };\r\n      statusId = statusMap[status.toLowerCase()] || 1;\r\n    } else {\r\n      statusId = 1;\r\n    }\r\n    \r\n    const statusConfig = {\r\n      1: { label: 'New', color: 'primary', icon: <Pending /> },\r\n      2: { label: 'In Progress', color: 'warning', icon: <PlayArrow /> },\r\n      3: { label: 'Completed', color: 'success', icon: <CheckCircle /> },\r\n      4: { label: 'Canceled', color: 'error', icon: <Pending /> }\r\n    };\r\n    \r\n    const config = statusConfig[Number(statusId)] || statusConfig[1];\r\n    return (\r\n      <Chip \r\n        label={config.label} \r\n        color={config.color} \r\n        size=\"small\" \r\n        icon={config.icon}\r\n      />\r\n    );\r\n  }\r\n\r\n  const getProgressColor = (progress) => {\r\n    if (progress >= 80) return 'success';\r\n    if (progress >= 50) return 'warning';\r\n    return 'primary';\r\n  }\r\n\r\n  const handleProjectClick = (project) => {\r\n    console.log('Project clicked:', project);\r\n  }\r\n\r\n  const getDurationDays = (startDate, endDate) => {\r\n    if (!startDate || !endDate) return 0;\r\n    try {\r\n      const start = new Date(startDate);\r\n      const end = new Date(endDate);\r\n      const timeDiff = end - start;\r\n      const dayDiff = timeDiff / (1000 * 60 * 60 * 24);\r\n      return Math.max(1, Math.ceil(dayDiff));\r\n    } catch (error) {\r\n      return 0;\r\n    }\r\n  }\r\n\r\n  const handleRefresh = () => {\r\n    fetchProjects();\r\n    setSchedulesData({});\r\n    setExpandedRows(new Set());\r\n  }\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n\r\n  const handleAssignButtonClick = (projectId) => {\r\n  \r\n    setProjectId(projectId);\r\n    setModuleAssign(true)\r\n    // setAssignDialogOpen(true);\r\n  };\r\n\r\n\r\n\r\nconst fetchScheduleTypes = useCallback(async () => {\r\n    try {\r\n        const data = await fetchLink({ \r\n            address: `taskManagement/project/schedule/newscheduleType` \r\n        });\r\n        if (data.success) {\r\n          \r\n            setScheduleTypes(data.data);\r\n        } else {\r\n            toast.error(data.message || \"Failed to load schedule types\");\r\n        }\r\n    } catch (error) {\r\n        console.error(\"Error fetching schedule types:\", error);\r\n        toast.error(\"Error loading schedule types\");\r\n    }\r\n}, []);\r\n\r\nconst fetchTasks = useCallback(async () => {\r\n    try {\r\n        setTaskData([])\r\n        // const data = await fetchLink({ \r\n        //     address: `taskManagement/tasks/dropdown?Company_id=${companyId}` \r\n        // });\r\n        // if (data.success) {\r\n        //     setTasks(data.data);\r\n        // } else {\r\n        //     toast.error(data.message || \"Failed to load tasks\");\r\n        // }\r\n    } catch (error) {\r\n        console.error(\"Error fetching tasks:\", error);\r\n        toast.error(\"Error loading tasks\");\r\n    }\r\n}, [companyId]);\r\n\r\nconst fetchTaskData = useCallback(async () => {\r\n    if (!projectId) return;\r\n\r\n    try {\r\n        const data = await fetchLink({\r\n            address: `taskManagement/project/schedule/ListingDetails?Project_Id=${projectId}`\r\n        });\r\n        if (data.success) {\r\n            setTaskData(data.data);\r\n        } else {\r\n            console.error('Failed to fetch task details:', data.message);\r\n            toast.error('Failed to load task details');\r\n        }\r\n    } catch (error) {\r\n        console.error('Error fetching task details:', error);\r\n        toast.error('Error loading task details');\r\n    }\r\n}, [projectId]);\r\n\r\n\r\nconst fetchAllData = useCallback(async () => {\r\n    try {\r\n        await Promise.all([\r\n            fetchScheduleTypes(),\r\n            fetchTasks(),\r\n            fetchTaskData()\r\n        ]);\r\n    } catch (error) {\r\n        console.error(\"Error fetching all data:\", error);\r\n    }\r\n}, [fetchScheduleTypes, fetchTasks, fetchTaskData]);\r\n\r\nuseEffect(() => {\r\n    if (projectId) {\r\n        fetchAllData();\r\n    }\r\n}, [projectId, fetchAllData]);\r\n\r\n\r\nuseEffect(() => {\r\n    fetchScheduleTypes();\r\n    fetchTasks();\r\n}, [fetchScheduleTypes, fetchTasks]);\r\n\r\n\r\n\r\n\t// const handleSelectedTask = async (task) => {\r\n    \r\n\t// \tsetSelectedTask(task);\r\n\t// \tsetTaskAssignOpen(true);\r\n\t// }\r\n\r\n    const handleSelectedTask = async (task) => {\r\n    // Make sure you're setting the projectId from the task\r\n    // This depends on your task object structure\r\n    if (task.Project_Id) {\r\n        setProjectId(task.Project_Id);\r\n    } else if (task.Sch_Project_Id) {\r\n        setProjectId(task.Sch_Project_Id);\r\n    }\r\n    setSelectedTask(task);\r\n    setTaskAssignOpen(true);\r\n}\r\n\r\n\r\nuseEffect(() => {\r\n    if (onReload) {\r\n        fetchAllData();\r\n    }\r\n}, [onReload, fetchAllData]);\r\n\r\n  const ScheduleTableView = ({ schedule }) => {\r\n    if (!schedule.SchTypes) {\r\n      return (\r\n        <Typography variant=\"body2\" color=\"textSecondary\">\r\n          No schedule data available\r\n        </Typography>\r\n      );\r\n    }\r\n\r\n\r\n\r\n    try {\r\n      const scheduleTypes = schedule.SchTypes;\r\n      let totalScheduleTasks = 0;\r\n      let completedScheduleTasks = 0;\r\n      \r\n      const allTasks = [];\r\n      scheduleTypes.forEach(schType => {\r\n        if (Array.isArray(schType.TaskTypeGroups)) {\r\n          schType.TaskTypeGroups.forEach(taskTypeGroup => {\r\n            if (Array.isArray(taskTypeGroup.Tasks)) {\r\n              taskTypeGroup.Tasks.forEach(task => {\r\n                totalScheduleTasks++;\r\n                \r\n                const assignedEmployees = task.AssignedEmployees || [];\r\n                const totalAssigned = assignedEmployees.length;\r\n                \r\n                const completionDetails = taskTypeGroup?.CompletedTaskDetails?.filter(\r\n                  completedTask => \r\n                    completedTask.Task_Id === task.Task_Id && \r\n                    completedTask.Task_Levl_Id === task.Task_Levl_Id\r\n                ) || [];\r\n\r\n                const completedEmployees = completionDetails.length;\r\n                const employeeProgress = totalAssigned > 0 ? Math.round((completedEmployees / totalAssigned) * 100) : 0;\r\n                \r\n                if (employeeProgress === 100) {\r\n                  completedScheduleTasks++;\r\n                }\r\n                \r\n                allTasks.push({\r\n                  ...task,\r\n                  Schedule_Type: schType.SchType,\r\n                  Task_Group: taskTypeGroup.Task_Type,\r\n                  Individual_Progress: employeeProgress,\r\n                  Actual_Status: employeeProgress === 100 ? 3 : (employeeProgress > 0 ? 2 : 1),\r\n                  TaskTypeGroup: taskTypeGroup,\r\n                  assignedEmployees,\r\n                  completedEmployees,\r\n                  totalAssigned\r\n                });\r\n              });\r\n            }\r\n          });\r\n        }\r\n      });\r\n\r\n      const scheduleProgress = totalScheduleTasks > 0 ? Math.round((completedScheduleTasks / totalScheduleTasks) * 100) : 0;\r\n\r\n      return (\r\n        <div>\r\n          <Box sx={{ mb: 3, p: 2, backgroundColor: '#f8f9fa', borderRadius: '8px' }}>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              {/* Schedule Progress: {scheduleProgress}% */}\r\n            </Typography>\r\n            {/* <LinearProgress \r\n              variant=\"determinate\" \r\n              value={scheduleProgress} \r\n              color={getProgressColor(scheduleProgress)}\r\n              sx={{ height: 10, borderRadius: 5 }}\r\n            /> */}\r\n            <Box sx={{ display: 'flex', justifyContent: 'space-between', mt: 1 }}>\r\n              <Typography variant=\"body2\" color=\"textSecondary\">\r\n                Total Tasks: {totalScheduleTasks}\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"textSecondary\">\r\n                Completed: {completedScheduleTasks}\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"textSecondary\">\r\n                Pending: {totalScheduleTasks - completedScheduleTasks}\r\n              </Typography>\r\n            </Box>\r\n          </Box>\r\n\r\n          <TableContainer component={Paper} variant=\"outlined\">\r\n            <Table size=\"small\">\r\n              <TableHead>\r\n                <TableRow sx={{ backgroundColor: '#2C3E50' }}>\r\n                  <TableCell sx={{ color: 'white', fontWeight: 'bold', fontSize: '12px' }}>Task Group</TableCell>\r\n                  <TableCell sx={{ color: 'white', fontWeight: 'bold', fontSize: '12px' }}>Task Type</TableCell>\r\n                  <TableCell sx={{ color: 'white', fontWeight: 'bold', fontSize: '12px' }}>Task Name</TableCell>\r\n                  <TableCell sx={{ color: 'white', fontWeight: 'bold', fontSize: '12px' }}>Progress</TableCell>\r\n                  <TableCell sx={{ color: 'white', fontWeight: 'bold', fontSize: '12px' }}>Status</TableCell>\r\n                  <TableCell sx={{ color: 'white', fontWeight: 'bold', fontSize: '12px' }}>Employees</TableCell>\r\n                  {/* <TableCell sx={{ color:'white',  fontWeight: 'bold', fontSize: '12px' }}>SubTask</TableCell> */}\r\n                  <TableCell sx={{ color: 'white', fontWeight: 'bold', fontSize: '12px' }}>Start Date</TableCell>\r\n                  <TableCell sx={{ color: 'white', fontWeight: 'bold', fontSize: '12px' }}>End Date</TableCell>\r\n                  <TableCell sx={{ color: 'white', fontWeight: 'bold', fontSize: '12px' }}>Actions</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                {allTasks.length > 0 ? (\r\n                  allTasks.map((task, index) => {\r\n                    const getOverallTaskStatus = () => {\r\n                      if (task.totalAssigned === 0) return 'Not Assigned';\r\n                      if (task.Individual_Progress === 0) return 'Not Started';\r\n                      if (task.Individual_Progress === 100) return 'Completed';\r\n                      return 'In Progress';\r\n                    };\r\n\r\n                    const overallStatus = getOverallTaskStatus();\r\n\r\n                    return (\r\n                      <TableRow \r\n                        key={task.A_Id || index} \r\n                        sx={{ \r\n                          backgroundColor: index % 2 === 0 ? '#f8f9fa' : 'white',\r\n                          '&:hover': {\r\n                            backgroundColor: '#e3f2fd'\r\n                          }\r\n                        }}\r\n                      >\r\n                        <TableCell sx={{ fontSize: '11px' }}>\r\n                          <Box>\r\n                            <Typography variant=\"body2\" style={{ fontSize: '0.75rem', fontWeight: 'bold' }}>\r\n                              {task.Task_Group || 'N/A'}\r\n                            </Typography>\r\n                            <Box sx={{ display: 'flex', alignItems: 'center', mt: 0.5 }}>\r\n                              <LinearProgress \r\n                                variant=\"determinate\" \r\n                                value={task.Individual_Progress} \r\n                                color={getProgressColor(task.Individual_Progress)}\r\n                                sx={{ \r\n                                  height: 4, \r\n                                  width: 60, \r\n                                  borderRadius: 2,\r\n                                  mr: 1\r\n                                }}\r\n                              />\r\n                              <Typography variant=\"caption\" style={{ fontSize: '0.7rem' }}>\r\n                                {task.completedEmployees}/{task.totalAssigned} ({task.Individual_Progress}%)\r\n                              </Typography>\r\n                            </Box>\r\n                          </Box>\r\n                        </TableCell>\r\n                        <TableCell sx={{ fontSize: '11px' }}>\r\n                          <Typography variant=\"body2\" style={{ fontSize: '0.75rem' }}>\r\n                            {task.Schedule_Type || 'N/A'}\r\n                          </Typography>\r\n                        </TableCell>\r\n                        <TableCell sx={{ fontSize: '11px' }}>\r\n                          <Box>\r\n                            <Typography variant=\"body2\" style={{ fontSize: '0.75rem', fontWeight: 'bold' }}>\r\n                              {task.Task_Name || 'N/A'}\r\n                            </Typography>\r\n                            {task.Task_Desc && (\r\n                              <Typography variant=\"caption\" color=\"textSecondary\" style={{ fontSize: '0.7rem' }}>\r\n                                {task.Task_Desc}\r\n                              </Typography>\r\n                            )}\r\n                          </Box>\r\n                        </TableCell>\r\n                        <TableCell sx={{ fontSize: '11px' }}>\r\n                          <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                            <CircularProgress \r\n                              variant=\"determinate\" \r\n                              value={task.Individual_Progress} \r\n                              size={30}\r\n                              color={getProgressColor(task.Individual_Progress)}\r\n                            />\r\n                            <Box sx={{ ml: 1 }}>\r\n                              <Typography variant=\"caption\" display=\"block\" style={{ fontSize: '0.7rem' }}>\r\n                                {task.completedEmployees}/{task.totalAssigned} ({task.Individual_Progress}%)\r\n                              </Typography>\r\n                              <Typography variant=\"caption\" color=\"textSecondary\" display=\"block\" style={{ fontSize: '0.6rem' }}>\r\n                                {overallStatus}\r\n                              </Typography>\r\n                            </Box>\r\n                          </Box>\r\n                        </TableCell>\r\n                        <TableCell sx={{ fontSize: '11px' }}>\r\n                          {getTaskStatusChip(overallStatus)}\r\n                        </TableCell>\r\n <TableCell sx={{ fontSize: '11px' }}>\r\n  <Box sx={{ display: 'flex', alignItems: 'flex-start', gap: 1 }}>\r\n\r\n    <Box sx={{ flex: 1 }}>\r\n      {task.assignedEmployees.length > 0 ? (\r\n        <Box>\r\n          <Box sx={{ mb: 1 }}>\r\n            <Typography variant=\"caption\" display=\"flex\" style={{ fontSize: '0.6rem' }}>\r\n         \r\n                  <Tooltip title={task.assignedEmployees.length > 0 ? \"Assign More Employees\" : \"Assign Employees\"}>\r\n      <IconButton \r\n        size=\"small\" \r\n        onClick={() => handleSelectedTask(task)}\r\n        sx={{ \r\n          padding: '4px',\r\n          backgroundColor: task.assignedEmployees.length > 0 ? '#e3f2fd' : '#f5f5f5',\r\n          '&:hover': {\r\n            backgroundColor: task.assignedEmployees.length > 0 ? '#bbdefb' : '#e8e8e8'\r\n          },\r\n          minWidth: '24px',\r\n          minHeight: '24px'\r\n        }}\r\n      >\r\n        <LibraryAdd fontSize=\"small\" />\r\n      </IconButton>\r\n    </Tooltip>\r\n            </Typography>\r\n          </Box>\r\n          \r\n          <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 0.3, maxWidth: 180 }}>\r\n            {task.assignedEmployees.map((employee, empIndex) => {\r\n              const isCompleted = task.TaskTypeGroup?.CompletedTaskDetails?.some(\r\n                detail => detail.Emp_Id === employee.Id\r\n              );\r\n              \r\n              return (\r\n                <Chip\r\n                  key={empIndex}\r\n                  label={employee.Name}\r\n                  variant={isCompleted ? \"filled\" : \"outlined\"}\r\n                  color={isCompleted ? \"success\" : \"default\"}\r\n                  size=\"small\"\r\n                  sx={{ \r\n                    fontSize: '0.55rem',\r\n                    height: '18px',\r\n                    mb: 0.3\r\n                  }}\r\n                />\r\n              );\r\n            })}\r\n          </Box>\r\n        </Box>\r\n      ) : (\r\n        <>\r\n            <Tooltip title={task.assignedEmployees.length > 0 ? \"Assign More Employees\" : \"Assign Employees\"}>\r\n      <IconButton \r\n        size=\"small\" \r\n        onClick={() => handleSelectedTask(task)}\r\n        sx={{ \r\n          padding: '4px',\r\n          backgroundColor: task.assignedEmployees.length > 0 ? '#e3f2fd' : '#f5f5f5',\r\n          '&:hover': {\r\n            backgroundColor: task.assignedEmployees.length > 0 ? '#bbdefb' : '#e8e8e8'\r\n          },\r\n          minWidth: '24px',\r\n          minHeight: '24px'\r\n        }}\r\n      >\r\n        <LibraryAdd fontSize=\"small\" />\r\n      </IconButton>\r\n    </Tooltip>\r\n        <Typography variant=\"caption\" color=\"textSecondary\" style={{ fontSize: '0.7rem' }}>\r\n          No Employees Assigned\r\n        </Typography>\r\n        </>\r\n      )}\r\n    </Box>\r\n\r\n\r\n  </Box>\r\n</TableCell>\r\n{/* <TableCell sx={{ fontSize: '11px' }}> */}\r\n  {/* <Box sx={{ display: 'flex', gap: 0.5 }}> */}\r\n    {/* Add Subtask Button */}\r\n    {/* <Tooltip title=\"Add Subtask\"> */}\r\n      {/* <IconButton  */}\r\n        {/* // size=\"small\"  */}\r\n        {/* // onClick={() => handleAddSubtask(task)} */}\r\n        {/* sx={{  */}\r\n          {/* padding: '4px', */}\r\n          {/* color: 'primary.main', */}\r\n          {/* '&:hover': { */}\r\n            {/* // backgroundColor: 'primary.light', */}\r\n            {/* color: 'white' */}\r\n          {/* } */}\r\n        {/* }} */}\r\n      {/* > */}\r\n        {/* <Add fontSize=\"small\" /> */}\r\n      {/* </IconButton> */}\r\n    {/* </Tooltip> */}\r\n  {/* </Box> */}\r\n{/* </TableCell> */}\r\n                        <TableCell sx={{ fontSize: '11px' }}>\r\n                          <Typography variant=\"body2\" style={{ fontSize: '0.75rem' }}>\r\n                            {formatDate(task.Task_Est_Start_Date)}\r\n                          </Typography>\r\n                        </TableCell>\r\n                        <TableCell sx={{ fontSize: '11px' }}>\r\n                          <Typography variant=\"body2\" style={{ fontSize: '0.75rem' }}>\r\n                            {formatDate(task.Task_Est_End_Date)}\r\n                          </Typography>\r\n                        </TableCell>\r\n                        <TableCell sx={{ fontSize: '11px' }}>\r\n                          <Box sx={{ display: 'flex', gap: 0.5 }}>\r\n                            {/* <Tooltip title=\"Assign Task\">\r\n                              <IconButton \r\n                                size=\"small\" \r\n                                // onClick={() => handleAssignButtonClick(task.Project_Id)}\r\n                                sx={{ padding: '4px' }}\r\n                              >\r\n                                <LibraryAdd fontSize=\"small\" />\r\n                              </IconButton>\r\n                            </Tooltip> */}\r\n                            {/* <TableCell>\r\n                                                                                                                    {Array.isArray(taskItem.AssignedEmployees) && taskItem.AssignedEmployees.length > 0 ? (\r\n                                                                                                                        taskItem.AssignedEmployees.map((employee, empIndex) => (\r\n                                                                                                                            <Chip\r\n                                                                                                                                key={empIndex}\r\n                                                                                                                                label={employee.Name}\r\n                                                                                                                                variant=\"outlined\"\r\n                                                                                                                                size=\"small\"\r\n                                                                                                                                sx={{ margin: '2px', color: 'green' }}\r\n                                                                                                                            />\r\n                                                                                                                        ))\r\n                                                                                                                    ) : (\r\n                                                                                                                        <span>No Employees Assigned</span>\r\n                                                                                                                    )}\r\n                                                                                                                </TableCell> */}\r\n                            <Tooltip title=\"View Details\">\r\n                              <IconButton \r\n                                size=\"small\" \r\n                                onClick={() => console.log('View task details:', task)}\r\n                                sx={{ padding: '4px' }}\r\n                              >\r\n                                <ViewHeadlineSharp fontSize=\"small\" />\r\n                              </IconButton>\r\n                            </Tooltip>\r\n                          </Box>\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    );\r\n                  })\r\n                ) : (\r\n                  <TableRow>\r\n                    <TableCell colSpan={9} align=\"center\" sx={{ py: 3 }}>\r\n                      <Typography variant=\"body2\" color=\"textSecondary\">\r\n                        No tasks found for this schedule\r\n                      </Typography>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                )}\r\n              </TableBody>\r\n            </Table>\r\n          </TableContainer>\r\n        </div>\r\n      );\r\n    } catch (error) {\r\n      console.error('Error parsing schedule data:', error);\r\n      return (\r\n        <Typography variant=\"body2\" color=\"error\">\r\n          Error loading schedule data\r\n        </Typography>\r\n      );\r\n    }\r\n  };\r\n  const handleOpenEmployeeDialog = projectId => {\r\n\r\n        setProjectId(projectId);\r\n        setEmployeeDialogOpen(true);\r\n    };\r\n\r\n\r\n        const handleOpenCreateDialog = () => {\r\n        setSelectedProject(null);\r\n        setIsEdit(false);\r\n        setDialogOpen(true);\r\n    };\r\n\r\n\r\n\r\n  const ProjectExpansionPanel = ({ row }) => {\r\n    const isExpanded = expandedRows.has(row.Project_Id);\r\n    const schedules = schedulesData[row.Project_Id] || [];\r\n    const isLoading = loadingSchedules[row.Project_Id];\r\n\r\n    return (\r\n      <TableRow>\r\n        <TableCell colSpan={6} style={{ padding: 0 }}>\r\n          <Collapse in={isExpanded} timeout=\"auto\" unmountOnExit>\r\n            <div className=\"p-3 border-top bg-light\" style={{ backgroundColor: '#f8f9fa' }}>\r\n              {isLoading ? (\r\n                <div className=\"text-center py-4\">\r\n                  <CircularProgress size={24} />\r\n                  <Typography variant=\"body2\" color=\"textSecondary\" className=\"mt-2\">\r\n                    Loading tasks...\r\n                  </Typography>\r\n                </div>\r\n              ) : schedules.length > 0 ? (\r\n                <div className=\"space-y-4\">\r\n                  {schedules.map((schedule, index) => (\r\n                    <Card key={schedule.Sch_Id || index} variant=\"outlined\">\r\n                      <CardContent>\r\n                        <ScheduleTableView schedule={schedule} />\r\n                      </CardContent>\r\n                    </Card>\r\n                  ))}\r\n                </div>\r\n              ) : (\r\n                <div className=\"text-center py-4\">\r\n                  <Typography variant=\"body2\" color=\"textSecondary\">\r\n                    No schedules found for this project\r\n                  </Typography>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </Collapse>\r\n        </TableCell>\r\n      </TableRow>\r\n    );\r\n  };\r\n\r\n  const taskOptions = tasks.map(obj => ({ value: obj.Task_Id, label: obj.Task_Name }));\r\n  const paginatedProjects = filteredProjects.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage);\r\n\r\n  return (\r\n    <Card className=\"rounded-3 bg-white overflow-hidden m-3\">\r\n      <CardContent className=\"p-0\">\r\n        <div className=\"d-flex justify-content-between align-items-center p-3 border-bottom\">\r\n          <Typography variant=\"h5\" className=\"fw-bold text-muted m-0\">\r\n            Active Projects\r\n          </Typography>\r\n          <div className=\"d-flex align-items-center gap-2\">\r\n              {Number(contextObj?.Add_Rights) === 1 && (\r\n                        <button onClick={handleOpenCreateDialog} className=\"btn btn-primary fa-13 shadow\">\r\n                            Create Project\r\n                        </button>\r\n                    )}\r\n            <TextField\r\n              size=\"small\"\r\n              placeholder=\"Search projects...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              InputProps={{\r\n                startAdornment: (\r\n                  <InputAdornment position=\"start\">\r\n                    <Search fontSize=\"small\" />\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n              sx={{ minWidth: 250 }}\r\n            />\r\n            <Tooltip title=\"Export to PDF\">\r\n              <IconButton size=\"small\">\r\n                <Download />\r\n              </IconButton>\r\n            </Tooltip>\r\n            <Tooltip title=\"Refresh Projects\">\r\n              <IconButton size=\"small\" onClick={handleRefresh}>\r\n                <RefreshIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n          </div>\r\n        </div>\r\n\r\n        <TableContainer sx={{ maxHeight: 600 }}>\r\n          <Table stickyHeader size=\"small\">\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell width=\"25%\" sx={{ fontSize: '13px', backgroundColor: '#EDF0F7', fontWeight: 'bold' }} className=\"border-end border-top\">\r\n                  Project Details\r\n                </TableCell>\r\n                <TableCell width=\"20%\" sx={{ fontSize: '13px', backgroundColor: '#EDF0F7', fontWeight: 'bold' }} className=\"border-end border-top\">\r\n                  Progress\r\n                </TableCell>\r\n                <TableCell width=\"15%\" sx={{ fontSize: '13px', backgroundColor: '#EDF0F7', fontWeight: 'bold' }} className=\"border-end border-top\">\r\n                  Team\r\n                </TableCell>\r\n                <TableCell width=\"20%\" sx={{ fontSize: '13px', backgroundColor: '#EDF0F7', fontWeight: 'bold' }} className=\"border-end border-top\">\r\n                  Timeline\r\n                </TableCell>\r\n                <TableCell width=\"15%\" sx={{ fontSize: '13px', backgroundColor: '#EDF0F7', fontWeight: 'bold' }} className=\"border-end border-top\">\r\n                  Status\r\n                </TableCell>\r\n                {/* <TableCell width=\"15%\" sx={{ fontSize: '13px', backgroundColor: '#EDF0F7', fontWeight: 'bold' }} className=\"border-end border-top\">\r\n                  Action\r\n                </TableCell> */}\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {paginatedProjects.map((row, index) => (\r\n                <>\r\n                  <TableRow \r\n                    key={row.Project_Id} \r\n                    sx={{ \r\n                      '&:last-child td, &:last-child th': { border: 0 },\r\n                      cursor: 'pointer'\r\n                    }}\r\n                  >\r\n                    <TableCell sx={{ fontSize: '12px' }} className=\"border-end\">\r\n                      <div className=\"d-flex align-items-center\">\r\n                        <IconButton \r\n                          size=\"small\" \r\n                          className=\"me-2\"\r\n                          onClick={() => handleRowExpand(row.Project_Id)}\r\n                          sx={{ \r\n                            transform: expandedRows.has(row.Project_Id) ? 'rotate(180deg)' : 'none',\r\n                            transition: 'transform 0.2s'\r\n                          }}\r\n                        >\r\n                          <ExpandMore fontSize=\"small\" />\r\n                        </IconButton>\r\n                        <div>\r\n                          <Typography \r\n                            variant=\"subtitle1\" \r\n                            className=\"fw-bold\"\r\n                            onClick={() => handleProjectClick(row)}\r\n                            style={{ \r\n                              cursor: 'pointer',\r\n                              fontSize: '0.9rem',\r\n                              lineHeight: '1.2'\r\n                            }}\r\n                          >\r\n                            {row.Project_Name}\r\n                          </Typography>\r\n                          <Typography variant=\"body2\" color=\"textSecondary\" style={{ fontSize: '0.8rem' }}>\r\n                            {row.Project_Code || 'No Code'}\r\n                          </Typography>\r\n                          <Box sx={{ display: 'flex', alignItems: 'center', mt: 0.5 }}>\r\n                            <Typography variant=\"caption\" color=\"textSecondary\">\r\n                              Progress: {row.progress}%\r\n                            </Typography>\r\n                          </Box>\r\n                        </div>\r\n                      </div>\r\n                    </TableCell>\r\n                    <TableCell sx={{ fontSize: '12px' }} className=\"border-end\">\r\n                      <Box sx={{ display: 'flex', alignItems: 'center', minWidth: 120 }}>\r\n                        <Box sx={{ width: '100%', mr: 1 }}>\r\n                          <LinearProgress \r\n                            variant=\"determinate\" \r\n                            value={row.progress} \r\n                            color={getProgressColor(row.progress)}\r\n                            sx={{ height: 8, borderRadius: 4 }}\r\n                          />\r\n                        </Box>\r\n                        <Box sx={{ minWidth: 35 }}>\r\n                          <Typography variant=\"body2\" color=\"textSecondary\" style={{ fontSize: '0.8rem' }}>\r\n                            {row.progress}%\r\n                          </Typography>\r\n                        </Box>\r\n                      </Box>\r\n                    </TableCell>\r\n                    <TableCell sx={{ fontSize: '12px' }} className=\"border-end\">\r\n                      {/* <div className=\"d-flex align-items-center\">\r\n                        <Group className=\"text-muted me-2\" fontSize=\"small\" />\r\n                        <Typography variant=\"body2\" style={{ fontSize: '0.8rem' }}>\r\n                          {row?.EmployeesInvolved || 0} members\r\n                        </Typography>\r\n                      </div> */}\r\n\r\n                       {Number(contextObj?.Add_Rights) === 1 && (\r\n                                              <IconButton onClick={() => handleOpenEmployeeDialog(row.Project_Id)}>\r\n                                                  <People />\r\n                                              </IconButton>\r\n                                          )}\r\n                                          {row.EmployeesInvolved}\r\n                    </TableCell>\r\n                    <TableCell sx={{ fontSize: '12px' }} className=\"border-end\">\r\n                      <div>\r\n                        <Typography variant=\"body2\" style={{ fontSize: '0.8rem', lineHeight: '1.2' }}>\r\n                          Start: {formatDate(row?.Est_Start_Dt)}\r\n                        </Typography>\r\n                        <Typography variant=\"body2\" style={{ fontSize: '0.8rem', lineHeight: '1.2' }}>\r\n                          End: {formatDate(row?.Est_End_Dt)}\r\n                        </Typography>\r\n                        <Typography variant=\"caption\" color=\"textSecondary\" style={{ fontSize: '0.7rem' }}>\r\n                          {getDurationDays(row?.Est_Start_Dt, row?.Est_End_Dt)} days\r\n                        </Typography>\r\n                      </div>\r\n                    </TableCell>\r\n                    <TableCell sx={{ fontSize: '12px' }} className=\"border-end\">\r\n                      {getStatusChip(row.Project_Status)}\r\n                    </TableCell>\r\n                    {/* <TableCell  */}\r\n                      {/* sx={{ fontSize: '12px' }}  */}\r\n                      {/* className=\"border-end\" */}\r\n                    {/* > */}\r\n                      {/* <Tooltip title=\"Add Task\">\r\n                        <IconButton \r\n                          size=\"small\" \r\n                          onClick={() => handleAssignButtonClick(row.Project_Id)}\r\n                          sx={{ padding: '4px' }}\r\n                        >\r\n                          <LibraryAdd fontSize=\"small\" />\r\n                        </IconButton>\r\n                      </Tooltip> */}\r\n                    {/* </TableCell> */}\r\n                  </TableRow>\r\n                  <ProjectExpansionPanel row={row} />\r\n                </>\r\n              ))}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n\r\n        {filteredProjects.length === 0 && (\r\n          <div className=\"text-center py-5\">\r\n            <Typography variant=\"h6\" color=\"textSecondary\">\r\n              {searchTerm ? 'No projects match your search' : 'No projects found'}\r\n            </Typography>\r\n          </div>\r\n        )}\r\n     <ProjectForm\r\n                open={dialogOpen}\r\n                onClose={handleCloseDialogs}\r\n                inputValue={selectedProject}\r\n                isEdit={isEdit}\r\n                setReload={handleReloadProjects}\r\n                projectData={projectId}\r\n            />\r\n        <Dialog open={assignDialogOpen} fullWidth maxWidth=\"sm\" PaperProps={{ style: { borderRadius: '8px' } }} onClose={() => setAssignDialogOpen(false)}>\r\n          <DialogTitle>Assign Task</DialogTitle>\r\n          <DialogContent>\r\n            <div style={{ padding: '1px', display: 'flex', marginTop: '16px' }}>\r\n              <div style={{ flex: 1, display: 'flex', alignItems: 'center' }}>\r\n                <label htmlFor=\"task-select\" style={{ marginRight: '8px', minWidth: '80px' }}>Select Task</label>\r\n                <select\r\n                  id=\"task-select\"\r\n                  value={taskScheduleInput.Task_Id || ''}\r\n                  className=\"cus-inpt\"\r\n                  required\r\n                  onChange={handleTaskChange}\r\n                  style={{ flex: 1, marginRight: '8px', padding: '8px', borderRadius: '4px', border: '1px solid #ccc' }}\r\n                >\r\n                  <option value=\"\" disabled>- select -</option>\r\n                  {taskOptions.map((option, index) => (\r\n                    <option key={index} value={option.value}>\r\n                      {option.label}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n                {/* <IconButton onClick={() => setIsDialogOpen(true)}> */}\r\n                  {/* <Button variant=\"contained\" color=\"primary\">Create New</Button> */}\r\n                {/* </IconButton> */}\r\n              </div>\r\n            </div>\r\n            <div style={{ padding: '1px', display: 'flex', marginTop: '16px' }}>\r\n              <div style={{ flex: 1, display: 'flex', alignItems: 'center' }}>\r\n                <label style={{ marginRight: '8px', minWidth: '80px' }}>Sch_Type</label>\r\n                <select\r\n                  value={taskScheduleInput.Sch_Type_Id || ''}\r\n                  onChange={handleSchTypeChange}\r\n                  className=\"cus-inpt\"\r\n                  required\r\n                  style={{ flex: 1, padding: '8px', borderRadius: '4px', border: '1px solid #ccc' }}\r\n                >\r\n                  <option value=\"\" disabled>- Sch_Type -</option>\r\n                  {scheduleTypes.map((option, index) => (\r\n                    <option key={index} value={option.Sch_Type_Id}>\r\n                      {option.Sch_Type}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={() => setAssignDialogOpen(false)}>Cancel</Button>\r\n            <Button variant=\"contained\" color=\"primary\" onClick={handleAssignTask}>Save</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        {updateDialogOpen && (\r\n          <Dialog\r\n            open={updateDialogOpen}\r\n            fullWidth\r\n            maxWidth=\"sm\"\r\n            PaperProps={{ style: { borderRadius: '8px' } }}\r\n            onClose={() => setUpdateDialogOpen(false)}\r\n          >\r\n            <DialogTitle>{isEdit ? \"Edit Task\" : \"Assign Task\"}</DialogTitle>\r\n            <DialogContent>\r\n              <div style={{ padding: '1px', display: 'flex', marginTop: '16px' }}>\r\n                <div style={{ flex: 1, display: 'flex', alignItems: 'center' }}>\r\n                  <label style={{ marginRight: '8px', minWidth: '80px' }}>Sch_Type</label>\r\n                  <select\r\n                    value={taskScheduleInput.Sch_Type_Id || ''}\r\n                    onChange={handleSchTypeChange}\r\n                    className=\"cus-inpt\"\r\n                    required\r\n                    style={{ flex: 1, padding: '8px', borderRadius: '4px', border: '1px solid #ccc' }}\r\n                  >\r\n                    <option value=\"\" disabled>- Sch_Type -</option>\r\n                    {scheduleTypes.map((option, index) => (\r\n                      <option key={index} value={option.Sch_Type_Id}>\r\n                        {option.Sch_Type}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n            </DialogContent>\r\n            <DialogActions>\r\n              <Button onClick={() => setUpdateDialogOpen(false)}>Cancel</Button>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => updateTaskDetails(taskScheduleInput)}\r\n              >\r\n                Save\r\n              </Button>\r\n            </DialogActions>\r\n          </Dialog>\r\n        )}\r\n\r\n\r\n         {\r\n            projectId && (\r\n                 <EmployeeManagementDialog\r\n                open={employeeDialogOpen}\r\n                onClose={() => setEmployeeDialogOpen(false)}\r\n                projectId={projectId}\r\n                onReload={handleReloadProjects}\r\n            />\r\n            )\r\n         }   \r\n  \r\n    {\r\n        projectId && (\r\n                        <TaskAssign\r\n                            open={taskAssignOpen}\r\n                            onClose={() => setTaskAssignOpen(false)}\r\n                            task={selectedTask}\r\n                            projectId={projectId}\r\n                            entryBy={entryBy}\r\n                            taskId={selectedTask}\r\n                            reload={reload}\r\n                            onReload={onReload}\r\n                        />\r\n        )\r\n    }\r\n\r\n\r\n    \r\n<SubtaskDialog\r\n  open={subtaskDialogOpen}\r\n  onClose={handleCloseSubtaskDialog}\r\n  parentTask={selectedParentTask}\r\n  projectId={projectId}\r\n  onSubtaskAdded={handleSubtaskAdded}\r\n/>\r\n\r\n        {filteredProjects.length > 0 && (\r\n          <div className=\"p-2 pb-0\">\r\n            <TablePagination\r\n              component=\"div\"\r\n              count={filteredProjects.length}\r\n              page={page}\r\n              onPageChange={handleChangePage}\r\n              rowsPerPage={rowsPerPage}\r\n              onRowsPerPageChange={handleChangeRowsPerPage}\r\n              rowsPerPageOptions={[5, 10, 20, 50]}\r\n              labelRowsPerPage=\"Rows per page\"\r\n              showFirstButton\r\n              showLastButton\r\n            />\r\n          </div>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n\r\n    \r\n  )\r\n}\r\n\r\nexport default ActiveProjects;"],"names":["icon","_jsx","CheckBoxOutlineBlankIcon","fontSize","checkedIcon","CheckBoxIcon","_ref","open","onClose","isEdit","initialData","scheduleId","projectId","dependencyTasks","tasks","taskType","workStatus","onSuccess","taskScheduleInput","setTaskScheduleInput","useState","Sch_Project_Id","Sch_Id","Task_Levl_Id","Task_Id","Type_Task_Id","Task_Sch_Duaration","Task_Start_Time","Task_End_Time","Task_Est_Start_Date","Date","toISOString","split","Task_Est_End_Date","Task_Sch_Status","Levl_Id","Task_Depend_Level_Id","TasksGet","selectedDependencyTasks","setSelectedDependencyTasks","loading","setLoading","useEffect","prev","_objectSpread","hours1","minutes1","map","Number","hours2","minutes2","date1","date2","difference","Math","abs","hours","floor","minutes","formattedHours","String","padStart","formattedMinutes","opt","concat","length","numStr","obj","join","handleClose","_jsxs","Dialog","maxWidth","fullWidth","children","DialogTitle","onSubmit","async","e","preventDefault","toast","warn","response","fetchLink","address","method","headers","bodyData","success","message","error","console","DialogContent","className","style","verticalAlign","Select","value","label","onChange","options","Task_Name","styles","customSelectStyles","isSearchable","required","placeholder","target","o","i","Task_Type_Id","Task_Type","type","min","Status_Id","Status","Autocomplete","multiple","id","disableCloseOnSelect","getOptionLabel","option","TaskNameGet","event","newValue","renderOption","props","_ref2","selected","Checkbox","marginRight","checked","width","isOptionEqualToValue","val","renderInput","params","TextField","DialogActions","Button","onClick","disabled","onReload","localData","localStorage","getItem","parseData","JSON","parse","projects","setProjects","filteredProjects","setFilteredProjects","searchTerm","setSearchTerm","expandedRows","setExpandedRows","Set","schedulesData","setSchedulesData","loadingSchedules","setLoadingSchedules","page","setPage","rowsPerPage","setRowsPerPage","assignDialogOpen","setAssignDialogOpen","contextObj","useContext","MyContext","taskData","setTaskData","scheduleTypes","setScheduleTypes","setIsEdit","updateDialogOpen","setUpdateDialogOpen","setTasks","userData","selectedTask","setSelectedTask","entryBy","UserId","setProjectId","useNavigate","reload","setReload","reloadFlag","setReloadFlag","selectedProject","setSelectedProject","companyId","Company_id","employeeDialogOpen","setEmployeeDialogOpen","dialogOpen","setDialogOpen","listingTaskDialogOpen","setListingTaskDialogOpen","projectToDelete","setProjectToDelete","deleteDialog","setDeleteDialog","subtaskDialogOpen","setSubtaskDialogOpen","selectedParentTask","setSelectedParentTask","taskAssignOpen","setTaskAssignOpen","Sch_Type_Id","Sch_Type","moduleAssign","setModuleAssign","level2Dialog","setLevel2Dialog","fetchProjects","filterProjects","handleReloadProjects","then","data","projectsWithProgress","project","progress","calculateProjectProgress","catch","totalTasks","TasksScheduled","completedTasks","CompletedTasks","round","trim","filtered","filter","_project$Project_Name","_project$Project_Code","Project_Name","toLowerCase","includes","Project_Code","fetchProjectSchedules","handleSchTypeChange","selectedOption","find","parseInt","formatDate","dateString","toLocaleDateString","day","month","year","getStatusChip","status","config","color","Pending","PlayArrow","CheckCircle","Chip","size","variant","getTaskStatusChip","statusId","statusConfig","getProgressColor","getDurationDays","startDate","endDate","start","end","dayDiff","max","ceil","fetchScheduleTypes","useCallback","fetchTasks","fetchTaskData","fetchAllData","Promise","all","handleSelectedTask","task","Project_Id","ScheduleTableView","schedule","SchTypes","Typography","totalScheduleTasks","completedScheduleTasks","allTasks","forEach","schType","Array","isArray","TaskTypeGroups","taskTypeGroup","Tasks","_taskTypeGroup$Comple","assignedEmployees","AssignedEmployees","totalAssigned","completedEmployees","CompletedTaskDetails","completedTask","employeeProgress","push","Schedule_Type","SchType","Task_Group","Individual_Progress","Actual_Status","TaskTypeGroup","Box","sx","mb","p","backgroundColor","borderRadius","gutterBottom","display","justifyContent","mt","TableContainer","component","Paper","Table","TableHead","TableRow","TableCell","fontWeight","TableBody","index","overallStatus","alignItems","LinearProgress","height","mr","Task_Desc","CircularProgress","ml","gap","flex","Tooltip","title","IconButton","padding","minWidth","minHeight","LibraryAdd","flexWrap","employee","empIndex","_task$TaskTypeGroup","_task$TaskTypeGroup$C","isCompleted","some","detail","Emp_Id","Id","Name","_Fragment","log","ViewHeadlineSharp","A_Id","colSpan","align","py","ProjectExpansionPanel","_ref3","row","isExpanded","has","schedules","isLoading","Collapse","in","timeout","unmountOnExit","Card","CardContent","taskOptions","paginatedProjects","slice","Add_Rights","handleOpenCreateDialog","InputProps","startAdornment","InputAdornment","position","Search","Download","handleRefresh","RefreshIcon","maxHeight","stickyHeader","border","cursor","newExpanded","delete","add","handleRowExpand","transform","transition","ExpandMore","handleProjectClick","lineHeight","handleOpenEmployeeDialog","People","EmployeesInvolved","Est_Start_Dt","Est_End_Dt","Project_Status","ProjectForm","handleCloseDialogs","inputValue","projectData","PaperProps","marginTop","htmlFor","selectedTaskId","taskDetails","Task_Group_Id","requestData","Sch_Est_Start_Date","Sch_Est_End_Date","TaskSchId","schtypeid","updateTaskDetails","EmployeeManagementDialog","TaskAssign","taskId","SubtaskDialog","handleCloseSubtaskDialog","parentTask","onSubtaskAdded","handleSubtaskAdded","TablePagination","count","onPageChange","handleChangePage","newPage","onRowsPerPageChange","rowsPerPageOptions","labelRowsPerPage","showFirstButton","showLastButton"],"sourceRoot":""}