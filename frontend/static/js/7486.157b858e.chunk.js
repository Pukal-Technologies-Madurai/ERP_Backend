"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[7486],{5793:(e,t,o)=>{o.d(t,{A:()=>a});var l=o(59662),n=o(70579);const a=(0,l.A)((0,n.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox")},6593:(e,t,o)=>{o.d(t,{A:()=>l});const l=o(44708).A},12249:(e,t,o)=>{o.d(t,{A:()=>a});var l=o(59662),n=o(70579);const a=(0,l.A)((0,n.jsx)("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"CheckBoxOutlineBlank")},15626:(e,t,o)=>{o.d(t,{A:()=>a});var l=o(59662),n=o(70579);const a=(0,l.A)((0,n.jsx)("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m-9-2V7H4v3H1v2h3v3h2v-3h3v-2zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"PersonAdd")},33064:(e,t,o)=>{o.d(t,{A:()=>j});var l=o(98587),n=o(58168),a=o(65043),s=o(58387),i=o(68606),r=o(6803),d=o(34535),c=o(61475),u=o(54516),m=o(85213),v=o(75429),p=o(57056),h=o(32400);function f(e){return(0,h.Ay)("PrivateSwitchBase",e)}(0,p.A)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var g=o(70579);const x=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],A=(0,d.Ay)(v.A)(e=>{let{ownerState:t}=e;return(0,n.A)({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})}),y=(0,d.Ay)("input",{shouldForwardProp:c.A})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),j=a.forwardRef(function(e,t){const{autoFocus:o,checked:a,checkedIcon:d,className:c,defaultChecked:v,disabled:p,disableFocusRipple:h=!1,edge:j=!1,icon:C,id:b,inputProps:I,inputRef:_,name:D,onBlur:S,onChange:N,onFocus:k,readOnly:R,required:T=!1,tabIndex:w,type:O,value:z}=e,F=(0,l.A)(e,x),[P,E]=(0,u.A)({controlled:a,default:Boolean(v),name:"SwitchBase",state:"checked"}),M=(0,m.A)();let L=p;M&&"undefined"===typeof L&&(L=M.disabled);const B="checkbox"===O||"radio"===O,Q=(0,n.A)({},e,{checked:P,disabled:L,disableFocusRipple:h,edge:j}),V=(e=>{const{classes:t,checked:o,disabled:l,edge:n}=e,a={root:["root",o&&"checked",l&&"disabled",n&&"edge".concat((0,r.A)(n))],input:["input"]};return(0,i.A)(a,f,t)})(Q);return(0,g.jsxs)(A,(0,n.A)({component:"span",className:(0,s.A)(V.root,c),centerRipple:!0,focusRipple:!h,disabled:L,tabIndex:null,role:void 0,onFocus:e=>{k&&k(e),M&&M.onFocus&&M.onFocus(e)},onBlur:e=>{S&&S(e),M&&M.onBlur&&M.onBlur(e)},ownerState:Q,ref:t},F,{children:[(0,g.jsx)(y,(0,n.A)({autoFocus:o,checked:a,defaultChecked:v,className:V.input,disabled:L,id:B?b:void 0,name:D,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;E(t),N&&N(e,t)},readOnly:R,ref:_,required:T,ownerState:Q,tabIndex:w,type:O},"checkbox"===O&&void 0===z?{}:{value:z},I)),P?d:C]}))})},36285:(e,t,o)=>{var l=o(24994);t.A=void 0;var n=l(o(40039)),a=o(70579);t.A=(0,n.default)((0,a.jsx)("path",{d:"M14 8c0-2.21-1.79-4-4-4S6 5.79 6 8s1.79 4 4 4 4-1.79 4-4m3 2v2h6v-2zM2 18v2h16v-2c0-2.66-5.33-4-8-4s-8 1.34-8 4"}),"PersonRemove")},40039:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l.createSvgIcon}});var l=o(81512)},51962:(e,t,o)=>{o.d(t,{A:()=>N});var l=o(98587),n=o(58168),a=o(65043),s=o(58387),i=o(68606),r=o(67266),d=o(33064),c=o(59662),u=o(70579);const m=(0,c.A)((0,u.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),v=(0,c.A)((0,u.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),p=(0,c.A)((0,u.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");var h=o(6803),f=o(6431),g=o(34535),x=o(61475),A=o(57056),y=o(32400);function j(e){return(0,y.Ay)("MuiCheckbox",e)}const C=(0,A.A)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),b=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],I=(0,g.Ay)(d.A,{shouldForwardProp:e=>(0,x.A)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.indeterminate&&t.indeterminate,t["size".concat((0,h.A)(o.size))],"default"!==o.color&&t["color".concat((0,h.A)(o.color))]]}})(e=>{let{theme:t,ownerState:o}=e;return(0,n.A)({color:(t.vars||t).palette.text.secondary},!o.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===o.color?t.vars.palette.action.activeChannel:t.vars.palette[o.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,r.X4)("default"===o.color?t.palette.action.active:t.palette[o.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==o.color&&{["&.".concat(C.checked,", &.").concat(C.indeterminate)]:{color:(t.vars||t).palette[o.color].main},["&.".concat(C.disabled)]:{color:(t.vars||t).palette.action.disabled}})}),_=(0,u.jsx)(v,{}),D=(0,u.jsx)(m,{}),S=(0,u.jsx)(p,{}),N=a.forwardRef(function(e,t){var o,r;const d=(0,f.b)({props:e,name:"MuiCheckbox"}),{checkedIcon:c=_,color:m="primary",icon:v=D,indeterminate:p=!1,indeterminateIcon:g=S,inputProps:x,size:A="medium",className:y}=d,C=(0,l.A)(d,b),N=p?g:v,k=p?g:c,R=(0,n.A)({},d,{color:m,indeterminate:p,size:A}),T=(e=>{const{classes:t,indeterminate:o,color:l,size:a}=e,s={root:["root",o&&"indeterminate","color".concat((0,h.A)(l)),"size".concat((0,h.A)(a))]},r=(0,i.A)(s,j,t);return(0,n.A)({},t,r)})(R);return(0,u.jsx)(I,(0,n.A)({type:"checkbox",inputProps:(0,n.A)({"data-indeterminate":p},x),icon:a.cloneElement(N,{fontSize:null!=(o=N.props.fontSize)?o:A}),checkedIcon:a.cloneElement(k,{fontSize:null!=(r=k.props.fontSize)?r:A}),ownerState:R,ref:t,className:(0,s.A)(T.root,y)},C,{classes:T}))})},81512:(e,t,o)=>{o.r(t),o.d(t,{capitalize:()=>n.A,createChainedFunction:()=>a.A,createSvgIcon:()=>s.A,debounce:()=>i.A,deprecatedPropType:()=>r,isMuiElement:()=>d.A,ownerDocument:()=>c.A,ownerWindow:()=>u.A,requirePropFactory:()=>m,setRef:()=>v,unstable_ClassNameGenerator:()=>j,unstable_useEnhancedEffect:()=>p.A,unstable_useId:()=>h.A,unsupportedProp:()=>f,useControlled:()=>g.A,useEventCallback:()=>x.A,useForkRef:()=>A.A,useIsFocusVisible:()=>y.A});var l=o(25430),n=o(6803),a=o(6593),s=o(59662),i=o(80950);const r=function(e,t){return()=>null};var d=o(90154),c=o(22427),u=o(36078);const m=function(e,t){return()=>null};const v=o(69184).A;var p=o(55013),h=o(45879);const f=function(e,t,o,l,n){return null};var g=o(54516),x=o(93319),A=o(95849),y=o(87844);const j={configure:e=>{l.A.configure(e)}}},87486:(e,t,o)=>{o.r(t),o.d(t,{default:()=>B});var l=o(89379),n=o(65043),a=o(97707),s=o(65074),i=o(48471),r=o(12412),d=o(51962),c=o(67784),u=o(77739),m=o(17392),v=o(83462),p=o(26600),h=o(35316),f=o(29347),g=o(11906),x=o(20656),A=o(63406),y=o(12249),j=o(5793),C=o(15626),b=o(30513),I=o(59383),_=o(79484),D=o(91036),S=o(93141),N=o(70579);const k=(e,t)=>{if(!Array.isArray(e))return"";const o=e.find(e=>String((null===e||void 0===e?void 0:e.empType)||"").toLowerCase()===String(t).toLowerCase());return(null===o||void 0===o?void 0:o.empName)||""},R=e=>{let{Do_Id:t,Do_Ids:o=[],loadingOn:l,loadingOff:i,isCombinedPrint:r=!1}=e;const[d,c]=(0,n.useState)([]),u=(0,n.useRef)(null),m=Array.isArray(o)&&o.length>0?o:t?[t]:[];(0,n.useEffect)(()=>{if(0===m.length)return;null===l||void 0===l||l();(async()=>{try{const e=m.map(e=>(0,s.z)({address:"sales/salesInvoice/printOuts/katchath?Do_Id=".concat(e),loadingOn:()=>{},loadingOff:()=>{}})),t=(await Promise.all(e)).filter(e=>{var t;return e.success&&(null===(t=e.data)||void 0===t?void 0:t[0])}).map(e=>e.data[0]);c(t)}catch(e){console.error("Error fetching katchath data:",e)}finally{null===i||void 0===i||i()}})()},[JSON.stringify(m)]);const v=(0,S.useReactToPrint)({content:()=>u.current});return r?(0,N.jsx)("div",{ref:u,className:"katchath-combined-print",children:d.map((e,t)=>(0,N.jsxs)("div",{className:"katchath-page",children:[(0,N.jsxs)("div",{style:{width:"calc(13.8cm)",height:"calc(10.5cm)",transform:"scale(1.0)",margin:"0 auto",position:"relative",boxSizing:"border-box",fontWeight:"bold"},className:"border py-1 px-2",children:[(0,N.jsxs)("div",{className:"row",children:[(0,N.jsxs)("div",{className:"col-5 p-2",children:[(0,N.jsx)("h5",{className:"m-0",children:e.voucherTypeGet}),(0,N.jsx)("p",{className:"m-0",children:e.createdByGet}),(0,N.jsx)("p",{className:"m-0",children:(0,a.z5)(e.createdOn)}),(0,N.jsx)("br",{}),(0,N.jsx)("p",{className:"m-0",children:e.mailingName?"".concat(e.mailingName,","):" "}),(0,N.jsx)("p",{className:"m-0",children:e.mailingAddress?"".concat(e.mailingAddress,","):" "}),(0,N.jsx)("p",{className:"m-0",children:e.mailingCity?"".concat(e.mailingCity,","):" "}),(0,N.jsx)("p",{className:"m-0",children:e.mailingNumber?e.mailingNumber:" "})]}),(0,N.jsx)("div",{className:"col-7 p-2",children:(0,N.jsx)("div",{className:"table-responsive",children:(0,N.jsx)("table",{className:"table table-borderless",style:{lineHeight:"0.35cm"},children:(0,N.jsxs)("tbody",{children:[(0,a.$r)(e.productDetails).map((e,t)=>(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{children:e.itemName}),(0,N.jsx)("td",{children:e.quantity})]},t)),(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{className:"border text-right pr-4",style:{textAlign:"right",fontSize:"18px",fontWeight:"bold"},children:"Total"}),(0,N.jsx)("td",{className:"border text-right",style:{textAlign:"right",fontSize:"18px",fontWeight:"bold"},children:(0,a.$r)(e.productDetails).reduce((e,t)=>e+t.quantity,0)})]})]})})})})]}),(0,N.jsx)("br",{}),(0,N.jsxs)("div",{children:[(0,N.jsxs)("p",{className:"m-0",children:["Lorry: ",k(e.staffDetails,"Transport")]}),(0,N.jsxs)("p",{className:"m-0",children:["LoadMan: ",k(e.staffDetails,"Load Man")]})]})]}),t<d.length-1&&(0,N.jsx)("div",{className:"page-break",style:{pageBreakAfter:"always",breakAfter:"page"}})]},e.Do_Id||t))}):(0,N.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-center",children:[(0,N.jsx)("div",{className:"print-button-area",children:(0,N.jsx)(g.A,{onClick:v,startIcon:(0,N.jsx)(b.A,{}),children:"Print"})}),(0,N.jsx)("div",{ref:u,className:"katchath-multiple-print",children:d.map((e,t)=>(0,N.jsxs)("div",{style:{fontWeight:"bold"},className:"mb-4",children:[(0,N.jsxs)("div",{style:{width:"calc(14cm)",height:"calc(10.5cm)",transform:"scale(1.0)",margin:"0 auto",position:"relative",boxSizing:"border-box",fontWeight:"bold"},className:"border py-4 px-4",children:[(0,N.jsxs)("div",{className:"row",children:[(0,N.jsxs)("div",{className:"col-5 p-2",children:[(0,N.jsx)("h5",{className:"m-0",children:e.voucherTypeGet}),(0,N.jsx)("p",{className:"m-0",children:e.createdByGet}),(0,N.jsx)("p",{className:"m-0",children:(0,a.z5)(e.createdOn)}),(0,N.jsx)("br",{}),(0,N.jsx)("p",{className:"m-0",children:e.mailingName?"".concat(e.mailingName,","):" "}),(0,N.jsx)("p",{className:"m-0",children:e.mailingAddress?"".concat(e.mailingAddress,","):" "}),(0,N.jsx)("p",{className:"m-0",children:e.mailingCity?"".concat(e.mailingCity,","):" "}),(0,N.jsx)("p",{className:"m-0",children:e.mailingNumber?e.mailingNumber:" "})]}),(0,N.jsx)("div",{className:"col-7 p-2",children:(0,N.jsx)("div",{className:"table-responsive",children:(0,N.jsx)("table",{className:"table table-borderless",style:{lineHeight:"0.35cm"},children:(0,N.jsxs)("tbody",{children:[(0,a.$r)(e.productDetails).map((e,t)=>(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{children:e.itemName}),(0,N.jsx)("td",{children:e.quantity})]},t)),(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{className:"border text-right pr-4",style:{textAlign:"right",fontSize:"18px",fontWeight:"bold"},children:"Total"}),(0,N.jsx)("td",{className:"border text-right",style:{textAlign:"right",fontSize:"18px",fontWeight:"bold"},children:(0,a.$r)(e.productDetails).reduce((e,t)=>e+t.quantity,0)})]})]})})})})]}),(0,N.jsx)("br",{}),(0,N.jsxs)("div",{children:[(0,N.jsxs)("p",{className:"m-0",children:["Lorry: ",k(e.staffDetails,"Transport")]}),(0,N.jsxs)("p",{className:"m-0",children:["LoadMan: ",k(e.staffDetails,"Load Man")]})]})]}),t<d.length-1&&(0,N.jsx)("hr",{className:"my-4"})]},e.Do_Id||t))})]})};var T=o(90001),w=o(22240),O=o(36285);const z=(0,N.jsx)(y.A,{fontSize:"small"}),F=(0,N.jsx)(j.A,{fontSize:"small"}),P={CostCategory:{label:"",value:""},Do_Id:[],involvedStaffs:[],staffInvolvedStatus:0,deliveryStatus:5},E={CostCategory:{label:"",value:""},Do_Id:[],involvedStaffs:[],staffInvolvedStatus:0,deliveryStatus:5},M=e=>String(null!==e&&void 0!==e?e:"").toLowerCase().trim(),L=(e,t)=>(0,a.$r)(null===e||void 0===e?void 0:e.involvedStaffs).filter(e=>(0,a.id)(e.Emp_Type_Id,t)).map(e=>{var t;return String(null!==(t=e.Emp_Name)&&void 0!==t?t:"").trim()}).filter(Boolean),B=e=>{var t,o;let{loadingOn:y,loadingOff:j,AddRights:k,EditRights:B,PrintRights:Q,pageID:V}=e;const[W,H]=(0,n.useState)([]),[q,G]=(0,n.useState)([]),[$,U]=(0,n.useState)([]),[K,Y]=(0,n.useState)([]),[J,X]=(0,n.useState)(""),[Z,ee]=(0,n.useState)(!1),[te,oe]=((0,n.useRef)(null),(0,n.useState)(P)),[le,ne]=(0,n.useState)(E),[ae,se]=(0,n.useState)(!1),[ie,re]=(0,n.useState)({}),[de,ce]=(0,n.useState)([]),[ue,me]=(0,n.useState)({Do_Id:null,Do_Date:null,open:!1}),[ve,pe]=(0,n.useState)({Do_Id:null,open:!1}),[he,fe]=(0,n.useState)({Do_Id:null,Do_Date:null,open:!1}),[ge,xe]=(0,n.useState)({reqDate:(0,a.ny)(),assignDialog:!1,filterDialog:!1,selectedInvoice:null,multipleStaffUpdateDialog:!1,fetchTrigger:0,docType:"",staffStatus:0}),[Ae,ye]=(0,n.useState)({open:!1,doIds:[],docType:""}),je=(0,n.useRef)(null),Ce=(0,n.useMemo)(()=>[{Field_Name:"Do_Inv_No",Fied_Data:"string",ColumnHeader:"Invoice"},{Field_Name:"voucherTypeGet",Fied_Data:"string",ColumnHeader:"Voucher"},{Field_Name:"retailerNameGet",Fied_Data:"string",ColumnHeader:"Customer"}],[]),be=e=>{if(void 0!==e.Alt_Act_Qty&&null!==e.Alt_Act_Qty)return Number(e.Alt_Act_Qty)||0;const t=Number(e.Bill_Qty)||0,o=Number(e.PackValue)||1,l=["AltQty","Alt_Act_Qty","Alt_Qty","Alternate_Qty","Actual_Qty"];for(const n of l)if(void 0!==e[n]&&null!==e[n])return Number(e[n])||0;return t*o};(0,n.useEffect)(()=>{if(Ae.open){const e=setTimeout(()=>{je.current&&se(!0)},300);return()=>clearTimeout(e)}se(!1)},[Ae.open,Ae.doIds,Ae.docType]);const Ie=(0,n.useMemo)(()=>{const e=te.Do_Id;if(!e.length)return{billQty:0,altActQty:0};let t=0,o=0;return W.filter(t=>e.includes((0,a.Ro)(t.Do_Id))).forEach(e=>{Array.isArray(e.stockDetails)&&e.stockDetails.forEach(e=>{t+=Number(e.Bill_Qty)||0,o+=Number(e.Alt_Act_Qty)||0})}),{billQty:t,altActQty:o}},[te.Do_Id,W]);(0,n.useEffect)(()=>{(0,s.z)({address:"sales/salesInvoice/lrReport?reqDate=".concat(ge.reqDate,"&staffStatus=").concat(ge.staffStatus),loadingOn:y,loadingOff:j}).then(e=>{var t,o;(0,a.$r)(e.data).map(e=>{if(e.stockDetails&&Array.isArray(e.stockDetails)){const t=e.stockDetails.map(e=>(0,l.A)((0,l.A)({},e),{},{Alt_Act_Qty:be(e)}));return(0,l.A)((0,l.A)({},e),{},{stockDetails:t})}return e});H((0,a.$r)(e.data)),U((0,a.$r)(null===e||void 0===e||null===(t=e.others)||void 0===t?void 0:t.costTypes)),Y((0,a.$r)(null===e||void 0===e||null===(o=e.others)||void 0===o?void 0:o.uniqeInvolvedStaffs))}).catch(console.error)},[ge.fetchTrigger,ge.staffStatus]),(0,n.useEffect)(()=>{(0,s.z)({address:"masters/erpCostCenter/dropDown"}).then(e=>G((0,a.$r)(e.data))).catch(console.error)},[]);const _e=(0,n.useMemo)(()=>$.filter(e=>K.includes((0,a.Ro)(e.Cost_Category_Id))).map(e=>{const t="costType_".concat((0,a.Ro)(e.Cost_Category_Id));return{costType:e.Cost_Category,field:t,columnConfig:{Field_Name:t,Fied_Data:"string",isVisible:1,ColumnHeader:e.Cost_Category,isCustomCell:!0,getFilterValues:t=>L(t,e.Cost_Category_Id),Cell:t=>{let{row:o}=t;const l=L(o,e.Cost_Category_Id).join(", ");return(0,N.jsx)("span",{children:l||"-"})}}}}).sort((e,t)=>{const o=e.costType.toLowerCase(),l=t.costType.toLowerCase();return o.includes("broker")?-1:l.includes("broker")?1:o.includes("transport")?-1:l.includes("transport")?1:e.costType.localeCompare(t.costType)}).map(e=>e.columnConfig),[$,K]),De=(0,n.useMemo)(()=>[...Ce,..._e],[Ce,_e]),Se=()=>xe(e=>(0,l.A)((0,l.A)({},e),{},{fetchTrigger:e.fetchTrigger+1})),Ne=()=>xe(e=>(0,l.A)((0,l.A)({},e),{},{assignDialog:!1,selectedInvoice:null})),ke=()=>xe(e=>(0,l.A)((0,l.A)({},e),{},{filterDialog:!1})),Re=()=>{oe(P),xe(e=>(0,l.A)((0,l.A)({},e),{},{multipleStaffUpdateDialog:!1}))},Te=()=>{ne(E),xe(e=>(0,l.A)((0,l.A)({},e),{},{multipleStaffRemoveDialog:!1}))},we=()=>me(e=>({Do_Id:null,Do_Date:null,open:!1})),Oe=()=>pe(e=>({Do_Id:null,open:!1})),ze=()=>fe(e=>({Do_Id:null,Do_Date:null,open:!1}));(0,n.useEffect)(()=>{Pe()},[ie,W,De]);const Fe=(e,t)=>{re(o=>(0,l.A)((0,l.A)({},o),{},{[e]:t}))},Pe=()=>{let e=[...W];for(const t of De){const o=t.Field_Name,l=ie[o];if(l){if("range"===l.type){const{min:t,max:n}=l;e=e.filter(e=>{const l=e[o];return(void 0===t||l>=t)&&(void 0===n||l<=n)});continue}if("date"===l.type){const{start:t,end:n}=l.value||{};e=e.filter(e=>{const l=new Date(e[o]);return(void 0===t||l>=new Date(t))&&(void 0===n||l<=new Date(n))});continue}if(Array.isArray(l)){const n=l.map(M).filter(Boolean);if(!n.length)continue;e="function"===typeof t.getFilterValues?e.filter(e=>{const o=(t.getFilterValues(e)||[]).map(M).filter(Boolean);return n.some(e=>o.includes(e))}):e.filter(e=>n.includes(M(e[o])))}}}ce(e)},Ee=(0,S.useReactToPrint)({content:()=>je.current,documentTitle:"Multiple Documents",pageStyle:"delivery_slip"===J?"\n        @page {\n            margin: 0.7cm 0 0 0;\n            size: auto;\n        }\n        html, body {\n            margin: 0;\n            padding: 0;\n        }\n        body {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n        }\n        @media print {\n            body > * {\n                margin-left: 0 !important;\n                margin-right: 0 !important;\n            }\n            .no-print {\n                display: none !important;\n            }\n        }\n    ":"sales_invoice"===J?"\n        @page {\n            size: A5 landscape;\n            margin: 0;\n        }\n        html, body {\n            margin: 0;\n            padding: 0;\n            -webkit-print-color-adjust: exact;\n            print-color-adjust: exact;\n        }\n        body {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n        }\n        @media print {\n            body > * {\n                margin-left: 0 !important;\n                margin-right: 0 !important;\n            }\n            .no-print {\n                display: none !important;\n            }\n        }\n    ":"\n        @page {\n            margin: 0.6cm;\n            size: auto;\n        }\n        html, body {\n            margin: 0;\n            padding: 0;\n        }\n        body {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n        }\n        @media print {\n            body > * {\n                margin-left: 0 !important;\n                margin-right: 0 !important;\n            }\n            .no-print {\n                display: none !important;\n            }\n        }\n    "}),Me=e=>{const{Field_Name:t,Fied_Data:o,ColumnHeader:n}=e;var a,s,i,u,m,v,p,h,f,g;if("number"===o)return(0,N.jsxs)("div",{className:"d-flex justify-content-between px-2",children:[(0,N.jsx)("input",{placeholder:"Min",type:"number",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(a=null===(s=ie[t])||void 0===s?void 0:s.min)&&void 0!==a?a:"",onChange:e=>Fe(t,(0,l.A)((0,l.A)({type:"range"},ie[t]),{},{min:e.target.value?parseFloat(e.target.value):void 0}))}),(0,N.jsx)("input",{placeholder:"Max",type:"number",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(i=null===(u=ie[t])||void 0===u?void 0:u.max)&&void 0!==i?i:"",onChange:e=>Fe(t,(0,l.A)((0,l.A)({type:"range"},ie[t]),{},{max:e.target.value?parseFloat(e.target.value):void 0}))})]});if("date"===o)return(0,N.jsxs)("div",{className:"d-flex justify-content-between px-2",children:[(0,N.jsx)("input",{placeholder:"Start Date",type:"date",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(m=null===(v=ie[t])||void 0===v||null===(p=v.value)||void 0===p?void 0:p.start)&&void 0!==m?m:"",onChange:e=>{var o;return Fe(t,{type:"date",value:(0,l.A)((0,l.A)({},null===(o=ie[t])||void 0===o?void 0:o.value),{},{start:e.target.value||void 0})})}}),(0,N.jsx)("input",{placeholder:"End Date",type:"date",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(h=null===(f=ie[t])||void 0===f||null===(g=f.value)||void 0===g?void 0:g.end)&&void 0!==h?h:"",onChange:e=>{var o;return Fe(t,{type:"date",value:(0,l.A)((0,l.A)({},null===(o=ie[t])||void 0===o?void 0:o.value),{},{end:e.target.value||void 0})})}})]});if("string"===o){const o=(e=>{const t=new Map;for(const o of e){const e=String(null!==o&&void 0!==o?o:"").trim();if(!e)continue;const l=e.toLowerCase();t.has(l)||t.set(l,e)}return Array.from(t.values())})("function"===typeof e.getFilterValues?W.flatMap(t=>e.getFilterValues(t)||[]):W.map(e=>e[t]));return(0,N.jsx)(r.A,{multiple:!0,id:"".concat(t,"-filter"),options:o,disableCloseOnSelect:!0,getOptionLabel:e=>e,value:ie[t]||[],onChange:(e,o)=>Fe(t,o),renderOption:(e,t,o)=>{let{selected:n}=o;return(0,N.jsxs)("li",(0,l.A)((0,l.A)({},e),{},{children:[(0,N.jsx)(d.A,{icon:z,checkedIcon:F,style:{marginRight:8},checked:n}),t]}))},isOptionEqualToValue:(e,t)=>e===t,renderInput:e=>(0,N.jsx)(c.A,(0,l.A)((0,l.A)({},e),{},{label:n||t,placeholder:"Select ".concat((n||t).replace(/_/g," "))}))})}return null};(0,n.useEffect)(()=>{if(Z){const e=de.map(e=>(0,a.Ro)(e.Do_Id));oe(t=>(0,l.A)((0,l.A)({},t),{},{Do_Id:e}))}else oe(e=>(0,l.A)((0,l.A)({},e),{},{Do_Id:[]}))},[Z,de]);const Le=(0,n.useMemo)(()=>{const e=te.Do_Id.length>0,t=te.involvedStaffs.length>0,o=(0,a.IQ)(te.CostCategory.value)&&!(0,a.id)(te.CostCategory.value,0);return!!e&&(!(t&&!o)&&!(!t&&o))},[te]);(0,n.useEffect)(()=>{if(Z){const e=de.map(e=>(0,a.Ro)(e.Do_Id));oe(t=>(0,l.A)((0,l.A)({},t),{},{Do_Id:e})),ne(t=>(0,l.A)((0,l.A)({},t),{},{Do_Id:e}))}else oe(e=>(0,l.A)((0,l.A)({},e),{},{Do_Id:[]})),ne(e=>(0,l.A)((0,l.A)({},e),{},{Do_Id:[]}))},[Z,de]);const Be=(0,n.useMemo)(()=>{const e=le.Do_Id.length>0,t=(0,a.IQ)(le.CostCategory.value)&&!(0,a.id)(le.CostCategory.value,0);return e&&t},[le]);return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(i.Ay,{title:"Sales Invoice",columns:[{Field_Name:"Select",isVisible:1,isCustomCell:!0,Cell:e=>{let{row:t}=e;const o=te.Do_Id.includes((0,a.Ro)(t.Do_Id));le.Do_Id.includes((0,a.Ro)(t.Do_Id));return(0,N.jsx)(d.A,{onFocus:e=>{e.target.blur()},checked:o,onChange:()=>{o?(oe(e=>(0,l.A)((0,l.A)({},e),{},{Do_Id:e.Do_Id.filter(e=>!(0,a.id)(e,t.Do_Id))})),ne(e=>(0,l.A)((0,l.A)({},e),{},{Do_Id:e.Do_Id.filter(e=>!(0,a.id)(e,t.Do_Id))}))):(oe(e=>(0,l.A)((0,l.A)({},e),{},{Do_Id:[...e.Do_Id,(0,a.Ro)(t.Do_Id)]})),ne(e=>(0,l.A)((0,l.A)({},e),{},{Do_Id:[...e.Do_Id,(0,a.Ro)(t.Do_Id)]})))}})}},(0,i.Lj)("Do_Inv_No","string","Invoice"),(0,i.Lj)("createdOn","time","Created"),(0,i.Lj)("voucherTypeGet","string","Voucher"),(0,i.Lj)("retailerNameGet","string","Customer"),{Field_Name:"BillQty",isVisible:1,isCustomCell:!0,Cell:e=>{let{row:t}=e;return t.stockDetails&&t.stockDetails.length>0?t.stockDetails.reduce((e,t)=>e+(Number(t.Bill_Qty)||0),0):0}},{Field_Name:"AltActQty",ColumnHeader:"Alt Act Qty",isVisible:1,isCustomCell:!0,Cell:e=>{let{row:t}=e;return(0,a.e3)((0,a.$r)(t.stockDetails).reduce((e,t)=>e+(0,a.Ro)(t.Alt_Act_Qty),0))}},(0,i.Lj)("Narration","string","Narration"),..._e,{Field_Name:"Action",isVisible:1,isCustomCell:!0,Cell:e=>{let{row:t}=e;return(0,N.jsx)(i.wF,{buttonsData:[{name:"Add Employee",onclick:()=>xe(e=>(0,l.A)((0,l.A)({},e),{},{assignDialog:!0,selectedInvoice:t})),icon:(0,N.jsx)(C.A,{fontSize:"small",color:"primary"}),disabled:!k&&!B},{name:"Print Invoice",onclick:()=>{me({Do_Id:t.Do_Id,Do_Date:t.Do_Date,open:!0})},icon:(0,N.jsx)(b.A,{fontSize:"small",color:"primary"}),disabled:!Q},{name:"Delivery Slip",onclick:()=>{fe({Do_Id:t.Do_Id,Do_Date:t.Do_Date,open:!0})},icon:(0,N.jsx)(b.A,{fontSize:"small",color:"primary"}),disabled:!Q},{name:"Katchath Copy",onclick:()=>{pe({Do_Id:t.Do_Id,open:!0})},icon:(0,N.jsx)(b.A,{fontSize:"small",color:"primary"}),disabled:!Q}]})}}],dataArray:de,EnableSerialNumber:!0,ButtonArea:(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(u.A,{title:"Select All",children:(0,N.jsx)(d.A,{checked:Z,onChange:e=>ee(e.target.checked)})}),(0,N.jsx)(m.A,{size:"small",onClick:()=>xe(e=>(0,l.A)((0,l.A)({},e),{},{multipleStaffUpdateDialog:!0})),disabled:!te.Do_Id.length,children:(0,N.jsx)(C.A,{fontSize:"small"})}),(0,N.jsx)(m.A,{size:"small",onClick:()=>xe(e=>(0,l.A)((0,l.A)({},e),{},{multipleStaffRemoveDialog:!0})),disabled:!le.Do_Id.length,children:(0,N.jsx)(O.A,{fontSize:"small"})}),(0,N.jsx)(m.A,{size:"small",onClick:()=>xe(e=>(0,l.A)((0,l.A)({},e),{},{filterDialog:!0})),children:(0,N.jsx)(I.A,{})}),(0,N.jsx)(m.A,{size:"small",onClick:Se,children:(0,N.jsx)(_.A,{})}),(0,N.jsx)("input",{type:"date",className:"cus-inpt w-auto",value:ge.reqDate,onChange:e=>xe(t=>(0,l.A)((0,l.A)({},t),{},{reqDate:e.target.value}))}),(0,N.jsx)(m.A,{size:"small",disabled:!ge.docType||!te.Do_Id.length,onClick:()=>{X(ge.docType),ye({open:!0,doIds:te.Do_Id,docType:ge.docType})},children:(0,N.jsx)(b.A,{})}),(0,N.jsxs)("select",{className:"cus-inpt w-auto rounded-5 border-0",disabled:!te.Do_Id.length,value:ge.docType,onChange:e=>{const t=e.target.selectedIndex,o=e.target.options[t].text;xe(t=>(0,l.A)((0,l.A)({},t),{},{docType:e.target.value,docTypeLabel:o}))},children:[(0,N.jsx)("option",{value:"",children:"SELECT TYPE"}),(0,N.jsx)("option",{value:"sales_invoice",children:"SALES INVOICE"}),(0,N.jsx)("option",{value:"katchath",children:"KATCHATH"}),(0,N.jsx)("option",{value:"delivery_slip",children:"DELIVERY SLIP"})]}),(0,N.jsxs)("select",{className:"cus-inpt w-auto rounded-5 border-0",value:ge.staffStatus,onChange:e=>{xe(t=>(0,l.A)((0,l.A)({},t),{},{staffStatus:Number(e.target.value)}))},children:[(0,N.jsx)("option",{value:"1",children:"ALL INVOICES"}),(0,N.jsx)("option",{value:"0",children:"INCOMPLETED INVOICES"})]}),te.Do_Id.length>0&&(0,N.jsxs)("div",{className:"d-flex gap-4 mb-0 p-0",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("strong",{children:"Total Bill Qty:"})," ",Ie.billQty]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("strong",{children:"Total Alt Act Qty:"})," ",Ie.altActQty]})]})]})}),(0,N.jsxs)(v.A,{open:ge.assignDialog,onClose:Ne,maxWidth:"lg",fullWidth:!0,children:[(0,N.jsxs)(p.A,{children:["Assign Cost Centers: ",(0,N.jsx)("span",{className:"text-primary",children:null===(t=ge.selectedInvoice)||void 0===t?void 0:t.Do_Inv_No})]}),(0,N.jsxs)("form",{onSubmit:async e=>{var t,o,l;e.preventDefault(),(0,s.z)({address:"sales/salesInvoice/lrReport",method:"POST",bodyData:{Do_Id:null===(t=ge.selectedInvoice)||void 0===t?void 0:t.Do_Id,involvedStaffs:null===(o=ge.selectedInvoice)||void 0===o?void 0:o.involvedStaffs,staffInvolvedStatus:(0,a.Ro)(null===(l=ge.selectedInvoice)||void 0===l?void 0:l.staffInvolvedStatus)},loadingOn:y,loadingOff:j}).then(e=>{e.success?(D.oR.success(e.message),Ne(),Se()):D.oR.error(e.message)}).catch(e=>console.log(e))},children:[(0,N.jsx)(h.A,{children:(0,N.jsxs)("div",{className:"row",children:[$.filter(e=>!["Broker","Transport"].some(t=>String(null===e||void 0===e?void 0:e.Cost_Category).includes(t))).map((e,t)=>{var o;const n=(0,a.$r)(null===(o=ge.selectedInvoice)||void 0===o?void 0:o.involvedStaffs).filter(t=>(0,a.id)(t.Emp_Type_Id,e.Cost_Category_Id)).map(e=>({value:e.Emp_Id,label:e.Emp_Name}));return(0,N.jsxs)("div",{className:"col-lg-4 col-md-6 p-2",children:[(0,N.jsx)("label",{children:e.Cost_Category}),(0,N.jsx)(x.Ay,{value:n,isMulti:!0,styles:A.MR,options:q,onChange:t=>{const o=t.map(t=>{var o;return{Do_Id:null===ge||void 0===ge||null===(o=ge.selectedInvoice)||void 0===o?void 0:o.Do_Id,Emp_Id:t.value,Emp_Name:t.label,Emp_Type_Id:e.Cost_Category_Id,Involved_Emp_Type:e.Cost_Category}});((e,t,o)=>{xe(n=>{var s;const i=(0,a.$r)(null===(s=n.selectedInvoice)||void 0===s?void 0:s.involvedStaffs).filter(e=>!(0,a.id)(e.Emp_Type_Id,o.Cost_Category_Id)).concat(t);return(0,l.A)((0,l.A)({},n),{},{selectedInvoice:(0,l.A)((0,l.A)({},e),{},{involvedStaffs:i})})})})(ge.selectedInvoice,o,e)},placeholder:"Select ".concat(e.Cost_Category),filterOption:a.GI,menuPortalTarget:document.body})]},t)}),(0,N.jsxs)("div",{className:"col-lg-4 col-md-6 p-2 d-flex align-items-end",children:[(0,N.jsx)("input",{className:"form-check-input shadow-none pointer mx-2",style:{padding:"0.7em"},type:"checkbox",id:"removeFromList",checked:(0,a.id)(null===(o=ge.selectedInvoice)||void 0===o?void 0:o.staffInvolvedStatus,1),onChange:()=>{xe(e=>{var t;return(0,l.A)((0,l.A)({},e),{},{selectedInvoice:(0,l.A)((0,l.A)({},e.selectedInvoice),{},{staffInvolvedStatus:(0,a.id)(null===(t=e.selectedInvoice)||void 0===t?void 0:t.staffInvolvedStatus,1)?0:1})})})}}),(0,N.jsx)("label",{htmlFor:"removeFromList",className:"fw-bold",children:"Remove invoice from this page"})]})]})}),(0,N.jsxs)(f.A,{children:[(0,N.jsx)(g.A,{onClick:Ne,variant:"outlined",children:"Close"}),(0,N.jsx)(g.A,{variant:"contained",type:"submit",children:"Save"})]})]})]}),(0,N.jsxs)(v.A,{open:ge.filterDialog,onClose:ke,maxWidth:"sm",fullWidth:!0,children:[(0,N.jsx)(p.A,{children:"Filter Options"}),(0,N.jsx)(h.A,{children:(0,N.jsx)("div",{className:"row",children:De.map((e,t)=>(0,N.jsx)("div",{className:"col-12 p-2",children:Me(e)},t))})}),(0,N.jsx)(f.A,{children:(0,N.jsx)(g.A,{onClick:ke,variant:"outlined",children:"Close"})})]}),(0,N.jsxs)(v.A,{open:ge.multipleStaffUpdateDialog,onClose:Re,maxWidth:"sm",fullWidth:!0,children:[(0,N.jsx)(p.A,{children:"Update Cost Category"}),(0,N.jsxs)(h.A,{children:[(0,N.jsxs)("div",{className:"py-2",children:[(0,N.jsx)("label",{children:"Cost Category"}),(0,N.jsx)(x.Ay,{value:te.CostCategory,styles:A.MR,options:$.filter(e=>!["Broker","Transport"].some(t=>String(null===e||void 0===e?void 0:e.Cost_Category).includes(t))).map(e=>({value:e.Cost_Category_Id,label:e.Cost_Category})),onChange:e=>oe(t=>(0,l.A)((0,l.A)({},t),{},{CostCategory:e})),placeholder:"Select Cost Category",filterOption:a.GI,menuPortalTarget:document.body})]}),(0,N.jsxs)("div",{className:"py-2",children:[(0,N.jsx)("label",{children:"Staff"}),(0,N.jsx)(x.Ay,{value:te.involvedStaffs,isMulti:!0,styles:A.MR,options:q,onChange:e=>oe(t=>(0,l.A)((0,l.A)({},t),{},{involvedStaffs:e})),placeholder:"Select Staff",filterOption:a.GI,menuPortalTarget:document.body,closeMenuOnSelect:!1})]}),(0,N.jsxs)("div",{className:"py-2",children:[(0,N.jsx)("label",{children:"Delivery Status"}),(0,N.jsxs)("select",{className:"cus-inpt p-1",onChange:e=>oe(t=>(0,l.A)((0,l.A)({},t),{},{deliveryStatus:e.target.value})),value:te.deliveryStatus,children:[(0,N.jsx)("option",{value:5,children:"Pending"}),(0,N.jsx)("option",{value:7,children:"Delivered"}),(0,N.jsx)("option",{value:6,children:"Return"})]})]}),(0,N.jsxs)("div",{className:"py-2",children:[(0,N.jsx)("input",{className:"form-check-input shadow-none pointer mx-2",style:{padding:"0.7em"},type:"checkbox",id:"removeFromList",checked:(0,a.id)(te.staffInvolvedStatus,1),onChange:()=>{oe(e=>(0,l.A)((0,l.A)({},e),{},{staffInvolvedStatus:(0,a.id)(e.staffInvolvedStatus,1)?0:1}))}}),(0,N.jsx)("label",{htmlFor:"removeFromList",className:"fw-bold",children:"Remove invoice from this page"})]})]}),(0,N.jsxs)(f.A,{children:[(0,N.jsx)(g.A,{onClick:Re,variant:"outlined",children:"Close"}),(0,N.jsx)(g.A,{variant:"contained",onClick:async()=>{(0,s.z)({address:"sales/salesInvoice/lrReport/multiple",method:"POST",bodyData:{CostCategory:(0,a.Ro)(te.CostCategory.value),Do_Id:te.Do_Id,involvedStaffs:te.involvedStaffs.map(e=>(0,a.Ro)(e.value)),staffInvolvedStatus:(0,a.Ro)(te.staffInvolvedStatus),deliveryStatus:(0,a.Ro)(te.deliveryStatus)},loadingOn:y,loadingOff:j}).then(e=>{e.success?(D.oR.success(e.message),Re(),Se()):D.oR.error(e.message)}).catch(e=>console.log(e))},disabled:!Le,children:"Save"})]})]}),(0,N.jsxs)(v.A,{open:ue.open,onClose:we,maxWidth:"lg",fullWidth:!0,children:[(0,N.jsx)(p.A,{children:"Bill Print Preview"}),(0,N.jsx)(h.A,{children:(0,N.jsx)(T.A,{Do_Id:ue.Do_Id,Do_Date:ue.Do_Date,loadingOn:y,loadingOff:j})}),(0,N.jsx)(f.A,{children:(0,N.jsx)(g.A,{variant:"outlined",onClick:we,children:"Close"})})]}),(0,N.jsxs)(v.A,{open:ve.open,onClose:Oe,maxWidth:"lg",fullWidth:!0,children:[(0,N.jsx)(p.A,{children:"Bill Print Preview"}),(0,N.jsx)(h.A,{children:(0,N.jsx)(R,{Do_Id:ve.Do_Id,loadingOn:y,loadingOff:j})}),(0,N.jsx)(f.A,{children:(0,N.jsx)(g.A,{variant:"outlined",onClick:Oe,children:"Close"})})]}),(0,N.jsxs)(v.A,{open:he.open,onClose:ze,maxWidth:"lg",fullWidth:!0,children:[(0,N.jsx)(p.A,{children:"Delivery Slip Preview"}),(0,N.jsx)(h.A,{children:(0,N.jsx)(w.A,{Do_Id:he.Do_Id,loadingOn:y,loadingOff:j})}),(0,N.jsx)(f.A,{children:(0,N.jsx)(g.A,{variant:"outlined",onClick:ze,children:"Close"})})]}),(0,N.jsxs)(v.A,{open:ge.multipleStaffRemoveDialog,onClose:Te,maxWidth:"sm",fullWidth:!0,children:[(0,N.jsx)(p.A,{children:"Remove Staff from Cost Category"}),(0,N.jsxs)(h.A,{children:[(0,N.jsxs)("div",{className:"py-2",children:[(0,N.jsx)("label",{children:"Cost Category to Remove"}),(0,N.jsx)(x.Ay,{value:le.CostCategory,styles:A.MR,options:$.filter(e=>!["Broker","Transport"].some(t=>String(null===e||void 0===e?void 0:e.Cost_Category).includes(t))).map(e=>({value:e.Cost_Category_Id,label:e.Cost_Category})),onChange:e=>ne(t=>(0,l.A)((0,l.A)({},t),{},{CostCategory:e})),placeholder:"Select Cost Category to Remove",filterOption:a.GI,menuPortalTarget:document.body})]}),(0,N.jsxs)("div",{className:"py-2",children:[(0,N.jsx)("label",{children:"Delivery Status"}),(0,N.jsxs)("select",{className:"cus-inpt p-1",onChange:e=>ne(t=>(0,l.A)((0,l.A)({},t),{},{deliveryStatus:e.target.value})),value:le.deliveryStatus,children:[(0,N.jsx)("option",{value:5,children:"Pending"}),(0,N.jsx)("option",{value:7,children:"Delivered"}),(0,N.jsx)("option",{value:6,children:"Return"})]})]}),(0,N.jsxs)("div",{className:"py-2",children:[(0,N.jsx)("input",{className:"form-check-input shadow-none pointer mx-2",style:{padding:"0.7em"},type:"checkbox",id:"removeFromListRemove",checked:(0,a.id)(le.staffInvolvedStatus,1),onChange:()=>{ne(e=>(0,l.A)((0,l.A)({},e),{},{staffInvolvedStatus:(0,a.id)(e.staffInvolvedStatus,1)?0:1}))}}),(0,N.jsx)("label",{htmlFor:"removeFromListRemove",className:"fw-bold",children:"Remove invoice from this page"})]}),(0,N.jsx)("div",{className:"py-2 text-muted",children:(0,N.jsxs)("small",{children:["This will remove all staff members of the selected Cost Category from ",le.Do_Id.length," selected invoices."]})})]}),(0,N.jsxs)(f.A,{children:[(0,N.jsx)(g.A,{onClick:Te,variant:"outlined",children:"Cancel"}),(0,N.jsx)(g.A,{variant:"contained",color:"error",onClick:async()=>{le.CostCategory.value&&0!==le.Do_Id.length?(0,s.z)({address:"sales/salesInvoice/lrReport/multipleDelete",method:"POST",bodyData:{CostCategory:(0,a.Ro)(le.CostCategory.value),Do_Id:le.Do_Id,staffInvolvedStatus:(0,a.Ro)(le.staffInvolvedStatus),deliveryStatus:(0,a.Ro)(le.deliveryStatus)},loadingOn:y,loadingOff:j}).then(e=>{e.success?(D.oR.success(e.message),Te(),Se()):D.oR.error(e.message)}).catch(e=>console.log(e)):D.oR.error("Please select a Cost Category and at least one invoice")},disabled:!Be,children:"Remove Staff"})]})]}),(0,N.jsxs)(v.A,{open:Ae.open,onClose:()=>ye({open:!1,doIds:[],docType:""}),maxWidth:"lg",fullWidth:!0,children:[(0,N.jsx)(h.A,{dividers:!0,children:(0,N.jsxs)("div",{ref:je,children:["sales_invoice"===Ae.docType&&(0,N.jsx)(T.A,{Do_Ids:Ae.doIds,loadingOn:y,loadingOff:j,isCombinedPrint:!0}),"katchath"===Ae.docType&&(0,N.jsx)(R,{Do_Ids:Ae.doIds,loadingOn:y,loadingOff:j,isCombinedPrint:!0}),"delivery_slip"===Ae.docType&&(0,N.jsx)(w.A,{Do_Ids:Ae.doIds,loadingOn:y,loadingOff:j,isCombinedPrint:!0})]})}),(0,N.jsxs)(f.A,{className:"no-print",children:[(0,N.jsx)(g.A,{variant:"contained",onClick:()=>{Ee()},startIcon:(0,N.jsx)(b.A,{}),children:"Print All"}),(0,N.jsx)(g.A,{variant:"outlined",onClick:()=>ye({open:!1,doIds:[],docType:""}),children:"Close"})]})]})]})}}}]);
//# sourceMappingURL=7486.157b858e.chunk.js.map