"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[8613],{48613:(e,s,i)=>{i.r(s),i.d(s,{default:()=>_});var t=i(65043),n=i(83462),l=i(35316),d=i(29347),a=i(11906),o=i(28076),r=i(39652),h=i(51962),c=i(17392),g=i(79650),x=i(63336),u=i(71806),j=i(84882),A=i(73460),m=i(24509),R=i(91036),S=(i(92342),i(20656)),v=i(63406),p=i(45777),f=i(65074),b=i(70579);const z=(e,s,i,t,n)=>{t&&t(),(0,f.z)({address:"authorization/userTypeRights",method:"POST",bodyData:{MenuId:s,UserType:Number(i),ReadRights:!0===e.readRights?1:0,AddRights:!0===e.addRights?1:0,EditRights:!0===e.editRights?1:0,DeleteRights:!0===e.deleteRights?1:0,PrintRights:!0===e.printRights?1:0}}).then(e=>{e.success||R.oR.error(e.message)}).catch(e=>console.error(e)).finally(()=>{n&&n()})},C=e=>{let{UserTypeId:s,data:i,loadingOn:R,loadingOff:S}=e;const[p,f]=(0,t.useState)(!1),[C,y]=(0,t.useState)(1===i.Read_Rights),[_,I]=(0,t.useState)(1===i.Add_Rights),[M,w]=(0,t.useState)(1===i.Edit_Rights),[O,T]=(0,t.useState)(1===i.Delete_Rights),[U,E]=(0,t.useState)(1===i.Print_Rights),[D,H]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{y(1===i.Read_Rights),I(1===i.Add_Rights),w(1===i.Edit_Rights),T(1===i.Delete_Rights),E(1===i.Print_Rights),H(!1)},[i]),(0,t.useEffect)(()=>{!0===D&&z({readRights:C,addRights:_,editRights:M,deleteRights:O,printRights:U},i.id,s,R,S)},[C,_,M,O,U]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(o.A,{hover:!0,children:[(0,b.jsx)(r.A,{children:i.id}),(0,b.jsx)(r.A,{children:i.name}),(0,b.jsx)(r.A,{children:(0,b.jsx)(h.A,{sx:{"& .MuiSvgIcon-root":{fontSize:20}},checked:C,size:"small",onChange:()=>{H(!0),y(!C)}})}),(0,b.jsx)(r.A,{children:(0,b.jsx)(h.A,{sx:{"& .MuiSvgIcon-root":{fontSize:20}},checked:_,size:"small",onChange:()=>{H(!0),I(!_)}})}),(0,b.jsx)(r.A,{children:(0,b.jsx)(h.A,{sx:{"& .MuiSvgIcon-root":{fontSize:20}},checked:M,size:"small",onChange:()=>{H(!0),w(!M)}})}),(0,b.jsx)(r.A,{children:(0,b.jsx)(h.A,{sx:{"& .MuiSvgIcon-root":{fontSize:20}},checked:O,size:"small",onChange:()=>{H(!0),T(!O)}})}),(0,b.jsx)(r.A,{children:(0,b.jsx)(h.A,{sx:{"& .MuiSvgIcon-root":{fontSize:20}},checked:U,size:"small",onChange:()=>{H(!0),E(!U)}})}),(0,b.jsx)(r.A,{children:i.SubMenu.length>0&&(0,b.jsx)(c.A,{"aria-label":"expand row",size:"small",onClick:()=>f(!p),children:(0,b.jsx)(m.A,{})})})]}),(0,b.jsxs)(n.A,{open:p,onClose:()=>f(!p),maxWidth:"lg",fullWidth:!0,children:[(0,b.jsxs)(l.A,{children:[(0,b.jsx)("h3",{style:{paddingBottom:"0.5em"},children:"Sub Menu"}),(0,b.jsx)(g.A,{component:x.A,sx:{maxHeight:650},children:(0,b.jsxs)(u.A,{stickyHeader:!0,"aria-label":"simple table",children:[(0,b.jsx)(j.A,{children:(0,b.jsx)(o.A,{children:v.zU.map(e=>(0,b.jsx)(r.A,{variant:e.variant,align:e.align,width:e.width,sx:{backgroundColor:"rgb(15, 11, 42)",color:"white"},children:e.headname},e.id))})}),(0,b.jsx)(A.A,{children:i.SubMenu.map((e,i)=>(0,b.jsx)(k,{data:e,UserTypeId:s,loadingOff:S,loadingOn:R},i))})]})})]}),(0,b.jsx)(d.A,{children:(0,b.jsx)(a.A,{onClick:()=>f(!p),color:"primary",children:"Close"})})]})]})},k=e=>{var s;let{data:i,UserTypeId:R,loadingOn:S,loadingOff:p}=e;const[f,C]=(0,t.useState)(!1),[k,_]=(0,t.useState)(1===i.Read_Rights),[I,M]=(0,t.useState)(1===i.Add_Rights),[w,O]=(0,t.useState)(1===i.Edit_Rights),[T,U]=(0,t.useState)(1===i.Delete_Rights),[E,D]=(0,t.useState)(1===i.Print_Rights),[H,P]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{_(1===i.Read_Rights),M(1===i.Add_Rights),O(1===i.Edit_Rights),U(1===i.Delete_Rights),D(1===i.Print_Rights),P(!1)},[i]),(0,t.useEffect)(()=>{!0===H&&z({readRights:k,addRights:I,editRights:w,deleteRights:T,printRights:E},i.id,R,S,p)},[k,I,w,T,E]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(o.A,{hover:!0,children:[(0,b.jsx)(r.A,{children:i.id}),(0,b.jsx)(r.A,{children:i.name}),(0,b.jsx)(r.A,{children:(0,b.jsx)(h.A,{sx:{"& .MuiSvgIcon-root":{fontSize:20}},checked:k,size:"small",onChange:()=>{P(!0),_(!k)}})}),(0,b.jsx)(r.A,{children:(0,b.jsx)(h.A,{sx:{"& .MuiSvgIcon-root":{fontSize:20}},checked:I,size:"small",onChange:()=>{P(!0),M(!I)}})}),(0,b.jsx)(r.A,{children:(0,b.jsx)(h.A,{sx:{"& .MuiSvgIcon-root":{fontSize:20}},checked:w,size:"small",onChange:()=>{P(!0),O(!w)}})}),(0,b.jsx)(r.A,{children:(0,b.jsx)(h.A,{sx:{"& .MuiSvgIcon-root":{fontSize:20}},checked:T,size:"small",onChange:()=>{P(!0),U(!T)}})}),(0,b.jsx)(r.A,{children:(0,b.jsx)(h.A,{sx:{"& .MuiSvgIcon-root":{fontSize:20}},checked:E,size:"small",onChange:()=>{P(!0),D(!E)}})}),(0,b.jsx)(r.A,{children:i.ChildMenu.length>0&&(0,b.jsx)(c.A,{"aria-label":"expand row",size:"small",onClick:()=>C(!f),children:(0,b.jsx)(m.A,{})})})]}),(0,b.jsxs)(n.A,{open:f,onClose:()=>C(!f),maxWidth:"lg",fullWidth:!0,children:[(0,b.jsxs)(l.A,{children:[(0,b.jsx)("h3",{style:{paddingBottom:"0.5em"},children:"Child Menu"}),(0,b.jsx)(g.A,{component:x.A,sx:{maxHeight:650},children:(0,b.jsxs)(u.A,{stickyHeader:!0,"aria-label":"simple table",children:[(0,b.jsx)(j.A,{children:(0,b.jsx)(o.A,{children:v.zU.map(e=>(0,b.jsx)(r.A,{variant:e.variant,align:e.align,width:e.width,sx:{backgroundColor:"rgb(15, 11, 42)",color:"white"},children:e.headname},e.id))})}),(0,b.jsx)(A.A,{children:null===i||void 0===i||null===(s=i.ChildMenu)||void 0===s?void 0:s.map((e,s)=>(0,b.jsx)(y,{data:e,UserTypeId:R,loadingOff:p,loadingOn:S},s))})]})})]}),(0,b.jsx)(d.A,{children:(0,b.jsx)(a.A,{onClick:()=>C(!f),color:"primary",children:"Close"})})]})]})},y=e=>{const{data:s,UserTypeId:i,loadingOn:n,loadingOff:l}=e,[d,a]=(0,t.useState)(1===s.Read_Rights),[c,g]=(0,t.useState)(1===s.Add_Rights),[x,u]=(0,t.useState)(1===s.Edit_Rights),[j,A]=(0,t.useState)(1===s.Delete_Rights),[m,R]=(0,t.useState)(1===s.Print_Rights),[S,v]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{a(1===s.Read_Rights),g(1===s.Add_Rights),u(1===s.Edit_Rights),A(1===s.Delete_Rights),R(1===s.Print_Rights),v(!1)},[s]),(0,t.useEffect)(()=>{!0===S&&z({readRights:d,addRights:c,editRights:x,deleteRights:j,printRights:m},s.id,i,n,l)},[d,c,x,j,m]),(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(o.A,{hover:!0,children:[(0,b.jsx)(r.A,{children:s.id}),(0,b.jsx)(r.A,{children:s.name}),(0,b.jsx)(r.A,{children:(0,b.jsx)(h.A,{sx:{"& .MuiSvgIcon-root":{fontSize:20}},checked:d,size:"small",onChange:()=>{v(!0),a(!d)}})}),(0,b.jsx)(r.A,{children:(0,b.jsx)(h.A,{sx:{"& .MuiSvgIcon-root":{fontSize:20}},checked:c,size:"small",onChange:()=>{v(!0),g(!c)}})}),(0,b.jsx)(r.A,{children:(0,b.jsx)(h.A,{sx:{"& .MuiSvgIcon-root":{fontSize:20}},checked:x,size:"small",onChange:()=>{v(!0),u(!x)}})}),(0,b.jsx)(r.A,{children:(0,b.jsx)(h.A,{sx:{"& .MuiSvgIcon-root":{fontSize:20}},checked:j,size:"small",onChange:()=>{v(!0),A(!j)}})}),(0,b.jsx)(r.A,{children:(0,b.jsx)(h.A,{sx:{"& .MuiSvgIcon-root":{fontSize:20}},checked:m,size:"small",onChange:()=>{v(!0),R(!m)}})}),(0,b.jsx)(r.A,{})]})})},_=e=>{let{loadingOn:s,loadingOff:i}=e;const n=localStorage.getItem("user"),l=JSON.parse(n),[d,a]=(0,t.useState)([]),[h,c]=(0,t.useState)([]),[m,z]=(0,t.useState)([]),{contextObj:k}=(0,t.useContext)(p.i),[_,I]=(0,t.useState)({value:null===l||void 0===l?void 0:l.UserTypeId,label:null===l||void 0===l?void 0:l.UserType});return(0,t.useEffect)(()=>{(0,f.z)({address:"authorization/userTypeRights?UserType=".concat(null===_||void 0===_?void 0:_.value)}).then(e=>{var s,i;e.success&&(a(null===e||void 0===e?void 0:e.data),c(null!==(s=null===e||void 0===e||null===(i=e.others)||void 0===i?void 0:i.subRoutings)&&void 0!==s?s:[]))}).catch(e=>console.error(e))},[_]),(0,t.useEffect)(()=>{(0,f.z)({address:"masters/userType"}).then(e=>{e.success&&z(e.data)}).catch(e=>console.error(e))},[]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(R.N9,{}),(0,b.jsx)("div",{className:"row",children:(0,b.jsx)("div",{className:"col-sm-4 pt-1",children:(0,b.jsx)(S.Ay,{value:_,onChange:e=>I({value:e.value,label:e.label}),options:[...m.map(e=>({value:null===e||void 0===e?void 0:e.Id,label:null===e||void 0===e?void 0:e.UserType}))],styles:v.MR,isSearchable:!0,placeholder:"Select UserType"})})}),(0,b.jsx)("br",{}),(0,b.jsx)("h6",{style:{marginBottom:"0.5em",borderBottom:"2px solid blue",width:"fit-content"},children:"Main Menu"}),(0,b.jsx)(g.A,{component:x.A,sx:{maxHeight:650},children:(0,b.jsxs)(u.A,{stickyHeader:!0,"aria-label":"simple table",children:[(0,b.jsx)(j.A,{children:(0,b.jsx)(o.A,{children:v.zU.map(e=>(0,b.jsx)(r.A,{variant:e.variant,align:e.align,width:e.width,sx:{backgroundColor:"rgb(15, 11, 42)",color:"white"},children:e.headname},e.id))})}),(0,b.jsx)(A.A,{children:null===d||void 0===d?void 0:d.map((e,t)=>(0,b.jsx)(C,{data:e,UserTypeId:_.value,loadingOff:i,loadingOn:s},t))})]})}),(0,b.jsx)("br",{}),(0,b.jsx)("h6",{style:{marginBottom:"0.5em",borderBottom:"2px solid blue",width:"fit-content"},children:"Sub-Routings Access Control"}),(0,b.jsx)(g.A,{component:x.A,sx:{maxHeight:650},title:"Sub-Routings Access Control",children:(0,b.jsxs)(u.A,{stickyHeader:!0,"aria-label":"simple table",children:[(0,b.jsx)(j.A,{children:(0,b.jsx)(o.A,{children:v.zU.map(e=>(0,b.jsx)(r.A,{variant:e.variant,align:e.align,width:e.width,sx:{backgroundColor:"rgb(15, 11, 42)",color:"white"},children:"Action"===e.headname?"Sub Menu":e.headname},e.id))})}),(0,b.jsx)(A.A,{children:h.map((e,t)=>(0,b.jsx)(y,{data:e,UserTypeId:_.value,loadingOff:i,loadingOn:s},t))})]})})]})}}}]);
//# sourceMappingURL=8613.079aa459.chunk.js.map