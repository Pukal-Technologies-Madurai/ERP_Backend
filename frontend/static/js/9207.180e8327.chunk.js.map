{"version":3,"file":"static/js/9207.180e8327.chunk.js","mappings":"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","sources":["Components/requiredStar.jsx","Pages/Receipts/collcetionModule/variable.js","Pages/Receipts/collcetionModule/billDeliveryTableRow.jsx","Pages/Receipts/collcetionModule/createReceipts.jsx"],"sourcesContent":["const RequiredStar = () => (\r\n    <span style={{ color: 'red', fontWeight: 'bold', fontSize: '1em' }}> *</span>\r\n);\r\n\r\nexport default RequiredStar;\r\n","import { getSessionUser, ISOString } from \"../../../Components/functions\";\r\nconst storage = getSessionUser().user;\r\n\r\nexport const receiptGeneralInfo = {\r\n    collection_id: '',\r\n    collection_inv_no: '',\r\n    voucher_id: '',\r\n    collection_no: '',\r\n    year_id: '',\r\n    retailer_id: '',\r\n    payed_by: '',\r\n    collection_date: ISOString(),\r\n    collection_type: 'CASH',\r\n    collection_account: '',\r\n    payment_status: '',\r\n    latitude: '',\r\n    longitude: '',\r\n    collected_by: '',\r\n    total_amount: 0,\r\n    created_on: '',\r\n    alterd_on: '',\r\n    narration: '',\r\n    verify_status: 0,\r\n    bank_date: '',\r\n    created_by: storage.UserId,\r\n    updated_by: storage.UserId,\r\n    verified_by: storage.UserId,\r\n    verified_at: '',\r\n};\r\n\r\nexport const receiptDetailsInfo = {\r\n    auto_id: '',\r\n    collection_id: '',\r\n    bill_id: '',\r\n    bill_amount: 0,\r\n    collected_amount: 0\r\n};","import { Button, Card, CardContent, CardHeader } from \"@mui/material\"\r\nimport { HideSource, List } from '@mui/icons-material'\r\nimport { Addition, checkIsNumber, isEqualNumber, isValidObject, LocalDate, NumberFormat, onlynum, toNumber } from \"../../../Components/functions\";\r\nimport { receiptDetailsInfo } from \"./variable\";\r\nimport { useMemo, useState } from \"react\";\r\nimport RequiredStar from \"../../../Components/requiredStar\";\r\n\r\n\r\nconst DeliveryBillTableRow = ({ row = {}, receiptsPaymentInfo = [], setReceiptsPaymentInfo, Sno }) => {\r\n\r\n    const [previousReceipts, setPreviousReceipts] = useState(false);\r\n    const [showBill, setShowBill] = useState(false);\r\n\r\n    const billDetails = useMemo(() => {\r\n        const obj = receiptsPaymentInfo.find(\r\n            bills => isEqualNumber(bills?.bill_id, row?.Do_Id)\r\n        );\r\n\r\n        return isValidObject(obj) ? obj : {};\r\n    }, [receiptsPaymentInfo, row]);\r\n\r\n    const billIndex = useMemo(() => {\r\n        return receiptsPaymentInfo.findIndex(\r\n            bills => isEqualNumber(bills?.bill_id, row?.Do_Id)\r\n        )\r\n    }, [receiptsPaymentInfo, row]);\r\n\r\n    const onChangeValues = (key, value) => {\r\n        setReceiptsPaymentInfo(pre => {\r\n            const newValue = [...pre];\r\n\r\n            if (billIndex === -1) {\r\n                const billDetails = { ...receiptDetailsInfo };\r\n                billDetails.bill_id = row?.Do_Id;\r\n                billDetails.bill_amount = toNumber(row?.Total_Invoice_value);\r\n                billDetails[key] = value;\r\n\r\n                return [...newValue, billDetails];\r\n            } else {\r\n                newValue[billIndex][key] = value;\r\n                return newValue;\r\n            }\r\n        })\r\n    }\r\n\r\n    const total_collected_amount = useMemo(() => {\r\n        return Array.isArray(row?.Payments) ? row?.Payments?.reduce(\r\n            (acc, receipt) => Addition(acc, receipt.collected_amount)\r\n            , 0) : 0\r\n    }, [row])\r\n\r\n    const isChecked = checkIsNumber(billDetails?.bill_id);\r\n\r\n    return (\r\n        <>\r\n            <tr>\r\n                <td className=\"border\">{Sno}</td>\r\n                <td className=\"border\">\r\n                    {(() => {\r\n\r\n                        return (\r\n                            <div>\r\n                                <input\r\n                                    className=\"form-check-input shadow-none pointer\"\r\n                                    style={{ padding: '0.7em' }}\r\n                                    type=\"checkbox\"\r\n                                    checked={isChecked}\r\n                                    onChange={() => {\r\n                                        if (isChecked) setReceiptsPaymentInfo(\r\n                                            pre => pre.filter(rec => !isEqualNumber(rec.bill_id, row?.Do_Id))\r\n                                        );\r\n                                        else onChangeValues('bill_amount', toNumber(row?.Total_Invoice_value));\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                        )\r\n                    })()}\r\n                </td>\r\n                <td className=\"border\">{row?.Do_Inv_No}</td>\r\n                <td className=\"border\">{LocalDate(row?.Do_Date)}</td>\r\n                <td className=\"border\">{toNumber(row?.Total_Invoice_value)}</td>\r\n                <td className=\"border\">{total_collected_amount}</td>\r\n                <td className=\"border\">{row?.pendingAmount}</td>\r\n                <td className=\"border\">{toNumber(row?.Payments?.length)}</td>\r\n            </tr>\r\n\r\n            <tr>\r\n                <td colSpan={8}>\r\n                    <div className=\"d-flex align-items-end flex-wrap\">\r\n                        <div className=\"flex-grow-1\">\r\n                            <label className=\"fa-14 w-100\">Receipt Amount (â‚¹){isChecked && <RequiredStar />}</label>\r\n                            <input\r\n                                onInput={onlynum}\r\n                                disabled={!isChecked}\r\n                                value={billDetails?.collected_amount ? toNumber(billDetails?.collected_amount) : ''}\r\n                                onChange={e => onChangeValues('collected_amount', e.target.value)}\r\n                                style={{ width: '100%', maxWidth: '350px' }}\r\n                                className=\"cus-inpt border p-2\"\r\n                                placeholder=\"Enter Receipt Amount\"\r\n                                max={toNumber(row?.pendingAmount)}\r\n                                required={isChecked}\r\n                            />\r\n                        </div>\r\n\r\n                        <Button\r\n                            startIcon={showBill ? <HideSource /> : <List />}\r\n                            onClick={() => setShowBill(pre => !pre)}\r\n                        >{showBill ? 'Hide' : 'Show'} Invoice</Button>\r\n                        <Button\r\n                            startIcon={previousReceipts ? <HideSource /> : <List />}\r\n                            onClick={() => setPreviousReceipts(pre => !pre)}\r\n                            disabled={!Array.isArray(row?.Payments) || toNumber(row?.Payments?.length) === 0}\r\n                        >{previousReceipts ? 'Hide' : 'Previous'} Receipts</Button>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n\r\n            {showBill && (\r\n                <>\r\n                    <tr>\r\n                        <td colSpan={8}>Bill Details of - {row?.Do_Inv_No}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td colSpan={8} className=\"p-0\">\r\n                            <div className=\"table-responsive fa-13 m-0\">\r\n                                <table className=\"table m-0\">\r\n                                    <thead>\r\n                                        <tr>\r\n                                            {['SNo', 'Item', 'Quantity', 'Rate', 'Pack', 'Tax', 'Amount'].map((col, colInd) => (\r\n                                                <th key={colInd} className=\"bg-light\">{col}</th>\r\n                                            ))}\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        {Array.isArray(row?.Products_List) && (\r\n                                            row.Products_List.map((item, ind) => (\r\n                                                <tr key={ind}>\r\n                                                    <td>{ind + 1}</td>\r\n                                                    <td>{item?.Product_Name}</td>\r\n                                                    <td>{item?.Bill_Qty}</td>\r\n                                                    <td>{item?.Item_Rate}</td>\r\n                                                    <td>{item?.UOM}</td>\r\n                                                    <td>{Addition(item?.Cgst_Amo, item?.Sgst_Amo) || toNumber(item?.Igst_Amo)}</td>\r\n                                                    <td>{item?.Amount}</td>\r\n                                                </tr>\r\n                                            ))\r\n                                        )}\r\n                                    </tbody>\r\n                                </table>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                </>\r\n            )}\r\n\r\n            {previousReceipts && (\r\n                <>\r\n                    <tr>\r\n                        <td colSpan={8}>Previous Receipts of - {row?.Do_Inv_No}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td colSpan={8} className=\"p-0 border-0\">\r\n                            <div className=\"table-responsive fa-13\">\r\n                                <table className=\"table m-0\">\r\n                                    <thead>\r\n                                        <tr>\r\n                                            {['SNo', 'Collected By', 'Amount', 'Date', 'Receipt Type', 'payment_status', 'Verify Status'].map(\r\n                                                (col, colInd) => <th key={colInd} className=\"bg-light border\">{col}</th>\r\n                                            )}\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        {(Array.isArray(row?.Payments) ? row?.Payments : [])?.filter(\r\n                                            fil => !isEqualNumber(fil.auto_id, row?.auto_id)\r\n                                        ).map((pay, payInd) => (\r\n                                            <tr key={payInd}>\r\n                                                <td className=\"border\">{payInd + 1}</td>\r\n                                                <td className=\"border\">{pay?.CreatedByGet}</td>\r\n                                                <td className=\"border\">{pay?.collected_amount}</td>\r\n                                                <td className=\"border\">{pay?.collection_date}</td>\r\n                                                <td className=\"border\">{pay?.collection_type}</td>\r\n                                                <td className=\"border\">{pay?.collection_type}</td>\r\n                                                <td className=\"border\">{pay?.verify_status}</td>\r\n                                            </tr>\r\n                                        ))}\r\n                                    </tbody>\r\n                                </table>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td colSpan={8} className=\"border-0\"></td>\r\n                    </tr>\r\n                </>\r\n            )}\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default DeliveryBillTableRow;","import { Button, Card, CardContent } from \"@mui/material\";\r\nimport {\r\n    Addition,\r\n    checkIsNumber,\r\n    ISOString,\r\n    reactSelectFilterLogic,\r\n    RoundNumber,\r\n    stringCompare,\r\n    toNumber,\r\n} from \"../../../Components/functions\";\r\nimport { fetchLink } from \"../../../Components/fetchComponent\";\r\nimport Select from \"react-select\";\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { receiptGeneralInfo } from \"./variable\";\r\nimport { toast } from 'react-toastify'\r\nimport RequiredStar from \"../../../Components/requiredStar\";\r\nimport DeliveryBillTableRow from \"./billDeliveryTableRow\";\r\n\r\nexport const payTypeAndStatus = [\r\n    {\r\n        type: 'CASH',\r\n        default: 'CREATED-CASH',\r\n        statusOptions: ['CREATED-CASH', 'CASH-PROCESSING', 'CASH-MISSING']\r\n    },\r\n    {\r\n        type: 'UPI',\r\n        default: 'CREATED-UPI',\r\n        statusOptions: ['CREATED-UPI', 'UPI-PROCESSING', 'UPI-NOT-RECEIVED']\r\n    },\r\n    {\r\n        type: 'CHEQUE',\r\n        default: 'CREATED-CHEQUE',\r\n        statusOptions: ['CREATED-CHEQUE', 'CHEQUE-PROCESSING', 'CHEQUE-BOUNCE']\r\n    },\r\n    {\r\n        type: 'BANK',\r\n        default: 'CREATED-BANK-TRANSFER',\r\n        statusOptions: ['CREATED-BANK-TRANSFER', 'BANK-PROCESSING', 'BANK-NOT-RECEIVED']\r\n    },\r\n];\r\n\r\nconst CreateReceipts = ({ loadingOn, loadingOff }) => {\r\n    const navigate = useNavigate();\r\n\r\n    const [salesPayments, setSalesPayments] = useState([]);\r\n    const [retailers, setRetailers] = useState([]);\r\n    const [baseData, setBaseData] = useState({\r\n        salesPerson: [],\r\n        voucherData: [],\r\n        creditAccount: []\r\n    });\r\n    const [receiptInfo, setReceiptInfo] = useState(receiptGeneralInfo);\r\n    const [receiptsPaymentInfo, setReceiptsPaymentInfo] = useState([]);\r\n    const [filters, setFilters] = useState({\r\n        Fromdate: ISOString(),\r\n        Todate: ISOString(),\r\n        Retailer: { value: \"\", label: \"Search by Retailer...\" },\r\n    });\r\n\r\n    const paymentStatus = payTypeAndStatus.find(val => val.type === receiptInfo?.collection_type)?.statusOptions || {};\r\n\r\n    useEffect(() => {\r\n\r\n        fetchLink({\r\n            address: \"receipt/getRetailersWhoHasBills\"\r\n        }).then(data => {\r\n            if (data.success) setRetailers(data.data);\r\n            else setRetailers([]);\r\n        }).catch(e => console.error(e));\r\n\r\n        fetchLink({\r\n            address: `masters/users/salesPerson/dropDown`\r\n        }).then(data => {\r\n            if (data.success) setBaseData(pre => ({ ...pre, salesPerson: data.data }));\r\n            else setBaseData(pre => ({ ...pre, salesPerson: [] }))\r\n        }).catch(e => console.error(e))\r\n\r\n        fetchLink({\r\n            address: `masters/voucher`\r\n        }).then(data => {\r\n            if (data.success) setBaseData(pre => ({ ...pre, voucherData: data.data }));\r\n            else setBaseData(pre => ({ ...pre, voucherData: [] }))\r\n        }).catch(e => console.error(e))\r\n\r\n        fetchLink({\r\n            address: `receipt/creditAccounts`\r\n        }).then(data => {\r\n            if (data.success) setBaseData(pre => ({ ...pre, creditAccount: data.data }));\r\n            else setBaseData(pre => ({ ...pre, creditAccount: [] }))\r\n        }).catch(e => console.error(e))\r\n\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (checkIsNumber(receiptInfo.retailer_id)) {\r\n            if (loadingOn) loadingOn();\r\n            fetchLink({\r\n                address: `receipt/retailerBills?retailer_id=${receiptInfo.retailer_id}`,\r\n            }).then(data => {\r\n                if (data.success) setSalesPayments(data.data);\r\n                else setSalesPayments([]);\r\n            }).catch(e => console.error(e)).finally(() => {\r\n                if (loadingOff) loadingOff();\r\n            });\r\n        }\r\n    }, [receiptInfo.retailer_id])\r\n\r\n    const totalReceiptValue = useMemo(() => {\r\n        return receiptsPaymentInfo.reduce((acc, rec) => {\r\n            return Addition(acc, rec?.collected_amount)\r\n        }, 0)\r\n    }, [receiptsPaymentInfo])\r\n\r\n    const resetValue = () => {\r\n        setFilters(pre => ({ ...pre, Retailer: { value: '', label: 'Search by Retailer...' } }))\r\n        setReceiptInfo(receiptGeneralInfo);\r\n        setReceiptsPaymentInfo([]);\r\n        setSalesPayments([]);\r\n    }\r\n\r\n    const saveReceipt = () => {\r\n        if (loadingOn) loadingOn();\r\n        fetchLink({\r\n            address: `receipt/collectionReceipts`,\r\n            method: (checkIsNumber(receiptInfo.collection_id) && receiptInfo.collection_id > 0) ? 'PUT' : 'POST',\r\n            bodyData: {\r\n                ...receiptInfo,\r\n                Collections: receiptsPaymentInfo\r\n            }\r\n        }).then(data => {\r\n            if (data.success) {\r\n                toast.success(data?.message || 'Receipt Created');\r\n                resetValue();\r\n            } else {\r\n                toast.error(data?.message || 'Failed to create Receipt')\r\n            }\r\n        }).catch(e => console.error(e)).finally(() => {\r\n            if (loadingOff) loadingOff();\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Card>\r\n\r\n                <form onSubmit={e => {\r\n                    e.preventDefault();\r\n                    saveReceipt();\r\n                }}>\r\n                    <div className=\"px-3 py-2 d-flex align-items-center\">\r\n                        <h5 className=\"m-0 flex-grow-1\">Receipt Creation</h5>\r\n                        <Button\r\n                            variant=\"outlined\"\r\n                            type=\"button\"\r\n                            className=\"me-1\"\r\n                            onClick={() => navigate('/erp/crm/paymentCollection')}\r\n                        >Back</Button>\r\n                        <Button\r\n                            variant=\"outlined\"\r\n                            type=\"submit\"\r\n                            disabled={\r\n                                receiptsPaymentInfo.length === 0\r\n                                || receiptsPaymentInfo.every(bill => toNumber(bill.collected_amount) <= 0)\r\n                            }\r\n                        >save receipt</Button>\r\n                    </div>\r\n\r\n                    <CardContent>\r\n\r\n                        <label>Retailer</label>\r\n                        <div className=\"d-flex\">\r\n                            <div style={{ width: \"100%\", maxWidth: \"400px\" }}>\r\n                                <Select\r\n                                    menuPortalTarget={document.body}\r\n                                    options={[\r\n                                        { value: \"\", label: \"select\", isDisabled: true },\r\n                                        ...retailers.map(obj => ({\r\n                                            value: obj?.Retailer_Id,\r\n                                            label: obj?.Retailer_Name,\r\n                                        })),\r\n                                    ]}\r\n                                    value={filters.Retailer}\r\n                                    menu\r\n                                    onChange={value => {\r\n                                        setFilters(pre => ({ ...pre, Retailer: value }));\r\n                                        setReceiptInfo(pre => ({ ...pre, retailer_id: value.value }))\r\n                                    }}\r\n                                    placeholder=\"Search by Retailer\"\r\n                                    filterOption={reactSelectFilterLogic}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* row 1 */}\r\n                        <div className=\"row fa-13 pb-3 mt-2\">\r\n\r\n                            {/* Date */}\r\n                            <div className=\"col-lg-3 col-md-4 col-sm-6 p-2\">\r\n                                <label>Date<RequiredStar /></label>\r\n                                <input\r\n                                    type=\"date\"\r\n                                    className=\"cus-inpt border p-2\"\r\n                                    value={receiptInfo.collection_date}\r\n                                    onChange={e => setReceiptInfo(pre => ({ ...pre, collection_date: e.target.value }))}\r\n                                    required\r\n                                />\r\n                            </div>\r\n\r\n                            {/* voucher */}\r\n                            <div className=\"col-lg-3 col-md-4 col-sm-6 p-2\">\r\n                                <label>Voucher<RequiredStar /></label>\r\n                                <select\r\n                                    className=\"cus-inpt border p-2\"\r\n                                    value={receiptInfo.voucher_id}\r\n                                    required\r\n                                    onChange={e => setReceiptInfo(pre => ({ ...pre, voucher_id: e.target.value }))}\r\n                                >\r\n                                    <option value=\"\" disabled>Select</option>\r\n                                    {baseData.voucherData.filter(\r\n                                        fil => stringCompare(fil.Type, 'Receipt')\r\n                                    ).map((vou, vouInd) => (\r\n                                        <option value={vou.Vocher_Type_Id} key={vouInd}>{vou.Voucher_Type}</option>\r\n                                    ))}\r\n                                </select>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                        {/* row 2 */}\r\n                        <div className=\"row fa-13 pb-3\">\r\n\r\n                            {/* payment type  */}\r\n                            <div className=\"col-lg-3 col-md-4 col-sm-6 p-2\">\r\n                                <label>Payment Type<RequiredStar /></label>\r\n                                <select\r\n                                    className=\"cus-inpt border p-2\"\r\n                                    value={receiptInfo.collection_type}\r\n                                    required\r\n                                    onChange={e => setReceiptInfo(pre => ({\r\n                                        ...pre,\r\n                                        collection_type: e.target.value,\r\n                                        payment_status: payTypeAndStatus.find(typ => typ.type === e.target.value)?.default\r\n                                    }))}\r\n                                >\r\n                                    <option value=\"\" disabled>Select</option>\r\n                                    <option value=\"CASH\">CASH</option>\r\n                                    <option value=\"UPI\">UPI</option>\r\n                                    <option value=\"CHEQUE\">CHEQUE</option>\r\n                                    <option value=\"BANK\">BANK</option>\r\n                                </select>\r\n                            </div>\r\n\r\n                            {/* cash accounts  */}\r\n                            <div className=\"col-lg-3 col-md-4 col-sm-6 p-2\">\r\n                                <label>Payment Account <RequiredStar /></label>\r\n                                <select\r\n                                    className=\"cus-inpt border p-2\"\r\n                                    value={receiptInfo.collection_account}\r\n                                    required\r\n                                    disabled={!receiptInfo.collection_type}\r\n                                    onChange={e => setReceiptInfo(pre => ({\r\n                                        ...pre,\r\n                                        collection_account: e.target.value,\r\n                                    }))}\r\n                                >\r\n                                    <option value=\"\" disabled>Select</option>\r\n                                    {baseData.creditAccount.filter(\r\n                                        fil => stringCompare(receiptInfo.collection_type, 'CASH')\r\n                                            ? stringCompare(fil.Type, 'CASH')\r\n                                            : !stringCompare(fil.Type, 'CASH')\r\n                                    ).map(\r\n                                        (o, i) => <option value={o?.Id} key={i}>{o?.Bank_Name}</option>\r\n                                    )}\r\n                                </select>\r\n                            </div>\r\n\r\n                            {/* payment status */}\r\n                            <div className=\"col-lg-3 col-md-4 col-sm-6 p-2\">\r\n                                <label>Payment Status<RequiredStar /></label>\r\n                                <select\r\n                                    className=\"cus-inpt border p-2\"\r\n                                    value={receiptInfo.payment_status}\r\n                                    required\r\n                                    disabled={!receiptInfo.collection_type}\r\n                                    onChange={e => setReceiptInfo(pre => ({ ...pre, payment_status: e.target.value }))}\r\n                                >\r\n                                    <option value=\"\" disabled>Select</option>\r\n                                    {paymentStatus.map((status, ind) => (\r\n                                        <option value={status} key={ind}>{status}</option>\r\n                                    ))}\r\n                                    <option value=\"Canceled\">Canceled</option>\r\n                                    <option value=\"Completed\">Completed</option>\r\n                                </select>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                        {/* row 3 */}\r\n                        <div className=\"row fa-13 pb-3\">\r\n\r\n                            {/* payed by */}\r\n                            <div className=\"col-lg-3 col-md-4 col-sm-6 p-2\">\r\n                                <label>Payed By</label>\r\n                                <input\r\n                                    className=\"cus-inpt border p-2\"\r\n                                    value={receiptInfo.payed_by}\r\n                                    placeholder=\"Owner, Shop Keeper..\"\r\n                                    onChange={e => setReceiptInfo(pre => ({ ...pre, payed_by: e.target.value }))}\r\n                                />\r\n                            </div>\r\n\r\n                            {/* amount received by */}\r\n                            <div className=\"col-lg-3 col-md-4 col-sm-6 p-2\">\r\n                                <label>Amount Received By<RequiredStar /></label>\r\n                                <select\r\n                                    className=\"cus-inpt border p-2\"\r\n                                    value={receiptInfo.collected_by}\r\n                                    onChange={e => setReceiptInfo(pre => ({ ...pre, collected_by: e.target.value }))}\r\n                                    required\r\n                                >\r\n                                    <option value=\"\" disabled>Select</option>\r\n                                    {baseData.salesPerson.map((sp, spInd) => (\r\n                                        <option value={sp.UserId} key={spInd}>{sp.Name}</option>\r\n                                    ))}\r\n                                </select>\r\n                            </div>\r\n\r\n                            {/* verify date */}\r\n                            <div className=\"col-lg-3 col-md-4 col-sm-6 p-1\">\r\n                                <label className=\"fa-14\">Verify Date</label>\r\n                                <input\r\n                                    type=\"date\"\r\n                                    value={receiptInfo?.bank_date ? receiptInfo?.bank_date : ''}\r\n                                    onChange={e => setReceiptInfo(pre => ({ ...pre, bank_date: e.target.value }))}\r\n                                    className=\"cus-inpt border border p-2\"\r\n                                />\r\n                            </div>\r\n\r\n                            {/* verify status */}\r\n                            <div className=\"col-lg-3 col-md-4 col-sm-6 p-1\">\r\n                                <label className=\"fa-14\">Verify Status</label>\r\n                                <select\r\n                                    value={receiptInfo?.verify_status}\r\n                                    onChange={e => setReceiptInfo(pre => ({ ...pre, verify_status: e.target.value }))}\r\n                                    className=\"cus-inpt border border p-2\"\r\n                                >\r\n                                    <option value={0}>Not-verified</option>\r\n                                    <option value={1}>verified</option>\r\n                                </select>\r\n                            </div>\r\n\r\n                            {/* Narration */}\r\n                            <div className=\"col-lg-6 col-sm-8 p-1\">\r\n                                <label className=\"fa-14 w-100\">Narration</label>\r\n                                <textarea\r\n                                    style={{ width: '100%', maxWidth: '450px' }}\r\n                                    className=\"cus-inpt border p-2\"\r\n                                    value={receiptInfo?.narration}\r\n                                    onChange={e => setReceiptInfo(pre => ({ ...pre, narration: e.target.value }))}\r\n                                    placeholder=\"Narration...\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"col-lg-6 col-sm-4 p-1 text-end\">\r\n                                <label className=\"fa-14 w-100\">Total Receipt Amount</label>\r\n                                <input\r\n                                    className=\"cus-inpt bg-white p-2 w-auto border border-primary text-primary\"\r\n                                    value={RoundNumber(totalReceiptValue)}\r\n                                    disabled\r\n                                />\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                        <div className=\"table-responsive\">\r\n                            <table className=\"table table-bordered\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        {['Sno', '#', 'Invoice No', 'Date', 'Invoice Value', 'Paid', 'Pending', 'Receipts'].map(\r\n                                            (col, colInd) => <th className=\"bg-light fa-13 border\" key={colInd}>{col}</th>\r\n                                        )}\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {salesPayments.map((row, rowIndex) => (\r\n                                        <DeliveryBillTableRow\r\n                                            row={row}\r\n                                            Sno={rowIndex + 1}\r\n                                            key={rowIndex}\r\n                                            receiptsPaymentInfo={receiptsPaymentInfo}\r\n                                            setReceiptsPaymentInfo={setReceiptsPaymentInfo}\r\n                                        />\r\n                                    ))}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n\r\n                    </CardContent>\r\n                </form>\r\n            </Card>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default CreateReceipts;\r\n"],"names":["RequiredStar","_jsx","style","color","fontWeight","fontSize","children","storage","getSessionUser","user","receiptGeneralInfo","collection_id","collection_inv_no","voucher_id","collection_no","year_id","retailer_id","payed_by","collection_date","ISOString","collection_type","collection_account","payment_status","latitude","longitude","collected_by","total_amount","created_on","alterd_on","narration","verify_status","bank_date","created_by","UserId","updated_by","verified_by","verified_at","receiptDetailsInfo","auto_id","bill_id","bill_amount","collected_amount","_ref","_row$Payments2","_row$Payments3","_ref2","row","receiptsPaymentInfo","setReceiptsPaymentInfo","Sno","previousReceipts","setPreviousReceipts","useState","showBill","setShowBill","billDetails","useMemo","obj","find","bills","isEqualNumber","Do_Id","isValidObject","billIndex","findIndex","onChangeValues","key","value","pre","newValue","_objectSpread","toNumber","Total_Invoice_value","total_collected_amount","_row$Payments","Array","isArray","Payments","reduce","acc","receipt","Addition","isChecked","checkIsNumber","_jsxs","_Fragment","className","padding","type","checked","onChange","filter","rec","Do_Inv_No","LocalDate","Do_Date","pendingAmount","length","colSpan","onInput","onlynum","disabled","e","target","width","maxWidth","placeholder","max","required","Button","startIcon","HideSource","List","onClick","map","col","colInd","Products_List","item","ind","Product_Name","Bill_Qty","Item_Rate","UOM","Cgst_Amo","Sgst_Amo","Igst_Amo","Amount","fil","pay","payInd","CreatedByGet","payTypeAndStatus","default","statusOptions","_payTypeAndStatus$fin","loadingOn","loadingOff","navigate","useNavigate","salesPayments","setSalesPayments","retailers","setRetailers","baseData","setBaseData","salesPerson","voucherData","creditAccount","receiptInfo","setReceiptInfo","filters","setFilters","Fromdate","Todate","Retailer","label","paymentStatus","val","useEffect","fetchLink","address","then","data","success","catch","console","error","concat","finally","totalReceiptValue","saveReceipt","method","bodyData","Collections","toast","message","Card","onSubmit","preventDefault","variant","every","bill","CardContent","Select","menuPortalTarget","document","body","options","isDisabled","Retailer_Id","Retailer_Name","menu","filterOption","reactSelectFilterLogic","stringCompare","Type","vou","vouInd","Vocher_Type_Id","Voucher_Type","_payTypeAndStatus$fin2","typ","o","i","Id","Bank_Name","status","sp","spInd","Name","RoundNumber","rowIndex","DeliveryBillTableRow"],"sourceRoot":""}