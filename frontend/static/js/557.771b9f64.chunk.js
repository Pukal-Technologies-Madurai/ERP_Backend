"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[557,2110,9729],{12110:(e,a,l)=>{l.d(a,{A:()=>A});var n=l(58168),t=l(98587),o=l(65043),r=l(58387),s=l(68606),c=l(34535),d=l(6431),i=l(63336),u=l(57056),m=l(32400);function p(e){return(0,m.Ay)("MuiCard",e)}(0,u.A)("MuiCard",["root"]);var h=l(70579);const v=["className","raised"],b=(0,c.Ay)(i.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,a)=>a.root})(()=>({overflow:"hidden"})),A=o.forwardRef(function(e,a){const l=(0,d.b)({props:e,name:"MuiCard"}),{className:o,raised:c=!1}=l,i=(0,t.A)(l,v),u=(0,n.A)({},l,{raised:c}),m=(e=>{const{classes:a}=e;return(0,s.A)({root:["root"]},p,a)})(u);return(0,h.jsx)(b,(0,n.A)({className:(0,r.A)(m.root,o),elevation:c?8:void 0,ref:a,ownerState:u},i))})},26494:(e,a,l)=>{l.d(a,{A:()=>b});var n=l(58168),t=l(98587),o=l(65043),r=l(58387),s=l(68606),c=l(34535),d=l(6431),i=l(57056),u=l(32400);function m(e){return(0,u.Ay)("MuiCardContent",e)}(0,i.A)("MuiCardContent",["root"]);var p=l(70579);const h=["className","component"],v=(0,c.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,a)=>a.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),b=o.forwardRef(function(e,a){const l=(0,d.b)({props:e,name:"MuiCardContent"}),{className:o,component:c="div"}=l,i=(0,t.A)(l,h),u=(0,n.A)({},l,{component:c}),b=(e=>{const{classes:a}=e;return(0,s.A)({root:["root"]},m,a)})(u);return(0,p.jsx)(v,(0,n.A)({as:c,className:(0,r.A)(b.root,o),ownerState:u,ref:a},i))})},29942:(e,a,l)=>{l.d(a,{g:()=>r,n:()=>o});var n=l(97707);const t=(0,n.aN)().user,o={ContraAutoId:"",ContraId:"",Year_Id:"",VoucherType:"",VoucherTypeGet:"",ContraNo:"",ContraVoucherNo:"",ContraDate:(0,n.ny)(),BranchId:"",DebitAccount:null,DebitAccountName:"",CreditAccount:null,CreditAccountName:"",BankName:"",BankDate:null,Amount:0,Narration:"",ContraStatus:1,Chequeno:"",ChequeDate:"",TransactionType:"",CreatedBy:(0,n.IQ)(null===t||void 0===t?void 0:t.UserId)?t.UserId:"",CreatedAt:"",UpdatedAt:"",AlterId:""},r=[{label:"New",value:1},{label:"Process",value:2},{label:"Completed",value:3},{label:"Canceled",value:0}]},31702:(e,a,l)=>{l.d(a,{AT:()=>c,MR:()=>u,eu:()=>o,hx:()=>s,nB:()=>i,tP:()=>r,zd:()=>d});var n=l(97707);const t=(0,n.aN)().user,o={receipt_id:"",year_id:"",receipt_voucher_type_id:"",receipt_sno:"",receipt_invoice_no:"",receipt_date:(0,n.ny)(),receipt_bill_type:1,credit_ledger:"",credit_ledger_name:"Select",credit_amount:0,debit_ledger:"",debit_ledger_name:"Select",debit_amount:0,remarks:"",status:1,is_new_ref:0,is_journal_type:0,transaction_type:"",check_no:"",check_date:"",bank_name:"",bank_date:"",created_by:(0,n.IQ)(null===t||void 0===t?void 0:t.UserId)?null===t||void 0===t?void 0:t.UserId:"",altered_by:(0,n.IQ)(null===t||void 0===t?void 0:t.UserId)?null===t||void 0===t?void 0:t.UserId:"",created_on:"",alterd_on:""},r={auto_id:"",created_on:"",receipt_id:"",receipt_no:"",receipt_date:"",receipt_bill_type:"",DR_CR_Acc_Id:"",bill_id:"",JournalBillType:"",bill_name:"",bill_amount:0,Debit_Amo:0,Credit_Amo:0,SalesInvoiceDate:"",StockJournalDate:"",TotalPaidAmount:0,PendingAmount:0},s={auto_id:"",receipt_id:"",receipt_no:"",receipt_date:"",receipt_bill_type:"",Debit_Ledger_Id:"",created_on:"",bill_id:"",JournalBillType:"",arr_id:"",item_id:"",item_name:"",expence_value:0,itemQuantity:0,PaidAmount:0},c=[{value:1,label:"CUSTOMER - SALES INVOICE"},{value:2,label:"EXPENCES - RETURN"},{value:3,label:"ON ACCOUNT"}],d=[{label:"MATERIAL INWARD",value:1},{label:"GODOWN TRANSFER",value:2},{label:"PROCESSING",value:3}],i=[{label:"New",value:1},{label:"Process",value:2},{label:"Completed",value:3},{label:"Canceled",value:0}],u=[{label:"Select",value:""},{label:"ATM",value:"ATM"},{label:"Card",value:"Card"},{label:"Cash",value:"Cash"},{label:"Cheque/DD",value:"Cheque/DD"},{label:"ECS",value:"ECS"},{label:"e-Fund Transfer",value:"e-Fund Transfer"},{label:"Electronic Cheque",value:"Electronic Cheque"},{label:"Electronic DD/PO",value:"Electronic DD/PO"},{label:"UPI",value:"UPI"},{label:"Others",value:"Others"}]},63406:(e,a,l)=>{l.d(a,{zU:()=>s,ex:()=>c,MR:()=>r,Ap:()=>o,FX:()=>d});var n=l(89379);const t=l.p+"static/media/smt.aa4d4f940bbebff07a57.png",o={table:{style:{width:"auto",backgroundColor:"transparent"}},rows:{style:{backgroundColor:"transparent"}},headCells:{style:{backgroundColor:"#6b9080f8",color:"white",fontSize:"14px"}}},r={menu:(e,a)=>(0,n.A)((0,n.A)({},e),{},{zIndex:9999}),menuPortal:e=>(0,n.A)((0,n.A)({},e),{},{zIndex:9999}),groupHeading:e=>(0,n.A)((0,n.A)({},e),{},{backgroundColor:"#f5f5f5",color:"#333",fontWeight:"bold",fontSize:"14px",padding:"8px 12px",borderBottom:"1px solid #ddd",textTransform:"uppercase"}),option:(e,a)=>(0,n.A)((0,n.A)({},e),{},{backgroundColor:a.isSelected?"#2684FF":a.isFocused?"#E2ECF9":"white",color:a.isSelected?"white":"#333",padding:"10px 12px"})},s=[{id:1,headname:"Menu ID",variant:"head",align:"left",width:100},{id:2,headname:"MenuName"},{id:3,headname:"Read Rights"},{id:4,headname:"Add Rights"},{id:5,headname:"Edit Rights"},{id:6,headname:"Delete Rights"},{id:7,headname:"Print Rights"},{id:8,headname:"Action"}],c=[{dataBase:1,name:"SHANKAR TRADERS",business:"Wholesale Merchant in Dhall",address:"32, Chitrakara Street, Madurai - 01 <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:t,gstin:"33AADFS6973R1ZD",phone:"984-313-1353, 984-335-5166",fssai:"12418012000818",bankAccount:"0021 5032 0885 122",ifsc:"TMBL0000002"},{dataBase:2,name:"SMT AGRO PRODUCTS",business:"",address:"H.O: 153, Chitrakara Street, 2nd Floor, Madurai -01 <br /> G.O: 746 Puliyur, Sayanapuram, Svga <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:t,gstin:"33ACMFS3420Q1ZQ",phone:"0452-4371625",fssai:"12418012000818",bankAccount:"0025 3031 0875 947",ifsc:"TMBL0000002"},{dataBase:3,name:"BHAVANI TRADERS",business:"",address:"H.O: 152-A, Chitrakara Street, Madurai -01 <br /> G.O: 30/1-Rajman Nagar, Chintamani Main Road, Mdu-01 <br /> Tax Invoice",logo:t,gstin:"33AAEFB6728J1ZG",phone:"958-559-7641, 958-559-7614",fssai:"12418012000670",bankAccount:"0021 5005 0800 309",ifsc:"TMBL0000002"}],d=[{name:"PURCHASE_ORDER"},{name:"PURCHASE_INVOICE"},{name:"SALE_ORDER"},{name:"SALE_INVOICE"},{name:"JOURNAL"},{name:"STOCK_JOURNAL"},{name:"PAYMENT"},{name:"RECEIPT"},{name:"CONTRA"}]},92213:(e,a,l)=>{l.r(a),l.d(a,{default:()=>A});var n=l(89379),t=l(65043),o=l(91036),r=l(29942),s=l(97707),c=l(20656),d=l(63406),i=l(12110),u=l(11906),m=l(26494),p=l(73216),h=l(65074),v=l(31702),b=l(70579);const A=e=>{let{loadingOn:a,loadingOff:l}=e;const A=(0,p.Zp)(),C=(0,p.zy)().state,[x,N]=(0,t.useState)(r.n),[g,_]=(0,t.useState)({accountsList:[],voucherType:[],branch:[],bankMaster:[]});(0,t.useEffect)(()=>{(0,s.aF)(C)&&N(Object.fromEntries(Object.entries(r.n).map(e=>{var a;let[l,n]=e;return"ContraDate"===l||"BankDate"===l||"ChequeDate"===l?[l,C[l]?(0,s.ny)(C[l]):n]:[l,null!==(a=C[l])&&void 0!==a?a:n]})))},[C]),(0,t.useEffect)(()=>{(async()=>{try{const[e,a,l,t]=await Promise.all([(0,h.z)({address:"masters/accountMaster/groupFilter?recursiveGroup=11,21,22"}),(0,h.z)({address:"masters/voucher?module=CONTRA"}),(0,h.z)({address:"masters/branch/dropDown"}),(0,h.z)({address:"masters/defaultBanks"})]),o=(e.success?e.data:[]).sort((e,a)=>String(null===e||void 0===e?void 0:e.Account_name).localeCompare(null===a||void 0===a?void 0:a.Account_name)),r=(a.success?a.data:[]).sort((e,a)=>String(null===e||void 0===e?void 0:e.Voucher_Type).localeCompare(null===a||void 0===a?void 0:a.Voucher_Type)),c=(l.success?l.data:[]).sort((e,a)=>String(null===e||void 0===e?void 0:e.BranchName).localeCompare(null===a||void 0===a?void 0:a.BranchName)),d=(0,s.$r)(null===t||void 0===t?void 0:t.data);_(e=>(0,n.A)((0,n.A)({},e),{},{accountsList:o,voucherType:r,branch:c,bankMaster:d}))}catch(e){console.error("Error fetching data:",e)}})()},[]);const j=(0,t.useMemo)(()=>{const e=(0,s.IQ)(x.DebitAccount)&&0!==x.DebitAccount,a=(0,s.IQ)(x.CreditAccount)&&0!==x.CreditAccount,l=e&&a&&Number(x.DebitAccount)!==Number(x.CreditAccount);return e&&a&&l&&x.ContraDate&&x.BranchId&&""!==x.VoucherType&&x.TransactionType},[x]),y=(e,a)=>N(l=>(0,n.A)((0,n.A)({},l),{},{[e]:a})),D=g.accountsList.map(e=>({value:Number(e.Acc_Id),label:e.Account_name})),S=null!=x.DebitAccount&&D.find(e=>(0,s.id)(e.value,x.DebitAccount))||null,T=null!=x.CreditAccount&&D.find(e=>(0,s.id)(e.value,x.CreditAccount))||null,f=e=>a=>"Dr"===e?null!=x.CreditAccount&&(0,s.id)(a.value,x.CreditAccount):"Cr"===e&&(null!=x.DebitAccount&&(0,s.id)(a.value,x.DebitAccount)),R=e=>""===e||null===e||void 0===e?null:Number(e);return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(i.A,{children:[(0,b.jsxs)("h5",{className:"p-3 m-0 d-flex align-items-center",children:[(0,b.jsxs)("span",{className:"flex-grow-1",children:["Contra Voucher",x.ContraVoucherNo?" - ".concat(x.ContraVoucherNo):""]}),(0,b.jsx)("span",{children:(0,b.jsx)(u.A,{variant:"outlined",disabled:!j,onClick:j?async()=>{j&&(0,h.z)({address:"contra/master",method:null!==x&&void 0!==x&&x.ContraAutoId?"PUT":"POST",bodyData:x,loadingOn:a,loadingOff:l}).then(e=>{e.success?(o.oR.success(e.message),N(e=>(0,n.A)((0,n.A)({},r.n),{},{ContraDate:(0,s.ny)()})),null!==x&&void 0!==x&&x.ContraAutoId&&A("/erp/contra/contraList")):o.oR.error(e.message)}).catch(e=>console.error(e))}:void 0,children:"Save"})})]}),(0,b.jsx)(m.A,{children:(0,b.jsxs)("div",{className:"row p-0 m-0",children:[(0,b.jsxs)("div",{className:"col-xxl-2 col-lg-3 col-md-4 col-sm-6 p-2",children:[(0,b.jsx)("label",{children:"Date"}),(0,b.jsx)("input",{type:"date",className:"cus-inpt p-2",value:x.ContraDate,onChange:e=>y("ContraDate",e.target.value)})]}),(0,b.jsxs)("div",{className:"col-xxl-2 col-lg-3 col-md-4 col-sm-6 p-2",children:[(0,b.jsx)("label",{children:"Branch"}),(0,b.jsxs)("select",{className:"cus-inpt p-2",value:x.BranchId,onChange:e=>y("BranchId",e.target.value),children:[(0,b.jsx)("option",{value:"",disabled:!0,children:"Select"}),g.branch.map((e,a)=>(0,b.jsx)("option",{value:e.BranchId,children:e.BranchName},a))]})]}),(0,b.jsxs)("div",{className:"col-xxl-2 col-lg-3 col-md-4 col-sm-6 p-2",children:[(0,b.jsx)("label",{children:"Voucher Type"}),(0,b.jsx)(c.Ay,{value:{label:x.VoucherTypeGet,value:x.VoucherType},options:[{value:"",label:"select"},...g.voucherType.map(e=>({value:e.Vocher_Type_Id,label:e.Voucher_Type}))],isDisabled:null===x||void 0===x?void 0:x.ContraAutoId,styles:d.MR,menuPortalTarget:document.body,onChange:e=>{y("VoucherType",(null===e||void 0===e?void 0:e.value)||""),y("VoucherTypeGet",(null===e||void 0===e?void 0:e.label)||"")},isSearchable:!0})]}),(0,b.jsxs)("div",{className:"col-xxl-2 col-lg-3 col-md-4 col-sm-6 p-2",children:[(0,b.jsx)("label",{children:"Status"}),(0,b.jsxs)("select",{className:"cus-inpt p-2",value:x.ContraStatus,onChange:e=>y("ContraStatus",e.target.value),children:[(0,b.jsx)("option",{value:"",disabled:!0,children:"Select"}),r.g.map(e=>(0,b.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,b.jsx)("div",{className:"col-12 p-0 m-0"}),(0,b.jsxs)("div",{className:"row p-0 m-0",children:[(0,b.jsxs)("div",{className:"col-md-6 p-2",children:[(0,b.jsx)("h6",{className:"mb-2 text-center",children:"Debit"}),(0,b.jsx)("div",{className:"border rounded-3 p-3",children:(0,b.jsx)("div",{className:"row p-0 m-0",children:(0,b.jsxs)("div",{className:"col-12 p-0 m-0",children:[(0,b.jsx)("label",{children:"Debit Account"}),(0,b.jsx)(c.Ay,{placeholder:"Select debit account",value:S,options:D,isOptionDisabled:f("Dr"),onChange:e=>N(a=>(0,n.A)((0,n.A)({},a),{},{DebitAccount:e?R(e.value):null,DebitAccountName:e?e.label:""})),isClearable:!0,isSearchable:!0,styles:(0,n.A)((0,n.A)({},d.MR),{},{menuPortal:e=>(0,n.A)((0,n.A)({},e),{},{zIndex:9999})}),menuPortalTarget:document.body})]})})})]}),(0,b.jsxs)("div",{className:"col-md-6 p-2",children:[(0,b.jsx)("h6",{className:"mb-2 text-center",children:"Credit"}),(0,b.jsx)("div",{className:"border rounded-3 p-3",children:(0,b.jsx)("div",{className:"row p-0 m-0",children:(0,b.jsxs)("div",{className:"col-12 p-0 m-0",children:[(0,b.jsx)("label",{children:"Credit Account"}),(0,b.jsx)(c.Ay,{placeholder:"Select credit account",value:T,options:D,isOptionDisabled:f("Cr"),onChange:e=>N(a=>(0,n.A)((0,n.A)({},a),{},{CreditAccount:e?R(e.value):null,CreditAccountName:e?e.label:""})),isClearable:!0,isSearchable:!0,styles:(0,n.A)((0,n.A)({},d.MR),{},{menuPortal:e=>(0,n.A)((0,n.A)({},e),{},{zIndex:9999})}),menuPortalTarget:document.body})]})})})]})]}),(0,b.jsxs)("div",{className:"col-lg-3 col-md-4 col-sm-6 p-2",children:[(0,b.jsx)("label",{children:"Amount"}),(0,b.jsx)("input",{className:"cus-inpt p-2",value:x.Amount||"",onInput:s.BE,onChange:e=>y("Amount",e.target.value)})]}),(0,b.jsxs)("div",{className:"col-lg-3 col-md-4 col-sm-6 p-2",children:[(0,b.jsx)("label",{children:"Transaction Type"}),(0,b.jsx)("select",{value:x.TransactionType||"",onChange:e=>y("TransactionType",e.target.value),className:"cus-inpt p-2",required:!0,children:v.MR.map((e,a)=>(0,b.jsx)("option",{value:e.value,children:e.label},a))})]}),(0,b.jsx)("div",{className:"col-12"}),(0,b.jsxs)("div",{className:"col-xxl-2 col-lg-3 col-md-4 col-sm-6 p-2",children:[(0,b.jsx)("label",{children:"Bank Name"}),(0,b.jsx)(c.Ay,{placeholder:"Select debit account",value:{value:x.BankName,label:x.BankName},options:(0,s.$r)(g.bankMaster).map(e=>({value:null===e||void 0===e?void 0:e.label,label:null===e||void 0===e?void 0:e.label})),onChange:e=>N(a=>(0,n.A)((0,n.A)({},a),{},{BankName:e?e.value:""})),isClearable:!0,isSearchable:!0,styles:(0,n.A)((0,n.A)({},d.MR),{},{menuPortal:e=>(0,n.A)((0,n.A)({},e),{},{zIndex:9999})}),menuPortalTarget:document.body})]}),(0,b.jsxs)("div",{className:"col-xxl-2 col-lg-3 col-md-4 col-sm-6 p-2",children:[(0,b.jsx)("label",{children:"Bank Date"}),(0,b.jsx)("input",{type:"date",className:"cus-inpt p-2",value:(null===x||void 0===x?void 0:x.BankDate)||"",onChange:e=>y("BankDate",e.target.value)})]}),(0,b.jsxs)("div",{className:"col-xxl-2 col-lg-3 col-md-4 col-sm-6 p-2",children:[(0,b.jsx)("label",{children:"Cheque Number"}),(0,b.jsx)("input",{className:"cus-inpt p-2",value:x.Chequeno||"",onChange:e=>y("Chequeno",e.target.value)})]}),(0,b.jsxs)("div",{className:"col-xxl-2 col-lg-3 col-md-4 col-sm-6 p-2",children:[(0,b.jsx)("label",{children:"Cheque Date"}),(0,b.jsx)("input",{type:"date",className:"cus-inpt p-2",value:(null===x||void 0===x?void 0:x.ChequeDate)||"",onChange:e=>y("ChequeDate",e.target.value)})]}),(0,b.jsxs)("div",{className:"col-md-8 p-2",children:[(0,b.jsx)("label",{children:"Narration"}),(0,b.jsx)("br",{}),(0,b.jsx)("input",{className:"cus-inpt p-2",style:{maxWidth:"400px"},value:x.Narration,onChange:e=>y("Narration",e.target.value)})]})]})})]})})}}}]);
//# sourceMappingURL=557.771b9f64.chunk.js.map