"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[1952],{78688:(e,l,a)=>{a.d(l,{c:()=>u});var t=a(69060),i=a(3358),s=a(82656),n=a(26773),d=a(5548),o=a(4488),r=a(14499),c=a(82496);const u=e=>{const[l,a]=(0,t.useState)(!1),{url:u}=e,m=()=>{a(!1)};return(0,c.jsxs)("span",{children:[(0,c.jsx)(i.c,{title:"Tap to Open",children:(0,c.jsx)("span",{onClick:()=>{a(!0)},style:{cursor:"pointer"},children:e.children})}),(0,c.jsxs)(s.c,{open:l,onClose:m,fullWidth:!0,maxWidth:"lg",children:[(0,c.jsxs)(n.c,{className:"bg-dark text-white d-flex justify-content-between",children:[(0,c.jsx)("span",{children:"Image Preview"}),(0,c.jsx)(d.c,{onClick:m,children:(0,c.jsx)(r.c,{sx:{color:"white"}})})]}),(0,c.jsx)(o.c,{className:"bg-dark pb-4 d-flex align-items-center justify-content-center",children:(0,c.jsx)("img",{src:u,alt:"Preview",style:{maxWidth:"100%",maxHeight:"100%"}})})]})]})}},62344:(e,l,a)=>{a.d(l,{o$:()=>n,o5:()=>d,cF:()=>s,iI:()=>i,_8:()=>o});const t=a.p+"static/media/smt.aa4d4f940bbebff07a57.png",i={table:{style:{width:"auto",backgroundColor:"transparent"}},rows:{style:{backgroundColor:"transparent"}},headCells:{style:{backgroundColor:"#6b9080f8",color:"white",fontSize:"14px"}}},s={menu:(e,l)=>({...e,zIndex:9999}),menuPortal:e=>({...e,zIndex:9999}),groupHeading:e=>({...e,backgroundColor:"#f5f5f5",color:"#333",fontWeight:"bold",fontSize:"14px",padding:"8px 12px",borderBottom:"1px solid #ddd",textTransform:"uppercase"}),option:(e,l)=>({...e,backgroundColor:l.isSelected?"#2684FF":l.isFocused?"#E2ECF9":"white",color:l.isSelected?"white":"#333",padding:"10px 12px"})},n=[{id:1,headname:"Menu ID",variant:"head",align:"left",width:100},{id:2,headname:"MenuName"},{id:3,headname:"Read Rights"},{id:4,headname:"Add Rights"},{id:5,headname:"Edit Rights"},{id:6,headname:"Delete Rights"},{id:7,headname:"Print Rights"},{id:8,headname:"Action"}],d=[{dataBase:1,name:"SHANKAR TRADERS",business:"Wholesale Merchant in Dhall",address:"32, Chitrakara Street, Madurai - 01 <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:t,gstin:"33AADFS6973R1ZD",phone:"984-313-1353, 984-335-5166",fssai:"12418012000818",bankAccount:"0021 5032 0885 122",ifsc:"TMBL0000002"},{dataBase:2,name:"SMT AGRO PRODUCTS",business:"",address:"H.O: 153, Chitrakara Street, 2nd Floor, Madurai -01 <br /> G.O: 746 Puliyur, Sayanapuram, Svga <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:t,gstin:"33ACMFS3420Q1ZQ",phone:"0452-4371625",fssai:"12418012000818",bankAccount:"0025 3031 0875 947",ifsc:"TMBL0000002"},{dataBase:3,name:"BHAVANI TRADERS",business:"",address:"H.O: 152-A, Chitrakara Street, Madurai -01 <br /> G.O: 30/1-Rajman Nagar, Chintamani Main Road, Mdu-01 <br /> Tax Invoice",logo:t,gstin:"33AAEFB6728J1ZG",phone:"958-559-7641, 958-559-7614",fssai:"12418012000670",bankAccount:"0021 5005 0800 309",ifsc:"TMBL0000002"}],o=[{name:"PURCHASE_ORDER"},{name:"PURCHASE_INVOICE"},{name:"SALE_ORDER"},{name:"SALE_INVOICE"},{name:"JOURNAL"},{name:"STOCK_JOURNAL"},{name:"PAYMENT"},{name:"RECEIPT"},{name:"CONTRA"}]},79128:(e,l,a)=>{a.r(l),a.d(l,{default:()=>T});var t=a(69060),i=a(32635),s=a(62344),n=a(3358),d=a(5548),o=a(43692),r=a(50864),c=a(84436),u=a(82656),m=a(26773),h=a(4488),v=a(90048),x=a(89e3),p=a(86e3),b=a(84224),j=a(1571),_=a(19424),g=a(34036),C=a(61988),R=a(96064),f=a(87016),N=a(43564),y=a(45180),A=a(57704),I=a(99852),S=a(56480),L=a(78688),P=a(51560),w=a(1908),E=a(69388),O=a(35832),k=a(82496);const T=e=>{var l,a;let{loadingOn:T,loadingOff:D}=e;const M=JSON.parse(localStorage.getItem("user")),[q,B]=(0,t.useState)([]),[F,z]=(0,t.useState)([]),[G,U]=(0,t.useState)([]),[V,W]=(0,t.useState)([]),[H,$]=(0,t.useState)([]),[K,J]=(0,t.useState)([]),[Z,Q]=(0,t.useState)({}),[Y,X]=(0,t.useState)(!1),[ee,le]=(0,t.useState)(!1),[ae,te]=(0,t.useState)(!1),[ie,se]=(0,t.useState)(!1),[ne,de]=(0,t.useState)([]),[oe,re]=(0,t.useState)(!1),[ce,ue]=(0,t.useState)(!1),[me,he]=(0,t.useState)({Retailer_Id:"",Retailer_Name:"ALL",ContactPerson_Name:"",PhoneNumber:"",Route_Id:"",Route:"ALL",Area_Id:"",Area:"ALL",City:""}),{isLoaded:ve}=(0,E.s1)({googleMapsApiKey:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"3.17.8"}.REACT_APP_GOOGLE_API}),xe=Object.entries(me).some((e=>{let[l,a]=e;return a&&""!==a&&!["ALL"].includes(a)}));(0,t.useEffect)((()=>{(async()=>{try{const e=await(0,w.q)({address:"userModule/employeeActivity/maplatitude"});de(e.data)}catch(e){console.error("Error fetching data:",e)}})()}),[oe]);const pe={Company_Id:null===M||void 0===M?void 0:M.Company_id,Retailer_Id:"",Retailer_Name:"",Contact_Person:"",Mobile_No:"",Retailer_Channel_Id:"",Retailer_Class:"",Route_Id:"",Area_Id:"",Reatailer_Address:"",Reatailer_City:"",PinCode:"",State_Id:"",Branch_Id:null===M||void 0===M?void 0:M.BranchId,Gstno:"",Created_By:null===M||void 0===M?void 0:M.UserId,Updated_By:null===M||void 0===M?void 0:M.UserId,Latitude:null,Longitude:null,fileName:null,fileType:null,fileSize:null,isVisitedPlace:!1,visitLogID:null},[be,je]=(0,t.useState)(pe),_e=null===(l=(0,P.IT)().state)||void 0===l?void 0:l.retailer,[ge,Ce]=(0,t.useState)({filters:!1,orderDetails:!1});(0,t.useEffect)((()=>{if(_e){const{Reatailer_Name:e,Contact_Person:l,Contact_Mobile:a,Location_Address:t,Latitude:i,Longitude:s,ImageName:n,ImageType:d,ImageSize:o,Id:r}=_e;je((c=>({...c,Retailer_Name:e,Contact_Person:l,Mobile_No:a,Reatailer_Address:t,Latitude:i,Longitude:s,fileName:n,fileSize:o,fileType:d,visitLogID:r,isVisitedPlace:!0}))),le(!0)}}),[_e]);const Re=()=>{const e=new URLSearchParams({Company_Id:null===M||void 0===M?void 0:M.Company_id,isRetailer:1,isVendor:0,...me.Retailer_Id&&{Retailer_Id:me.Retailer_Id},...me.PhoneNumber&&{PhoneNumber:me.PhoneNumber},...me.ContactPerson_Name&&{ContactPerson_Name:me.ContactPerson_Name},...me.Route_Id&&{Route_Id:me.Route_Id},...me.Area_Id&&{Area_Id:me.Area_Id},...me.City&&{City:me.City}});(0,w.q)({address:`masters/retailers?${e.toString()}`}).then((e=>{e.success&&B(e.data)})).catch((e=>console.error(e)))};(0,t.useEffect)((()=>{Re()}),[Y,null===M||void 0===M?void 0:M.Company_id]),(0,t.useEffect)((()=>{(0,w.q)({address:"masters/areas"}).then((e=>{e.success&&z(e.data)})).catch((e=>console.error(e))),(0,w.q)({address:"masters/outlets"}).then((e=>{e.success&&U(e.data)})).catch((e=>console.error(e))),(0,w.q)({address:"masters/routes"}).then((e=>{e.success&&W(e.data)})).catch((e=>console.error(e))),(0,w.q)({address:"masters/state"}).then((e=>{e.success&&$(e.data)})).catch((e=>console.error(e)))}),[]);const fe=[{name:"Ledger",selector:e=>null===e||void 0===e?void 0:e.Retailer_Name,sortable:!0},{name:"Incharge",selector:e=>null===e||void 0===e?void 0:e.Contact_Person,sortable:!0},{name:"Mobile",selector:e=>e.Mobile_No,sortable:!0},{name:"Area",selector:e=>e.AreaGet,sortable:!0},{name:"Modified By",selector:e=>e.lastModifiedBy,sortable:!0},{name:"Action",cell:e=>{var l,a,t,i;return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(n.c,{title:"Edit Retailer",children:(0,k.jsx)("span",{children:(0,k.jsx)(d.c,{size:"small",onClick:()=>{le(!0),se(!0);const{Company_Id:l,Retailer_Id:a,Retailer_Name:t,Contact_Person:i,Mobile_No:s,Retailer_Channel_Id:n,Retailer_Class:d,Route_Id:o,Area_Id:r,Reatailer_Address:c,Reatailer_City:u,PinCode:m,State_Id:h,Gstno:v}=e;je((e=>({...e,Company_Id:l,Retailer_Id:a,Retailer_Name:t,Contact_Person:i,Mobile_No:s,Retailer_Channel_Id:n,Retailer_Class:d,Route_Id:o,Area_Id:r,Reatailer_Address:c,Reatailer_City:u,PinCode:m,State_Id:h,Gstno:v})))},children:(0,k.jsx)(p.c,{})})})}),(0,k.jsx)(n.c,{title:"Verify Location",children:(0,k.jsx)("span",{children:(0,k.jsx)(d.c,{size:"small",onClick:()=>{te(!0),Q(e)},disabled:0===(null===e||void 0===e||null===(l=e.AllLocations)||void 0===l?void 0:l.length),children:(0,k.jsx)(b.c,{color:0===(null===e||void 0===e||null===(a=e.AllLocations)||void 0===a?void 0:a.length)?"disabled":"success"})})})}),null!==e&&void 0!==e&&null!==(t=e.VERIFIED_LOCATION)&&void 0!==t&&t.latitude&&null!==e&&void 0!==e&&null!==(i=e.VERIFIED_LOCATION)&&void 0!==i&&i.longitude?(0,k.jsx)(n.c,{title:"Open in Google Map",children:(0,k.jsx)("span",{children:(0,k.jsx)(d.c,{size:"small",onClick:()=>{var l,a;return window.open(`https://www.google.com/maps/search/?api=1&query=${null===e||void 0===e||null===(l=e.VERIFIED_LOCATION)||void 0===l?void 0:l.latitude},${null===e||void 0===e||null===(a=e.VERIFIED_LOCATION)||void 0===a?void 0:a.longitude}`,"_blank")},className:"btn btn-info fa-14",color:"primary",children:(0,k.jsx)(j.c,{})})})}):(null===e||void 0===e?void 0:e.Latitude)&&e.Longitude&&(0,k.jsx)(n.c,{title:"Open in Google Map",children:(0,k.jsx)("span",{children:(0,k.jsx)(d.c,{size:"small",onClick:()=>window.open(`https://www.google.com/maps/search/?api=1&query=${null===e||void 0===e?void 0:e.Latitude},${null===e||void 0===e?void 0:e.Longitude}`,"_blank"),className:"btn btn-info fa-14",color:"primary",children:(0,k.jsx)(j.c,{})})})})]})}}],Ne=()=>{le(!1),je(pe),J(),se(!1)},ye=()=>{Ce({...me,filters:!1,orderDetails:!1})},Ae=()=>{te(!1),Q({})};function Ie(e){e.target.value=e.target.value.replace(/[^0-9]/g,"")}const Se=(e,l)=>{je({...be,[e]:l})},Le=[{label:"Retailer Name",elem:"input",placeholder:"",event:e=>Se("Retailer_Name",e.target.value),required:!0,value:be.Retailer_Name},{label:"Contact Person Name",elem:"input",placeholder:"",event:e=>Se("Contact_Person",e.target.value),required:!0,value:be.Contact_Person},{label:"Mobile Number",elem:"input",placeholder:"",oninput:e=>Ie(e),event:e=>Se("Mobile_No",e.target.value),required:!0,value:be.Mobile_No,maxLength:10},{label:"Gstno",elem:"input",placeholder:"",event:e=>Se("Gstno",e.target.value),value:be.Gstno,maxLength:15},{label:"Outlet",elem:"select",options:[{value:"",label:"SELECT",disabled:!0,selected:!0},...null===G||void 0===G?void 0:G.map((e=>({value:null===e||void 0===e?void 0:e.Out_Let_Id,label:null===e||void 0===e?void 0:e.Outlet_Type})))],event:e=>Se("Retailer_Channel_Id",e.target.value),required:!0,value:be.Retailer_Channel_Id},{label:"Retailer Class",elem:"select",options:[{value:"",label:"SELECT",disabled:!0,selected:!0},{value:"A",label:"A"},{value:"B",label:"B"},{value:"C",label:"C"}],event:e=>Se("Retailer_Class",e.target.value),required:!0,value:be.Retailer_Class},{label:"Route",elem:"select",options:[{value:"",label:"SELECT",disabled:!0,selected:!0},...null===V||void 0===V?void 0:V.map((e=>({value:null===e||void 0===e?void 0:e.Route_Id,label:null===e||void 0===e?void 0:e.Route_Name})))],event:e=>Se("Route_Id",e.target.value),value:be.Route_Id,required:!0},{label:"Area",elem:"select",options:[{value:"",label:"SELECT",disabled:!0,selected:!0},...null===F||void 0===F?void 0:F.map((e=>({value:null===e||void 0===e?void 0:e.Area_Id,label:null===e||void 0===e?void 0:e.Area_Name})))],event:e=>Se("Area_Id",e.target.value),required:!0,value:be.Area_Id},{label:"City",elem:"input",event:e=>Se("Reatailer_City",e.target.value),value:be.Reatailer_City},{label:"Pincode",elem:"input",placeholder:"",oninput:e=>Ie(e),event:e=>Se("PinCode",e.target.value),value:be.PinCode,maxLength:6},{label:"State",elem:"select",options:[{value:"",label:"SELECT",disabled:!0,selected:!0},...null===H||void 0===H?void 0:H.map((e=>({value:null===e||void 0===e?void 0:e.State_Id,label:null===e||void 0===e?void 0:e.State_Name})))],event:e=>Se("State_Id",e.target.value),required:!0,value:be.State_Id},{label:"Address",elem:"textarea",event:e=>Se("Reatailer_Address",e.target.value),required:!0,value:be.Reatailer_Address}];return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(u.c,{open:ce,onClose:()=>ue(!1),fullWidth:!0,maxWidth:"sm",children:[(0,k.jsx)(m.c,{id:"alert-dialog-title",children:"Confirmation"}),(0,k.jsx)(h.c,{children:(0,k.jsxs)("b",{className:"text-muted",children:["Do you want to Delete the user ",(0,k.jsx)("span",{className:"blue-text"}),"?"]})}),(0,k.jsx)(v.c,{children:(0,k.jsx)(x.c,{className:" btn-light",onClick:()=>{le(!1)},children:"Cancel"})})]}),(0,k.jsxs)(o.c,{sx:{mb:1},children:[(0,k.jsxs)("div",{className:"p-3 pb-0 d-flex align-items-center ",children:[(0,k.jsx)("h6",{className:"fa-18 flex-grow-1 ",children:"Retailers"}),(0,k.jsxs)("div",{className:"d-flex gap-2",children:[(0,k.jsx)(n.c,{title:"Filters",children:(0,k.jsx)(d.c,{size:"small",onClick:()=>Ce({...ge,filters:!0}),children:(0,k.jsx)(C.c,{})})}),(0,k.jsx)(x.c,{variant:"outlined",onClick:()=>{(0,w.q)({address:"masters/posRetailersSync"}).then((e=>{e&&S.m4.success(null===e||void 0===e?void 0:e.message)})).catch((e=>console.error(e)))},style:{justifyContent:"space-between"},children:"POS Retailer Sync"}),(0,k.jsx)("br",{}),(0,k.jsx)(x.c,{variant:"outlined",onClick:()=>re(!0),style:{justifyContent:"space-between"},children:"Retailers Map"}),(0,k.jsx)("br",{}),(0,k.jsx)(x.c,{variant:"outlined",onClick:()=>{if(!q||0===q.length)return void alert("No data available to download.");const e=O.c$.json_to_sheet(q),l=O.c$.book_new();O.c$.book_append_sheet(l,e,"Retailers Data");const a=O.GA(l,{bookType:"xlsx",type:"binary"});const t=new Blob([function(e){const l=new ArrayBuffer(e.length),a=new Uint8Array(l);for(let t=0;t<e.length;t++)a[t]=255&e.charCodeAt(t);return l}(a)],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),i=URL.createObjectURL(t),s=document.createElement("a");s.href=i,s.download="Retailers_Data.xlsx",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i)},children:"DOWNLOAD"}),(0,k.jsx)("br",{}),(0,k.jsx)(x.c,{variant:"outlined",startIcon:(0,k.jsx)(R.c,{}),onClick:()=>le(!0),children:"Add Retailers"}),(0,k.jsx)(n.c,{title:"Sync Tally LOL",children:(0,k.jsx)(d.c,{onClick:()=>{T&&T(),(0,w.q)({address:"masters/retailers/lolSync",method:"POST"}).then((e=>{e.success?S.m4.success(e.message):S.m4.error(e.message)})).catch((e=>console.error(e))).finally((()=>{D&&D()}))},children:(0,k.jsx)(f.c,{})})})]})]}),(0,k.jsx)(c.c,{children:(0,k.jsx)("div",{className:"rounded-4 overflow-hidden",children:(0,k.jsx)(i.cp,{columns:fe,data:K&&Object.keys(K).length>0?K:q,pagination:!0,highlightOnHover:!0,fixedHeader:!0,fixedHeaderScrollHeight:"60vh",customStyles:s.iI,expandableRows:!0,expandableRowsComponent:e=>{let{data:l}=e;return(0,k.jsx)("div",{className:"p-3",children:(0,k.jsxs)(o.c,{sx:{display:"flex",mb:1},children:[(0,k.jsx)(L.c,{url:null===l||void 0===l?void 0:l.imageUrl,children:(0,k.jsx)(r.c,{component:"img",sx:{width:350},image:null===l||void 0===l?void 0:l.imageUrl,alt:"retailer_picture"})}),(0,k.jsxs)(c.c,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100%"},children:[(0,k.jsx)("h6",{className:"mb-2 fa-16 fw-bold text-primary",children:null===l||void 0===l?void 0:l.Reatailer_Address}),(0,k.jsxs)("p",{className:"fw-bold fa-14 text-muted",children:["Route: ",null===l||void 0===l?void 0:l.RouteGet]}),(0,k.jsxs)("p",{className:"fw-bold fa-14 text-muted",children:["Class: ",null===l||void 0===l?void 0:l.Retailer_Class]}),(0,k.jsxs)("p",{className:"fw-bold fa-14 text-muted",children:["Created:"," ",null!==l&&void 0!==l&&l.Created_Date?new Date(null===l||void 0===l?void 0:l.Created_Date).toLocaleDateString("en-IN"):"--:--:--","\xa0 - \xa0",null===l||void 0===l?void 0:l.createdBy]}),(0,k.jsxs)("p",{children:[(0,k.jsx)(_.c,{className:"fa-13 text-primary"})," ",null===l||void 0===l?void 0:l.Contact_Person]}),(0,k.jsxs)("p",{children:[(0,k.jsx)(g.c,{className:"fa-13 text-primary"})," ",null===l||void 0===l?void 0:l.Mobile_No]})]})]})})}})})})]}),(0,k.jsxs)(u.c,{open:ee,onClose:Ne,fullScreen:!0,children:[(0,k.jsxs)(m.c,{children:[(0,k.jsx)(d.c,{size:"small",onClick:Ne,className:"me-2",children:(0,k.jsx)(N.c,{})}),ie?"Modify Retailer "+(null===be||void 0===be?void 0:be.Retailer_Name):"Create Retailer"]}),(0,k.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(0,w.q)({address:!1===be.isVisitedPlace?"masters/retailers":"masters/retailer/convertAsRetailer",method:ie?"PUT":"POST",bodyData:be}).then((e=>{e.success?(S.m4.success(null===e||void 0===e?void 0:e.message),Ne(),X(!Y)):S.m4.error(null===e||void 0===e?void 0:e.message)})).catch((e=>console.error(e)))},children:[(0,k.jsx)(h.c,{children:(0,k.jsx)("div",{className:"row",children:Le.map(((e,l)=>(0,k.jsxs)("div",{className:"p-2 px-3 "+("textarea"!==e.elem?"col-lg-4 col-md-6":"col-12"),children:[(0,k.jsxs)("label",{children:[e.label,e.required&&(0,k.jsxs)("p",{style:{color:"red",display:"inline",fontWeight:"bold",fontSize:"1em"},children:[" ","*"]})]}),"input"===e.elem?(0,k.jsx)("input",{type:e.type||"text",className:"cus-inpt b-0",onChange:e.event,onInput:e.oninput,required:e.required||!1,disabled:e.disabled,minLength:e.minLength,value:e.value,maxLength:e.maxLength}):"select"===e.elem?(0,k.jsx)("select",{className:"cus-inpt b-0",onChange:e.event,value:e.value,required:e.required||!1,children:e.options.map(((e,l)=>(0,k.jsx)("option",{value:e.value,disabled:e.disabled,defaultValue:e.selected,children:e.label},l)))}):"textarea"===e.elem?(0,k.jsx)("textarea",{className:"cus-inpt b-0",onChange:e.event,required:e.required||!1,rows:4,value:e.value}):null]},l)))})}),(0,k.jsxs)(v.c,{children:[(0,k.jsx)(x.c,{type:"button",onClick:Ne,children:"cancel"}),(0,k.jsx)(x.c,{type:"submit",variant:"contained",color:"success",children:"confirm"})]})]})]}),(0,k.jsxs)(u.c,{open:oe,fullScreen:!0,scroll:"paper",children:[(0,k.jsxs)(m.c,{children:[(0,k.jsx)(d.c,{size:"small",onClick:Ne,className:"me-2"}),(0,k.jsx)("span",{children:"Retailers Map"})]}),(0,k.jsx)(E.ik,{mapContainerStyle:{width:"100%",height:"100%"},center:{lat:9.9252,lng:78.1198},zoom:13,onError:()=>console.error("Failed to load Google Map"),children:ve&&q.length>0?ne.map(((e,l)=>e.latitude&&e.longitude?(0,k.jsx)(E.cK,{position:{lat:parseFloat(e.latitude),lng:parseFloat(e.longitude)},title:e.Retailer_Name||"Retailer",icon:{url:"https://maps.google.com/mapfiles/ms/icons/red-dot.png",scaledSize:new window.google.maps.Size(25,25)}},l):null)):(0,k.jsx)("div",{style:{textAlign:"center",padding:"20px",color:"gray"},children:"No retailers available to display on the map."})})]}),(0,k.jsxs)(u.c,{open:ae,onClose:Ae,maxWidth:"md",fullWidth:!0,children:[(0,k.jsxs)(m.c,{children:["Verify Location For"," ",(0,k.jsx)("span",{className:"text-primary",children:null===Z||void 0===Z?void 0:Z.Retailer_Name})]}),(0,k.jsx)(h.c,{className:"pb-0",children:(0,k.jsx)("div",{className:"table-responsive mb-0",children:(0,k.jsxs)("table",{className:"table mb-0",children:[(0,k.jsx)("thead",{children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{className:"text-center fa-14 border-0",children:"Active"}),(0,k.jsx)("th",{className:"text-center fa-14 border-0",children:"Created By"}),(0,k.jsx)("th",{className:"text-center fa-14 border-0",children:"Date"}),(0,k.jsx)("th",{className:"text-center fa-14 border-0",children:"Latitude"}),(0,k.jsx)("th",{className:"text-center fa-14 border-0",children:"Longitude"}),(0,k.jsx)("th",{className:"text-center fa-14 border-0",children:"Action"})]})}),(0,k.jsx)("tbody",{children:null===Z||void 0===Z||null===(a=Z.AllLocations)||void 0===a?void 0:a.map(((e,l)=>(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{className:"text-center fa-13 p-3 border-0",children:(0,k.jsx)("input",{type:"radio",name:"location_list",defaultChecked:1===Number(null===e||void 0===e?void 0:e.isActiveLocation),style:{width:"20px",height:"20px"},onChange:l=>{return a=null===e||void 0===e?void 0:e.Id,void(0,w.q)({address:"masters/retailers/location",method:"PUT",bodyData:{Id:a}}).then((e=>{e.success?S.m4.success(null===e||void 0===e?void 0:e.message):S.m4.error(null===e||void 0===e?void 0:e.message)})).catch((e=>console.error(e)));var a}})}),(0,k.jsx)("td",{className:"text-center fa-14 fw-bold p-3 border-0",children:null===e||void 0===e?void 0:e.EntryByGet}),(0,k.jsx)("td",{className:"text-center fa-13 p-3 border-0",children:null!==e&&void 0!==e&&e.EntryAt?new Date(null===e||void 0===e?void 0:e.EntryAt).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):" -"}),(0,k.jsx)("td",{className:"text-center fa-13 p-3 border-0",children:null===e||void 0===e?void 0:e.latitude}),(0,k.jsx)("td",{className:"text-center fa-13 p-3 border-0",children:null===e||void 0===e?void 0:e.longitude}),(0,k.jsxs)("td",{className:"text-center fa-13 p-3 border-0",children:[(0,k.jsx)(d.c,{className:"me-2",size:"small",children:(0,k.jsx)(y.c,{className:"fa-20",color:"error"})}),(null===e||void 0===e?void 0:e.latitude)&&e.longitude&&(0,k.jsx)(n.c,{title:"Open in Google Map",children:(0,k.jsx)("span",{children:(0,k.jsx)(d.c,{size:"small",onClick:()=>window.open(`https://www.google.com/maps/search/?api=1&query=${null===e||void 0===e?void 0:e.latitude},${null===e||void 0===e?void 0:e.longitude}`,"_blank"),className:"btn btn-info fa-14",color:"primary",children:(0,k.jsx)(j.c,{})})})})]})]},l)))})]})})}),(0,k.jsx)(v.c,{children:(0,k.jsx)(x.c,{variant:"outlined",onClick:Ae,children:"cancel"})})]}),(0,k.jsxs)(u.c,{open:ge.filters,onClose:ye,fullWidth:!0,maxWidth:"sm",children:[(0,k.jsx)(m.c,{children:"Filters"}),(0,k.jsx)(h.c,{children:(0,k.jsx)("div",{className:"table-responsive pb-5",children:(0,k.jsx)("table",{className:"table",children:(0,k.jsxs)("tbody",{children:[(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{style:{verticalAlign:"middle"},children:"Retailers"}),(0,k.jsx)("td",{children:(0,k.jsx)(I.cp,{value:{value:null===me||void 0===me?void 0:me.Retailer_Id,label:null===me||void 0===me?void 0:me.Retailer_Name},onChange:e=>he({...me,Retailer_Id:e.value,Retailer_Name:e.label}),options:[{value:"",label:"ALL"},...q.map((e=>({value:null===e||void 0===e?void 0:e.Retailer_Id,label:null===e||void 0===e?void 0:e.Retailer_Name})))],placeholder:"Retailer_Name",styles:{menuPortal:e=>({...e,zIndex:9999})},isSearchable:!0,menuPortalTarget:document.body,menuPosition:"fixed",menuPlacement:"auto"})})]}),(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{style:{verticalAlign:"middle"},children:"Mobile Number"}),(0,k.jsx)("td",{children:(0,k.jsx)("input",{type:"text",className:"cus-inpt",onChange:e=>he({...me,PhoneNumber:e.target.value}),value:null===me||void 0===me?void 0:me.PhoneNumber,placeholder:"PhoneNumber"})})]}),(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{style:{verticalAlign:"middle"},children:"Contact Person"}),(0,k.jsx)("td",{children:(0,k.jsx)("input",{type:"text",className:"cus-inpt",onChange:e=>he({...me,ContactPerson_Name:e.target.value}),value:null===me||void 0===me?void 0:me.ContactPerson_Name,placeholder:"Contact Person"})})]}),(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{style:{verticalAlign:"middle"},children:"Route"}),(0,k.jsx)("td",{children:(0,k.jsx)(I.cp,{value:{value:null===me||void 0===me?void 0:me.Route_Id,label:null===me||void 0===me?void 0:me.Route},onChange:e=>he({...me,Route_Id:e.value,Route:e.label}),options:[{value:"",label:"ALL"},...V.map((e=>({value:null===e||void 0===e?void 0:e.Route_Id,label:null===e||void 0===e?void 0:e.Route_Name})))],placeholder:"Route Name",styles:{menuPortal:e=>({...e,zIndex:9999})},isSearchable:!0,menuPortalTarget:document.body,menuPosition:"fixed",menuPlacement:"auto"})})]}),(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{style:{verticalAlign:"middle"},children:"Area"}),(0,k.jsx)("td",{children:(0,k.jsx)(I.cp,{value:{value:null===me||void 0===me?void 0:me.Area_Id,label:null===me||void 0===me?void 0:me.Area},onChange:e=>he({...me,Area_Id:e.value,Area:e.label}),options:[{value:"",label:"ALL"},...F.map((e=>({value:null===e||void 0===e?void 0:e.Area_Id,label:null===e||void 0===e?void 0:e.Area_Name})))],placeholder:"Area Name",styles:{menuPortal:e=>({...e,zIndex:9999})},isSearchable:!0,menuPortalTarget:document.body,menuPosition:"fixed",menuPlacement:"auto"})})]}),(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{style:{verticalAlign:"middle"},children:"City"}),(0,k.jsx)("td",{children:(0,k.jsx)("input",{type:"text",className:"cus-inpt",onChange:e=>he({...me,City:e.target.value}),value:null===me||void 0===me?void 0:me.City,placeholder:"City"})})]})]})})})}),(0,k.jsxs)(v.c,{children:[!xe&&(0,k.jsx)(x.c,{onClick:ye,children:"Close"}),(0,k.jsx)(x.c,{onClick:()=>{ye(),Re()},startIcon:(0,k.jsx)(A.c,{}),variant:"outlined",children:"Search"})]})]})]})}}}]);
//# sourceMappingURL=1952.a3d2b77c.chunk.js.map