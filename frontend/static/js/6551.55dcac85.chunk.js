"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[6551],{30513:(e,t,i)=>{i.d(t,{A:()=>s});var l=i(59662),n=i(70579);const s=(0,l.A)((0,n.jsx)("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3m-3 11H8v-5h8zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m-1-9H6v4h12z"}),"Print")},90001:(e,t,i)=>{i.d(t,{A:()=>p});var l=i(65043),n=i(97707),s=i(65074),o=i(93141),d=i(11906),c=i(30513),r=i(73216);const a=i.p+"static/media/plain.431247e336efa50eee27.jpeg";var h=i(70579);const m=e=>{let{data:t,companyInfo:i,isPreview:l}=e;const s=(0,n.$r)(null===t||void 0===t?void 0:t.productDetails),o=(0,n.$r)(null===t||void 0===t?void 0:t.expencessDetails).filter(e=>{var t;return!(null!==(t=e.expenseName)&&void 0!==t&&t.toLowerCase().includes("round off"))}),d=(0,n.$r)(null===t||void 0===t?void 0:t.staffDetails).find(e=>"Broker"===e.empType),c=(0,n.$r)(null===t||void 0===t?void 0:t.staffDetails).find(e=>"Transport"===e.empType),r=s.reduce((e,t)=>e+Number(t.amount||0),0)+o.reduce((e,t)=>e+Number(t.expenseValue||0),0)+Number((null===t||void 0===t?void 0:t.roundOffValue)||0),m=(e=>{const t=new Map;return e.forEach(e=>{const i=(null===e||void 0===e?void 0:e.hsnCode)||"",l=Number(null===e||void 0===e?void 0:e.amount)||0;t.set(i,(t.get(i)||0)+l)}),Array.from(t.entries()).map(e=>{let[t,i]=e;return{hsn:t,amount:i}})})(s);return(0,h.jsxs)("div",{style:{width:"21cm",height:"14.8cm",position:"relative",margin:"0",boxSizing:"border-box",paddingLeft:"0.23cm"},children:[(0,h.jsx)("img",{src:a,alt:"A5 Invoice Layout",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:0}}),(0,h.jsxs)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1,boxSizing:"border-box"},children:[(0,h.jsxs)("div",{style:{position:"absolute",top:"0.4cm",width:"100%",display:"flex"},children:[(0,h.jsxs)("div",{style:{position:"relative",width:"60%"},children:[(0,h.jsx)("div",{style:{position:"absolute",left:"0cm",width:"9cm",padding:"0px"},children:(0,h.jsx)("div",{style:{position:"absolute",left:"5.3cm",fontWeight:"bold",top:"0.2cm",fontSize:"25px",width:"7cm",padding:"3px",color:"#000"},children:null===i||void 0===i?void 0:i.Company_Name})}),(0,h.jsxs)("div",{style:{position:"absolute",left:"4.2cm",fontSize:"15px",width:"10cm",marginTop:"1cm",color:"#000"},children:[(0,h.jsx)("p",{children:"H.O: 153, Chitrakara Street, Madurai -01"}),(0,h.jsxs)("div",{style:{position:"absolute",fontSize:"14px",width:"10cm",bottom:"0cm",left:"10px",top:"0.0cm",padding:"0px",color:"#000"},children:[(0,h.jsx)("br",{}),(0,h.jsx)("p",{children:"G.O:746 Puliyur, Sayanapuram, Svga"})]}),(0,h.jsxs)("div",{style:{position:"absolute",fontSize:"14px",width:"10cm",bottom:"0cm",top:"15px",right:"20px",padding:"0px",color:"#000"},children:[(0,h.jsx)("br",{}),(0,h.jsx)("p",{children:"Bill of Supply- Disclaimer Affidavit Filed -Exempted"})]})]})]}),(0,h.jsxs)("div",{style:{position:"relative",width:"40%",fontSize:"13px",color:"#000",paddingRight:"1cm",textAlign:"right",top:"15px"},children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("strong",{children:"GSTIN :"})," 33AADFS4987M1ZL"]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("strong",{children:"Phone :"})," 0452 - 4371625"]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("strong",{})," 9786131353"]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("strong",{children:"FSSAI No"})," 12418012000176"]})]})]}),(0,h.jsxs)("div",{style:{position:"absolute",top:"2.7cm",width:"100%"},children:[(0,h.jsx)("p",{style:{position:"absolute",left:"1.0cm",fontSize:"13px",top:"0.0cm",width:"9cm",padding:"2.5px"}}),(0,h.jsxs)("div",{style:{position:"absolute",left:"3.25cm",fontSize:"13px",top:"0.3cm",width:"9cm",padding:"2.5px"},children:[(0,h.jsxs)("div",{style:{color:"#000"},children:[t.mailingName,",",t.Party_Location]}),(0,h.jsx)("div",{style:{color:"#000"},children:t.mailingAddress}),(0,h.jsx)("div",{style:{color:"#000"},children:t.mailingNumber}),(0,h.jsxs)("div",{style:{color:"#000"},children:["GSTIN: ",t.retailerGstNumber]})]}),(0,h.jsxs)("div",{style:{position:"absolute",left:"12cm",width:"8cm",fontSize:"12px",padding:"0px",top:"0.3cm"},children:[(0,h.jsxs)("div",{style:{height:"0.7cm",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[(0,h.jsx)("span",{style:{fontWeight:"bold",color:"#000"}}),(0,h.jsx)("span",{style:{color:"#000",marginLeft:"30px"},children:t.createdOn&&new Date(t.createdOn).toLocaleDateString("en-GB")})]}),(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[(0,h.jsx)("span",{style:{fontWeight:"bold",color:"#000",marginLeft:"50px"}}),(0,h.jsx)("b",{style:{color:"#000",marginLeft:"50px"},children:t.voucherTypeGet})]})]}),(0,h.jsxs)("div",{style:{height:"0.7cm",display:"flex",alignItems:"center",gap:"5px"},children:[(0,h.jsx)("span",{style:{fontWeight:"bold",color:"#000"}}),(0,h.jsx)("b",{style:{color:"#000",marginLeft:"50px"},children:t.voucherNumber})]}),(0,h.jsxs)("div",{style:{height:"1cm",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[(0,h.jsx)("span",{style:{fontWeight:"bold",color:"#000"}}),(0,h.jsx)("span",{style:{color:"#000",marginLeft:"50px"},children:(null===d||void 0===d?void 0:d.empName)||"-"})]}),(0,h.jsxs)("div",{style:{display:"flex"},children:[(0,h.jsx)("span",{style:{fontWeight:"bold",color:"#000"}}),(0,h.jsx)("span",{style:{color:"#000",alignItems:"center",gap:"5px"},children:(null===c||void 0===c?void 0:c.empName)||"-"})]})]})]})]}),(0,h.jsxs)("div",{style:{position:"absolute",top:"5.1cm",left:"0",width:"20cm",fontSize:"12px"},children:[(0,h.jsxs)("div",{style:{display:"flex",height:"0.5cm",lineHeight:"0.5cm",alignItems:"left",fontWeight:"bold",marginBottom:"0.3cm"},children:[(0,h.jsx)("div",{style:{width:"1cm",textAlign:"right",marginLeft:"0.4cm"}}),(0,h.jsx)("div",{style:{marginLeft:"0.2cm",width:"8.2cm",color:"#000"}}),(0,h.jsx)("div",{style:{width:"2cm",color:"#000"}}),(0,h.jsx)("div",{style:{width:"1.5cm",color:"#000"}}),(0,h.jsx)("div",{style:{width:"1.2cm",color:"#000"}}),(0,h.jsx)("div",{style:{width:"3cm",color:"#000"}}),(0,h.jsx)("div",{style:{width:"1cm",color:"#000"}}),(0,h.jsx)("div",{style:{width:"3.5cm",textAlign:"right",color:"#000"}})]}),s.filter(e=>e.itemName).map((e,t)=>(0,h.jsxs)("div",{style:{display:"flex",height:"0.5cm",lineHeight:"0.5cm",alignItems:"center"},children:[(0,h.jsx)("div",{style:{width:"1cm",textAlign:"right",marginLeft:"2.3cm",fontWeight:"bold",color:"#000",flexShrink:0},children:t+1}),(0,h.jsx)("div",{style:{marginLeft:"0.7cm",width:"6.5cm",color:"#000",fontWeight:"bold",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",flexShrink:0},children:e.itemName}),(0,h.jsx)("div",{style:{width:"1cm",color:"#000",marginLeft:"-0.3cm",textAlign:"left",fontWeight:"bold",flexShrink:0},children:e.hsnCode}),(0,h.jsx)("div",{style:{width:"1cm",color:"#000",textAlign:"center",fontWeight:"bold",flexShrink:0,marginLeft:"0.25cm"},children:e.gstPercentage}),(0,h.jsx)("div",{style:{width:"5cm",color:"#000",textAlign:"center",fontWeight:"bold"},children:e.quantity}),(0,h.jsx)("div",{style:{width:"4.7cm",color:"#000",textAlign:"center",fontWeight:"bold",marginRight:"0.5cm"},children:e.itemRate}),(0,h.jsx)("div",{style:{width:"1.2cm",color:"#000",fontWeight:"bold",marginLeft:"1cm",textAlign:"left",marginRight:"0.9cm"},children:e.billQuantity}),(0,h.jsx)("div",{style:{width:"5cm",textAlign:"right",fontWeight:"bold",color:"#000"},children:(0,n.jG)(e.amount)})]},t))]}),(0,h.jsx)("p",{style:{position:"absolute",fontWeight:"bold",top:"9.94cm",left:"3.1cm"},children:"TMB A/C NO: 002530350870041  IFSC : TMBL0000002"}),(0,h.jsxs)("div",{style:{position:"absolute",top:"10.5cm",left:"3.1cm",color:"#000",width:"15cm"},children:[(0,h.jsx)("span",{children:"INR"}),"   ",(0,n.GF)(parseInt(r))]}),(0,h.jsxs)("div",{style:{position:"absolute",top:"9.1cm",left:"0cm",width:"20cm"},children:[o.map((e,t)=>(0,h.jsxs)("div",{style:{position:"absolute",top:"".concat(.5*t,"cm"),display:"flex",height:"0.5cm",lineHeight:"0.5cm",alignItems:"center",width:"100%"},children:[(0,h.jsx)("div",{style:{width:"5.0cm"}}),(0,h.jsx)("div",{style:{width:"0.3cm"}}),(0,h.jsx)("div",{style:{width:"1.9cm"}}),(0,h.jsx)("div",{style:{width:"0.9cm"}}),(0,h.jsx)("div",{style:{width:"1.3cm"}}),(0,h.jsx)("div",{style:{width:"4.2cm",marginLeft:"4.5cm",lineHeight:"normal",color:"#000",fontSize:"10px"},children:e.expenseName}),(0,h.jsx)("div",{style:{width:"0cm"}}),(0,h.jsx)("div",{style:{width:"1.5cm",textAlign:"right",color:"#000",fontSize:"12px",marginRight:"auto"},children:(0,n.jG)(e.expenseValue)})]},t)),null!==t&&void 0!==t&&t.roundOffValue?(0,h.jsxs)("div",{style:{position:"absolute",top:"0.5cm",display:"flex",height:"0.5cm",fontWeight:"bold",alignItems:"center",width:"100%"},children:[(0,h.jsx)("div",{style:{width:"5.0cm"}}),(0,h.jsx)("div",{style:{width:"0.3cm"}}),(0,h.jsx)("div",{style:{width:"1.9cm"}}),(0,h.jsx)("div",{style:{width:"0.9cm"}}),(0,h.jsx)("div",{style:{width:"1.3cm"}}),(0,h.jsx)("div",{style:{width:"4.2cm",marginLeft:"8.5cm",lineHeight:"normal",color:"#000",fontSize:"10px",fontWeight:"bold"}}),(0,h.jsx)("div",{style:{width:"0cm"}}),(0,h.jsx)("div",{style:{position:"absolute",right:"0.5cm",textAlign:"right",color:"#000",fontSize:"12px",fontWeight:"bold",top:"0.45cm"},children:(0,n.jG)(t.roundOffValue)})]}):null,(0,h.jsxs)("div",{style:{position:"absolute",top:"1.6cm",left:"14cm",fontWeight:"bold",textAlign:"center",color:"#000",fontSize:"18px",display:"flex",justifyContent:"center",alignItems:"center",gap:"140px"},children:[(0,h.jsx)("span",{}),Number(parseFloat(r||0)).toFixed(2)]})]}),(0,h.jsxs)("div",{style:{position:"absolute",top:"11.6cm",fontSize:"10px",left:"3cm",width:"10cm"},children:[m.map((e,t)=>(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"100%",marginBottom:"0.0cm"},children:[(0,h.jsx)("span",{style:{color:"#000",fontWeight:"bold",width:"3cm",textAlign:"left"},children:e.hsn}),(0,h.jsx)("span",{style:{color:"#000",fontWeight:"bold",width:"3cm",textAlign:"right"},children:(0,n.jG)(e.amount)})]},t)),(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"100%",marginTop:"0.0cm",paddingTop:"0.1cm",fontWeight:"bold"},children:[(0,h.jsx)("span",{style:{color:"#000",width:"3cm",textAlign:"left"}}),(0,h.jsx)("span",{style:{color:"#000",width:"3cm",textAlign:"right",top:"0"},children:(0,n.jG)(m.reduce((e,t)=>e+Number(t.amount||0),0))})]})]})]})]})},p=e=>{let{Do_Id:t,Do_Ids:i=[],loadingOn:n,loadingOff:a,isCombinedPrint:p=!1}=e;const[x,g]=(0,l.useState)([]),f=(0,l.useRef)(null),[v,y]=((0,r.Zp)(),(0,r.zy)(),(0,l.useState)({})),j=JSON.parse(localStorage.getItem("user")),u=Array.isArray(i)&&i.length>0?i:t?[t]:[],[w,b]=(0,l.useState)(!1);(0,l.useEffect)(()=>{if(0===u.length)return;null===n||void 0===n||n(),(0,s.z)({address:"masters/company?Company_id=".concat(null===j||void 0===j?void 0:j.Company_id)}).then(e=>{e.success&&y(null!==e&&void 0!==e&&e.data[0]?null===e||void 0===e?void 0:e.data[0]:{})}).catch(e=>console.error(e));(async()=>{try{const e=u.map(e=>(0,s.z)({address:"sales/salesInvoice/printOuts/invoicePrint?Do_Id=".concat(e),loadingOn:()=>{},loadingOff:()=>{}})),t=(await Promise.all(e)).filter(e=>{var t;return(null===e||void 0===e?void 0:e.success)&&(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t[0])}).map(e=>e.data[0]);console.log("allData",t),g(t),b(!0)}catch(e){console.error("Error fetching invoices:",e)}finally{null===a||void 0===a||a()}})()},[JSON.stringify(u)]);const S=(0,o.useReactToPrint)({content:()=>f.current,onAfterPrint:()=>console.log("Print completed")});return!p&&x.length>0?(0,h.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,h.jsx)("style",{children:"\n@media print {\n  @page {\n    size: A5 landscape;\n    margin: 0;\n  }\n\n  body {\n    margin: 0;\n    padding: 0;\n    -webkit-print-color-adjust: exact;\n    print-color-adjust: exact;\n  }\n\n  .print-page {\n    width: 21cm;\n    height: 14.8cm;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .print-safe-area {\n    margin-left: 0.3cm;  \n  }\n\n  .no-print {\n    display: none !important;\n  }\n}\n"}),(0,h.jsxs)(d.A,{onClick:S,startIcon:(0,h.jsx)(c.A,{}),className:"no-print",style:{margin:"20px"},children:["Print Preview ",x.length>1?"(".concat(x.length," invoices)"):""]}),(0,h.jsx)("div",{ref:f,children:x.map((e,t)=>(0,h.jsx)("div",{style:{marginBottom:x.length>1?"50px":"0"},children:(0,h.jsx)(m,{data:e,companyInfo:v,isPreview:!0})},t))})]}):(0,h.jsx)("div",{ref:f,children:x.map((e,t)=>(0,h.jsx)("div",{className:"invoice-page",style:{pageBreakAfter:t<x.length-1?"always":"auto"},children:(0,h.jsx)(m,{data:e,companyInfo:v,isPreview:!1})},t))})}}}]);
//# sourceMappingURL=6551.55dcac85.chunk.js.map