"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[2714],{14792:(e,t,l)=>{l.d(t,{A:()=>n});var o=l(70579);const n=()=>(0,o.jsx)("span",{style:{color:"red",fontWeight:"bold",fontSize:"1em"},children:" *"})},14844:(e,t,l)=>{l.d(t,{v:()=>n});var o=l(97707);const n=function(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"add";const n=(0,o.Ro)(e),d=(0,o.Ro)(t),a=d/2;let i,s,r,c;if("zerotax"===l)i=n,s=0,r=n,c=n;else if("add"===l)s=n*d/100,i=n,r=n+s,c=n;else{if("remove"!==l)throw new Error("Invalid type. Use 'add', 'remove', or 'zerotax'.");i=n/(1+d/100),s=n-i,r=n,c=i}const u=(s/2).toFixed(2),m=(s/2).toFixed(2),v=s.toFixed(2);return{base_amount:Number(i).toFixed(2),with_tax:Number(r).toFixed(2),without_tax:Number(c).toFixed(2),tax_per:Number(d),tax_amount:Number(s).toFixed(2),sgst_per:Number(a),sgst_amount:Number(u),cgst_per:Number(a),cgst_amount:Number(m),igst_per:Number(d),igst_amount:Number(v),type:l}}},18584:(e,t,l)=>{l.d(t,{A:()=>d});var o=l(59662),n=l(70579);const d=(0,o.A)((0,n.jsx)("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"}),"Done")},26494:(e,t,l)=>{l.d(t,{A:()=>h});var o=l(58168),n=l(98587),d=l(65043),a=l(58387),i=l(68606),s=l(34535),r=l(6431),c=l(57056),u=l(32400);function m(e){return(0,u.Ay)("MuiCardContent",e)}(0,c.A)("MuiCardContent",["root"]);var v=l(70579);const _=["className","component"],p=(0,s.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),h=d.forwardRef(function(e,t){const l=(0,r.b)({props:e,name:"MuiCardContent"}),{className:d,component:s="div"}=l,c=(0,n.A)(l,_),u=(0,o.A)({},l,{component:s}),h=(e=>{const{classes:t}=e;return(0,i.A)({root:["root"]},m,t)})(u);return(0,v.jsx)(p,(0,o.A)({as:s,className:(0,a.A)(h.root,d),ownerState:u,ref:t},c))})},34104:(e,t,l)=>{l.d(t,{A:()=>x,K:()=>h});var o=l(89379),n=l(65043),d=l(97707),a=l(83462),i=l(26600),s=l(17392),r=l(35316),c=l(11906),u=l(65074),m=l(18584),v=l(97280),_=l(14844),p=(l(63406),l(70579));const h=(e,t,l)=>{var o;const n=null===(o=(0,d.$r)(l).find(l=>(0,d.id)(null===l||void 0===l?void 0:l.Product_Id,e)&&(0,d.id)(null===l||void 0===l?void 0:l.Godown_Id,t)))||void 0===o?void 0:o.Act_Bal_Qty;return null===n||void 0===n||Number.isNaN(n)||0==n?0:n},x=e=>{let{loadingOn:t,loadingOff:l,open:x,onClose:I,retailer:A,children:b,selectedItems:g=[],setSelectedItems:j,staffArray:f=[],setStaffArray:N,products:S=[],GST_Inclusive:w,IS_IGST:y,invoiceInfo:C={},setInvoiceInfo:D,godowns:G=[],stockInGodown:T=[]}=e;const F=(0,d.id)(w,1),P=(0,d.id)(w,2),[R,B]=(0,n.useState)([]),[O,E]=(0,n.useState)({Fromdate:(0,d.ny)(),Todate:(0,d.ny)(),search:!1,Godown:{value:"",label:"Select Godown For Stock Details"}});(0,n.useEffect)(()=>{if((0,d.IQ)(A)&&x){const{Fromdate:e,Todate:o}=O;t&&t(),(0,u.z)({address:"sales/saleOrder?Fromdate=".concat(e,"&Todate=").concat(o,"&Retailer_Id=").concat(A)}).then(e=>{e.success?B(e.data):B([])}).catch(e=>console.error(e)).finally(()=>{l&&l()})}},[O.search]);const k=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(arguments.length>2?arguments[2]:void 0)return D(e=>(0,o.A)((0,o.A)({},e),{},{So_No:""})),void j([]);D(t=>(0,o.A)((0,o.A)({},t),{},{So_No:Number(null===e||void 0===e?void 0:e.So_Id)})),j(l=>{const o=[...l];return(0,d.$r)(null===e||void 0===e?void 0:e.Products_List).map((e,l)=>Object.fromEntries(Object.entries(v.a4).map(n=>{var a,i,s,r,c,u,m,v;let[p,h]=n;const x=(e=>{var t;return null!==(t=null===S||void 0===S?void 0:S.find(t=>(0,d.id)(null===t||void 0===t?void 0:t.Product_Id,e)))&&void 0!==t?t:{}})(e.Item_Id),I=y?x.Igst_P:x.Gst_P,A=I>0,{Item_Rate:b,Bill_Qty:g,Amount:j}=e,f=P?"zerotax":F?"remove":"add",N=(0,_.v)(b,I,f),w=(0,_.v)(j,I,f),C=y?0:w.cgst_per,D=y?w.igst_per:0,G=y?0:w.cgst_amount,T=y?w.igst_amount:0;switch(p){case"S_No":return[p,null!==(a=l+1)&&void 0!==a?a:h];case"Item_Id":return[p,null!==(i=e.Item_Id)&&void 0!==i?i:h];case"Item_Name":return[p,null!==(s=null===x||void 0===x?void 0:x.Product_Name)&&void 0!==s?s:h];case"Item_Rate":return[p,(0,d.Ro)(b)];case"Bill_Qty":case"Act_Qty":case"Alt_Act_Qty":case"Total_Qty":return[p,(0,d.Ro)(g)];case"Amount":return[p,j];case"HSN_Code":return[p,null!==(r=x.HSN_Code)&&void 0!==r?r:h];case"Unit_Id":return[p,null!==(c=e.Unit_Id)&&void 0!==c?c:h];case"Act_unit_Id":return[p,null!==(u=e.Unit_Id)&&void 0!==u?u:h];case"Alt_Act_Unit_Id":return[p,null!==(m=e.Unit_Id)&&void 0!==m?m:h];case"Unit_Name":return[p,null!==(v=e.Units)&&void 0!==v?v:h];case"GoDown_Id":{var R;const l=(0,d.IQ)(null===t||void 0===t?void 0:t.Godown_Id),n=(0,d.IQ)(null===t||void 0===t?void 0:t.Item_Id),a=(0,d.id)(null===e||void 0===e?void 0:e.Item_Id,null===t||void 0===t?void 0:t.Item_Id),i=null===(R=o.find(t=>(0,d.id)(t.Item_Id,null===e||void 0===e?void 0:e.Item_Id)))||void 0===R?void 0:R.GoDown_Id;return[p,l&&n&&a?t.Godown_Id:(0,d.IQ)(i)?i:h]}case"Taxable_Rate":return[p,N.base_amount];case"Taxble":return[p,A?1:0];case"Taxable_Amount":return[p,w.base_amount];case"Tax_Rate":return[p,I];case"Cgst":case"Sgst":return[p,null!==C&&void 0!==C?C:0];case"Cgst_Amo":case"Sgst_Amo":return[p,P?0:G];case"Igst":return[p,null!==D&&void 0!==D?D:0];case"Igst_Amo":return[p,P?0:T];case"Final_Amo":return[p,w.with_tax];default:return[p,h]}})))});const l=[...new Map((0,d.$r)(null===e||void 0===e?void 0:e.Staff_Involved_List).filter(e=>!f.some(t=>(0,d.id)(t.Emp_Id,e.Involved_Emp_Id))).map(e=>[e.Involved_Emp_Id,e])).values()];l.length>0&&N(e=>[...e,...l.map(e=>Object.fromEntries(Object.entries(v.Ud).map(t=>{let[l,o]=t;switch(l){case"Emp_Id":return[l,null===e||void 0===e?void 0:e.Involved_Emp_Id];case"Emp_Name":return[l,null===e||void 0===e?void 0:e.EmpName];case"Emp_Type_Id":return[l,null===e||void 0===e?void 0:e.Cost_Center_Type_Id];default:return[l,o]}})))])},Q=()=>{I&&I(),B([])};return(0,p.jsxs)(p.Fragment,{children:[b,(0,p.jsxs)(a.A,{open:x,onClose:Q,fullScreen:!0,children:[(0,p.jsx)(i.A,{children:(0,p.jsxs)("div",{className:"d-flex flex-wrap align-items-center ",children:[(0,p.jsx)("span",{className:"flex-grow-1",children:"Select Sale Order"}),(0,p.jsx)(s.A,{onClick:Q,color:"success",children:(0,p.jsx)(m.A,{className:"fa-20"})})]})}),(0,p.jsxs)(r.A,{children:[(0,p.jsxs)("div",{className:"d-flex flex-wrap align-items-end",children:[(0,p.jsxs)("div",{className:"p-2",children:[(0,p.jsx)("label",{className:"d-block ms-2",children:"From Date"}),(0,p.jsx)("input",{className:"cus-inpt p-2 w-auto",type:"date",value:null===O||void 0===O?void 0:O.Fromdate,onChange:e=>E(t=>(0,o.A)((0,o.A)({},t),{},{Fromdate:e.target.value})),required:!0})]}),(0,p.jsxs)("div",{className:"p-2",children:[(0,p.jsx)("label",{className:"d-block ms-2",children:"To Date"}),(0,p.jsx)("input",{className:"cus-inpt p-2 w-auto",type:"date",min:O.Fromdate,value:null===O||void 0===O?void 0:O.Todate,onChange:e=>E(t=>(0,o.A)((0,o.A)({},t),{},{Todate:e.target.value})),required:!0})]}),(0,p.jsx)("div",{className:"p-2",children:(0,p.jsx)(c.A,{variant:"outlined",type:"button",onClick:()=>E(e=>(0,o.A)((0,o.A)({},e),{},{search:!e.search})),children:"search"})})]}),(0,p.jsx)("br",{}),R.map((e,t)=>{const{So_Inv_No:l,So_Date:o,VoucherTypeGet:n,Branch_Name:a,Sales_Person_Name:i,Total_Tax:s,Total_Invoice_value:r,Products_List:c}=e,u=(0,d.id)(null===C||void 0===C?void 0:C.So_No,e.So_Id);return(0,p.jsx)("div",{className:"container-fluid",children:(0,p.jsxs)("div",{className:"\n                                        invoice-card bg-white p-4 shadow-sm mb-4 border rounded  \n                                        ".concat(u?" border-primary ":"","\n                                        "),children:[(0,p.jsxs)("h5",{className:"d-flex align-items-center flex-wrap",children:[(0,p.jsx)("span",{className:"me-2",children:(0,p.jsx)("input",{className:"form-check-input shadow-none pointer",style:{padding:"0.7em"},type:"checkbox",checked:u,onChange:()=>{k(e,null,!!u)}})}),(0,p.jsxs)("span",{children:["Invoice No: ",(0,p.jsx)("span",{className:"text-primary",children:l})]})]}),(0,p.jsxs)("div",{className:"invoice-header d-flex justify-content-between flex-wrap border-bottom pb-3 mb-3",children:[(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("strong",{children:"Invoice Date:"})," ",(0,d.yc)(o)]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("strong",{children:"Voucher Type:"})," ",n]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("strong",{children:"Branch:"})," ",a]})]}),(0,p.jsxs)("div",{className:"text-end",children:[(0,p.jsxs)("h5",{className:"mt-2",children:[(0,p.jsx)("strong",{children:"Total Invoice:"})," \u20b9",r]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("strong",{children:"Tax:"})," \u20b9",s]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("strong",{children:"Salesperson:"})," ",i]})]})]}),(0,p.jsx)("div",{className:"table-responsive",children:(0,p.jsxs)("table",{className:"table table-bordered table-striped product-table",children:[(0,p.jsx)("thead",{className:"table-light",children:(0,p.jsx)("tr",{children:["#","Product","Qty","Rate","Amount","Tax %","Final Amount","Godown"].map((e,t)=>(0,p.jsx)("th",{style:{minWidth:"150px",maxWidth:"160px"},children:e},t))})}),(0,p.jsx)("tbody",{children:c.map((t,l)=>{var o;return(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:l+1}),(0,p.jsx)("td",{children:t.Product_Name}),(0,p.jsxs)("td",{children:[t.Bill_Qty,(0,d.IQ)(O.Godown.value)&&" (Bal: "+h(t.Item_Id,O.Godown.value,T)+") "]}),(0,p.jsxs)("td",{children:["\u20b9",t.Item_Rate]}),(0,p.jsxs)("td",{children:["\u20b9",t.Amount]}),(0,p.jsxs)("td",{children:[t.Tax_Rate,"%"]}),(0,p.jsxs)("td",{children:["\u20b9",t.Final_Amo]}),(0,p.jsx)("td",{children:(0,p.jsxs)("select",{disabled:!u,className:"cus-inpt p-2",value:null===(o=(0,d.$r)(G).find(e=>(0,d.$r)(g).find(l=>(0,d.id)(l.Item_Id,null===t||void 0===t?void 0:t.Item_Id)&&u&&(0,d.id)(null===e||void 0===e?void 0:e.Godown_Id,null===l||void 0===l?void 0:l.GoDown_Id))))||void 0===o?void 0:o.Godown_Id,onChange:l=>k(e,{Godown_Id:l.target.value,Item_Id:null===t||void 0===t?void 0:t.Item_Id},!1),children:[(0,p.jsx)("option",{value:"",disabled:!0,children:"Select"}),(0,p.jsx)("optgroup",{label:"Stock-Available-Godown",children:(0,d.$r)(G).filter(e=>(0,d.$r)(T).some(l=>(0,d.id)(null===l||void 0===l?void 0:l.Godown_Id,null===e||void 0===e?void 0:e.Godown_Id)&&(0,d.id)(null===t||void 0===t?void 0:t.Item_Id,null===l||void 0===l?void 0:l.Product_Id))).map((e,l)=>(0,p.jsx)("option",{value:null===e||void 0===e?void 0:e.Godown_Id,children:(null===e||void 0===e?void 0:e.Godown_Name)+" (Bal: "+h(null===t||void 0===t?void 0:t.Item_Id,null===e||void 0===e?void 0:e.Godown_Id,T)+")"},l))}),(0,p.jsx)("optgroup",{label:"Other-Godown",children:(0,d.$r)(G).filter(e=>!(0,d.$r)(T).some(l=>(0,d.id)(null===l||void 0===l?void 0:l.Godown_Id,null===e||void 0===e?void 0:e.Godown_Id)&&(0,d.id)(null===t||void 0===t?void 0:t.Item_Id,null===l||void 0===l?void 0:l.Product_Id))).map((e,t)=>(0,p.jsx)("option",{value:null===e||void 0===e?void 0:e.Godown_Id,children:null===e||void 0===e?void 0:e.Godown_Name},t))})]})})]},t.SO_St_Id)})})]})}),(0,p.jsx)("div",{className:"invoice-summary border-top pt-3 mt-3 text-end"})]})},t)})]})]})]})}},34496:(e,t,l)=>{l.d(t,{A:()=>d});var o=l(59662),n=l(70579);const d=(0,o.A)((0,n.jsx)("path",{d:"M5 13h14v-2H5zm-2 4h14v-2H3zM7 7v2h14V7z"}),"ClearAll")},48471:(e,t,l)=>{l.d(t,{Ay:()=>E,JT:()=>B,Lj:()=>P,wF:()=>R});var o=l(89379),n=l(65043),d=l(77739),a=l(17392),i=l(41020),s=l(30922),r=l(32143),c=l(2050),u=l(48734),m=l(28076),v=l(39652),_=l(12110),p=l(63336),h=l(79650),x=l(71806),I=l(84882),A=l(58093),b=l(73460),g=l(31159),j=l(97707),f=l(47968),N=l(692),S=l(8737),w=l(58558),y=l(30599),C=l(433),D=l(37762),G=(l(20557),l(11238)),T=l(70579);const F=(e,t)=>e.map(e=>{const l={};return t.forEach((t,o)=>{if(t.isVisible||t.Defult_Display)if(t.isCustomCell&&t.Cell){const n=t.Cell({row:e}),d=t.ColumnHeader?String(t.ColumnHeader).replace(/\s+/g,"_").toLowerCase():"field_".concat(o+1);"string"!==typeof n&&"number"!==typeof n&&"bigint"!==typeof n||(l[d]=n)}else{let o=t.Field_Name;l[o]=e[o]||""}}),l}),P=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"string",l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"left",d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"center",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return(0,o.A)({isVisible:a,Field_Name:e,Fied_Data:t,align:n,verticalAlign:d},l&&{ColumnHeader:l})},R=e=>{let{buttonsData:t=[],ToolTipText:l="Options"}=e;const[o,m]=(0,n.useState)(null),v=Boolean(o);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(d.A,{title:l,children:(0,T.jsx)(a.A,{"aria-describedby":v,onClick:e=>{m(e.currentTarget)},className:"ms-2",size:"small",children:(0,T.jsx)(w.A,{})})}),(0,T.jsx)(i.Ay,{open:v,anchorEl:o,onClose:()=>{m(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:(0,T.jsx)(s.A,{children:t.map((e,t)=>(0,T.jsxs)(r.A,{onClick:()=>(null===e||void 0===e?void 0:e.onclick)&&(null===e||void 0===e?void 0:e.onclick()),disabled:null===e||void 0===e?void 0:e.disabled,children:[(0,T.jsx)(c.A,{children:null===e||void 0===e?void 0:e.icon}),(0,T.jsx)(u.A,{children:null===e||void 0===e?void 0:e.name})]},t))})})]})},B=(e,t)=>{switch(t){case"number":return e?(0,j.jG)(e):e;case"date":return e?(0,j.yc)(e):e;case"time":return e?(0,j.JG)(e):e;case"string":return e;default:return""}},O=e=>{let{dataArray:t=[],columns:l=[],onClickFun:d=null,isExpendable:i=!1,expandableComp:s=null,tableMaxHeight:r=550,initialPageCount:c=20,EnableSerialNumber:u=!1,CellSize:w="small",disablePagination:P=!1,title:O="",PDFPrintOption:E=!1,ExcelPrintOption:k=!1,maxHeightOption:Q=!1,ButtonArea:z=null,MenuButtons:M=[],bodyFontSizePx:U=13,headerFontSizePx:H=13}=e;const[L,V]=(0,n.useState)(0),[$,W]=(0,n.useState)(c),[q,J]=(0,n.useState)([]),[K,X]=(0,n.useState)(!0),Z=K&&Q?" max-content ":r,Y=[{type:"left",class:"text-start"},{type:"right",class:"text-end"},{type:"center",class:"text-center"}],ee=[{type:"top",class:" vtop "},{type:"bottom",class:" vbottom "},{type:"center",class:" vctr "}],te=(e=>{if(!q.length)return e;return[...e].sort((e,t)=>{for(const l of q){const{columnId:o,direction:n}=l,d=e[o],a=t[o];if(d!==a)return"asc"===n?d>a?1:-1:d<a?1:-1}return 0})})(t),le=L*$,oe=le+$,ne=te.slice(le,oe),de=e=>{let{row:t,index:o}=e;const[r,c]=(0,n.useState)(!1),_="20px";return(0,T.jsxs)(n.Fragment,{children:[(0,T.jsxs)(m.A,{children:[!0===i&&s&&(0,T.jsx)(v.A,{className:"border-end text-center vtop",sx:{fontSize:"".concat(U,"px")},children:(0,T.jsx)(a.A,{size:"small",onClick:()=>c(e=>!e),children:r?(0,T.jsx)(S.A,{sx:{fontSize:_}}):(0,T.jsx)(N.A,{sx:{fontSize:_}})})}),!0===u&&(0,T.jsx)(v.A,{className:"border-end text-center vtop",sx:{fontSize:"".concat(U,"px")},children:$*L+o+1}),null===l||void 0===l?void 0:l.map((e,l)=>{var n,a;const i=(0,j.id)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,j.id)(null===e||void 0===e?void 0:e.isVisible,1),s=Boolean(null===e||void 0===e?void 0:e.isCustomCell)&&e.Cell,r=!s,c=(t,l,o)=>null!==e&&void 0!==e&&e.tdClass?" ".concat(null===e||void 0===e?void 0:e.tdClass({row:t,Field_Name:l,index:o})," "):"",u=e.align?null===(n=Y.find(t=>t.type===String(e.align).toLowerCase()))||void 0===n?void 0:n.class:"",m=e.verticalAlign?null===(a=ee.find(t=>t.type===String(e.verticalAlign).toLowerCase()))||void 0===a?void 0:a.class:" vctr ";if(i&&r){const n=Object.entries(t).find(t=>{let[l]=t;return l===e.Field_Name});return(0,T.jsx)(v.A,{className:"border-end ".concat(u," ").concat(m," ").concat(c(t,e.Field_Name,o)),sx:{fontSize:"".concat(U,"px")},onClick:()=>d?d(t):console.log("Function not supplied"),children:n?B(n[1],null===e||void 0===e?void 0:e.Fied_Data):"-"},l)}return i&&s?(0,T.jsx)(v.A,{className:"border-end ".concat(u," ").concat(m," ").concat(c(t,e.Field_Name,o)),sx:{fontSize:"".concat(U,"px")},children:e.Cell({row:t,Field_Name:e.Field_Name,index:o})},l):(0,T.jsx)(v.A,{sx:{fontSize:"".concat(U,"px")},className:"border-end ".concat(u," ").concat(m),children:"-"},l)})]}),!0===i&&s&&r&&(0,T.jsx)(m.A,{children:(0,T.jsx)(v.A,{colSpan:Number(null===l||void 0===l?void 0:l.length)+(!0===u?2:1),children:s({row:t,index:o})})})]})};return(0,T.jsxs)(_.A,{className:"rounded-3 bg-white overflow-hidden",component:p.A,children:[(0,T.jsxs)("div",{className:"d-flex align-items-center flex-wrap px-3 py-2 flex-row-reverse ",children:[(E||k||M.length>0||Q)&&(0,T.jsx)(R,{ToolTipText:"Table Options",buttonsData:[...Q?[{name:"Max Height",icon:K?(0,T.jsx)(C.A,{fontSize:"small",color:"primary"}):(0,T.jsx)(y.A,{fontSize:"small"}),onclick:()=>X(e=>!e),disabled:(0,j.id)(null===t||void 0===t?void 0:t.length,0)}]:[],...E?[{name:"PDF Print",icon:(0,T.jsx)(f.A,{fontSize:"small",color:"primary"}),onclick:()=>((e,t)=>{try{const l=new D.default,n=F(e,t),d=t.filter(e=>e.isVisible||e.Defult_Display).map(e=>e.Field_Name||String(e.ColumnHeader).replace(/\s+/g,"_").toLowerCase()),a=n.map(e=>d.map(t=>e[t])).map((e,t)=>(0,o.A)((0,o.A)({},e),{},{Sno:t+1}));l.autoTable({head:[d],body:a}),l.save("table.pdf")}catch(l){console.error(l)}})(t,l),disabled:(0,j.id)(null===t||void 0===t?void 0:t.length,0)}]:[],...k?[{name:"Excel Print",icon:(0,T.jsx)(f.A,{fontSize:"small",color:"primary"}),onclick:()=>((e,t)=>{try{const l=F(e,t),o=G.Wp.json_to_sheet(l),n=G.Wp.book_new();G.Wp.book_append_sheet(n,o,"Data"),G._h(n,"table.xlsx")}catch(l){console.error(l)}})(t,l),disabled:(0,j.id)(null===t||void 0===t?void 0:t.length,0)}]:[],...M]}),z&&z,O&&(0,T.jsx)("h6",{className:"fw-bold text-muted flex-grow-1 m-0",children:O})]}),(0,T.jsx)(h.A,{sx:{maxHeight:Z},children:(0,T.jsxs)(x.A,{stickyHeader:!0,size:w,children:[(0,T.jsx)(I.A,{children:(0,T.jsxs)(m.A,{children:[i&&s&&(0,T.jsx)(v.A,{className:"fw-bold border-end border-top text-center",sx:{fontSize:"".concat(H,"px"),backgroundColor:"#EDF0F7"},children:"#"}),u&&(0,T.jsx)(v.A,{className:"fw-bold border-end border-top text-center",sx:{fontSize:"".concat(H,"px"),backgroundColor:"#EDF0F7"},children:"SNo"}),l.map((e,t)=>{const l=(0,j.id)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,j.id)(null===e||void 0===e?void 0:e.isVisible,1),n=!1===Boolean(null===e||void 0===e?void 0:e.isCustomCell)||!e.Cell,d=q.find(t=>t.columnId===e.Field_Name),a=d?d.direction:"asc";var i,s,r,c;return l?n?(0,T.jsx)(v.A,{className:"fw-bold border-end border-top "+(e.align?null===(i=Y.find(t=>t.type===String(e.align).toLowerCase()))||void 0===i?void 0:i.class:""),sx:{fontSize:"".concat(H,"px"),backgroundColor:"#EDF0F7"},sortDirection:!!d&&a,children:(0,T.jsx)(A.A,{active:!!d,direction:a,onClick:()=>(e=>{const t=q.find(t=>t.columnId===e);if(t){const l="asc"===t.direction;J(q.map(t=>t.columnId===e?(0,o.A)((0,o.A)({},t),{},{direction:l?"desc":"asc"}):t))}else J([...q,{columnId:e,direction:"asc"}])})(e.Field_Name),children:e.ColumnHeader||(null===e||void 0===e||null===(s=e.Field_Name)||void 0===s?void 0:s.replace(/_/g," "))})},t):(0,T.jsx)(v.A,{className:"".concat(e.ColumnHeader||null!==e&&void 0!==e&&e.Field_Name?" fw-bold border-end border-top p-2 appFont ":" p-0 "," ")+(e.align?null===(r=Y.find(t=>t.type===String(e.align).toLowerCase()))||void 0===r?void 0:r.class:""),sx:{fontSize:"".concat(H,"px"),backgroundColor:"#EDF0F7"},children:e.ColumnHeader||(null===e||void 0===e||null===(c=e.Field_Name)||void 0===c?void 0:c.replace(/_/g," "))},t):null})]})}),(0,T.jsxs)(b.A,{children:[(P?te:ne).map((e,t)=>(0,T.jsx)(de,{row:e,index:t},t)),0===t.length&&(0,T.jsx)(m.A,{children:(0,T.jsx)(v.A,{colSpan:l.length+(!0===i&&s?1:0)+(!0===u?1:0),sx:{textAlign:"center"},children:"No Data"})})]})]})}),!P&&0!==ne.length&&(0,T.jsx)("div",{className:"p-2 pb-0",children:(0,T.jsx)(g.A,{component:"div",count:t.length,page:L,onPageChange:(e,t)=>{V(t)},rowsPerPage:$,onRowsPerPageChange:e=>{W(parseInt(e.target.value,10)),V(0)},rowsPerPageOptions:Array.from(new Set([c,5,20,50,100,200,500])).sort((e,t)=>e-t),labelRowsPerPage:"Rows per page",showFirstButton:!0,showLastButton:!0})})]})};O.defaultProps={dataArray:[],columns:[],onClickFun:null,isExpendable:!1,expandableComp:null,tableMaxHeight:550,initialPageCount:20,EnableSerialNumber:!1,CellSize:"small",disablePagination:!1,title:void 0,PDFPrintOption:!1,ExcelPrintOption:!1,maxHeightOption:!1,ButtonArea:null,MenuButtons:[],headerFontSizePx:13,bodyFontSizePx:13};const E=O},51387:(e,t,l)=>{l.d(t,{A:()=>d});var o=l(59662),n=l(70579);const d=(0,o.A)((0,n.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},56779:(e,t,l)=>{l.d(t,{A:()=>A});var o=l(89379),n=l(65043),d=l(83462),a=l(26600),i=l(35316),s=l(29347),r=l(11906),c=l(97707),u=l(34496),m=l(14792),v=l(14844),_=l(20656),p=l(63406),h=l(91036),x=l(34104),I=l(70579);const A=e=>{var t,l;let{children:A,orderProducts:b=[],setOrderProducts:g,open:j=!1,onClose:f,products:N=[],brands:S=[],uom:w=[],godowns:y=[],GST_Inclusive:C,IS_IGST:D,editValues:G=null,initialValue:T={},stockInGodown:F=[]}=e;const[P,R]=(0,n.useState)(T),B=(0,c.id)(C,1),O=(0,c.id)(C,2);(0,n.useEffect)(()=>{(0,c.aF)(G)&&j&&R(e=>Object.fromEntries(Object.entries(e).map(e=>{let[t,l]=e;return[t,G[t]?G[t]:l]})))},[G]);const E=e=>{var t;return null!==(t=null===N||void 0===N?void 0:N.find(t=>(0,c.id)(null===t||void 0===t?void 0:t.Product_Id,e)))&&void 0!==t?t:{}},k=()=>{R(T),f()};return(0,I.jsxs)(I.Fragment,{children:[A,(0,I.jsxs)(d.A,{open:j,onClose:k,maxWidth:"md",fullWidth:!0,children:[(0,I.jsx)(a.A,{className:"border-bottom",children:(0,I.jsx)("span",{children:"Add Products Details"})}),(0,I.jsxs)("form",{onSubmit:e=>{e.preventDefault(),P.Item_Id?(g(e=>[...e.filter(e=>!(0,c.id)(e.Item_Id,P.Item_Id)),Object.fromEntries(Object.entries(T).map(e=>{let[t,l]=e;const o=E(P.Item_Id),n=D?o.Igst_P:o.Gst_P,d=n>0,{Bill_Qty:a,Item_Rate:i,Amount:s}=P,r=O?"zerotax":B?"remove":"add",c=(0,v.v)(i,n,r),u=(0,v.v)(s,n,r),m=D?0:u.cgst_per,_=D?u.igst_per:0,p=D?0:u.cgst_amount,h=D?u.igst_amount:0;switch(t){case"Item_Name":return[t,o.Product_Name];case"Taxable_Rate":return[t,c.base_amount];case"Total_Qty":return[t,a];case"Taxble":return[t,d?1:0];case"Taxable_Amount":return[t,u.base_amount];case"Tax_Rate":return[t,n];case"Cgst":case"Sgst":return[t,null!==m&&void 0!==m?m:0];case"Cgst_Amo":case"Sgst_Amo":return[t,O?0:p];case"Igst":return[t,null!==_&&void 0!==_?_:0];case"Igst_Amo":return[t,O?0:h];case"Final_Amo":return[t,u.with_tax];default:return[t,P[t]||l]}}))]),k()):h.oR.warn("Select Product")},children:[(0,I.jsx)(i.A,{children:(0,I.jsxs)("div",{className:"row pb-5",children:[(0,I.jsxs)("div",{className:"col-6 p-2",children:[(0,I.jsx)("label",{children:"Brand"}),(0,I.jsx)(_.Ay,{value:{value:P.BrandID,label:P.Brand},onChange:e=>R(t=>(0,o.A)((0,o.A)({},t),{},{BrandID:e.value,Brand:e.label})),options:[{value:"",label:"select",isDisabled:!0},...S.map(e=>({value:null===e||void 0===e?void 0:e.Brand,label:null===e||void 0===e?void 0:e.Brand_Name}))],styles:p.MR,menuPortalTarget:document.body,isSearchable:!0,placeholder:"Select Brand",maxMenuHeight:200})]}),(0,I.jsxs)("div",{className:"col-6 p-2",children:[(0,I.jsx)("label",{children:"Group"}),(0,I.jsx)(_.Ay,{value:{value:P.GroupID,label:P.Group},onChange:e=>R(t=>(0,o.A)((0,o.A)({},t),{},{GroupID:e.value,Group:e.label})),options:[{value:"",label:"select",isDisabled:!0},...N.filter(e=>!P.BrandID||(0,c.id)(e.Brand,P.BrandID)).reduce((e,t)=>(e.some(e=>e.value===t.Product_Group)||e.push({value:t.Product_Group,label:t.Pro_Group}),e),[])],styles:p.MR,menuPortalTarget:document.body,isSearchable:!0,placeholder:"Select Group",maxMenuHeight:200})]}),(0,I.jsxs)("div",{className:Object.hasOwn(P,"GoDown_Id")?"col-md-8 p-2":"col-12 p-2",children:[(0,I.jsxs)("label",{children:["Item Name ",(0,I.jsx)(m.A,{})]}),(0,I.jsx)(_.Ay,{value:{value:P.Item_Id,label:null===(t=E(P.Item_Id))||void 0===t?void 0:t.Product_Name},isDisabled:(0,c.IQ)(P.Pre_Id),menuPortalTarget:document.body,onChange:e=>{const t=E(e.value);R(l=>{var n,d,a,i,s,r,c;return(0,o.A)((0,o.A)({},l),{},{Group:null!==(n=t.Pro_Group)&&void 0!==n?n:l.Group,GroupID:null!==(d=t.Product_Group)&&void 0!==d?d:l.GroupID,Brand:null!==(a=t.Brand_Name)&&void 0!==a?a:l.Brand,BrandID:null!==(i=t.Brand)&&void 0!==i?i:l.BrandID,Item_Id:e.value,Item_Rate:null!==(s=t.Item_Rate)&&void 0!==s?s:0,Bill_Qty:0,Amount:0,Unit_Id:null!==(r=t.UOM_Id)&&void 0!==r?r:l.Unit_Id,Unit_Name:null!==(c=t.Units)&&void 0!==c?c:l.Unit_Name,HSN_Code:null===t||void 0===t?void 0:t.HSN_Code})})},options:[{value:"",label:"select",isDisabled:!0},...[...N.filter(e=>!P.BrandID||(0,c.id)(e.Brand,P.BrandID)).filter(e=>!P.GroupID||(0,c.id)(e.Product_Group,P.GroupID))].map(e=>({value:null===e||void 0===e?void 0:e.Product_Id,label:null===e||void 0===e?void 0:e.Product_Name,isDisabled:-1!==b.findIndex(t=>(0,c.id)(null===t||void 0===t?void 0:t.Item_Id,null===e||void 0===e?void 0:e.Product_Id))}))],styles:p.MR,isSearchable:!0,required:!0,placeholder:"Select Product",maxMenuHeight:200})]}),Object.hasOwn(P,"GoDown_Id")&&(0,I.jsxs)("div",{className:"col-md-4 p-2",children:[(0,I.jsx)("label",{children:"Godown"}),(0,I.jsx)(_.Ay,{value:{value:null===P||void 0===P?void 0:P.GoDown_Id,label:(null===(l=y.find(e=>(0,c.id)(e.Godown_Id,null===P||void 0===P?void 0:P.GoDown_Id)))||void 0===l?void 0:l.Godown_Name)||""},onChange:e=>R(t=>(0,o.A)((0,o.A)({},t),{},{GoDown_Id:e.value})),options:[{value:"",label:"select",isDisabled:!0},{label:"Stock-Available-Godowns",options:(0,c.$r)(y).filter(e=>{const t=(0,c.$r)(F);return 0!==t.length&&t.some(t=>(0,c.id)(null===t||void 0===t?void 0:t.Godown_Id,null===e||void 0===e?void 0:e.Godown_Id)&&(0,c.id)(null===P||void 0===P?void 0:P.Item_Id,null===t||void 0===t?void 0:t.Product_Id))}).map(e=>({value:null===e||void 0===e?void 0:e.Godown_Id,label:(null===e||void 0===e?void 0:e.Godown_Name)+" (Bal: "+(0,x.K)(null===P||void 0===P?void 0:P.Item_Id,null===e||void 0===e?void 0:e.Godown_Id,F)+")"}))},{label:"Other Godowns",options:(0,c.$r)(y).filter(e=>{const t=(0,c.$r)(F);return 0===t.length||!t.some(t=>(0,c.id)(null===t||void 0===t?void 0:t.Godown_Id,null===e||void 0===e?void 0:e.Godown_Id)&&(0,c.id)(null===P||void 0===P?void 0:P.Item_Id,null===t||void 0===t?void 0:t.Product_Id))}).map(e=>({value:null===e||void 0===e?void 0:e.Godown_Id,label:null===e||void 0===e?void 0:e.Godown_Name}))}],styles:p.MR,isDisabled:!(0,c.IQ)(null===P||void 0===P?void 0:P.Item_Id),menuPortalTarget:document.body,isSearchable:!0,placeholder:"Select Godown"})]}),(0,I.jsxs)("div",{className:"col-lg-4 col-md-6 p-2",children:[(0,I.jsxs)("label",{children:["Quantity ",(0,I.jsx)(m.A,{})]}),(0,I.jsx)("input",{required:!0,value:P.Bill_Qty?P.Bill_Qty:"",onInput:c.BE,disabled:!(0,c.IQ)(P.Item_Id),onChange:e=>{P.Item_Rate?R(t=>(0,o.A)((0,o.A)({},t),{},{Amount:(0,c.JH)(P.Item_Rate,e.target.value),Bill_Qty:e.target.value})):P.Amount?R(t=>(0,o.A)((0,o.A)({},t),{},{Item_Rate:(0,c.SX)(t.Amount,e.target.value),Bill_Qty:e.target.value})):R(t=>(0,o.A)((0,o.A)({},t),{},{Bill_Qty:e.target.value}))},className:"cus-inpt",min:1})]}),Object.hasOwn(P,"Act_Qty")&&(0,I.jsxs)("div",{className:"col-lg-4 col-md-6 p-2",children:[(0,I.jsx)("label",{children:"Actual Quantity "}),(0,I.jsx)("input",{value:P.Act_Qty?P.Act_Qty:"",onInput:c.BE,disabled:!(0,c.IQ)(P.Item_Id),onChange:e=>R(t=>(0,o.A)((0,o.A)({},t),{},{Act_Qty:e.target.value})),required:!0,className:"cus-inpt"})]}),(0,I.jsxs)("div",{className:"col-lg-4 col-md-6 p-2",children:[(0,I.jsx)("label",{children:"Rate "}),(0,I.jsx)("input",{value:P.Item_Rate?P.Item_Rate:"",onInput:c.BE,disabled:!(0,c.IQ)(P.Item_Id),onChange:e=>R(t=>(0,o.A)((0,o.A)({},t),{},{Item_Rate:e.target.value,Amount:t.Bill_Qty?(0,c.JH)(e.target.value,t.Bill_Qty):t.Amount})),required:!0,className:"cus-inpt"})]}),(0,I.jsxs)("div",{className:"col-lg-4 col-md-6 p-2",children:[(0,I.jsx)("label",{children:"UOM"}),(0,I.jsxs)("select",{value:Object.hasOwn(P,"UOM")?P.UOM:Object.hasOwn(P,"Unit_Id")?P.Unit_Id:"",onChange:e=>{const t=e.target.selectedIndex,l=e.target.options[t].text,n=e.target.value;R(e=>(0,o.A)((0,o.A)({},e),{},{UOM:n,Unit_Id:n,Units:l,Unit_Name:l}))},className:"cus-inpt",disabled:!(0,c.IQ)(P.Item_Id),children:[(0,I.jsx)("option",{value:"",disabled:!0,children:"select"}),w.map((e,t)=>(0,I.jsx)("option",{value:e.Unit_Id,children:e.Units},t))]})]}),(0,I.jsxs)("div",{className:"col-md-6 p-2",children:[(0,I.jsx)("label",{children:"Amount"}),(0,I.jsx)("input",{required:!0,value:P.Amount?P.Amount:"",onInput:c.BE,disabled:!(0,c.IQ)(P.Item_Id),onChange:e=>R(t=>(0,o.A)((0,o.A)({},t),{},{Amount:e.target.value,Item_Rate:t.Bill_Qty?(0,c.SX)(e.target.value,t.Bill_Qty):t.Item_Rate})),className:"cus-inpt",min:1})]})]})}),(0,I.jsxs)(s.A,{className:"d-flex justify-content-between align-items-center",children:[(0,I.jsx)(r.A,{onClick:()=>R(T),type:"button",startIcon:(0,I.jsx)(u.A,{}),children:"Clear"}),(0,I.jsxs)("span",{children:[(0,I.jsx)(r.A,{type:"button",onClick:k,children:"cancel"}),(0,I.jsx)(r.A,{type:"submit",variant:"outlined",children:"Add"})]})]})]})]})]})}},63406:(e,t,l)=>{l.d(t,{zU:()=>i,ex:()=>s,MR:()=>a,Ap:()=>d,FX:()=>r});var o=l(89379);const n=l.p+"static/media/smt.aa4d4f940bbebff07a57.png",d={table:{style:{width:"auto",backgroundColor:"transparent"}},rows:{style:{backgroundColor:"transparent"}},headCells:{style:{backgroundColor:"#6b9080f8",color:"white",fontSize:"14px"}}},a={menu:(e,t)=>(0,o.A)((0,o.A)({},e),{},{zIndex:9999}),menuPortal:e=>(0,o.A)((0,o.A)({},e),{},{zIndex:9999}),groupHeading:e=>(0,o.A)((0,o.A)({},e),{},{backgroundColor:"#f5f5f5",color:"#333",fontWeight:"bold",fontSize:"14px",padding:"8px 12px",borderBottom:"1px solid #ddd",textTransform:"uppercase"}),option:(e,t)=>(0,o.A)((0,o.A)({},e),{},{backgroundColor:t.isSelected?"#2684FF":t.isFocused?"#E2ECF9":"white",color:t.isSelected?"white":"#333",padding:"10px 12px"})},i=[{id:1,headname:"Menu ID",variant:"head",align:"left",width:100},{id:2,headname:"MenuName"},{id:3,headname:"Read Rights"},{id:4,headname:"Add Rights"},{id:5,headname:"Edit Rights"},{id:6,headname:"Delete Rights"},{id:7,headname:"Print Rights"},{id:8,headname:"Action"}],s=[{dataBase:1,name:"SHANKAR TRADERS",business:"Wholesale Merchant in Dhall",address:"32, Chitrakara Street, Madurai - 01 <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:n,gstin:"33AADFS6973R1ZD",phone:"984-313-1353, 984-335-5166",fssai:"12418012000818",bankAccount:"0021 5032 0885 122",ifsc:"TMBL0000002"},{dataBase:2,name:"SMT AGRO PRODUCTS",business:"",address:"H.O: 153, Chitrakara Street, 2nd Floor, Madurai -01 <br /> G.O: 746 Puliyur, Sayanapuram, Svga <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:n,gstin:"33ACMFS3420Q1ZQ",phone:"0452-4371625",fssai:"12418012000818",bankAccount:"0025 3031 0875 947",ifsc:"TMBL0000002"},{dataBase:3,name:"BHAVANI TRADERS",business:"",address:"H.O: 152-A, Chitrakara Street, Madurai -01 <br /> G.O: 30/1-Rajman Nagar, Chintamani Main Road, Mdu-01 <br /> Tax Invoice",logo:n,gstin:"33AAEFB6728J1ZG",phone:"958-559-7641, 958-559-7614",fssai:"12418012000670",bankAccount:"0021 5005 0800 309",ifsc:"TMBL0000002"}],r=[{name:"PURCHASE_ORDER"},{name:"PURCHASE_INVOICE"},{name:"SALE_ORDER"},{name:"SALE_INVOICE"},{name:"JOURNAL"},{name:"STOCK_JOURNAL"},{name:"PAYMENT"},{name:"RECEIPT"},{name:"CONTRA"}]},70141:(e,t,l)=>{l.d(t,{A:()=>d});var o=l(59662),n=l(70579);const d=(0,o.A)((0,n.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},97280:(e,t,l)=>{l.d(t,{Q4:()=>d,Ud:()=>s,a4:()=>a,ju:()=>i});var o=l(97707);const n=(0,o.aN)().user,d={Do_Id:"",Do_No:"",Do_Year:"",Do_Inv_No:"",Voucher_Type:"",Do_Date:(0,o.ny)(),Retailer_Id:"",Retailer_Name:"",Delivery_Person_Id:"",Branch_Id:"",GST_Inclusive:2,IS_IGST:0,Narration:"",Cancel_status:1,So_No:"",Trans_Type:"",CSGT_Total:0,SGST_Total:0,IGST_Total:0,Total_Expences:0,Round_off:0,Total_Before_Tax:0,Total_Tax:0,Total_Invoice_value:0,Stock_Item_Ledger_Name:"",Alter_Id:"",Created_by:null===n||void 0===n?void 0:n.UserId,Altered_by:null===n||void 0===n?void 0:n.UserId,Created_on:"",Alterd_on:""},a={DO_St_Id:"",Do_Date:"",Delivery_Order_Id:"",GoDown_Id:"",S_No:"",Item_Id:"",Item_Name:"",HSN_Code:"",Taxble:"",Bill_Qty:"",Act_Qty:"",Alt_Act_Qty:"",Free_Qty:"",Total_Qty:"",Item_Rate:"",Taxable_Rate:"",Amount:"",Unit_Id:"",Unit_Name:"",Act_unit_Id:"",Alt_Act_Unit_Id:"",Taxable_Amount:"",Tax_Rate:"",Cgst:"",Sgst:"",Igst:"",Cgst_Amo:"",Sgst_Amo:"",Igst_Amo:"",Final_Amo:"",Created_on:""},i={Id:"",Do_Id:"",Sno:"",Expense_Id:"",Cgst:0,Cgst_Amo:0,Sgst:0,Sgst_Amo:0,Igst:0,Igst_Amo:0,Expence_Value:0},s={Id:"",Do_Id:"",Emp_Id:"",Emp_Name:"",Emp_Type_Id:""}}}]);
//# sourceMappingURL=2714.47e16d42.chunk.js.map