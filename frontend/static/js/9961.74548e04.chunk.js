"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[9961],{12110:(e,a,s)=>{s.d(a,{A:()=>j});var l=s(58168),t=s(98587),n=s(65043),r=s(58387),d=s(68606),o=s(34535),i=s(6431),c=s(63336),m=s(57056),u=s(32400);function h(e){return(0,u.Ay)("MuiCard",e)}(0,m.A)("MuiCard",["root"]);var p=s(70579);const v=["className","raised"],x=(0,o.Ay)(c.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,a)=>a.root})(()=>({overflow:"hidden"})),j=n.forwardRef(function(e,a){const s=(0,i.b)({props:e,name:"MuiCard"}),{className:n,raised:o=!1}=s,c=(0,t.A)(s,v),m=(0,l.A)({},s,{raised:o}),u=(e=>{const{classes:a}=e;return(0,d.A)({root:["root"]},h,a)})(m);return(0,p.jsx)(x,(0,l.A)({className:(0,r.A)(u.root,n),elevation:o?8:void 0,ref:a,ownerState:m},c))})},26494:(e,a,s)=>{s.d(a,{A:()=>x});var l=s(58168),t=s(98587),n=s(65043),r=s(58387),d=s(68606),o=s(34535),i=s(6431),c=s(57056),m=s(32400);function u(e){return(0,m.Ay)("MuiCardContent",e)}(0,c.A)("MuiCardContent",["root"]);var h=s(70579);const p=["className","component"],v=(0,o.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,a)=>a.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),x=n.forwardRef(function(e,a){const s=(0,i.b)({props:e,name:"MuiCardContent"}),{className:n,component:o="div"}=s,c=(0,t.A)(s,p),m=(0,l.A)({},s,{component:o}),x=(e=>{const{classes:a}=e;return(0,d.A)({root:["root"]},u,a)})(m);return(0,h.jsx)(v,(0,l.A)({as:o,className:(0,r.A)(x.root,n),ownerState:m,ref:a},c))})},39961:(e,a,s)=>{s.r(a),s.d(a,{default:()=>b});var l=s(89379),t=s(65043),n=s(70141),r=s(62252),d=s(83560),o=s(692),i=s(8737),c=s(91036),m=s(17392),u=s(30279),h=s(12110),p=s(26494),v=s(22520),x=s(65074),j=s(70579);const N=e=>{let{emp:a,edit:s,del:l,setVal:n}=e;const[r,c]=(0,t.useState)(!1);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"card-header fa-16 d-flex align-items-center justify-content-between",children:[(0,j.jsx)("span",{className:"fw-bold",children:a.Emp_Name}),(0,j.jsxs)("span",{children:[a.Designation_Name+" ",!0===s&&(0,j.jsx)(m.A,{size:"small",onClick:()=>n(a,"PUT"),children:(0,j.jsx)(d.A,{})}),(0,j.jsx)(m.A,{onClick:()=>c(!r),children:r?(0,j.jsx)(i.A,{}):(0,j.jsx)(o.A,{})})]})]}),(0,j.jsx)(u.A,{in:r,timeout:"auto",unmountOnExit:!0,children:(0,j.jsx)("div",{className:"card-body",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsxs)("div",{className:"col-lg-4 col-md-12 p-2 ",children:[(0,j.jsxs)("h3",{className:"h6",children:[(0,j.jsx)("span",{className:"float-start",children:"Branch"}),(0,j.jsx)("span",{className:"float-end",children:a.BranchName?a.BranchName:"-"})]}),(0,j.jsx)("br",{}),(0,j.jsxs)("h3",{className:"h6",children:[(0,j.jsx)("span",{className:"float-start",children:"Salary"}),(0,j.jsx)("span",{className:"float-end",children:a.Salary?a.Salary:"-"})]}),(0,j.jsx)("br",{}),(0,j.jsxs)("h3",{className:"h6",children:[(0,j.jsx)("span",{className:"float-start",children:"Joining"}),(0,j.jsx)("span",{className:"float-end",children:a.DOJ?(0,v.yc)(a.DOJ):"-"})]}),(0,j.jsx)("br",{}),(0,j.jsxs)("h3",{className:"h6",children:[(0,j.jsx)("span",{className:"float-start",children:"Education"}),(0,j.jsx)("span",{className:"float-end",children:a.Education?a.Education:"-"})]}),(0,j.jsx)("br",{}),(0,j.jsxs)("h3",{className:"h6",children:[(0,j.jsx)("span",{className:"float-start",children:"Mobile"}),(0,j.jsx)("span",{className:"float-end",children:a.Mobile_No?a.Mobile_No:"-"})]})]}),(0,j.jsxs)("div",{className:"col-lg-4 col-md-12 p-2 ",children:[(0,j.jsxs)("h3",{className:"h6",children:[(0,j.jsx)("span",{className:"float-start",children:"City"}),(0,j.jsx)("span",{className:"float-end",children:a.City?a.City:"-"})]}),(0,j.jsx)("br",{}),(0,j.jsxs)("h3",{className:"h6",children:[(0,j.jsx)("span",{className:"float-start",children:"PinCode"}),(0,j.jsx)("span",{className:"float-end",children:a.Pincode?a.Pincode:"-"})]}),(0,j.jsx)("br",{}),(0,j.jsxs)("h3",{className:"h6",children:[(0,j.jsx)("span",{className:"float-start",children:"Gender"}),(0,j.jsx)("span",{className:"float-end",children:a.Sex?a.Sex:"-"})]}),(0,j.jsx)("br",{}),(0,j.jsxs)("h3",{className:"h6",children:[(0,j.jsx)("span",{className:"float-start",children:"DOB"}),(0,j.jsx)("span",{className:"float-end",children:a.DOB?(0,v.yc)(a.DOB):"-"})]}),(0,j.jsx)("br",{}),(0,j.jsxs)("h3",{className:"h6",children:[(0,j.jsx)("span",{className:"float-start",children:"Religion"}),(0,j.jsx)("span",{className:"float-end",children:a.Emp_Religion?a.Emp_Religion:"-"})]})]}),(0,j.jsxs)("div",{className:"col-lg-4 col-md-12 p-2 ",children:[(0,j.jsxs)("h3",{className:"h6",children:[(0,j.jsx)("span",{className:"float-start",children:"Father's Name"}),(0,j.jsx)("span",{className:"float-end",children:a.Fathers_Name?a.Fathers_Name:"-"})]}),(0,j.jsx)("br",{}),(0,j.jsxs)("h3",{className:"h6",children:[(0,j.jsx)("span",{className:"float-start",children:"Mother's Name"}),(0,j.jsx)("span",{className:"float-end",children:a.Mothers_Name?a.Mothers_Name:"-"})]}),(0,j.jsx)("br",{}),(0,j.jsxs)("h3",{className:"h6",children:[(0,j.jsx)("span",{className:"float-start",children:"Spouse's Name"}),(0,j.jsx)("span",{className:"float-end",children:a.Spouse_Name?a.Spouse_Name:"-"})]}),(0,j.jsx)("br",{}),(0,j.jsxs)("h3",{className:"h6",children:[(0,j.jsx)("span",{className:"float-start",children:"Address 1"}),(0,j.jsx)("span",{className:"float-end",style:{width:"50%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"right"},children:a.Address_1?a.Address_1:"-"})]}),(0,j.jsx)("br",{}),(0,j.jsxs)("h3",{className:"h6",children:[(0,j.jsx)("span",{className:"float-start",children:"Address 2"}),(0,j.jsx)("span",{className:"float-end",style:{width:"50%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"right"},children:a.Address_2?a.Address_2:"-"})]}),(0,j.jsx)("br",{}),(0,j.jsxs)("h3",{className:"h6",children:[(0,j.jsx)("span",{className:"float-start",children:"Department Name"}),(0,j.jsx)("span",{className:"float-end",children:a.Department?a.Department:"-"})]}),(0,j.jsx)("br",{}),(0,j.jsxs)("h3",{className:"h6",children:[(0,j.jsx)("span",{className:"float-start",children:"Location"}),(0,j.jsx)("span",{className:"float-end",children:a.Location?a.Location:"-"})]})]})]})})})]})},b=()=>{const e=JSON.parse(localStorage.getItem("user")),a={branch:"",empname:"",designation:"",dob:(0,v.ny)(),doj:(0,v.ny)(),address1:"",address2:"",city:"",country:"India",pincode:"",mobile:"",education:"",father:"",mother:"",spouse:"",gender:"",religion:"",salary:0,total_loan:0,salary_advance:0,due_loan:0,user_manage_id:"",enter_by:parseInt(null===e||void 0===e?void 0:e.UserId),fingerPrintEmpId:null,Department_ID:"",department:"",location:""},[s,d]=(0,t.useState)(a),[o,i]=(0,t.useState)([]),[m,u]=(0,t.useState)([]),[b,g]=(0,t.useState)([]),[A,f]=(0,t.useState)([]),[y,S]=(0,t.useState)([]),_="cus-inpt b-0",[C,E]=(0,t.useState)(!1),[D,M]=(0,t.useState)(!1),[w,I]=(0,t.useState)(""),[L,O]=(0,t.useState)(""),[B,R]=(0,t.useState)(!1);function P(e){e.target.value=e.target.value.replace(/[^0-9]/g,"")}(0,t.useEffect)(()=>{(0,x.z)({address:"userModule/employee"}).then(e=>{e.success&&i(e.data)}).catch(e=>console.log(e))},[B]),(0,t.useEffect)(()=>{(0,x.z)({address:"masters/branch/dropDown?User_Id=".concat(null===e||void 0===e?void 0:e.UserId,"&Company_id=").concat(null===e||void 0===e?void 0:e.Company_id)}).then(e=>{e.success&&f(e.data)}).catch(e=>console.log(e)),(0,x.z)({address:"userModule/employee/designation"}).then(e=>{e.success&&S(e.data)}).catch(e=>console.log(e)),(0,x.z)({address:"userModule/employee/department"}).then(e=>{e.success&&u(e.data)}).catch(e=>console.log(e)),(0,x.z)({address:"empAttendance/department"}).then(e=>{e.success&&(console.log("Data",e),u(e.others.department))}).catch(e=>console.log(e))},[]),(0,t.useEffect)(()=>{const e=o.filter(e=>Object.values(e).some(e=>String(e).toLowerCase().includes(w.toLowerCase())));g(e)},[w,o]);const k=()=>{d(a)},z=[{label:"Name",elem:"input",type:"text",class:_,placeholder:"Enter Name",event:e=>d((0,l.A)((0,l.A)({},s),{},{empname:e.target.value})),required:!0,value:s.empname},{label:"Designation",elem:"select",class:_,options:[{value:"",label:" - Select - ",disabled:!0,selected:!0},...y.map(e=>({value:e.id,label:e.Designation}))],event:e=>d((0,l.A)((0,l.A)({},s),{},{designation:e.target.value})),required:!0,value:s.designation},{label:"Mobile",elem:"input",oninput:e=>P(e),class:_,placeholder:"Enter Mobile Number",event:e=>d((0,l.A)((0,l.A)({},s),{},{mobile:e.target.value})),required:D,value:s.mobile,max:10},{label:"Attendance Id (Finger Print)",elem:"input",class:_,placeholder:"Enter Employee Attendance Master Id",event:e=>d((0,l.A)((0,l.A)({},s),{},{fingerPrintEmpId:e.target.value})),value:s.fingerPrintEmpId},{label:"Education",elem:"input",type:"text",class:_,placeholder:"Enter Education",event:e=>d((0,l.A)((0,l.A)({},s),{},{education:e.target.value})),value:s.education},{label:"Date of Birth",elem:"input",type:"date",class:_,placeholder:"Select Date of Birth",event:e=>d((0,l.A)((0,l.A)({},s),{},{dob:e.target.value})),value:s.dob},{label:"Date of Joining",elem:"input",type:"date",class:_,placeholder:"Select Date of Joining",event:e=>d((0,l.A)((0,l.A)({},s),{},{doj:e.target.value})),value:s.doj},{label:"Gender",elem:"select",class:_,options:[{value:"",label:" - Select - ",disabled:!0,selected:!0},{value:"Male",label:"Male"},{value:"Female",label:"Female"},{value:"Other",label:"Other"}],event:e=>d((0,l.A)((0,l.A)({},s),{},{gender:e.target.value})),required:!0,value:s.gender},{label:"Religion",elem:"select",class:_,options:[{value:"",label:" - Select - ",disabled:!0,selected:!0},{value:"Hindu",label:"Hindu"},{value:"Muslim",label:"Muslim"},{value:"Christian",label:"Christian"},{value:"Other",label:"Other"}],event:e=>d((0,l.A)((0,l.A)({},s),{},{religion:e.target.value})),value:s.religion},{label:"Branch",elem:"select",class:_,options:[{value:"",label:" - Select - ",disabled:!0,selected:!0},...A.map(e=>({value:e.BranchId,label:e.BranchName}))],event:e=>d((0,l.A)((0,l.A)({},s),{},{branch:parseInt(e.target.value)})),required:!0,value:s.branch},{label:"Salary",elem:"input",oninput:e=>P(e),class:_,placeholder:"Enter Salary",event:e=>d((0,l.A)((0,l.A)({},s),{},{salary:e.target.value})),required:!0,value:s.salary},{label:"Father's Name",elem:"input",type:"text",class:_,placeholder:"Enter Father's Name",event:e=>d((0,l.A)((0,l.A)({},s),{},{father:e.target.value})),value:s.father},{label:"Mother's Name",elem:"input",type:"text",class:_,placeholder:"Enter Mother's Name",event:e=>d((0,l.A)((0,l.A)({},s),{},{mother:e.target.value})),value:s.mother},{label:"Spouse's Name",elem:"input",type:"text",class:_,placeholder:"Enter Spouse's Name",event:e=>d((0,l.A)((0,l.A)({},s),{},{spouse:e.target.value})),value:s.spouse},{label:"City",elem:"input",type:"text",class:_,placeholder:"Enter City",event:e=>d((0,l.A)((0,l.A)({},s),{},{city:e.target.value})),required:!0,value:s.city},{label:"Pincode",elem:"input",oninput:e=>P(e),class:_,placeholder:"Enter Pincode",event:e=>d((0,l.A)((0,l.A)({},s),{},{pincode:e.target.value})),value:s.pincode,max:6},{label:"Address Line 1",elem:"textarea",type:"text",class:_,placeholder:"Enter Address Line 1",event:e=>d((0,l.A)((0,l.A)({},s),{},{address1:e.target.value})),required:!0,value:s.address1},{label:"Address Line 2",elem:"textarea",type:"text",class:_,placeholder:"Enter Address Line 2",event:e=>d((0,l.A)((0,l.A)({},s),{},{address2:e.target.value})),value:s.address2},{label:"Department Name",elem:"dataset",list:"departmentList",class:_,placeholder:"Type or Search Department Name",event:e=>d((0,l.A)((0,l.A)({},s),{},{department:e.target.value})),required:!0,value:s.department,options:m&&m.length>0?m:[{value:"",label:" - No Departments Available - ",disabled:!0}]},{label:"Location",elem:"input",type:"text",class:_,placeholder:"Enter Location",event:e=>d((0,l.A)((0,l.A)({},s),{},{location:e.target.value})),value:s.location}],F=()=>{for(const e of z)if(e.required&&""===e.value)return"".concat(e.label," is required.");return"Success"},q=(a,s)=>{O(a.Emp_Id),"PUT"===s&&(d(s=>(0,l.A)((0,l.A)({},s),{},{branch:null===a||void 0===a?void 0:a.Branch,empname:null===a||void 0===a?void 0:a.Emp_Name,designation:null===a||void 0===a?void 0:a.Designation,dob:null!==a&&void 0!==a&&a.DOB?(0,v.ny)(null===a||void 0===a?void 0:a.DOB):(0,v.ny)(),doj:null!==a&&void 0!==a&&a.DOJ?(0,v.ny)(null===a||void 0===a?void 0:a.DOJ):(0,v.ny)(),address1:null===a||void 0===a?void 0:a.Address_1,address2:null===a||void 0===a?void 0:a.Address_2,city:null===a||void 0===a?void 0:a.City,country:"India",pincode:null===a||void 0===a?void 0:a.Pincode,mobile:null===a||void 0===a?void 0:a.Mobile_No,education:null===a||void 0===a?void 0:a.Education,father:null===a||void 0===a?void 0:a.Fathers_Name,mother:null===a||void 0===a?void 0:a.Mothers_Name,spouse:null===a||void 0===a?void 0:a.Spouse_Name,gender:null===a||void 0===a?void 0:a.Sex,religion:null===a||void 0===a?void 0:a.Emp_Religion,salary:null===a||void 0===a?void 0:a.Salary,total_loan:null===a||void 0===a?void 0:a.Total_Loan,salary_advance:null===a||void 0===a?void 0:a.Salary_Advance,due_loan:null===a||void 0===a?void 0:a.Due_Loan,user_manage_id:null===a||void 0===a?void 0:a.User_Mgt_Id,enter_by:parseInt(null===e||void 0===e?void 0:e.UserId),fingerPrintEmpId:null===a||void 0===a?void 0:a.fingerPrintEmpId,Department_ID:null===a||void 0===a?void 0:a.Department_ID,department:null===a||void 0===a?void 0:a.Department,location:null===a||void 0===a?void 0:a.Location})),E(!C))};return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(h.A,{children:[(0,j.jsxs)("div",{className:"fa-16 p-2 ps-3 d-flex align-items-center justify-content-between border-bottom fw-bold pb-2 text-primary",children:[(0,j.jsx)("span",{className:"text-uppercase",children:"Employees ( "+o.length+" )"}),(0,j.jsx)("span",{children:(0,j.jsx)("button",{className:"comadbtn mb-0",onClick:()=>{E(!C),O(""),k()},children:C?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r.A,{sx:{fontSize:"1em",padding:"0px",margin:"0px"}})," Back"]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(n.A,{sx:{fontSize:"1em",padding:"0px",margin:"0px"}})," Add Employee"]})})})]}),(0,j.jsx)(p.A,{className:"p-0",children:C?(0,j.jsxs)("div",{className:"p-3",children:[(0,j.jsx)("h2",{className:"h5 mb-0",children:L?"Update Employee":"Create Employee"}),(0,j.jsxs)("div",{className:"row",children:[z.map((e,a)=>(0,j.jsxs)("div",{className:"col-lg-4 col-md-6 p-2 px-3",children:[(0,j.jsxs)("label",{className:"mb-1 text-dark",children:[e.label,e.required&&(0,j.jsx)("span",{style:{color:"red",fontWeight:"bold",fontSize:"1em"},children:" *"})]}),"input"===e.elem?(0,j.jsx)("input",{type:e.type||"text",className:e.class,onChange:e.event,onInput:e.oninput,disabled:e.disabled,value:e.value,maxLength:e.max}):"select"===e.elem?(0,j.jsx)("select",{className:e.class,onChange:e.event,value:e.value,children:e.options.map((e,a)=>(0,j.jsx)("option",{value:e.value,disabled:e.disabled,defaultValue:e.selected,children:e.label},a))}):"textarea"===e.elem?(0,j.jsx)("textarea",{className:e.class,onChange:e.event,rows:1,value:e.value}):"dataset"===e.elem?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("input",{type:"search",className:e.class,list:e.list,placeholder:e.placeholder,value:e.value,onChange:e.event,required:e.required}),(0,j.jsx)("datalist",{id:e.list,children:e.options&&e.options.length>0?e.options.map((e,a)=>(0,j.jsx)("option",{value:e.value,disabled:e.disabled,children:e.label},a)):(0,j.jsx)("option",{value:"",children:"No options available"})})]}):null]},a)),!L&&(0,j.jsx)("div",{className:"col-lg-4 col-md-6 d-flex align-items-center",children:(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"form-check-label p-1 pe-2",htmlFor:"muser",children:"Create as a User"}),(0,j.jsx)("input",{className:"form-check-input shadow-none",style:{padding:"0.7em"},type:"checkbox",id:"muser",checked:D,onChange:()=>M(!D)})]})})]}),(0,j.jsxs)("div",{className:"d-flex flex-row-reverse",children:[(0,j.jsx)("button",{className:"comadbtn",style:{marginBottom:"0px"},onClick:L?()=>{const e=F();"Success"===e?(0,x.z)({address:"userModule/employee",method:"PUT",bodyData:{data:(0,l.A)((0,l.A)({},s),{},{createAsUser:D}),ID:L}}).then(e=>{e.success?(c.oR.success(e.message),k(),O(""),E(!C),R(!B)):c.oR.error(e.message)}).catch(e=>console.error(e)):c.oR.error(e)}:()=>{const e=F();"Success"===e?(0,x.z)({address:"userModule/employee",method:"POST",bodyData:{data:(0,l.A)((0,l.A)({},s),{},{createAsUser:D}),userMGT:!0}}).then(e=>{e.success?(c.oR.success(e.message),k(),O(""),E(!C),R(!B)):c.oR.error(e.message)}).catch(e=>console.log(e)):c.oR.error(e)},children:"Submit"}),(0,j.jsx)("button",{className:"cancelbtn",onClick:()=>{E(!C),O(""),k()},children:"Cancel"})]})]}):(0,j.jsxs)("div",{style:{maxHeight:"74vh",overflowY:"scroll"},className:"p-3 pe-2",children:[(0,j.jsx)("div",{className:"text-end mb-2",children:(0,j.jsx)("input",{className:"cus-inpt w-auto",type:"search",placeholder:"Search...",value:w,onChange:e=>I(e.target.value)})}),(b&&b.length?b:""===w?o:[]).map(e=>(0,j.jsx)("div",{className:"col-sm-12 card shadow-none mb-2",children:(0,j.jsx)(N,{emp:e,edit:!0,del:!0,setVal:q})},e.Emp_Id))]})})]})})}},62252:(e,a,s)=>{s.d(a,{A:()=>n});var l=s(59662),t=s(70579);const n=(0,l.A)((0,t.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft")},70141:(e,a,s)=>{s.d(a,{A:()=>n});var l=s(59662),t=s(70579);const n=(0,l.A)((0,t.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},83560:(e,a,s)=>{s.d(a,{A:()=>n});var l=s(59662),t=s(70579);const n=(0,l.A)((0,t.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")}}]);
//# sourceMappingURL=9961.74548e04.chunk.js.map