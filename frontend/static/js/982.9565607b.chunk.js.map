{"version":3,"file":"static/js/982.9565607b.chunk.js","mappings":"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","sources":["Pages/Sales/LRReport/KatchathCopy/katchathCopy.jsx","Components/dotpeWhatsappService.js","Pages/Sales/LRReport/listSales.jsx","Components/filterableTable2.jsx","Components/tablecolumn.js"],"sourcesContent":["// import { useEffect, useRef, useState } from \"react\";\r\n// import { fetchLink } from \"../../../../Components/fetchComponent\";\r\n// import { useReactToPrint } from 'react-to-print';\r\n// import { checkIsNumber, LocalDateWithTime, toArray } from \"../../../../Components/functions\";\r\n// import { Print } from \"@mui/icons-material\";\r\n// import { Button } from \"@mui/material\";\r\n\r\n// const findStaffName = (arr, involvedType) => {\r\n//     if (!Array.isArray(arr)) return \"\";\r\n//     const row = arr.find(\r\n//         (x) => String(x?.empType || \"\").toLowerCase() === String(involvedType).toLowerCase()\r\n//     );\r\n//     return row?.empName || \"\";\r\n// };\r\n\r\n// const KatchathCopy = ({ Do_Id, Do_Ids=[],loadingOn, loadingOff,isCombinedPrint=false }) => {\r\n//     // const [data, setData] = useState({});\r\n//     const [data, setData] = useState([]); // Changed to array for multiple invoices\r\n\r\n//     const printRef = useRef(null);\r\n//    const isMultiple = Array.isArray(Do_Ids) && Do_Ids.length > 0;\r\n//     const idsToFetch = isMultiple ? Do_Ids : (Do_Id ? [Do_Id] : []);\r\n\r\n\r\n\r\n//         useEffect(() => {\r\n//         if (idsToFetch.length === 0) return;\r\n        \r\n//         loadingOn?.();\r\n        \r\n//         const fetchAllData = async () => {\r\n//             try {\r\n//                 const promises = idsToFetch.map(id => \r\n//                     fetchLink({\r\n//                         address: `sales/salesInvoice/printOuts/katchath?Do_Id=${id}`,\r\n//                         loadingOn: () => {}, // Prevent multiple loading indicators\r\n//                         loadingOff: () => {},\r\n//                     })\r\n//                 );\r\n                \r\n//                 const results = await Promise.all(promises);\r\n//                 const allData = results\r\n//                     .filter(result => result.success && result.data?.[0])\r\n//                     .map(result => result.data[0]);\r\n                \r\n//                 setData(allData);\r\n//             } catch (error) {\r\n//                 console.error('Error fetching katchath data:', error);\r\n//             } finally {\r\n//                 loadingOff?.();\r\n//             }\r\n//         };\r\n\r\n//         fetchAllData();\r\n//     }, [JSON.stringify(idsToFetch)]); // Use JSON.stringify for array dependency\r\n\r\n//     useEffect(() => {\r\n//         if (!checkIsNumber(Do_Id)) return;\r\n//         fetchLink({\r\n//             address: `sales/salesInvoice/printOuts/katchath?Do_Id=${Do_Id}`,\r\n//             loadingOn, loadingOff\r\n//         }).then(data => {\r\n//             if (data.success) {\r\n//                 setData(data?.data[0] || {})\r\n//             }\r\n//         }).catch(e => console.error(e));\r\n//     }, [Do_Id]);\r\n\r\n//     const handlePrint = useReactToPrint({\r\n//         content: () => printRef.current,\r\n//     });\r\n\r\n\r\n//      if (isCombinedPrint) {\r\n//         return (\r\n//             <div ref={printRef} className=\"katchath-combined-print\">\r\n//                 {data.map((invoice, index) => (\r\n//                     <div key={invoice.Do_Id || index} className=\"katchath-page\">\r\n//                         <div\r\n//                             style={{ \r\n//                                 width: 'calc(15cm)',\r\n//                                 height: 'calc(10.5cm)',\r\n//                                 marginBottom: index < data.length - 1 ? '20px' : '0'\r\n//                             }}\r\n//                             className=\"border py-1 px-4\"\r\n//                         >\r\n//                             <div className=\"row\">\r\n//                                 <div className=\"col-5 p-2\">\r\n//                                     <h5 className=\"m-0\">{invoice.voucherTypeGet}</h5>\r\n//                                     <p className=\"m-0\">{invoice.createdByGet}</p>\r\n//                                     <p className=\"m-0\">{LocalDateWithTime(invoice.createdOn)}</p>\r\n//                                     <br />\r\n//                                     <p className=\"m-0\">{invoice.mailingName ? `${invoice.mailingName},` : \" \"}</p>\r\n//                                     <p className=\"m-0\">{invoice.mailingAddress ? `${invoice.mailingAddress},` : \" \"}</p>\r\n//                                     <p className=\"m-0\">{invoice.mailingCity ? `${invoice.mailingCity},` : \" \"}</p>\r\n//                                     <p className=\"m-0\">{invoice.mailingNumber ? invoice.mailingNumber : \" \"}</p>\r\n//                                 </div>\r\n\r\n//                                 <div className=\"col-7 p-2\">\r\n//                                     <div className=\"table-responsive\">\r\n//                                         <table className=\"table table-borderless\">\r\n//                                             <tbody>\r\n//                                                 {toArray(invoice.productDetails).map((item, idx) => (\r\n//                                                     <tr key={idx}>\r\n//                                                         <td>{item.itemName}</td>\r\n//                                                         <td>{item.quantity}</td>\r\n//                                                     </tr>\r\n//                                                 ))}\r\n//                                                 <tr>\r\n//                                                     <td className=\"border\">Total</td>\r\n//                                                     <td className=\"border\">\r\n//                                                         {toArray(invoice.productDetails).reduce((acc, item) => acc + item.quantity, 0)}\r\n//                                                     </td>\r\n//                                                 </tr>\r\n//                                             </tbody>\r\n//                                         </table>\r\n//                                     </div>\r\n//                                 </div>\r\n//                             </div>\r\n\r\n//                             <br />\r\n\r\n//                             <div>\r\n//                                 <p className=\"m-0\">Lorry: {findStaffName(invoice.staffDetails, \"Transport\")}</p>\r\n//                                 <p className=\"m-0\">LoadMan: {findStaffName(invoice.staffDetails, \"Load Man\")}</p>\r\n//                             </div>\r\n//                         </div>\r\n                        \r\n//                         {/* Page break for printing except for last invoice */}\r\n//                         {index < data.length - 1 && (\r\n//                             <div className=\"page-break\" style={{ \r\n//                                 pageBreakAfter: 'always',\r\n//                                 breakAfter: 'page'\r\n//                             }} />\r\n//                         )}\r\n//                     </div>\r\n//                 ))}\r\n//             </div>\r\n//         );\r\n//     }\r\n\r\n//     return (\r\n//         <div className=\"d-flex flex-column align-items-center justify-content-center\">\r\n//             <Button onClick={handlePrint} startIcon={<Print />}>Print</Button>\r\n//             <div\r\n//                 style={{ \r\n                  \r\n//                     width: 'calc(15cm )',\r\n//     height: 'calc(10.5cm)',\r\n//     transform: 'scale(1.1)',  \r\n//     top:'260px',\r\n//     marginLeft:'4px'\r\n//     // transformOrigin: 'top left',\r\n//     // marginRight:'100px'\r\n\r\n//                  }}\r\n//                 ref={printRef}\r\n//                 className=\"border py-1 px-4\"\r\n//             >\r\n//                 <div className=\"row\">\r\n\r\n//                     <div className=\"col-5 p-2\">\r\n//                         <h5 className=\"m-0\">{data.voucherTypeGet}</h5>\r\n//                         <p className=\"m-0\">{data.createdByGet}</p>\r\n//                         <p className=\"m-0\">{LocalDateWithTime(data.createdOn)}</p>\r\n//                         <br />\r\n//                         <p className=\"m-0\">{data.mailingName ? `${data.mailingName},` : \" \"}</p>\r\n//                         <p className=\"m-0\">{data.mailingAddress ? `${data.mailingAddress},` : \" \"}</p>\r\n//                         <p className=\"m-0\">{data.mailingCity ? `${data.mailingCity},` : \" \"}</p>\r\n//                         <p className=\"m-0\">{data.mailingNumber ? data.mailingNumber : \" \"}</p>\r\n//                     </div>\r\n\r\n//                     <div className=\"col-7 p-2\">\r\n//                         <div className=\"table-responsive\">\r\n//                             <table className=\"table table-borderless\">\r\n//                                 <tbody>\r\n//                                     {toArray(data.productDetails).map((item, index) => (\r\n//                                         <tr key={index}>\r\n//                                             <td>{item.itemName}</td>\r\n//                                             <td>{item.quantity}</td>\r\n//                                         </tr>\r\n//                                     ))}\r\n//                                     <tr>\r\n//                                         <td className=\"border\">Total</td>\r\n//                                         <td className=\"border\">{toArray(data.productDetails).reduce((acc, item) => acc + item.quantity, 0)}</td>\r\n//                                     </tr>\r\n//                                 </tbody>\r\n//                             </table>\r\n//                         </div>\r\n//                     </div>\r\n\r\n//                 </div>\r\n\r\n//                 <br />\r\n\r\n//                 <div>\r\n//                     <p className=\"m-0\">Lorry: {findStaffName(data.staffDetails, \"Transport\")}</p>\r\n//                     <p className=\"m-0\">LoadMan: {findStaffName(data.staffDetails, \"Load Man\")}</p>\r\n//                 </div>\r\n//             </div>\r\n//         </div>\r\n//     );\r\n// };\r\n\r\n// export default KatchathCopy;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { fetchLink } from \"../../../../Components/fetchComponent\";\r\nimport { useReactToPrint } from 'react-to-print';\r\nimport { checkIsNumber, LocalDateWithTime, toArray } from \"../../../../Components/functions\";\r\nimport { Print } from \"@mui/icons-material\";\r\nimport { Button } from \"@mui/material\";\r\nimport  './katchathCopy.css';\r\nconst findStaffName = (arr, involvedType) => {\r\n    if (!Array.isArray(arr)) return \"\";\r\n    const row = arr.find(\r\n        (x) => String(x?.empType || \"\").toLowerCase() === String(involvedType).toLowerCase()\r\n    );\r\n    return row?.empName || \"\";\r\n};\r\n\r\nconst KatchathCopy = ({ Do_Id, Do_Ids = [], loadingOn, loadingOff, isCombinedPrint = false }) => {\r\n    const [data, setData] = useState([]); \r\n    const printRef = useRef(null);\r\n    \r\n  \r\n    const isMultiple = Array.isArray(Do_Ids) && Do_Ids.length > 0;\r\n    const idsToFetch = isMultiple ? Do_Ids : (Do_Id ? [Do_Id] : []);\r\n\r\n    useEffect(() => {\r\n        if (idsToFetch.length === 0) return;\r\n        \r\n        loadingOn?.();\r\n        \r\n        const fetchAllData = async () => {\r\n            try {\r\n                const promises = idsToFetch.map(id => \r\n                    fetchLink({\r\n                        address: `sales/salesInvoice/printOuts/katchath?Do_Id=${id}`,\r\n                        loadingOn: () => {}, \r\n                        loadingOff: () => {},\r\n                    })\r\n                );\r\n                \r\n                const results = await Promise.all(promises);\r\n                const allData = results\r\n                    .filter(result => result.success && result.data?.[0])\r\n                    .map(result => result.data[0]);\r\n                \r\n                setData(allData);\r\n            } catch (error) {\r\n                console.error('Error fetching katchath data:', error);\r\n            } finally {\r\n                loadingOff?.();\r\n            }\r\n        };\r\n\r\n        fetchAllData();\r\n    }, [JSON.stringify(idsToFetch)]);\r\n\r\n    const handlePrint = useReactToPrint({\r\n        content: () => printRef.current,\r\n    });\r\n\r\n \r\n    if (isCombinedPrint) {\r\n        return (\r\n            <div ref={printRef} className=\"katchath-combined-print\">\r\n                {data.map((invoice, index) => (\r\n                    <div key={invoice.Do_Id || index} className=\"katchath-page\">\r\n                        <div\r\n                            // style={{ \r\n                            //     width: 'calc(14cm)',\r\n                            //     height: 'calc(10.5cm)',\r\n                            //     marginBottom: index < data.length - 1 ? '20px' : '0'\r\n                            // }\r\n                               style={{ \r\n                             width: 'calc(13.8cm)',\r\n                                height: 'calc(10.5cm)',\r\n   transform: 'scale(1.0)',  \r\n  margin: '0 auto',\r\n  position: 'relative',\r\n  boxSizing: 'border-box',\r\n  fontWeight:'bold'\r\n                            // pageBreakAfter: index < data.length - 1 ? \"always\" : \"auto\",\r\n                            // breakAfter: index < data.length - 1 ? \"page\" : \"auto\"\r\n                        }}\r\n                            className=\"border py-1 px-2\"\r\n                        >\r\n                            <div className=\"row\">\r\n                                <div className=\"col-5 p-2\">\r\n                                    <h5 className=\"m-0\">{invoice.voucherTypeGet}</h5>\r\n                                    <p className=\"m-0\">{invoice.createdByGet}</p>\r\n                                    <p className=\"m-0\">{LocalDateWithTime(invoice.createdOn)}</p>\r\n                                    <br />\r\n                                    <p className=\"m-0\">{invoice.mailingName ? `${invoice.mailingName},` : \" \"}</p>\r\n                                    <p className=\"m-0\">{invoice.mailingAddress ? `${invoice.mailingAddress},` : \" \"}</p>\r\n                                    <p className=\"m-0\">{invoice.mailingCity ? `${invoice.mailingCity},` : \" \"}</p>\r\n                                    <p className=\"m-0\">{invoice.mailingNumber ? invoice.mailingNumber : \" \"}</p>\r\n                                </div>\r\n\r\n                                {/* <div className=\"col-7 p-2\">\r\n                                    <div className=\"table-responsive\">\r\n                                        <table className=\"table table-borderless\" style={{lineHeight:'0.37cm'}}>\r\n                                            <tbody>\r\n                                                {toArray(invoice.productDetails).map((item, idx) => (\r\n                                                    <tr key={idx}>\r\n                                                        <td >{item.itemName}</td>\r\n                                                        <td>{item.quantity}</td>\r\n                                                    </tr>\r\n                                                ))}\r\n                                                <tr>\r\n                                                    <td className=\"border\">Total</td>\r\n                                                    <td className=\"border\">\r\n                                                        {toArray(invoice.productDetails).reduce((acc, item) => acc + item.quantity, 0)}\r\n                                                    </td>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </div>\r\n                                </div> */}\r\n\r\n                                    <div className=\"col-7 p-2\">\r\n                                    <div className=\"table-responsive\">\r\n                                        <table className=\"table table-borderless\"  style={{lineHeight:'0.35cm'}}>\r\n                                            <tbody>\r\n                                                {toArray(invoice.productDetails).map((item, idx) => (\r\n                                                    <tr key={idx}>\r\n                                                        <td>{item.itemName}</td>\r\n                                                        <td>{item.quantity}</td>\r\n                                                    </tr>\r\n                                                ))}\r\n                                         <tr>\r\n                                         <td className=\"border text-right pr-4\" style={{textAlign: \"right\", fontSize: \"18px\", fontWeight: \"bold\"}}>\r\n                                             Total\r\n                                         </td>\r\n                                         <td className=\"border text-right\" style={{textAlign: \"right\", fontSize: \"18px\", fontWeight: \"bold\"}}>\r\n                                             {toArray(invoice.productDetails).reduce((acc, item) => acc + item.quantity, 0)}\r\n                                         </td>\r\n                                     </tr>\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <br />\r\n\r\n                            <div>\r\n                                <p className=\"m-0\">Lorry: {findStaffName(invoice.staffDetails, \"Transport\")}</p>\r\n                                <p className=\"m-0\">LoadMan: {findStaffName(invoice.staffDetails, \"Load Man\")}</p>\r\n                            </div>\r\n                        </div>\r\n                        \r\n               \r\n                        {index < data.length - 1 && (\r\n                            <div className=\"page-break\" style={{ \r\n                                pageBreakAfter: 'always',\r\n                                breakAfter: 'page'\r\n                            }} />\r\n                        )}\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // Single print mode (original behavior)\r\n    return (\r\n        <div className=\"d-flex flex-column align-items-center justify-content-center\">\r\n            {/* <Button onClick={handlePrint} startIcon={<Print />}>\r\n                Print {data.length > 1 ? `(${data.length} invoices)` : ''}\r\n            </Button> */}\r\n              <div className=\"print-button-area\">\r\n                <Button onClick={handlePrint} startIcon={<Print />}>Print</Button>\r\n            </div>\r\n            <div ref={printRef} className=\"katchath-multiple-print\" >\r\n                {data.map((invoice, index) => (\r\n                    <div style={{fontWeight:'bold'}} key={invoice.Do_Id || index} className=\"mb-4\">\r\n                        <div\r\n                         \r\n                            style={{\r\n     width: 'calc(14cm)',\r\n                                height: 'calc(10.5cm)',\r\n   transform: 'scale(1.0)',  \r\n  margin: '0 auto',\r\n  position: 'relative',\r\n  boxSizing: 'border-box',\r\n  fontWeight:'bold'\r\n}}\r\nclassName=\"border py-4 px-4\"\r\n\r\n                        >\r\n                            <div className=\"row\">\r\n                                <div className=\"col-5 p-2\">\r\n                                    <h5 className=\"m-0\">{invoice.voucherTypeGet}</h5>\r\n                                    <p className=\"m-0\">{invoice.createdByGet}</p>\r\n                                    <p className=\"m-0\">{LocalDateWithTime(invoice.createdOn)}</p>\r\n                                    <br />\r\n                                    <p className=\"m-0\">{invoice.mailingName ? `${invoice.mailingName},` : \" \"}</p>\r\n                                    <p className=\"m-0\">{invoice.mailingAddress ? `${invoice.mailingAddress},` : \" \"}</p>\r\n                                    <p className=\"m-0\">{invoice.mailingCity ? `${invoice.mailingCity},` : \" \"}</p>\r\n                                    <p className=\"m-0\">{invoice.mailingNumber ? invoice.mailingNumber : \" \"}</p>\r\n                                </div>\r\n\r\n                                <div className=\"col-7 p-2\">\r\n                                    <div className=\"table-responsive\">\r\n                                        <table className=\"table table-borderless\"  style={{lineHeight:'0.35cm'}}>\r\n                                            <tbody>\r\n                                                {toArray(invoice.productDetails).map((item, idx) => (\r\n                                                    <tr key={idx}>\r\n                                                        <td>{item.itemName}</td>\r\n                                                        <td>{item.quantity}</td>\r\n                                                    </tr>\r\n                                                ))}\r\n                                         <tr>\r\n                                         <td className=\"border text-right pr-4\" style={{textAlign: \"right\", fontSize: \"18px\", fontWeight: \"bold\"}}>\r\n                                             Total\r\n                                         </td>\r\n                                         <td className=\"border text-right\" style={{textAlign: \"right\", fontSize: \"18px\", fontWeight: \"bold\"}}>\r\n                                             {toArray(invoice.productDetails).reduce((acc, item) => acc + item.quantity, 0)}\r\n                                         </td>\r\n                                     </tr>\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <br />\r\n\r\n                            <div>\r\n                                <p className=\"m-0\">Lorry: {findStaffName(invoice.staffDetails, \"Transport\")}</p>\r\n                                <p className=\"m-0\">LoadMan: {findStaffName(invoice.staffDetails, \"Load Man\")}</p>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                        {/* Add some spacing between invoices in preview */}\r\n                        {index < data.length - 1 && <hr className=\"my-4\" />}\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default KatchathCopy;","import axios from 'axios';\r\nimport { Dot_Pe_Api_Key, Dot_Pe_Number,merchantId } from '../encryptionKey';\r\n\r\nconst DOTPE_API_BASE = 'https://api.dotpe.in/api/comm/public/enterprise/v1';\r\n// const RAW_API_KEY = 'your-api-key';\r\n\r\nconst cleanApiKey = () => {\r\n    let cleaned = Dot_Pe_Api_Key.replace(/[^\\x20-\\x7E]/g, '');\r\n    cleaned = cleaned.replace(/[\\u200B-\\u200D\\uFEFF\\u00A0]/g, '');\r\n    cleaned = cleaned.trim(); \r\n    return cleaned;\r\n};\r\n\r\nexport class DotPeWhatsAppService {\r\n    static async fetchTemplates(status = 'APPROVED') {\r\n        try {\r\n            const apiKey = cleanApiKey();\r\n            \r\n            const response = await axios.get(\r\n                `${DOTPE_API_BASE}/templates?status=${status}`,\r\n                {\r\n                    headers: {\r\n                        'Dotpe-Api-Key': apiKey,\r\n                        'Content-Type': 'application/json',\r\n                    },\r\n                }\r\n            );\r\n     \r\n            return {\r\n                status: true,\r\n                data: response.data?.data || response.data,\r\n                message: 'Templates fetched successfully'\r\n            };\r\n        } catch (error) {\r\n            console.error('Error fetching templates:', {\r\n                message: error.message,\r\n                status: error.response?.status,\r\n                data: error.response?.data\r\n            });\r\n            \r\n            return {\r\n                status: false,\r\n                data: null,\r\n                message: error.response?.data?.message || error.message || 'Failed to fetch templates'\r\n            };\r\n        }\r\n    }\r\n\r\n    static async sendTemplateMessage(payload) {\r\n        try {\r\n            const apiKey = cleanApiKey();\r\n            \r\n            const response = await axios.post(\r\n                `${DOTPE_API_BASE}/wa/send`,\r\n                payload,\r\n                {\r\n                    headers: {\r\n                        'Dotpe-Api-Key': apiKey,\r\n                        'Content-Type': 'application/json',\r\n                    },\r\n                    timeout: 30000,\r\n                }\r\n            );\r\n            \r\n            return {\r\n                status: response.data?.status === true || response.data?.success === true,\r\n                data: response.data,\r\n                message: response.data?.message || 'Message sent successfully'\r\n            };\r\n        } catch (error) {\r\n            console.error('Error details:', {\r\n                message: error.message,\r\n                status: error.response?.status,\r\n                statusText: error.response?.statusText,\r\n                data: error.response?.data,\r\n                headers: error.response?.headers\r\n            });\r\n            \r\n            if (error.response?.status === 422) {\r\n                console.error('Template validation error. Likely issues:');\r\n                console.error('1. Wrong number of parameters');\r\n                console.error('2. Parameter names don\\'t match template');\r\n                console.error('3. Template not approved');\r\n                console.error('4. Missing required parameters');\r\n            }\r\n            \r\n            return {\r\n                status: false,\r\n                data: error.response?.data,\r\n                message: error.response?.data?.message || \r\n                        error.response?.data?.error || \r\n                        error.message || \r\n                        'Failed to send message',\r\n                statusCode: error.response?.status\r\n            };\r\n        }\r\n    }\r\n\r\n  \r\n    static async sendFreeFormMessage(payload) {\r\n        try {\r\n            const apiKey = cleanApiKey();\r\n            \r\n         \r\n            let endpoint = `${DOTPE_API_BASE}/wa/send/free-form`;\r\n            let apiPayload = payload;\r\n            \r\n          \r\n            if (payload.template) {\r\n                endpoint = `${DOTPE_API_BASE}/wa/send`;\r\n            }\r\n            \r\n            const response = await axios.post(\r\n                endpoint,\r\n                apiPayload,\r\n                {\r\n                    headers: {\r\n                        'Dotpe-Api-Key': apiKey,\r\n                        'Content-Type': 'application/json',\r\n                    },\r\n                    timeout: 30000,\r\n                }\r\n            );\r\n            \r\n            return {\r\n                status: response.data?.status === true || response.data?.success === true,\r\n                data: response.data,\r\n                message: response.data?.message || 'Message sent successfully'\r\n            };\r\n        } catch (error) {\r\n            console.error('Error sending free-form message:', {\r\n                message: error.message,\r\n                status: error.response?.status,\r\n                data: error.response?.data\r\n            });\r\n            \r\n            return {\r\n                status: false,\r\n                data: error.response?.data,\r\n                message: error.response?.data?.message || error.message || 'Failed to send message',\r\n                statusCode: error.response?.status\r\n            };\r\n        }\r\n    }\r\n\r\n\r\n\r\n    static async sendInvoiceWithPDFLink(phone, invoiceId, invoiceData, order,pdfUrl) {\r\n        try {\r\n           \r\n            // const apiKey = cleanApiKey();\r\n            // const RetailerName=order?.retailerNameGet;\r\n            const Do_Date = order?.Do_Date ?  order.Do_Date.split('T')[0].split('-').reverse().join('/') :  new Date().toLocaleDateString('en-GB');\r\n            // const Do_Inv_No=order?.Do_Inv_No;\r\n            // const invoiceValue=order?.Total_Invoice_value;\r\n        \r\n            const payload = {\r\n                    merchantId: merchantId, \r\n\r\n                         template: {\r\n                           name: \"template_text\",\r\n                           language: \"en\"\r\n                         },\r\n                       //   wabaNumber: \"919944888054\", \r\n                             wabaNumber:Dot_Pe_Number,\r\n                        \r\n                       //    recipients: [\"919944032029\"],\r\n                       recipients:[`91${phone}`],\r\n                         source: \"crm\",\r\n                          type: \"document\",\r\n                         clientRefId: `invoice_INV001_${Date.now()}`,\r\n                         params: {\r\n                           //  header: `http://192.168.1.39:9001/uploads/invoices/1/${invoiceId}.pdf`, \r\n                           body: [\r\n                             `${order?.retailerNameGet}`,          \r\n                             `${order?.Do_Inv_No}`,            \r\n                             `${Do_Date}`,   \r\n                             `${order?.Total_Invoice_value}`,      \r\n                              'SM TRADERS',          \r\n                              `${pdfUrl}`\r\n                           ]\r\n                         }\r\n                    };\r\n            \r\n           \r\n            return await this.sendFreeFormMessage(payload);\r\n            \r\n        } catch (error) {\r\n            console.error('Error sending invoice with PDF:', error);\r\n            \r\n            return {\r\n                status: false,\r\n                message: error.message || 'Failed to send invoice'\r\n            };\r\n        }\r\n    }\r\n    \r\n    static async sendPDFAsDocument(phone, invoiceId, pdfUrl, caption) {\r\n        try {\r\n            // const apiKey = cleanApiKey();\r\n            \r\n            const payload = {\r\n                // wabaNumber: \"919944888054\",\r\n                wabaNumber:Dot_Pe_Number,\r\n                recipient: phone,\r\n                source: \"billing_system\",\r\n                clientRefId: `pdf_${invoiceId}_${Date.now()}`,\r\n                type: \"document\",\r\n                document: {\r\n                    link: pdfUrl,\r\n                    caption: caption || ` Invoice #${invoiceId}\\nClick to view/download`,\r\n                    filename: `Invoice-${invoiceId}.pdf`\r\n                }\r\n            };\r\n            \r\n           \r\n            return await this.sendFreeFormMessage(payload);\r\n            \r\n        } catch (error) {\r\n            console.error('Error sending PDF as document:', error);\r\n            \r\n            return {\r\n                status: false,\r\n                message: error.message || 'Failed to send PDF'\r\n            };\r\n        }\r\n    }\r\n}","import { useState, useEffect, useMemo, useRef } from \"react\";\r\nimport { checkIsNumber, isEqualNumber, ISOString, toArray, toNumber, RoundNumber, NumberFormat, LocalDateWithTime } from \"../../../Components/functions\";\r\nimport { fetchLink } from \"../../../Components/fetchComponent\";\r\nimport FilterableTable, { ButtonActions, createCol } from \"../../../Components/filterableTable2\";\r\nimport {\r\n    Autocomplete,\r\n    Button,\r\n    Checkbox,\r\n    Select as MuiSelect,\r\n    MenuItem,\r\n    Dialog,\r\n    DialogActions,\r\n    DialogContent,\r\n    DialogTitle,\r\n    IconButton,\r\n    Typography,\r\n    TextField,\r\n    Tooltip,\r\n    Box,\r\n    Divider,\r\n    Snackbar,\r\n    Alert,\r\n    Radio,\r\n    RadioGroup,\r\n    InputLabel,\r\n    FormControl,\r\n    FormControlLabel,\r\n    Menu,\r\n    ListItemIcon,\r\n    ListItemText,\r\n} from \"@mui/material\";\r\nimport Select from \"react-select\";\r\nimport { customSelectStyles } from \"../../../Components/tablecolumn\";\r\nimport { reactSelectFilterLogic } from \"../../../Components/functions\";\r\nimport {\r\n    CheckBox,\r\n    CheckBoxOutlineBlank,\r\n    FilterAlt,\r\n    PersonAdd,\r\n    Print,\r\n    Search,\r\n    HourglassEmpty,\r\n    Download,\r\n    PictureAsPdf,\r\n    TableChart,\r\n    ArrowDropDown\r\n} from \"@mui/icons-material\";\r\nimport { toast } from \"react-toastify\";\r\nimport KatchathCopy from \"./KatchathCopy/katchathCopy\";\r\nimport InvoiceTemplate from \"./SalesInvPrint/invTemplate\";\r\nimport DeliverysSlipPrint from \"./deliverySlipPrint\"\r\nimport { useReactToPrint } from \"react-to-print\";\r\nimport PersonRemoveIcon from '@mui/icons-material/PersonRemove';\r\nimport WhatsAppIcon from '@mui/icons-material/WhatsApp';\r\nimport { DotPeWhatsAppService } from \"../../../Components/dotpeWhatsappService\";\r\nimport { Dot_Pe_Number } from \"../../../encryptionKey\";\r\nimport api from \"../../../API\";\r\nimport jsPDF from 'jspdf';\r\nimport 'jspdf-autotable';\r\nimport * as XLSX from 'xlsx';\r\nimport { saveAs } from 'file-saver';\r\n\r\n\r\nconst icon = <CheckBoxOutlineBlank fontSize=\"small\" />;\r\nconst checkedIcon = <CheckBox fontSize=\"small\" />;\r\n\r\nconst multipleStaffUpdateInitialValues = {\r\n    CostCategory: { label: \"\", value: \"\" },\r\n    Do_Id: [],\r\n    involvedStaffs: [],\r\n    staffInvolvedStatus: 0,\r\n    deliveryStatus: 5,\r\n};\r\n\r\nconst multipleStaffRemoveInitialValues = {\r\n    CostCategory: { label: \"\", value: \"\" },\r\n    Do_Id: [],\r\n    involvedStaffs: [],\r\n    staffInvolvedStatus: 0,\r\n    deliveryStatus: 5,\r\n};\r\n\r\nconst normalize = (v) => String(v ?? \"\").toLowerCase().trim();\r\n\r\nconst uniqueCaseInsensitive = (values) => {\r\n    const map = new Map();\r\n    for (const v of values) {\r\n        const s = String(v ?? \"\").trim();\r\n        if (!s) continue;\r\n        const key = s.toLowerCase();\r\n        if (!map.has(key)) map.set(key, s);\r\n    }\r\n    return Array.from(map.values());\r\n};\r\n\r\nconst getCostTypeEmployees = (invoiceOrRow, costTypeId) => {\r\n    const invoiceEmployee = toArray(invoiceOrRow?.involvedStaffs);\r\n    return invoiceEmployee\r\n        .filter((emp) => isEqualNumber(emp.Emp_Type_Id, costTypeId))\r\n        .map((emp) => String(emp.Emp_Name ?? \"\").trim())\r\n        .filter(Boolean);\r\n};\r\n\r\nconst SalesInvoiceListLRReport = ({ loadingOn, loadingOff, AddRights, EditRights, PrintRights, pageID }) => {\r\n    const [salesInvoices, setSalesInvoices] = useState([]);\r\n    const [costCenterData, setCostCenterData] = useState([]);\r\n    const [costTypes, setCostTypes] = useState([]);\r\n    const [uniqueInvolvedCost, setUniqueInvolvedCost] = useState([]);\r\n    const [viewMode, setViewMode] = useState('normal');\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [isRefreshing, setIsRefreshing] = useState(false);\r\n    const [hasInitialLoading, setHasInitialLoading] = useState(false);\r\n    const [currentPrintType, setCurrentPrintType] = useState('');\r\n    const [selectAllCheckBox, setSelectAllCheckBox] = useState(false);\r\n    const [downloadLoading, setDownloadLoading] = useState(false);\r\n    const [downloadAnchorEl, setDownloadAnchorEl] = useState(null);\r\n    const tableContainerRef = useRef(null);\r\n\r\n    const storage = JSON.parse(localStorage.getItem(\"user\"));\r\n    const [pdfGeneration, setPdfGeneration] = useState({\r\n        loading: false,\r\n        pdfUrl: null, token: null,\r\n        fileName: null,\r\n        error: null\r\n    });\r\n\r\n    const [multipleCostCenterUpdateValues, setMultipleCostCenterUpdateValues] = useState(\r\n        multipleStaffUpdateInitialValues\r\n    );\r\n\r\n    const [multipleStaffRemoveValues, setMultipleStaffRemoveValues] = useState(\r\n        multipleStaffRemoveInitialValues\r\n    );\r\n\r\n    const handleDownloadClick = (event) => {\r\n        setDownloadAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const [printReady, setPrintReady] = useState(false);\r\n    const [columnFilters, setColumnFilters] = useState({});\r\n    const [filteredData, setFilteredData] = useState([]);\r\n\r\n    const [printInvoice, setPrintInvoice] = useState({\r\n        Do_Id: null,\r\n        Do_Date: null,\r\n        open: false\r\n    });\r\n\r\n    const [katchathCopyPrint, setKatchathCopyPrint] = useState({\r\n        Do_Id: null,\r\n        open: false,\r\n    });\r\n\r\n    const [deliverySlipPrint, setDeliverySlipPrint] = useState({\r\n        Do_Id: null,\r\n        Do_Date: null,\r\n        open: false\r\n    });\r\n\r\n    const [whatsappDialog, setWhatsappDialog] = useState({\r\n        open: false,\r\n        order: null,\r\n        loading: false,\r\n        method: 'template',\r\n    });\r\n\r\n\r\n    const [templates, setTemplates] = useState([]);\r\n    const [selectedTemplate, setSelectedTemplate] = useState(\"\");\r\n    const [snackbar, setSnackbar] = useState({\r\n        open: false,\r\n        message: \"\",\r\n        severity: \"success\",\r\n    });\r\n\r\n    const [filters, setFilters] = useState({\r\n        reqDate: ISOString(),\r\n        assignDialog: false,\r\n        filterDialog: false,\r\n        selectedInvoice: null,\r\n        multipleStaffUpdateDialog: false,\r\n        multipleStaffRemoveDialog: false,\r\n        fetchTrigger: 0,\r\n        docType: \"\",\r\n        staffStatus: 0,\r\n    });\r\n\r\n    const [multiPrint, setMultiPrint] = useState({\r\n        open: false,\r\n        doIds: [],\r\n        docType: \"\"\r\n    });\r\n\r\n    const multiPrintRef = useRef(null);\r\n\r\n\r\n    const pdfTemplates = useMemo(() => {\r\n        return (templates || []).filter(t => {\r\n            const templateName = t.templateName || t.name || '';\r\n            return templateName.toLowerCase().includes('pdf') ||\r\n                templateName.toLowerCase().includes('invoice');\r\n        });\r\n    }, [templates]);\r\n\r\n\r\n    const otherTemplates = useMemo(() => {\r\n        return (templates || []).filter(t => {\r\n            const templateName = t.templateName || t.name || '';\r\n            return !(templateName.toLowerCase().includes('pdf') ||\r\n                templateName.toLowerCase().includes('invoice'));\r\n        });\r\n    }, [templates]);\r\n\r\n\r\n\r\n    const columns = useMemo(\r\n        () => [\r\n            { Field_Name: \"Do_Inv_No\", Fied_Data: \"string\", ColumnHeader: \"Invoice\" },\r\n            { Field_Name: \"voucherTypeGet\", Fied_Data: \"string\", ColumnHeader: \"Voucher\" },\r\n            { Field_Name: \"retailerNameGet\", Fied_Data: \"string\", ColumnHeader: \"Customer\" },\r\n        ],\r\n        []\r\n    );\r\n\r\n    const calculateAltActQty = (item) => {\r\n        if (item.Alt_Act_Qty !== undefined && item.Alt_Act_Qty !== null) {\r\n            return Number(item.Alt_Act_Qty) || 0;\r\n        }\r\n\r\n        const billQty = Number(item.Bill_Qty) || 0;\r\n        const conversionFactor = Number(item.PackValue) || 1;\r\n\r\n        const possibleAltFields = ['AltQty', 'Alt_Act_Qty', 'Alt_Qty', 'Alternate_Qty', 'Actual_Qty'];\r\n\r\n        for (const field of possibleAltFields) {\r\n            if (item[field] !== undefined && item[field] !== null) {\r\n                return Number(item[field]) || 0;\r\n            }\r\n        }\r\n\r\n        return billQty * conversionFactor;\r\n    };\r\n\r\n    const fetchAllInvoices = async (refresh = false) => {\r\n        try {\r\n            if (!refresh) {\r\n                setIsLoading(true);\r\n            } else {\r\n                setIsRefreshing(true);\r\n            }\r\n\r\n            setViewMode('normal');\r\n\r\n            const data = await fetchLink({\r\n                address: `sales/salesInvoice/lrReport?reqDate=${filters.reqDate}&staffStatus=${filters.staffStatus}`,\r\n                loadingOn,\r\n                loadingOff,\r\n            });\r\n\r\n            const invoices = toArray(data.data);\r\n\r\n            const processedInvoices = invoices.map(invoice => {\r\n                if (invoice.stockDetails && Array.isArray(invoice.stockDetails)) {\r\n                    const processedStockDetails = invoice.stockDetails.map(item => ({\r\n                        ...item,\r\n                        Alt_Act_Qty: calculateAltActQty(item)\r\n                    }));\r\n\r\n                    return {\r\n                        ...invoice,\r\n                        stockDetails: processedStockDetails\r\n                    };\r\n                }\r\n                return invoice;\r\n            });\r\n\r\n            setSalesInvoices(processedInvoices);\r\n            setCostTypes(toArray(data?.others?.costTypes));\r\n            setUniqueInvolvedCost(toArray(data?.others?.uniqeInvolvedStaffs));\r\n\r\n            if (!hasInitialLoading) {\r\n                setHasInitialLoading(true);\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error fetching invoices:\", error);\r\n            toast.error(\"Failed to load invoices\");\r\n        } finally {\r\n            setIsLoading(false);\r\n            setIsRefreshing(false);\r\n        }\r\n    };\r\n\r\n    const fetchTemplates = async () => {\r\n        try {\r\n            const response = await DotPeWhatsAppService.fetchTemplates('APPROVED');\r\n\r\n            if (response.status && response.data) {\r\n                let templatesData = [];\r\n\r\n                if (Array.isArray(response.data)) {\r\n                    templatesData = response.data;\r\n                } else if (response.data.data && Array.isArray(response.data.data)) {\r\n                    templatesData = response.data.data;\r\n                } else if (response.data.templates && Array.isArray(response.data.templates)) {\r\n                    templatesData = response.data.templates;\r\n                }\r\n\r\n                if (templatesData.length > 0) {\r\n                    setTemplates(templatesData);\r\n\r\n\r\n                    templatesData.forEach(template => {\r\n                        const name = template.templateName || template.name || '';\r\n\r\n                        if (name.includes('template_text')) {\r\n                            setSelectedTemplate(name);\r\n                        }\r\n                    });\r\n                } else {\r\n                    console.warn('No templates found');\r\n                }\r\n            } else {\r\n                console.warn('Failed to fetch templates:', response.message);\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to fetch templates:', error);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchTemplates();\r\n    }, []);\r\n\r\n    const fetchPendingInvoices = async () => {\r\n        try {\r\n            setIsLoading(true);\r\n            setViewMode('pending');\r\n\r\n            const data = await fetchLink({\r\n                address: `sales/salesInvoice/pendingDetails?reqDate=${filters.reqDate}`,\r\n                loadingOn,\r\n                loadingOff,\r\n            });\r\n\r\n            const invoices = toArray(data.data);\r\n\r\n            const processedInvoices = invoices.map(invoice => {\r\n                if (invoice.stockDetails && Array.isArray(invoice.stockDetails)) {\r\n                    const processedStockDetails = invoice.stockDetails.map(item => ({\r\n                        ...item,\r\n                        Alt_Act_Qty: calculateAltActQty(item)\r\n                    }));\r\n\r\n                    return {\r\n                        ...invoice,\r\n                        stockDetails: processedStockDetails\r\n                    };\r\n                }\r\n                return invoice;\r\n            });\r\n\r\n            setSalesInvoices(processedInvoices);\r\n\r\n            if (data?.others?.costTypes) {\r\n                setCostTypes(toArray(data?.others?.costTypes));\r\n            }\r\n            if (data?.others?.uniqeInvolvedStaffs) {\r\n                setUniqueInvolvedCost(toArray(data?.others?.uniqeInvolvedStaffs));\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error fetching pending invoices:\", error);\r\n            toast.error(\"Failed to load pending invoices\");\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    const toggleViewMode = async () => {\r\n        if (viewMode === 'normal') {\r\n            await fetchPendingInvoices();\r\n        } else {\r\n            await fetchAllInvoices(true);\r\n        }\r\n    };\r\n\r\n    const fetchCostCenterData = async () => {\r\n        try {\r\n            const costCenterData = await fetchLink({\r\n                address: \"masters/erpCostCenter/dropDown\"\r\n            });\r\n            setCostCenterData(toArray(costCenterData.data));\r\n        } catch (error) {\r\n            console.error(\"Error fetching cost center data:\", error);\r\n            toast.error(\"Failed to load cost center data\");\r\n        }\r\n    };\r\n\r\n    // Initial data fetch\r\n    useEffect(() => {\r\n        const fetchInitialData = async () => {\r\n            try {\r\n                setIsLoading(true);\r\n                await Promise.all([\r\n                    fetchAllInvoices(),\r\n                    fetchCostCenterData()\r\n                ]);\r\n            } catch (error) {\r\n                console.error(\"Error fetching initial data:\", error);\r\n                toast.error(\"Failed to load initial data\");\r\n            } finally {\r\n                setIsLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchInitialData();\r\n    }, []); // Empty dependency array for initial load only\r\n\r\n    // Fetch normal invoices when trigger or staffStatus changes, but only in normal mode\r\n    useEffect(() => {\r\n        if (viewMode === 'normal') {\r\n            fetchAllInvoices(true);\r\n        }\r\n    }, [filters.fetchTrigger, filters.staffStatus, viewMode]);\r\n\r\n    // Fetch normal invoices when date changes, but only in normal mode\r\n    useEffect(() => {\r\n        if (viewMode === 'normal' && hasInitialLoading) {\r\n            fetchAllInvoices(true);\r\n        }\r\n    }, [filters.reqDate, viewMode, hasInitialLoading]);\r\n\r\n    // Fetch pending invoices when date changes, but only in pending mode\r\n    useEffect(() => {\r\n        if (viewMode === 'pending' && hasInitialLoading) {\r\n            fetchPendingInvoices();\r\n        }\r\n    }, [filters.reqDate, viewMode, hasInitialLoading]);\r\n\r\n    useEffect(() => {\r\n        if (multiPrint.open) {\r\n            const timer = setTimeout(() => {\r\n                if (multiPrintRef.current) {\r\n                    setPrintReady(true);\r\n                }\r\n            }, 300);\r\n\r\n            return () => clearTimeout(timer);\r\n        } else {\r\n            setPrintReady(false);\r\n        }\r\n    }, [multiPrint.open, multiPrint.doIds, multiPrint.docType]);\r\n\r\n    const showSnackbar = (message, severity = \"success\") => {\r\n        setSnackbar({\r\n            open: true,\r\n            message,\r\n            severity,\r\n        });\r\n    };\r\n\r\n    const closeWhatsAppDialog = () => {\r\n        setWhatsappDialog({\r\n            open: false,\r\n            order: null,\r\n            loading: false,\r\n            method: 'template'\r\n        });\r\n        setSelectedTemplate(\"\");\r\n    };\r\n\r\n    const getPDFUrlSimple = (order) => {\r\n        const baseUrl = api;\r\n        const formattedInvoiceNo = order.Do_Inv_No.replace(/_/g, '/');\r\n        const encodedInvoiceNo = btoa(formattedInvoiceNo);\r\n\r\n        return `${baseUrl}sales/downloadPdf?Do_Inv_No=${encodedInvoiceNo}`;\r\n    };\r\n\r\n    const generateInvoicePDF = async (order, companyId) => {\r\n        try {\r\n            const requestBody = {\r\n                invoiceId: order.Do_Inv_No,\r\n                companyId: companyId,\r\n                invoiceData: {\r\n                    Do_Inv_No: order.Do_Inv_No,\r\n                    Total_Invoice_value: order.Total_Invoice_value || 0,\r\n                    retailerNameGet: order.retailerNameGet || order.Retailer_Name || 'Customer',\r\n                    Do_Date: order.Do_Date || order.So_Date,\r\n                    So_No: order.So_No || order.Do_No || 'N/A',\r\n                    Retailer_Name: order.Retailer_Name || order.retailerNameGet,\r\n                    Retailer_Address: order.Retailer_Address || 'Address not available',\r\n                    Retailer_GSTIN: order.Retailer_GSTIN || 'Not Available',\r\n                    CSGT_Total: order.CSGT_Total || 0,\r\n                    SGST_Total: order.SGST_Total || 0,\r\n                    IGST_Total: order.IGST_Total || 0,\r\n                    Round_off: order.Round_off || 0,\r\n                    CSGT_Percentage: order.CSGT_Percentage || 0,\r\n                    SGST_Percentage: order.SGST_Percentage || 0,\r\n                    IGST_Percentage: order.IGST_Percentage || 0,\r\n                    stockDetails: order.stockDetails || order.ProductList || []\r\n                }\r\n            };\r\n\r\n            const response = await fetchLink({\r\n                address: \"sales/generatePdf\",\r\n                method: \"POST\",\r\n                bodyData: requestBody,\r\n                loadingOn,\r\n                loadingOff,\r\n            });\r\n\r\n            return response;\r\n\r\n        } catch (error) {\r\n            console.error('Error generating PDF:', error);\r\n            throw error;\r\n        }\r\n    };\r\n\r\n    const generateAndStorePDF = async (order) => {\r\n        try {\r\n            setPdfGeneration({ loading: true, pdfUrl: null, error: null });\r\n            const storage = JSON.parse(localStorage.getItem(\"user\"));\r\n            const companyId = storage?.Company_id;\r\n\r\n            if (!companyId) {\r\n                throw new Error('Company ID not found');\r\n            }\r\n\r\n            const response = await generateInvoicePDF(order, companyId);\r\n\r\n            if (response.success && response.data) {\r\n                const pdfUrl = response.data.pdfUrl;\r\n\r\n                setPdfGeneration({\r\n                    loading: false,\r\n                    pdfUrl: pdfUrl,\r\n                    token: response.data.token,\r\n                    fileName: response.data.fileName,\r\n                    error: null\r\n                });\r\n\r\n                return {\r\n                    pdfUrl: pdfUrl,\r\n                    token: response.data.token,\r\n                    fileName: response.data.fileName\r\n                };\r\n            } else {\r\n                throw new Error(response.message || 'Failed to generate PDF');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error generating PDF:', error);\r\n            setPdfGeneration({\r\n                loading: false,\r\n                pdfUrl: null,\r\n                error: error.message\r\n            });\r\n            throw error;\r\n        }\r\n    };\r\n\r\n    const handleWhatsAppClick = async (order) => {\r\n        try {\r\n            setWhatsappDialog({\r\n                open: true,\r\n                order: order,\r\n                loading: true,\r\n                method: 'pdf-link'\r\n            });\r\n\r\n            const pdfData = await generateAndStorePDF(order);\r\n            const recipientPhone = await getRecipientPhone(order);\r\n\r\n            if (!recipientPhone) {\r\n                showSnackbar('Customer phone number not found', 'error');\r\n                closeWhatsAppDialog();\r\n                return;\r\n            }\r\n\r\n            setWhatsappDialog({\r\n                open: true,\r\n                order: {\r\n                    ...order,\r\n                    recipientPhone,\r\n                    generatedPdfUrl: pdfData.pdfUrl,\r\n                    pdfToken: pdfData.token,\r\n                    pdfFileName: pdfData.fileName\r\n                },\r\n                loading: false,\r\n                method: 'pdf-link'\r\n            });\r\n        } catch (error) {\r\n            console.error('Error in handleWhatsAppClick:', error);\r\n            showSnackbar(`Failed to prepare PDF: ${error.message}`, 'error');\r\n            closeWhatsAppDialog();\r\n        }\r\n    };\r\n\r\n    const sendWhatsAppMessage = async () => {\r\n        const { order, method } = whatsappDialog;\r\n        setWhatsappDialog(prev => ({ ...prev, loading: true }));\r\n        try {\r\n            const pdfUrl = getPDFUrlSimple(order);\r\n            const mainOrder = order.ConvertedInvoice?.[0] || order;\r\n            const invoiceNo = order.Do_Inv_No || 'N/A';\r\n            const customerName = order.retailerNameGet || order.Retailer_Name || 'Customer';\r\n            const formattedDate = new Date(mainOrder.Do_Date || order.Do_Date).toLocaleDateString('en-GB');\r\n            const totalAmount = (mainOrder.Total_Invoice_value || order.Total_Invoice_value || 0).toFixed(2);\r\n\r\n            try {\r\n                const testResponse = await fetch(pdfUrl, { method: 'HEAD' });\r\n            } catch (testError) {\r\n                console.warn('PDF URL test warning:', testError.message);\r\n            }\r\n            //  const data=downloadInvoicePDF(invoiceNo);\r\n\r\n            const payload = {\r\n                template: {\r\n                    name: \"template_text\",\r\n                    language: \"en\"\r\n                },\r\n                source: \"crm\",\r\n                // wabaNumber: \"919944888054\",\r\n                wabaNumber: Dot_Pe_Number,\r\n                recipients: [`91${order.recipientPhone}`],\r\n                clientRefId: `invoice_${invoiceNo.replace(/\\//g, '_')}_${Date.now()}`,\r\n                params: {\r\n                    // header: `http://192.168.1.39:9001/uploads/invoices/1/${invoiceNo}.pdf`, \r\n                    body: [\r\n                        `${customerName}`,\r\n                        `${invoiceNo}`,\r\n                        `${formattedDate}`,\r\n                        `${totalAmount}`,\r\n                        'SM TRADERS',\r\n                        `${pdfUrl}`\r\n                    ]\r\n                }\r\n            };\r\n\r\n            const response = await DotPeWhatsAppService.sendTemplateMessage(payload);\r\n\r\n            if (response?.status) {\r\n                showSnackbar('WhatsApp message sent successfully!', 'success');\r\n                closeWhatsAppDialog();\r\n            } else {\r\n                console.error('WhatsApp API error:', response);\r\n                throw new Error(response?.message || 'Failed to send message');\r\n            }\r\n\r\n        } catch (error) {\r\n            console.error('Error sending WhatsApp:', error);\r\n            showSnackbar(`Failed to send message: ${error.message}`, 'error');\r\n            setWhatsappDialog(prev => ({ ...prev, loading: false }));\r\n        }\r\n    };\r\n\r\n    const renderWhatsAppDialogContent = () => {\r\n        const { order, method } = whatsappDialog;\r\n\r\n        return (\r\n            <Box>\r\n                <Box mb={2}>\r\n                    <Typography variant=\"subtitle2\" color=\"textSecondary\">\r\n                        Order: <strong>{order?.Do_Inv_No}</strong>\r\n                    </Typography>\r\n                    <Typography variant=\"subtitle2\" color=\"textSecondary\">\r\n                        Customer: <strong>{order?.retailerNameGet}</strong>\r\n                    </Typography>\r\n                    <Typography variant=\"subtitle2\" color=\"textSecondary\">\r\n                        Phone: <strong>{order?.Party_Mobile_1 || order?.recipientPhone}</strong>\r\n                    </Typography>\r\n                    <Typography variant=\"subtitle2\" color=\"textSecondary\">\r\n                        Amount: <strong>{NumberFormat(order?.Total_Invoice_value)}</strong>\r\n                    </Typography>\r\n                </Box>\r\n\r\n                <Divider sx={{ my: 2 }} />\r\n\r\n                {/* PDF Generation Status */}\r\n                {pdfGeneration.loading && (\r\n                    <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, my: 2, p: 2, bgcolor: 'info.light', borderRadius: 1 }}>\r\n                        {/* <CircularProgress size={20} /> */}\r\n                        <Typography variant=\"body2\">\r\n                            Generating PDF document...\r\n                        </Typography>\r\n                    </Box>\r\n                )}\r\n\r\n                {pdfGeneration.error && (\r\n                    <Alert severity=\"error\" sx={{ my: 2 }}>\r\n                        <Typography variant=\"body2\">\r\n                            Failed to generate PDF: {pdfGeneration.error}\r\n                        </Typography>\r\n                        <Button\r\n                            size=\"small\"\r\n                            onClick={() => generateAndStorePDF(order)}\r\n                            sx={{ mt: 1 }}\r\n                        >\r\n                            Retry PDF Generation\r\n                        </Button>\r\n                    </Alert>\r\n                )}\r\n\r\n                {pdfGeneration.pdfUrl && !pdfGeneration.loading && (\r\n                    <Alert severity=\"success\" sx={{ my: 2 }}>\r\n                        <Typography variant=\"body2\" fontWeight=\"bold\">\r\n                             PDF generated successfully!\r\n                        </Typography>\r\n                        <Box sx={{ mt: 1 }}>\r\n                            <Typography variant=\"caption\" display=\"block\">\r\n                                File: {pdfGeneration.fileName}\r\n                            </Typography>\r\n                            <Typography variant=\"caption\" display=\"block\">\r\n                                Secure URL generated with token\r\n                            </Typography>\r\n\r\n\r\n                            <Button\r\n                                size=\"small\"\r\n                                variant=\"outlined\"\r\n                                onClick={() => downloadInvoicePDF(\r\n                                    order.Do_Inv_No,\r\n                                    pdfGeneration.fileName\r\n                                )}\r\n                                sx={{ mt: 1 }}\r\n                                startIcon={<Print fontSize=\"small\" />}\r\n                            >\r\n                                Test Download PDF\r\n                            </Button>\r\n                        </Box>\r\n                    </Alert>\r\n                )}\r\n\r\n                <Box mb={2}>\r\n                    <Typography variant=\"subtitle1\" fontWeight=\"bold\" mb={1}>\r\n                        Choose sending method:\r\n                    </Typography>\r\n                    <RadioGroup\r\n                        value={method}\r\n                        onChange={(e) => setWhatsappDialog(prev => ({ ...prev, method: e.target.value }))}\r\n                    >\r\n                        <FormControlLabel\r\n                            value=\"pdf-link\"\r\n                            control={<Radio size=\"small\" />}\r\n                            label={\r\n                                <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                                    <span>Send PDF Download Link</span>\r\n                                    {/* {pdfGeneration.pdfUrl && (\r\n                                    // <CheckCircle fontSize=\"small\" color=\"success\" />\r\n                                )} */}\r\n                                </Box>\r\n                            }\r\n                            disabled={!pdfGeneration.pdfUrl && !pdfGeneration.loading}\r\n                        />\r\n\r\n                        <FormControlLabel\r\n                            value=\"pdf-template\"\r\n                            control={<Radio size=\"small\" />}\r\n                            label=\"Send with PDF Template\"\r\n                        />\r\n\r\n                        <FormControlLabel\r\n                            value=\"other-template\"\r\n                            control={<Radio size=\"small\" />}\r\n                            label=\"Send with Text Template\"\r\n                        />\r\n                    </RadioGroup>\r\n                </Box>\r\n\r\n                {method === 'pdf-template' && (\r\n                    <Box>\r\n                        <FormControl fullWidth variant=\"outlined\" size=\"small\">\r\n                            <InputLabel>Select PDF Template</InputLabel>\r\n                            <MuiSelect\r\n                                value={selectedTemplate}\r\n                                onChange={(e) => setSelectedTemplate(e.target.value)}\r\n                                label=\"Select PDF Template\"\r\n                            >\r\n                                <MenuItem value=\"\"><em>Select a PDF template</em></MenuItem>\r\n                                {pdfTemplates.length > 0 ? (\r\n                                    pdfTemplates.map((template) => {\r\n                                        const templateName = template.templateName || template.name;\r\n                                        const eventId = template.eventId || template.id;\r\n                                        return (\r\n                                            <MenuItem key={eventId} value={templateName}>\r\n                                                {templateName} ({template.language || 'en'})\r\n                                                {template.templateStatus && ` - ${template.templateStatus}`}\r\n                                            </MenuItem>\r\n                                        );\r\n                                    })\r\n                                ) : (\r\n                                    <MenuItem disabled>No PDF templates available</MenuItem>\r\n                                )}\r\n                            </MuiSelect>\r\n                        </FormControl>\r\n                    </Box>\r\n                )}\r\n\r\n                {method === 'other-template' && (\r\n                    <Box>\r\n                        <FormControl fullWidth variant=\"outlined\" size=\"small\">\r\n                            <InputLabel>Select Text Template</InputLabel>\r\n                            <MuiSelect\r\n                                value={selectedTemplate}\r\n                                onChange={(e) => setSelectedTemplate(e.target.value)}\r\n                                label=\"Select Text Template\"\r\n                            >\r\n                                <MenuItem value=\"\"><em>Select a text template</em></MenuItem>\r\n                                {otherTemplates.length > 0 ? (\r\n                                    otherTemplates.map((template) => {\r\n                                        const templateName = template.templateName || template.name;\r\n                                        const eventId = template.eventId || template.id;\r\n                                        return (\r\n                                            <MenuItem key={eventId} value={templateName}>\r\n                                                {templateName} ({template.language || 'en'})\r\n                                            </MenuItem>\r\n                                        );\r\n                                    })\r\n                                ) : (\r\n                                    <MenuItem disabled>No text templates available</MenuItem>\r\n                                )}\r\n                            </MuiSelect>\r\n                        </FormControl>\r\n                    </Box>\r\n                )}\r\n\r\n                {(selectedTemplate && method.includes('template')) && (\r\n                    <Box mt={3} p={2} border={1} borderColor=\"divider\" borderRadius={1}>\r\n                        <Typography variant=\"subtitle2\" fontWeight=\"bold\" mb={1}>\r\n                            Preview:\r\n                        </Typography>\r\n                        <Typography variant=\"body2\">\r\n                            <strong>Template:</strong> {selectedTemplate}<br />\r\n                            <strong>Invoice:</strong> {order?.Do_Inv_No}<br />\r\n                            <strong>Customer:</strong> {order?.retailerNameGet}<br />\r\n                            <strong>Amount:</strong> {NumberFormat(order?.Total_Invoice_value)}\r\n                            {pdfGeneration.pdfUrl && (\r\n                                <>\r\n                                    <br />\r\n                                    <strong>PDF URL:</strong> Will be included in message\r\n                                </>\r\n                            )}\r\n                        </Typography>\r\n                    </Box>\r\n                )}\r\n\r\n                {method === 'pdf-link' && pdfGeneration.pdfUrl && (\r\n                    <Box mt={3} p={2} border={1} borderColor=\"divider\" borderRadius={1}>\r\n                        <Typography variant=\"subtitle2\" fontWeight=\"bold\" mb={1}>\r\n                            PDF Link Preview:\r\n                        </Typography>\r\n                        <Typography variant=\"body2\">\r\n                            The customer will receive a WhatsApp message with a secure link to download the PDF invoice.\r\n                            <br /><br />\r\n                            <strong>Invoice PDF Details:</strong>\r\n                            <br /> File: {pdfGeneration.fileName}\r\n                            <br /> Secure encrypted link\r\n                            <br /> Valid for 7 days\r\n                            <br /> Professional invoice format\r\n                        </Typography>\r\n                    </Box>\r\n                )}\r\n            </Box>\r\n        );\r\n    };\r\n\r\n    const getRecipientPhone = async (order) => {\r\n        try {\r\n            const response = await fetchLink({\r\n                address: `masters/getlolDetails`\r\n            });\r\n\r\n            if (response && response.success && response.data) {\r\n                const retailerData = response.data.find(item =>\r\n                    Number(item.Ret_Id) === Number(order?.Retailer_Id)\r\n                );\r\n\r\n                return retailerData?.Party_Mobile_1 || order.Customer_Phone;\r\n            }\r\n            return order.Customer_Phone;\r\n        } catch (error) {\r\n            console.error('Error fetching recipient phone:', error);\r\n            return order.Customer_Phone;\r\n        }\r\n    };\r\n\r\n    const selectedTotals = useMemo(() => {\r\n        const selectedIds = multipleCostCenterUpdateValues.Do_Id;\r\n\r\n        if (!selectedIds.length) {\r\n            return { billQty: 0, altActQty: 0 };\r\n        }\r\n\r\n        let billQty = 0;\r\n        let altActQty = 0;\r\n\r\n        salesInvoices\r\n            .filter(inv => selectedIds.includes(toNumber(inv.Do_Id)))\r\n            .forEach(inv => {\r\n                if (Array.isArray(inv.stockDetails)) {\r\n                    inv.stockDetails.forEach(item => {\r\n                        billQty += Number(item.Bill_Qty) || 0;\r\n                        altActQty += Number(item.Alt_Act_Qty) || 0;\r\n                    });\r\n                }\r\n            });\r\n\r\n        return { billQty, altActQty };\r\n    }, [multipleCostCenterUpdateValues.Do_Id, salesInvoices]);\r\n\r\n    useEffect(() => {\r\n        fetchLink({ address: \"masters/erpCostCenter/dropDown\" })\r\n            .then((data) => setCostCenterData(toArray(data.data)))\r\n            .catch(console.error);\r\n    }, []);\r\n\r\n    const costTypeColumns = useMemo(() => {\r\n        const columns = costTypes\r\n            .filter((costType) => uniqueInvolvedCost.includes(toNumber(costType.Cost_Category_Id)))\r\n            .map((costType) => {\r\n                const field = `costType_${toNumber(costType.Cost_Category_Id)}`;\r\n\r\n                return {\r\n                    costType: costType.Cost_Category,\r\n                    field: field,\r\n                    columnConfig: {\r\n                        Field_Name: field,\r\n                        Fied_Data: \"string\",\r\n                        isVisible: 1,\r\n                        ColumnHeader: costType.Cost_Category,\r\n                        isCustomCell: true,\r\n                        getFilterValues: (row) => getCostTypeEmployees(row, costType.Cost_Category_Id),\r\n                        Cell: ({ row }) => {\r\n                            const names = getCostTypeEmployees(row, costType.Cost_Category_Id).join(\", \");\r\n                            return <span>{names || \"-\"}</span>;\r\n                        },\r\n                    }\r\n                };\r\n            });\r\n\r\n        return columns.sort((a, b) => {\r\n            const aName = a.costType.toLowerCase();\r\n            const bName = b.costType.toLowerCase();\r\n\r\n            if (aName.includes('broker')) return -1;\r\n            if (bName.includes('broker')) return 1;\r\n\r\n            if (aName.includes('transport')) return -1;\r\n            if (bName.includes('transport')) return 1;\r\n\r\n            return a.costType.localeCompare(b.costType);\r\n        }).map(c => c.columnConfig);\r\n    }, [costTypes, uniqueInvolvedCost]);\r\n\r\n    const filterColumns = useMemo(() => [...columns, ...costTypeColumns], [columns, costTypeColumns]);\r\n\r\n    // const fetchSalesInvoices = () => setFilters((pre) => ({ ...pre, fetchTrigger: pre.fetchTrigger + 1 }));\r\n\r\n    const onCloseAssignDialog = () =>\r\n        setFilters((prev) => ({ ...prev, assignDialog: false, selectedInvoice: null }));\r\n\r\n    const onCloseFilterDialog = () => setFilters((prev) => ({ ...prev, filterDialog: false }));\r\n\r\n    const onCloseMultipleUpdateCostCategoryDialog = () => {\r\n        setMultipleCostCenterUpdateValues(multipleStaffUpdateInitialValues);\r\n        setFilters((prev) => ({ ...prev, multipleStaffUpdateDialog: false }));\r\n    };\r\n\r\n    const onCloseMultipleStaffRemoveDialog = () => {\r\n        setMultipleStaffRemoveValues(multipleStaffRemoveInitialValues);\r\n        setFilters((prev) => ({ ...prev, multipleStaffRemoveDialog: false }));\r\n    };\r\n\r\n    const onClosePrintDialog = () => setPrintInvoice((prev) => ({ Do_Id: null, Do_Date: null, open: false }));\r\n\r\n    const onCloseKatchathDialog = () => setKatchathCopyPrint((prev) => ({ Do_Id: null, open: false }));\r\n\r\n    const onCloseDeliverySlipDialog = () => setDeliverySlipPrint((prev) => ({ Do_Id: null, Do_Date: null, open: false }));\r\n\r\n    const onChangeEmployee = (invoice, selectedOptions, costType) => {\r\n        setFilters((prev) => {\r\n            const updatedInvolvedStaffs = toArray(prev.selectedInvoice?.involvedStaffs)\r\n                .filter((emp) => !isEqualNumber(emp.Emp_Type_Id, costType.Cost_Category_Id))\r\n                .concat(selectedOptions);\r\n\r\n            return {\r\n                ...prev,\r\n                selectedInvoice: {\r\n                    ...invoice,\r\n                    involvedStaffs: updatedInvolvedStaffs,\r\n                },\r\n            };\r\n        });\r\n    };\r\n\r\n    const fetchSalesInvoices = () => {\r\n        if (viewMode === 'pending') {\r\n            fetchPendingInvoices();\r\n        } else {\r\n            setFilters((pre) => ({ ...pre, fetchTrigger: pre.fetchTrigger + 1 }));\r\n        }\r\n    };\r\n\r\n    const getPdfDownloadUrl = (invoiceId, token) => {\r\n        const baseUrl = api;\r\n        const cleanInvoiceNo = invoiceId.replace(/\\//g, '_');\r\n        const pdfParam = `${cleanInvoiceNo}`;\r\n        const url = `${baseUrl}sales/downloadPdf?Do_Inv_No=${pdfParam}`;\r\n\r\n        return url;\r\n    };\r\n\r\n    const downloadInvoicePDF = async (invoiceId, fileName = null) => {\r\n        try {\r\n            const downloadUrl = getPdfDownloadUrl(invoiceId);\r\n            const a = document.createElement('a');\r\n            a.href = downloadUrl;\r\n            a.download = fileName || `${invoiceId}.pdf`;\r\n            document.body.appendChild(a);\r\n            a.click();\r\n            document.body.removeChild(a);\r\n\r\n            return true;\r\n        } catch (error) {\r\n            console.error('Error downloading PDF:', error);\r\n            throw error;\r\n        }\r\n    };\r\n\r\n    const convertToISTShort = (isoString) => {\r\n        if (!isoString) return '';\r\n\r\n        try {\r\n            const date = new Date(isoString);\r\n            const istOffset = 5.5 * 60 * 60 * 1000;\r\n            const istDate = new Date(date.getTime() + istOffset);\r\n\r\n            const day = String(istDate.getUTCDate()).padStart(2, '0');\r\n            const month = String(istDate.getUTCMonth() + 1).padStart(2, '0');\r\n            const year = istDate.getUTCFullYear();\r\n            const hours = String(istDate.getUTCHours()).padStart(2, '0');\r\n            const minutes = String(istDate.getUTCMinutes()).padStart(2, '0');\r\n\r\n            return `${hours}:${minutes}`;\r\n        } catch (error) {\r\n            return isoString;\r\n        }\r\n    };\r\n\r\n    const downloadSelectedAsExcel = () => {\r\n        const selectedIds = multipleCostCenterUpdateValues.Do_Id;\r\n\r\n        if (selectedIds.length === 0) {\r\n            toast.warning(\"Please select at least one invoice to download\");\r\n            return;\r\n        }\r\n\r\n        setDownloadLoading(true);\r\n        handleDownloadClose();\r\n\r\n        try {\r\n            const selectedInvoices = salesInvoices.filter(inv =>\r\n                selectedIds.includes(toNumber(inv.Do_Id))\r\n            );\r\n            const excelData = [];\r\n            selectedInvoices.forEach((invoice, index) => {\r\n                const mainRow = {\r\n                    'S.No': index + 1,\r\n                    'Invoice No': invoice.Do_Inv_No || '',\r\n                    'Created': convertToISTShort(invoice.createdOn),\r\n                    'Voucher Type': invoice.voucherTypeGet || '',\r\n                    'Customer': invoice.retailerNameGet || '',\r\n                    'Bill Qty': invoice.stockDetails ?\r\n                        invoice.stockDetails.reduce((sum, item) => sum + (Number(item.Bill_Qty) || 0), 0) : 0,\r\n                    'Alt Act Qty': invoice.stockDetails ?\r\n                        invoice.stockDetails.reduce((sum, item) => sum + (Number(item.Alt_Act_Qty) || 0), 0) : 0,\r\n                    'Narration': invoice.Narration || '',\r\n                    'Total Amount': invoice.Total_Invoice_value || 0,\r\n                    'Delivery Status': invoice.Delivery_Status || '',\r\n                };\r\n                costTypes\r\n                    .filter((costType) => uniqueInvolvedCost.includes(toNumber(costType.Cost_Category_Id)))\r\n                    .forEach(costType => {\r\n                        const names = getCostTypeEmployees(invoice, costType.Cost_Category_Id).join(\", \");\r\n                        mainRow[costType.Cost_Category] = names || '-';\r\n                    });\r\n\r\n                excelData.push(mainRow);\r\n            });\r\n\r\n            const wb = XLSX.utils.book_new();\r\n            const ws = XLSX.utils.json_to_sheet(excelData);\r\n            const colWidths = [];\r\n            const range = XLSX.utils.decode_range(ws['!ref'] || 'A1:A1');\r\n            for (let C = range.s.c; C <= range.e.c; ++C) {\r\n                let maxWidth = 10;\r\n                for (let R = range.s.r; R <= range.e.r; ++R) {\r\n                    const cell = ws[XLSX.utils.encode_cell({ r: R, c: C })];\r\n                    if (cell && cell.v) {\r\n                        const width = String(cell.v).length + 2;\r\n                        if (width > maxWidth) maxWidth = width;\r\n                    }\r\n                }\r\n                colWidths[C] = { wch: Math.min(maxWidth, 50) };\r\n            }\r\n            ws['!cols'] = colWidths;\r\n            XLSX.utils.book_append_sheet(wb, ws, \"Invoices\");\r\n            const fileName = `Invoices_${viewMode}_${new Date().toISOString().split('T')[0]}.xlsx`;\r\n            XLSX.writeFile(wb, fileName);\r\n\r\n            toast.success(`Downloaded ${selectedIds.length} invoices as Excel`);\r\n        } catch (error) {\r\n            console.error('Error downloading Excel:', error);\r\n            toast.error(`Failed to download Excel: ${error.message}`);\r\n        } finally {\r\n            setDownloadLoading(false);\r\n        }\r\n    };\r\n\r\n    const downloadSelectedAsPDF = () => {\r\n        const selectedIds = multipleCostCenterUpdateValues.Do_Id;\r\n        if (selectedIds.length === 0) {\r\n            toast.warning(\"Please select at least one invoice to download\");\r\n            return;\r\n        }\r\n        setDownloadLoading(true);\r\n        handleDownloadClose();\r\n        try {\r\n            const selectedInvoices = salesInvoices.filter(inv =>\r\n                selectedIds.includes(toNumber(inv.Do_Id))\r\n            );\r\n            const doc = new jsPDF({\r\n                orientation: 'landscape',\r\n                unit: 'mm',\r\n                format: 'a4'\r\n            });\r\n            const tableData = [];\r\n            selectedInvoices.forEach((invoice, index) => {\r\n                const row = [\r\n                    index + 1, // S.No\r\n                    invoice.Do_Inv_No || 'N/A',\r\n                    invoice.Do_Date ? invoice.Do_Date.split('T')[0] : '',\r\n                    invoice.createdOn || '',\r\n                    invoice.voucherTypeGet || '',\r\n                    invoice.retailerNameGet || '',\r\n                    invoice.Retailer_GSTIN || '',\r\n                    `${NumberFormat(invoice.Total_Invoice_value || 0)}`,\r\n                    invoice.stockDetails ?\r\n                        invoice.stockDetails.reduce((sum, item) => sum + (Number(item.Bill_Qty) || 0), 0) : 0,\r\n                    invoice.stockDetails ?\r\n                        invoice.stockDetails.reduce((sum, item) => sum + (Number(item.Alt_Act_Qty) || 0), 0) : 0,\r\n                    invoice.Narration || '',\r\n                    invoice.Delivery_Status || '',\r\n                ];\r\n                // Add cost type columns\r\n                costTypes\r\n                    .filter((costType) => uniqueInvolvedCost.includes(toNumber(costType.Cost_Category_Id)))\r\n                    .forEach(costType => {\r\n                        const names = getCostTypeEmployees(invoice, costType.Cost_Category_Id).join(\", \");\r\n                        row.push(names || '-');\r\n                    });\r\n\r\n                tableData.push(row);\r\n            });\r\n\r\n            // Define table columns\r\n            const tableColumns = [\r\n                \"S.No\",\r\n                \"Invoice No\",\r\n                \"Invoice Date\",\r\n                \"Created On\",\r\n                \"Voucher Type\",\r\n                \"Customer\",\r\n                \"Customer GST\",\r\n                \"Total Amount\",\r\n                \"Bill Qty\",\r\n                \"Alt Act Qty\",\r\n                \"Narration\",\r\n                \"Delivery Status\",\r\n                ...costTypes\r\n                    .filter((costType) => uniqueInvolvedCost.includes(toNumber(costType.Cost_Category_Id)))\r\n                    .map(costType => costType.Cost_Category)\r\n            ];\r\n\r\n            // Add title\r\n            doc.setFontSize(16);\r\n            doc.setTextColor(40, 40, 40);\r\n            doc.text(`Invoices Report - ${viewMode === 'pending' ? 'Pending' : 'Sales'}`, 14, 15);\r\n\r\n            // Add generation date and summary\r\n            doc.setFontSize(8);\r\n            doc.setTextColor(100, 100, 100);\r\n            doc.text(`Generated on: ${new Date().toLocaleString()}`, 280, 10, { align: 'right' });\r\n            doc.text(`Total Invoices: ${selectedIds.length}`, 14, 22);\r\n            doc.text(`Date Range: ${filters.reqDate}`, 14, 27);\r\n\r\n            // Generate the table\r\n            doc.autoTable({\r\n                startY: 32,\r\n                head: [tableColumns],\r\n                body: tableData,\r\n                theme: 'grid',\r\n                styles: {\r\n                    fontSize: 7,\r\n                    cellPadding: 2,\r\n                    overflow: 'linebreak',\r\n                    cellWidth: 'wrap'\r\n                },\r\n                headStyles: {\r\n                    fillColor: [66, 66, 66],\r\n                    textColor: 255,\r\n                    fontStyle: 'bold',\r\n                    halign: 'center'\r\n                },\r\n                columnStyles: {\r\n                    0: { cellWidth: 10 }, // S.No\r\n                    1: { cellWidth: 25 }, // Invoice No\r\n                    2: { cellWidth: 20 }, // Invoice Date\r\n                    3: { cellWidth: 20 }, // Created On\r\n                    4: { cellWidth: 15 }, // Voucher Type\r\n                    5: { cellWidth: 30 }, // Customer\r\n                    6: { cellWidth: 25 }, // Customer GST\r\n                    7: { cellWidth: 20, halign: 'right' }, // Total Amount\r\n                    8: { cellWidth: 15, halign: 'right' }, // Bill Qty\r\n                    9: { cellWidth: 15, halign: 'right' }, // Alt Act Qty\r\n                    10: { cellWidth: 25 }, // Narration\r\n                    11: { cellWidth: 15 }, // Delivery Status\r\n                },\r\n                margin: { left: 10, right: 10 },\r\n                didDrawPage: (data) => {\r\n                    // Add page number at the bottom\r\n                    doc.setFontSize(8);\r\n                    doc.setTextColor(150, 150, 150);\r\n                    doc.text(\r\n                        `Page ${data.pageNumber} of ${doc.internal.getNumberOfPages()}`,\r\n                        data.settings.margin.left,\r\n                        doc.internal.pageSize.height - 10\r\n                    );\r\n                }\r\n            });\r\n\r\n            // Save PDF\r\n            const fileName = `Invoices_${viewMode}_${new Date().toISOString().split('T')[0]}.pdf`;\r\n            doc.save(fileName);\r\n\r\n            toast.success(`Downloaded ${selectedIds.length} invoices as PDF`);\r\n        } catch (error) {\r\n            console.error('Error downloading PDF:', error);\r\n            toast.error(`Failed to download PDF: ${error.message}`);\r\n        } finally {\r\n            setDownloadLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleDownloadClose = () => {\r\n        setDownloadAnchorEl(null);\r\n    };\r\n\r\n    const postAssignCostCenters = async (e) => {\r\n        e.preventDefault();\r\n        fetchLink({\r\n            address: \"sales/salesInvoice/lrReport\",\r\n            method: \"POST\",\r\n            bodyData: {\r\n                Do_Id: filters.selectedInvoice?.Do_Id,\r\n                involvedStaffs: filters.selectedInvoice?.involvedStaffs,\r\n                staffInvolvedStatus: toNumber(filters.selectedInvoice?.staffInvolvedStatus),\r\n            },\r\n            loadingOn,\r\n            loadingOff,\r\n        })\r\n            .then((data) => {\r\n                if (data.success) {\r\n                    toast.success(data.message);\r\n                    onCloseAssignDialog();\r\n                    if (viewMode === 'pending') {\r\n                        fetchPendingInvoices();\r\n                    } else {\r\n                        fetchSalesInvoices();\r\n                    }\r\n                } else {\r\n                    toast.error(data.message);\r\n                }\r\n            })\r\n            .catch((e2) => console.log(e2));\r\n    };\r\n\r\n    const postMultipleCostCenterUpdate = async () => {\r\n        fetchLink({\r\n            address: \"sales/salesInvoice/lrReport/multiple\",\r\n            method: \"POST\",\r\n            bodyData: {\r\n                CostCategory: toNumber(multipleCostCenterUpdateValues.CostCategory.value),\r\n                Do_Id: multipleCostCenterUpdateValues.Do_Id,\r\n                involvedStaffs: multipleCostCenterUpdateValues.involvedStaffs.map((option) => toNumber(option.value)),\r\n                staffInvolvedStatus: toNumber(multipleCostCenterUpdateValues.staffInvolvedStatus),\r\n                deliveryStatus: toNumber(multipleCostCenterUpdateValues.deliveryStatus),\r\n            },\r\n            loadingOn,\r\n            loadingOff,\r\n        }).then((data) => {\r\n            if (data.success) {\r\n                toast.success(data.message);\r\n                onCloseMultipleUpdateCostCategoryDialog();\r\n                if (viewMode === 'pending') {\r\n                    fetchPendingInvoices();\r\n                } else {\r\n                    fetchSalesInvoices();\r\n                }\r\n            } else {\r\n                toast.error(data.message);\r\n            }\r\n        }).catch((e) => console.log(e));\r\n    };\r\n\r\n    useEffect(() => {\r\n        applyFilters();\r\n    }, [columnFilters, salesInvoices, filterColumns]);\r\n\r\n    const handleFilterChange = (column, value) => {\r\n        setColumnFilters((prevFilters) => ({\r\n            ...prevFilters,\r\n            [column]: value,\r\n        }));\r\n    };\r\n\r\n    const applyFilters = () => {\r\n        let filtered = [...salesInvoices];\r\n\r\n        for (const column of filterColumns) {\r\n            const key = column.Field_Name;\r\n            const filterVal = columnFilters[key];\r\n            if (!filterVal) continue;\r\n\r\n            if (filterVal.type === \"range\") {\r\n                const { min, max } = filterVal;\r\n                filtered = filtered.filter((item) => {\r\n                    const value = item[key];\r\n                    return (min === undefined || value >= min) && (max === undefined || value <= max);\r\n                });\r\n                continue;\r\n            }\r\n\r\n            if (filterVal.type === \"date\") {\r\n                const { start, end } = filterVal.value || {};\r\n                filtered = filtered.filter((item) => {\r\n                    const dateValue = new Date(item[key]);\r\n                    return (start === undefined || dateValue >= new Date(start)) && (end === undefined || dateValue <= new Date(end));\r\n                });\r\n                continue;\r\n            }\r\n\r\n            if (Array.isArray(filterVal)) {\r\n                const selected = filterVal.map(normalize).filter(Boolean);\r\n                if (!selected.length) continue;\r\n\r\n                if (typeof column.getFilterValues === \"function\") {\r\n                    filtered = filtered.filter((item) => {\r\n                        const rowVals = (column.getFilterValues(item) || []).map(normalize).filter(Boolean);\r\n                        return selected.some((v) => rowVals.includes(v));\r\n                    });\r\n                } else {\r\n                    filtered = filtered.filter((item) => selected.includes(normalize(item[key])));\r\n                }\r\n            }\r\n        }\r\n\r\n        setFilteredData(filtered);\r\n    };\r\n\r\n    const handleMultiPrint = useReactToPrint({\r\n        content: () => multiPrintRef.current,\r\n        documentTitle: \"Multiple Documents\",\r\n        pageStyle: currentPrintType === 'delivery_slip' ? `\r\n        @page {\r\n            margin: 0.7cm 0 0 0;\r\n            size: auto;\r\n        }\r\n        html, body {\r\n            margin: 0;\r\n            padding: 0;\r\n        }\r\n        body {\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: center;\r\n        }\r\n        @media print {\r\n            body > * {\r\n                margin-left: 0 !important;\r\n                margin-right: 0 !important;\r\n            }\r\n            .no-print {\r\n                display: none !important;\r\n            }\r\n        }\r\n    ` : currentPrintType === 'sales_invoice' ? `\r\n        @page {\r\n            size: A5 landscape;\r\n            margin: 0;\r\n        }\r\n        html, body {\r\n            margin: 0;\r\n            padding: 0;\r\n            -webkit-print-color-adjust: exact;\r\n            print-color-adjust: exact;\r\n        }\r\n        body {\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: center;\r\n        }\r\n        @media print {\r\n            body > * {\r\n                margin-left: 0 !important;\r\n                margin-right: 0 !important;\r\n            }\r\n            .no-print {\r\n                display: none !important;\r\n            }\r\n        }\r\n    ` : currentPrintType === 'katchath' ? `\r\n        @page {\r\n            margin: 0.6cm;\r\n            size: auto;\r\n        }\r\n        html, body {\r\n            margin: 0;\r\n            padding: 0;\r\n        }\r\n        body {\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: center;\r\n        }\r\n        @media print {\r\n            body > * {\r\n                margin-left: 0 !important;\r\n                margin-right: 0 !important;\r\n            }\r\n            .no-print {\r\n                display: none !important;\r\n            }\r\n        }\r\n    ` : `\r\n        @page {\r\n            margin: 0.6cm;\r\n            size: auto;\r\n        }\r\n        html, body {\r\n            margin: 0;\r\n            padding: 0;\r\n        }\r\n        body {\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: center;\r\n        }\r\n        @media print {\r\n            body > * {\r\n                margin-left: 0 !important;\r\n                margin-right: 0 !important;\r\n            }\r\n            .no-print {\r\n                display: none !important;\r\n            }\r\n        }\r\n    `,\r\n    });\r\n\r\n    const renderFilter = (column) => {\r\n        const { Field_Name, Fied_Data, ColumnHeader } = column;\r\n\r\n        if (Fied_Data === \"number\") {\r\n            return (\r\n                <div className=\"d-flex justify-content-between px-2\">\r\n                    <input\r\n                        placeholder=\"Min\"\r\n                        type=\"number\"\r\n                        className=\"bg-light border-0 m-1 p-1 w-50\"\r\n                        value={columnFilters[Field_Name]?.min ?? \"\"}\r\n                        onChange={(e) =>\r\n                            handleFilterChange(Field_Name, {\r\n                                type: \"range\",\r\n                                ...columnFilters[Field_Name],\r\n                                min: e.target.value ? parseFloat(e.target.value) : undefined,\r\n                            })\r\n                        }\r\n                    />\r\n                    <input\r\n                        placeholder=\"Max\"\r\n                        type=\"number\"\r\n                        className=\"bg-light border-0 m-1 p-1 w-50\"\r\n                        value={columnFilters[Field_Name]?.max ?? \"\"}\r\n                        onChange={(e) =>\r\n                            handleFilterChange(Field_Name, {\r\n                                type: \"range\",\r\n                                ...columnFilters[Field_Name],\r\n                                max: e.target.value ? parseFloat(e.target.value) : undefined,\r\n                            })\r\n                        }\r\n                    />\r\n                </div>\r\n            );\r\n        }\r\n\r\n        if (Fied_Data === \"date\") {\r\n            return (\r\n                <div className=\"d-flex justify-content-between px-2\">\r\n                    <input\r\n                        placeholder=\"Start Date\"\r\n                        type=\"date\"\r\n                        className=\"bg-light border-0 m-1 p-1 w-50\"\r\n                        value={columnFilters[Field_Name]?.value?.start ?? \"\"}\r\n                        onChange={(e) =>\r\n                            handleFilterChange(Field_Name, {\r\n                                type: \"date\",\r\n                                value: { ...columnFilters[Field_Name]?.value, start: e.target.value || undefined },\r\n                            })\r\n                        }\r\n                    />\r\n                    <input\r\n                        placeholder=\"End Date\"\r\n                        type=\"date\"\r\n                        className=\"bg-light border-0 m-1 p-1 w-50\"\r\n                        value={columnFilters[Field_Name]?.value?.end ?? \"\"}\r\n                        onChange={(e) =>\r\n                            handleFilterChange(Field_Name, {\r\n                                type: \"date\",\r\n                                value: { ...columnFilters[Field_Name]?.value, end: e.target.value || undefined },\r\n                            })\r\n                        }\r\n                    />\r\n                </div>\r\n            );\r\n        }\r\n\r\n        if (Fied_Data === \"string\") {\r\n            const rawValues =\r\n                typeof column.getFilterValues === \"function\"\r\n                    ? salesInvoices.flatMap((item) => column.getFilterValues(item) || [])\r\n                    : salesInvoices.map((item) => item[Field_Name]);\r\n\r\n            const distinctValues = uniqueCaseInsensitive(rawValues);\r\n\r\n            return (\r\n                <Autocomplete\r\n                    multiple\r\n                    id={`${Field_Name}-filter`}\r\n                    options={distinctValues}\r\n                    disableCloseOnSelect\r\n                    getOptionLabel={(option) => option}\r\n                    value={columnFilters[Field_Name] || []}\r\n                    onChange={(event, newValue) => handleFilterChange(Field_Name, newValue)}\r\n                    renderOption={(props, option, { selected }) => (\r\n                        <li {...props}>\r\n                            <Checkbox icon={icon} checkedIcon={checkedIcon} style={{ marginRight: 8 }} checked={selected} />\r\n                            {option}\r\n                        </li>\r\n                    )}\r\n                    isOptionEqualToValue={(opt, val) => opt === val}\r\n                    renderInput={(params) => (\r\n                        <TextField\r\n                            {...params}\r\n                            label={ColumnHeader || Field_Name}\r\n                            placeholder={`Select ${(ColumnHeader || Field_Name).replace(/_/g, \" \")}`}\r\n                        />\r\n                    )}\r\n                />\r\n            );\r\n        }\r\n\r\n        return null;\r\n    };\r\n\r\n    const postMultipleStaffRemove = async () => {\r\n        if (!multipleStaffRemoveValues.CostCategory.value || multipleStaffRemoveValues.Do_Id.length === 0) {\r\n            toast.error(\"Please select a Cost Category and at least one invoice\");\r\n            return;\r\n        }\r\n\r\n        fetchLink({\r\n            address: \"sales/salesInvoice/lrReport/multipleDelete\",\r\n            method: \"POST\",\r\n            bodyData: {\r\n                CostCategory: toNumber(multipleStaffRemoveValues.CostCategory.value),\r\n                Do_Id: multipleStaffRemoveValues.Do_Id,\r\n                staffInvolvedStatus: toNumber(multipleStaffRemoveValues.staffInvolvedStatus),\r\n                deliveryStatus: toNumber(multipleStaffRemoveValues.deliveryStatus),\r\n            },\r\n            loadingOn,\r\n            loadingOff,\r\n        }).then((data) => {\r\n            if (data.success) {\r\n                toast.success(data.message);\r\n                onCloseMultipleStaffRemoveDialog();\r\n                if (viewMode === 'pending') {\r\n                    fetchPendingInvoices();\r\n                } else {\r\n                    fetchSalesInvoices();\r\n                }\r\n            } else {\r\n                toast.error(data.message);\r\n            }\r\n        }).catch((e) => console.log(e));\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (selectAllCheckBox) {\r\n            const allDoIds = filteredData.map(item => toNumber(item.Do_Id));\r\n            setMultipleCostCenterUpdateValues(prev => ({ ...prev, Do_Id: allDoIds }));\r\n            setMultipleStaffRemoveValues(prev => ({ ...prev, Do_Id: allDoIds }));\r\n        } else {\r\n            setMultipleCostCenterUpdateValues(prev => ({ ...prev, Do_Id: [] }));\r\n            setMultipleStaffRemoveValues(prev => ({ ...prev, Do_Id: [] }));\r\n        }\r\n    }, [selectAllCheckBox, filteredData]);\r\n\r\n    const saveMultipleInvoiceValidation = useMemo(() => {\r\n        const validDoId = multipleCostCenterUpdateValues.Do_Id.length > 0;\r\n        const validCostCenterId = multipleCostCenterUpdateValues.involvedStaffs.length > 0;\r\n        const validCostCategory =\r\n            checkIsNumber(multipleCostCenterUpdateValues.CostCategory.value) &&\r\n            !isEqualNumber(multipleCostCenterUpdateValues.CostCategory.value, 0);\r\n\r\n        if (!validDoId) return false;\r\n        if (validCostCenterId && !validCostCategory) return false;\r\n        if (!validCostCenterId && validCostCategory) return false;\r\n        return true;\r\n    }, [multipleCostCenterUpdateValues]);\r\n\r\n    const removeMultipleInvoiceValidation = useMemo(() => {\r\n        const validDoId = multipleStaffRemoveValues.Do_Id.length > 0;\r\n        const validCostCategory =\r\n            checkIsNumber(multipleStaffRemoveValues.CostCategory.value) &&\r\n            !isEqualNumber(multipleStaffRemoveValues.CostCategory.value, 0);\r\n\r\n        return validDoId && validCostCategory;\r\n    }, [multipleStaffRemoveValues]);\r\n\r\n    if (isLoading && !hasInitialLoading) {\r\n        return (\r\n            <div className=\"d-flex justify-content-center align-items-center\" style={{ height: '400px' }}>\r\n                <Box sx={{ display: 'flex', flexDirection: 'column', alignItems: 'center', gap: 2 }}>\r\n                    <div className=\"text-muted\">\r\n                        Loading {viewMode === 'pending' ? 'Pending' : 'Sales'} Invoices...\r\n                    </div>\r\n                </Box>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // Add this near your other functions\r\n    const refreshData = () => {\r\n        if (viewMode === 'pending') {\r\n            fetchPendingInvoices();\r\n        } else {\r\n            fetchAllInvoices(true);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <FilterableTable\r\n                title={viewMode === 'pending' ? \"Pending Invoices\" : \"Sales Invoice\"}\r\n                columns={[\r\n                    {\r\n                        Field_Name: \"Select\",\r\n                        isVisible: 1,\r\n                        isCustomCell: true,\r\n                        Cell: ({ row }) => {\r\n                            const isSelected = multipleCostCenterUpdateValues.Do_Id.includes(toNumber(row.Do_Id));\r\n                            return (\r\n                                <Checkbox\r\n                                    onFocus={(e) => {\r\n                                        e.target.blur();\r\n                                    }}\r\n                                    checked={isSelected}\r\n                                    onChange={() => {\r\n                                        if (isSelected) {\r\n                                            setMultipleCostCenterUpdateValues((prev) => ({\r\n                                                ...prev,\r\n                                                Do_Id: prev.Do_Id.filter((item) => !isEqualNumber(item, row.Do_Id)),\r\n                                            }));\r\n                                            setMultipleStaffRemoveValues((prev) => ({\r\n                                                ...prev,\r\n                                                Do_Id: prev.Do_Id.filter((item) => !isEqualNumber(item, row.Do_Id)),\r\n                                            }));\r\n                                        } else {\r\n                                            setMultipleCostCenterUpdateValues((prev) => ({\r\n                                                ...prev,\r\n                                                Do_Id: [...prev.Do_Id, toNumber(row.Do_Id)],\r\n                                            }));\r\n                                            setMultipleStaffRemoveValues((prev) => ({\r\n                                                ...prev,\r\n                                                Do_Id: [...prev.Do_Id, toNumber(row.Do_Id)],\r\n                                            }));\r\n                                        }\r\n                                    }}\r\n                                />\r\n                            );\r\n                        },\r\n                    },\r\n                    createCol(\"Do_Inv_No\", \"string\", \"Invoice\"),\r\n                    {\r\n                        Field_Name: \"\",\r\n                        isVisible: 1,\r\n                        isCustomCell: true,\r\n                        Cell: ({ row }) => {\r\n                            return row?.createdOn ? LocalDateWithTime(row?.createdOn) : \"\";\r\n                        },\r\n                    },\r\n                    createCol(\"voucherTypeGet\", \"string\", \"Voucher\"),\r\n                    createCol(\"retailerNameGet\", \"string\", \"Customer\"),\r\n                    {\r\n                        Field_Name: \"BillQty\",\r\n                        isVisible: 1,\r\n                        isCustomCell: true,\r\n                        Cell: ({ row }) => {\r\n                            if (row.stockDetails && row.stockDetails.length > 0) {\r\n                                return row.stockDetails.reduce((sum, item) =>\r\n                                    sum + (Number(item.Bill_Qty) || 0), 0\r\n                                );\r\n                            }\r\n                            return 0;\r\n                        },\r\n                    },\r\n                    {\r\n                        Field_Name: \"AltActQty\",\r\n                        ColumnHeader: \"Alt Act Qty\",\r\n                        isVisible: 1,\r\n                        isCustomCell: true,\r\n                        Cell: ({ row }) =>\r\n                            RoundNumber(toArray(row.stockDetails).reduce(\r\n                                (s, i) => s + toNumber(i.Alt_Act_Qty),\r\n                                0\r\n                            ))\r\n                    },\r\n                    createCol(\"Narration\", \"string\", \"Narration\"),\r\n                    ...costTypeColumns,\r\n                    createCol(\"Delivery_Status\", \"string\", \"Delivery_Status\"),\r\n                    {\r\n                        Field_Name: \"Action\",\r\n                        isVisible: 1,\r\n                        isCustomCell: true,\r\n                        Cell: ({ row }) => {\r\n                            return (\r\n                                <ButtonActions\r\n                                    buttonsData={[\r\n                                        {\r\n                                            name: \"Add Employee\",\r\n                                            onclick: () => setFilters((prev) => ({ ...prev, assignDialog: true, selectedInvoice: row })),\r\n                                            icon: <PersonAdd fontSize=\"small\" color=\"primary\" />,\r\n                                            disabled: !AddRights && !EditRights,\r\n                                        },\r\n                                        {\r\n                                            name: \"Print Invoice\",\r\n                                            onclick: () => {\r\n                                                setPrintInvoice({ Do_Id: row.Do_Id, Do_Date: row.Do_Date, open: true })\r\n                                            },\r\n                                            icon: <Print fontSize=\"small\" color=\"primary\" />,\r\n                                            disabled: !PrintRights,\r\n                                        },\r\n                                        {\r\n                                            name: \"Delivery Slip\",\r\n                                            onclick: () => {\r\n                                                setDeliverySlipPrint({ Do_Id: row.Do_Id, Do_Date: row.Do_Date, open: true })\r\n                                            },\r\n                                            icon: <Print fontSize=\"small\" color=\"primary\" />,\r\n                                            disabled: !PrintRights,\r\n                                        },\r\n                                        {\r\n                                            name: \"Katchath Copy\",\r\n                                            onclick: () => {\r\n                                                setKatchathCopyPrint({ Do_Id: row.Do_Id, open: true })\r\n                                            },\r\n                                            icon: <Print fontSize=\"small\" color=\"primary\" />,\r\n                                            disabled: !PrintRights,\r\n                                        },\r\n                                        {\r\n                                            name: \"Send WhatsApp\",\r\n                                            onclick: () => {\r\n\r\n                                                handleWhatsAppClick(row);\r\n                                            },\r\n                                            icon: <WhatsAppIcon fontSize=\"small\" color=\"success\" />,\r\n                                            disabled: false,\r\n                                        }\r\n                                    ]}\r\n                                />\r\n                            )\r\n                        }\r\n                    },\r\n                ]}\r\n                dataArray={filteredData}\r\n                EnableSerialNumber\r\n                ButtonArea={\r\n                    <>\r\n                        <Tooltip title=\"Select All\">\r\n                            <Checkbox\r\n                                checked={selectAllCheckBox}\r\n                                onChange={e => setSelectAllCheckBox(e.target.checked)}\r\n                            />\r\n                        </Tooltip>\r\n\r\n                        <button\r\n                            type=\"button\"\r\n                            className={`btn btn-sm ${viewMode === 'pending' ? 'btn-primary' : 'btn-outline-secondary'}`}\r\n                            onClick={toggleViewMode}\r\n                            disabled={isRefreshing}\r\n                            style={{\r\n                                marginRight: '8px',\r\n                                display: 'inline-flex',\r\n                                alignItems: 'center',\r\n                                justifyContent: 'center'\r\n                            }}\r\n                        >\r\n                            <HourglassEmpty fontSize=\"small\" style={{ marginRight: '4px' }} />\r\n                            {viewMode === 'pending' ? \"New Invoices\" : \"Pending Invoice\"}\r\n                        </button>\r\n\r\n                        <IconButton\r\n                            size=\"small\"\r\n                            onClick={() => setFilters((prev) => ({ ...prev, multipleStaffUpdateDialog: true }))}\r\n                            disabled={!multipleCostCenterUpdateValues.Do_Id.length}\r\n                        >\r\n                            <PersonAdd fontSize=\"small\" />\r\n                        </IconButton>\r\n\r\n                        <IconButton\r\n                            size=\"small\"\r\n                            onClick={() => setFilters((prev) => ({ ...prev, multipleStaffRemoveDialog: true }))}\r\n                            disabled={!multipleStaffRemoveValues.Do_Id.length}\r\n                        >\r\n                            <PersonRemoveIcon fontSize=\"small\" />\r\n                        </IconButton>\r\n\r\n                        <IconButton\r\n                            size=\"small\"\r\n                            onClick={() => setFilters((prev) => ({ ...prev, filterDialog: true }))}\r\n                            disabled={isRefreshing}\r\n                        >\r\n                            <FilterAlt />\r\n                        </IconButton>\r\n\r\n                        <IconButton\r\n                            size=\"small\"\r\n                            onClick={() => {\r\n                                refreshData(); // Use the refresh function\r\n                            }}\r\n                            disabled={isRefreshing}\r\n                        >\r\n                            <Search />\r\n                        </IconButton>\r\n                        {viewMode === 'pending' && (\r\n                            <>\r\n\r\n                                <div>\r\n                                    <Button\r\n                                        variant=\"contained\"\r\n                                        size=\"small\"\r\n                                        startIcon={<Download />}\r\n                                        endIcon={<ArrowDropDown />}\r\n                                        onClick={handleDownloadClick}\r\n                                        disabled={!multipleCostCenterUpdateValues.Do_Id.length || downloadLoading}\r\n                                        sx={{ ml: 1, textTransform: 'none' }}\r\n                                    >\r\n                                        {downloadLoading ? 'Downloading...' : 'Download'}\r\n                                    </Button>\r\n                                    <Menu\r\n                                        anchorEl={downloadAnchorEl}\r\n                                        open={Boolean(downloadAnchorEl)}\r\n                                        onClose={handleDownloadClose}\r\n                                    >\r\n                                        <MenuItem onClick={downloadSelectedAsExcel} disabled={downloadLoading}>\r\n                                            <ListItemIcon>\r\n                                                <TableChart fontSize=\"small\" color=\"success\" />\r\n                                            </ListItemIcon>\r\n                                            <ListItemText>Download as Excel</ListItemText>\r\n                                        </MenuItem>\r\n                                        <MenuItem onClick={downloadSelectedAsPDF} disabled={downloadLoading}>\r\n                                            <ListItemIcon>\r\n                                                <PictureAsPdf fontSize=\"small\" color=\"error\" />\r\n                                            </ListItemIcon>\r\n                                            <ListItemText>Download as PDF</ListItemText>\r\n                                        </MenuItem>\r\n                                    </Menu>\r\n                                </div>\r\n                            </>\r\n                        )}\r\n\r\n                        {/* Date picker - visible in both modes */}\r\n                        <input\r\n                            type=\"date\"\r\n                            className=\"cus-inpt w-auto\"\r\n                            value={filters.reqDate}\r\n                            onChange={(e) => setFilters((prev) => ({ ...prev, reqDate: e.target.value }))}\r\n                            disabled={isRefreshing}\r\n                        />\r\n\r\n                        <IconButton\r\n                            size=\"small\"\r\n                            disabled={\r\n                                !filters.docType || !multipleCostCenterUpdateValues.Do_Id.length\r\n                            }\r\n                            onClick={() => {\r\n                                setCurrentPrintType(filters.docType);\r\n                                setMultiPrint({\r\n                                    open: true,\r\n                                    doIds: multipleCostCenterUpdateValues.Do_Id,\r\n                                    docType: filters.docType\r\n                                });\r\n                            }}\r\n                        >\r\n                            <Print />\r\n                        </IconButton>\r\n\r\n                        <select\r\n                            className=\"cus-inpt w-auto rounded-5 border-0\"\r\n                            disabled={!multipleCostCenterUpdateValues.Do_Id.length}\r\n                            value={filters.docType}\r\n                            onChange={(e) => {\r\n                                const selectedIndex = e.target.selectedIndex;\r\n                                const selectedText = e.target.options[selectedIndex].text;\r\n                                setFilters((prev) => ({\r\n                                    ...prev,\r\n                                    docType: e.target.value,\r\n                                    docTypeLabel: selectedText,\r\n                                }));\r\n                            }}\r\n                        >\r\n                            <option value=\"\">SELECT TYPE</option>\r\n                            <option value=\"sales_invoice\">SALES INVOICE</option>\r\n                            <option value=\"katchath\">KATCHATH</option>\r\n                            <option value=\"delivery_slip\">DELIVERY SLIP</option>\r\n                        </select>\r\n\r\n                        {viewMode === 'normal' && (<select\r\n                            className=\"cus-inpt w-auto rounded-5 border-0\"\r\n                            value={filters.staffStatus}\r\n                            onChange={(e) => {\r\n                                setFilters((prev) => ({\r\n                                    ...prev,\r\n                                    staffStatus: Number(e.target.value)\r\n                                }));\r\n                            }}\r\n                        >\r\n                            <option value=\"1\">ALL INVOICES</option>\r\n                            <option value=\"0\">INCOMPLETED INVOICES</option>\r\n                        </select>)}\r\n\r\n                        {viewMode === 'pending' && (\r\n                            <span className=\"ms-2 fw-bold text-primary\">\r\n                                Viewing Pending Invoices ({salesInvoices.length} found)\r\n                            </span>\r\n                        )}\r\n\r\n                        {multipleCostCenterUpdateValues.Do_Id.length > 0 && (\r\n                            <div className=\"d-flex gap-4 mb-0 p-0\">\r\n                                <div>\r\n                                    <strong>Total Bill Qty:</strong>{\" \"}\r\n                                    {selectedTotals.billQty}\r\n                                </div>\r\n                                <div>\r\n                                    <strong>Total Alt Act Qty:</strong>{\" \"}\r\n                                    {selectedTotals.altActQty}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </>\r\n                }\r\n            />\r\n\r\n            {/* Assign dialog */}\r\n            <Dialog open={filters.assignDialog} onClose={onCloseAssignDialog} maxWidth=\"lg\" fullWidth>\r\n                <DialogTitle>\r\n                    Assign Cost Centers: <span className=\"text-primary\">{filters.selectedInvoice?.Do_Inv_No}</span>\r\n                </DialogTitle>\r\n                <form onSubmit={postAssignCostCenters}>\r\n                    <DialogContent>\r\n                        <div className=\"row\">\r\n                            {costTypes\r\n                                .filter(\r\n                                    (costType) =>\r\n                                        ![\"Broker\", \"Transport\"].some((keyword) => String(costType?.Cost_Category).includes(keyword))\r\n                                )\r\n                                .map((costType, index) => {\r\n                                    const invoiceEmployee = toArray(filters.selectedInvoice?.involvedStaffs);\r\n                                    const empCostType = invoiceEmployee\r\n                                        .filter((emp) => isEqualNumber(emp.Emp_Type_Id, costType.Cost_Category_Id))\r\n                                        .map((emp) => ({ value: emp.Emp_Id, label: emp.Emp_Name }));\r\n\r\n                                    return (\r\n                                        <div className=\"col-lg-4 col-md-6 p-2\" key={index}>\r\n                                            <label>{costType.Cost_Category}</label>\r\n                                            <Select\r\n                                                value={empCostType}\r\n                                                isMulti\r\n                                                styles={customSelectStyles}\r\n                                                options={costCenterData}\r\n                                                onChange={(e) => {\r\n                                                    const values = e.map((option) => ({\r\n                                                        Do_Id: filters?.selectedInvoice?.Do_Id,\r\n                                                        Emp_Id: option.value,\r\n                                                        Emp_Name: option.label,\r\n                                                        Emp_Type_Id: costType.Cost_Category_Id,\r\n                                                        Involved_Emp_Type: costType.Cost_Category,\r\n                                                    }));\r\n                                                    onChangeEmployee(filters.selectedInvoice, values, costType);\r\n                                                }}\r\n                                                placeholder={`Select ${costType.Cost_Category}`}\r\n                                                filterOption={reactSelectFilterLogic}\r\n                                                menuPortalTarget={document.body}\r\n                                            />\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n\r\n                            <div className=\"col-lg-4 col-md-6 p-2 d-flex align-items-end\">\r\n                                <input\r\n                                    className=\"form-check-input shadow-none pointer mx-2\"\r\n                                    style={{ padding: \"0.7em\" }}\r\n                                    type=\"checkbox\"\r\n                                    id=\"removeFromList\"\r\n                                    checked={isEqualNumber(filters.selectedInvoice?.staffInvolvedStatus, 1)}\r\n                                    onChange={() => {\r\n                                        setFilters((pre) => ({\r\n                                            ...pre,\r\n                                            selectedInvoice: {\r\n                                                ...pre.selectedInvoice,\r\n                                                staffInvolvedStatus: isEqualNumber(pre.selectedInvoice?.staffInvolvedStatus, 1) ? 0 : 1,\r\n                                            },\r\n                                        }));\r\n                                    }}\r\n                                />\r\n                                <label htmlFor=\"removeFromList\" className=\"fw-bold\">\r\n                                    Remove invoice from this page\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={onCloseAssignDialog} variant=\"outlined\">\r\n                            Close\r\n                        </Button>\r\n                        <Button variant=\"contained\" type=\"submit\">\r\n                            Save\r\n                        </Button>\r\n                    </DialogActions>\r\n                </form>\r\n            </Dialog>\r\n\r\n            {/* Filter dialog */}\r\n            <Dialog open={filters.filterDialog} onClose={onCloseFilterDialog} maxWidth=\"sm\" fullWidth>\r\n                <DialogTitle>Filter Options</DialogTitle>\r\n                <DialogContent>\r\n                    <div className=\"row\">\r\n                        {filterColumns.map((column, index) => (\r\n                            <div className=\"col-12 p-2\" key={index}>\r\n                                {renderFilter(column)}\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={onCloseFilterDialog} variant=\"outlined\">\r\n                        Close\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n            {/* Multiple update dialog */}\r\n            <Dialog\r\n                open={filters.multipleStaffUpdateDialog}\r\n                onClose={onCloseMultipleUpdateCostCategoryDialog}\r\n                maxWidth=\"sm\"\r\n                fullWidth\r\n            >\r\n                <DialogTitle>Update Cost Category</DialogTitle>\r\n                <DialogContent>\r\n                    <div className=\"py-2\">\r\n                        <label>Cost Category</label>\r\n                        <Select\r\n                            value={multipleCostCenterUpdateValues.CostCategory}\r\n                            styles={customSelectStyles}\r\n                            options={costTypes\r\n                                .filter(\r\n                                    (costType) =>\r\n                                        ![\"Broker\", \"Transport\"].some((keyword) => String(costType?.Cost_Category).includes(keyword))\r\n                                )\r\n                                .map((costType) => ({\r\n                                    value: costType.Cost_Category_Id,\r\n                                    label: costType.Cost_Category,\r\n                                }))}\r\n                            onChange={(e) => setMultipleCostCenterUpdateValues((prev) => ({ ...prev, CostCategory: e }))}\r\n                            placeholder=\"Select Cost Category\"\r\n                            filterOption={reactSelectFilterLogic}\r\n                            menuPortalTarget={document.body}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"py-2\">\r\n                        <label>Staff</label>\r\n                        <Select\r\n                            value={multipleCostCenterUpdateValues.involvedStaffs}\r\n                            isMulti\r\n                            styles={customSelectStyles}\r\n                            options={costCenterData}\r\n                            onChange={(e) => setMultipleCostCenterUpdateValues((prev) => ({ ...prev, involvedStaffs: e }))}\r\n                            placeholder=\"Select Staff\"\r\n                            filterOption={reactSelectFilterLogic}\r\n                            menuPortalTarget={document.body}\r\n                            closeMenuOnSelect={false}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"py-2\">\r\n                        <label>Delivery Status</label>\r\n                        <select\r\n                            className=\"cus-inpt p-1\"\r\n                            onChange={e => setMultipleCostCenterUpdateValues(pre => ({ ...pre, deliveryStatus: e.target.value }))}\r\n                            value={multipleCostCenterUpdateValues.deliveryStatus}\r\n                        >\r\n                            <option value={5}>Pending</option>\r\n                            <option value={7}>Delivered</option>\r\n                            <option value={6}>Return</option>\r\n                             <option value={4}>Canceled</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div className=\"py-2\">\r\n                        <input\r\n                            className=\"form-check-input shadow-none pointer mx-2\"\r\n                            style={{ padding: \"0.7em\" }}\r\n                            type=\"checkbox\"\r\n                            id=\"removeFromList\"\r\n                            checked={isEqualNumber(multipleCostCenterUpdateValues.staffInvolvedStatus, 1)}\r\n                            onChange={() => {\r\n                                setMultipleCostCenterUpdateValues((pre) => ({\r\n                                    ...pre,\r\n                                    staffInvolvedStatus: isEqualNumber(pre.staffInvolvedStatus, 1) ? 0 : 1,\r\n                                }));\r\n                            }}\r\n                        />\r\n                        <label htmlFor=\"removeFromList\" className=\"fw-bold\">\r\n                            Remove invoice from this page\r\n                        </label>\r\n                    </div>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={onCloseMultipleUpdateCostCategoryDialog} variant=\"outlined\">\r\n                        Close\r\n                    </Button>\r\n                    <Button variant=\"contained\" onClick={postMultipleCostCenterUpdate} disabled={!saveMultipleInvoiceValidation}>\r\n                        Save\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n            {/* bill print dialog */}\r\n            <Dialog\r\n                open={printInvoice.open}\r\n                onClose={onClosePrintDialog}\r\n                maxWidth=\"lg\"\r\n                fullWidth\r\n            >\r\n                <DialogTitle>Bill Print Preview</DialogTitle>\r\n                <DialogContent>\r\n                    <InvoiceTemplate\r\n                        Do_Id={printInvoice.Do_Id}\r\n                        Do_Date={printInvoice.Do_Date}\r\n                        loadingOn={loadingOn}\r\n                        loadingOff={loadingOff}\r\n                    />\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button variant=\"outlined\" onClick={onClosePrintDialog}>Close</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n            {/* katchathCopyPrint */}\r\n            <Dialog\r\n                open={katchathCopyPrint.open}\r\n                onClose={onCloseKatchathDialog}\r\n                maxWidth=\"lg\"\r\n                fullWidth\r\n            >\r\n                <DialogTitle>Bill Print Preview</DialogTitle>\r\n                <DialogContent>\r\n                    <KatchathCopy\r\n                        Do_Id={katchathCopyPrint.Do_Id}\r\n                        loadingOn={loadingOn}\r\n                        loadingOff={loadingOff}\r\n                    />\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button variant=\"outlined\" onClick={onCloseKatchathDialog}>Close</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n            {/* delivery slip dialog */}\r\n            <Dialog\r\n                open={deliverySlipPrint.open}\r\n                onClose={onCloseDeliverySlipDialog}\r\n                maxWidth=\"lg\"\r\n                fullWidth\r\n            >\r\n                <DialogTitle>Delivery Slip Preview</DialogTitle>\r\n                <DialogContent>\r\n                    <DeliverysSlipPrint\r\n                        Do_Id={deliverySlipPrint.Do_Id}\r\n                        loadingOn={loadingOn}\r\n                        loadingOff={loadingOff}\r\n                    />\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button variant=\"outlined\" onClick={onCloseDeliverySlipDialog}>Close</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n            {/* Multiple Staff Remove Dialog */}\r\n            <Dialog\r\n                open={filters.multipleStaffRemoveDialog}\r\n                onClose={onCloseMultipleStaffRemoveDialog}\r\n                maxWidth=\"sm\"\r\n                fullWidth\r\n            >\r\n                <DialogTitle>Remove Staff from Cost Category</DialogTitle>\r\n                <DialogContent>\r\n                    <div className=\"py-2\">\r\n                        <label>Cost Category to Remove</label>\r\n                        <Select\r\n                            value={multipleStaffRemoveValues.CostCategory}\r\n                            styles={customSelectStyles}\r\n                            options={costTypes\r\n                                .filter(\r\n                                    (costType) =>\r\n                                        ![\"Broker\", \"Transport\"].some((keyword) => String(costType?.Cost_Category).includes(keyword))\r\n                                )\r\n                                .map((costType) => ({\r\n                                    value: costType.Cost_Category_Id,\r\n                                    label: costType.Cost_Category,\r\n                                }))}\r\n                            onChange={(e) => setMultipleStaffRemoveValues((prev) => ({ ...prev, CostCategory: e }))}\r\n                            placeholder=\"Select Cost Category to Remove\"\r\n                            filterOption={reactSelectFilterLogic}\r\n                            menuPortalTarget={document.body}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"py-2\">\r\n                        <label>Delivery Status</label>\r\n                        <select\r\n                            className=\"cus-inpt p-1\"\r\n                            onChange={e => setMultipleStaffRemoveValues(pre => ({ ...pre, deliveryStatus: e.target.value }))}\r\n                            value={multipleStaffRemoveValues.deliveryStatus}\r\n                        >\r\n                            <option value={5}>Pending</option>\r\n                            <option value={7}>Delivered</option>\r\n                            <option value={6}>Return</option>\r\n                            <option value={4}>Canceled</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div className=\"py-2\">\r\n                        <input\r\n                            className=\"form-check-input shadow-none pointer mx-2\"\r\n                            style={{ padding: \"0.7em\" }}\r\n                            type=\"checkbox\"\r\n                            id=\"removeFromListRemove\"\r\n                            checked={isEqualNumber(multipleStaffRemoveValues.staffInvolvedStatus, 1)}\r\n                            onChange={() => {\r\n                                setMultipleStaffRemoveValues((pre) => ({\r\n                                    ...pre,\r\n                                    staffInvolvedStatus: isEqualNumber(pre.staffInvolvedStatus, 1) ? 0 : 1,\r\n                                }));\r\n                            }}\r\n                        />\r\n                        <label htmlFor=\"removeFromListRemove\" className=\"fw-bold\">\r\n                            Remove invoice from this page\r\n                        </label>\r\n                    </div>\r\n\r\n                    <div className=\"py-2 text-muted\">\r\n                        <small>\r\n                            This will remove all staff members of the selected Cost Category from {multipleStaffRemoveValues.Do_Id.length} selected invoices.\r\n                        </small>\r\n                    </div>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={onCloseMultipleStaffRemoveDialog} variant=\"outlined\">\r\n                        Cancel\r\n                    </Button>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"error\"\r\n                        onClick={postMultipleStaffRemove}\r\n                        disabled={!removeMultipleInvoiceValidation}\r\n                    >\r\n                        Remove Staff\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n            {/* Multiple print dialog */}\r\n            <Dialog\r\n                open={multiPrint.open}\r\n                onClose={() => setMultiPrint({ open: false, doIds: [], docType: \"\" })}\r\n                maxWidth=\"lg\"\r\n                fullWidth\r\n            >\r\n                <DialogContent dividers>\r\n                    <div ref={multiPrintRef}>\r\n                        {multiPrint.docType === \"sales_invoice\" && (\r\n                            <InvoiceTemplate\r\n                                Do_Ids={multiPrint.doIds}\r\n                                loadingOn={loadingOn}\r\n                                loadingOff={loadingOff}\r\n                                isCombinedPrint={true}\r\n                            />\r\n                        )}\r\n\r\n                        {multiPrint.docType === \"katchath\" && (\r\n                            <KatchathCopy\r\n                                Do_Ids={multiPrint.doIds}\r\n                                loadingOn={loadingOn}\r\n                                loadingOff={loadingOff}\r\n                                isCombinedPrint={true}\r\n                            />\r\n                        )}\r\n\r\n                        {multiPrint.docType === \"delivery_slip\" && (\r\n                            <DeliverysSlipPrint\r\n                                Do_Ids={multiPrint.doIds}\r\n                                loadingOn={loadingOn}\r\n                                loadingOff={loadingOff}\r\n                                isCombinedPrint={true}\r\n                            />\r\n                        )}\r\n                    </div>\r\n                </DialogContent>\r\n\r\n                <DialogActions className=\"no-print\">\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        onClick={() => { handleMultiPrint() }}\r\n                        startIcon={<Print />}\r\n                    >\r\n                        Print All\r\n                    </Button>\r\n                    <Button\r\n                        variant=\"outlined\"\r\n                        onClick={() =>\r\n                            setMultiPrint({ open: false, doIds: [], docType: \"\" })\r\n                        }\r\n                    >\r\n                        Close\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n            <Dialog\r\n                open={whatsappDialog.open}\r\n                onClose={closeWhatsAppDialog}\r\n                maxWidth=\"sm\"\r\n                fullWidth\r\n            >\r\n                <DialogTitle>Send WhatsApp Message</DialogTitle>\r\n                <DialogContent>\r\n                    {renderWhatsAppDialogContent()}\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button\r\n                        onClick={closeWhatsAppDialog}\r\n                        disabled={whatsappDialog.loading}\r\n                    >\r\n                        Cancel\r\n                    </Button>\r\n                    <Button\r\n                        onClick={sendWhatsAppMessage}\r\n                        variant=\"contained\"\r\n                        color=\"success\"\r\n                        startIcon={<WhatsAppIcon />}\r\n                        disabled={\r\n                            whatsappDialog.loading ||\r\n                            (whatsappDialog.method === 'template' && !selectedTemplate)\r\n                        }\r\n                    >\r\n                        {whatsappDialog.loading ? 'Sending...' : 'Send WhatsApp'}\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n            <Snackbar\r\n                open={snackbar.open}\r\n                autoHideDuration={6000}\r\n                onClose={() => setSnackbar(prev => ({ ...prev, open: false }))}\r\n            >\r\n                <Alert\r\n                    severity={snackbar.severity}\r\n                    onClose={() => setSnackbar(prev => ({ ...prev, open: false }))}\r\n                >\r\n                    {snackbar.message}\r\n                </Alert>\r\n            </Snackbar>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default SalesInvoiceListLRReport;","import { Fragment, useState } from 'react';\r\nimport {\r\n    Table, TableBody, TableContainer, TableRow, Paper, TablePagination, TableHead, TableCell,\r\n    TableSortLabel, IconButton, Popover, MenuList, MenuItem, ListItemIcon, ListItemText,\r\n    Tooltip, Card\r\n} from '@mui/material';\r\nimport { isEqualNumber, LocalDate, LocalTime, NumberFormat } from './functions';\r\nimport { Download, KeyboardArrowDown, KeyboardArrowUp, MoreVert, ToggleOff, ToggleOn } from '@mui/icons-material';\r\nimport jsPDF from 'jspdf';\r\nimport 'jspdf-autotable';\r\nimport * as XLSX from 'xlsx';\r\nimport PropTypes from 'prop-types';\r\n\r\n/**\r\n * @typedef {Object} Column\r\n * @property {string} [Field_Name]\r\n * @property {'string'|'number'|'date'|'time'} [Fied_Data]\r\n * @property {'top'|'middle'|'bottom'} [verticalAlign]\r\n * @property {string} [ColumnHeader]\r\n * @property {string} [tdClass]\r\n * @property {0|1} [isVisible]\r\n * @property {'left'|'right'|'center'} [align]\r\n * @property {boolean} [isCustomCell]\r\n * @property {(row: object) => JSX.Element} [Cell]\r\n */\r\n\r\n/**\r\n * @typedef {Object} Menu\r\n * @property {string} [name]\r\n * @property {JSX.Element} [icon]\r\n * @property {() => void} [onclick]\r\n * @property {boolean} [disabled]\r\n */\r\n\r\n/**\r\n * @typedef {Object} FilterableTableProps\r\n * @property {Array<Object>} [dataArray]\r\n * @property {Array<Column>} [columns]\r\n * @property {Function} [onClickFun]\r\n * @property {boolean} [isExpendable]\r\n * @property {JSX.Element} [expandableComp]\r\n * @property {number} [tableMaxHeight]\r\n * @property {number} [initialPageCount]\r\n * @property {boolean} [EnableSerialNumber]\r\n * @property {'small'|'medium'|'large'} [CellSize]\r\n * @property {boolean} [disablePagination]\r\n * @property {string} [title]\r\n * @property {boolean} [PDFPrintOption]\r\n * @property {boolean} [ExcelPrintOption]\r\n * @property {boolean} [maxHeightOption]\r\n * @property {JSX.Element} [ButtonArea]\r\n * @property {Array<Menu>} [MenuButtons]\r\n * @property {number} [bodyFontSizePx]\r\n * @property {number} [headerFontSizePx]\r\n */\r\n\r\n/**\r\n * @param {FilterableTableProps} props\r\n */\r\n\r\n/**\r\n * Button Actions\r\n * @param {Array<Menu>} [buttonsData] \r\n * @param {string} [ToolTipText] \r\n */\r\n\r\nconst preprocessDataForExport = (data, columns) => {\r\n    return data.map((row) => {\r\n        const flattenedRow = {};\r\n\r\n        columns.forEach((column, index) => {\r\n            if (column.isVisible || column.Defult_Display) {\r\n                if (column.isCustomCell && column.Cell) {\r\n                    const cellContent = column.Cell({ row });\r\n\r\n                    const safeColumnHeader = column.ColumnHeader\r\n                        ? String(column.ColumnHeader).replace(/\\s+/g, '_').toLowerCase()\r\n                        : `field_${index + 1}`;\r\n\r\n                    if (typeof cellContent === 'string' || typeof cellContent === 'number' || typeof cellContent === 'bigint') {\r\n                        flattenedRow[safeColumnHeader] = cellContent;\r\n                    }\r\n                    // else if (React.isValidElement(cellContent)) {\r\n                    //     flattenedRow[safeColumnHeader] = 'null';\r\n                    // } else {\r\n                    //     flattenedRow[safeColumnHeader] = 'invalid';\r\n                    // }\r\n                } else {\r\n                    // Handle regular fields\r\n                    let key = column.Field_Name;\r\n                    flattenedRow[key] = row[key] || '';\r\n                }\r\n            }\r\n        });\r\n\r\n        return flattenedRow;\r\n    });\r\n};\r\n\r\nconst generatePDF = (dataArray, columns) => {\r\n    try {\r\n        const doc = new jsPDF();\r\n        const processedData = preprocessDataForExport(dataArray, columns);\r\n\r\n        const headers = columns\r\n            .filter((column) => column.isVisible || column.Defult_Display)\r\n            .map((column) => column.Field_Name || String(column.ColumnHeader).replace(/\\s+/g, '_').toLowerCase());\r\n\r\n        const rows = processedData.map((row) =>\r\n            headers.map((header) => row[header])\r\n        ).map((o, i) => ({ ...o, Sno: i + 1 }))\r\n\r\n        doc.autoTable({\r\n            head: [headers],\r\n            body: rows,\r\n        });\r\n\r\n        doc.save('table.pdf');\r\n    } catch (e) {\r\n        console.error(e);\r\n    }\r\n};\r\n\r\nconst exportToExcel = (dataArray, columns) => {\r\n    try {\r\n        const processedData = preprocessDataForExport(dataArray, columns);\r\n\r\n        const worksheet = XLSX.utils.json_to_sheet(processedData);\r\n        const workbook = XLSX.utils.book_new();\r\n\r\n        XLSX.utils.book_append_sheet(workbook, worksheet, 'Data');\r\n        XLSX.writeFile(workbook, 'table.xlsx');\r\n    } catch (e) {\r\n        console.error(e);\r\n    }\r\n};\r\n\r\nconst createCol = (\r\n    field = '', \r\n    type = 'string', \r\n    ColumnHeader = '', \r\n    align = 'left', \r\n    verticalAlign = 'center', \r\n    isVisible = 1\r\n) => {\r\n    return {\r\n        isVisible: isVisible,\r\n        Field_Name: field,\r\n        Fied_Data: type,\r\n        align,\r\n        verticalAlign,\r\n        ...(ColumnHeader && { ColumnHeader })\r\n    }\r\n}\r\n\r\nconst ButtonActions = ({ buttonsData = [], ToolTipText = 'Options' }) => {\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n    const popOverOpen = Boolean(anchorEl);\r\n\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Tooltip title={ToolTipText}>\r\n                <IconButton aria-describedby={popOverOpen} onClick={handleClick} className='ms-2' size='small'>\r\n                    <MoreVert />\r\n                </IconButton>\r\n            </Tooltip>\r\n\r\n            <Popover\r\n                open={popOverOpen}\r\n                anchorEl={anchorEl}\r\n                onClose={handleClose}\r\n                anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'left',\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'left',\r\n                }}\r\n            >\r\n                <MenuList>\r\n                    {buttonsData.map((btn, btnKey) => (\r\n                        <MenuItem\r\n                            key={btnKey}\r\n                            onClick={() => btn?.onclick && btn?.onclick()}\r\n                            disabled={btn?.disabled}\r\n                        >\r\n                            <ListItemIcon>{btn?.icon}</ListItemIcon>\r\n                            <ListItemText>{btn?.name}</ListItemText>\r\n                        </MenuItem>\r\n                    ))}\r\n                </MenuList>\r\n            </Popover>\r\n        </>\r\n    )\r\n}\r\n\r\nconst formatString = (val, dataType) => {\r\n    switch (dataType) {\r\n        case 'number':\r\n            return val ? NumberFormat(val) : val;\r\n        case 'date':\r\n            return val ? LocalDate(val) : val;\r\n        case 'time':\r\n            return val ? LocalTime(val) : val;\r\n        case 'string':\r\n            return val;\r\n        default:\r\n            return ''\r\n    }\r\n}\r\n\r\nconst FilterableTable = ({\r\n    dataArray = [],\r\n    columns = [],\r\n    onClickFun = null,\r\n    isExpendable = false,\r\n    expandableComp = null,\r\n    tableMaxHeight = 550,\r\n    initialPageCount = 20,\r\n    EnableSerialNumber = false,\r\n    CellSize = 'small' || 'medium',\r\n    disablePagination = false,\r\n    title = '',\r\n    PDFPrintOption = false,\r\n    ExcelPrintOption = false,\r\n    maxHeightOption = false,\r\n    ButtonArea = null,\r\n    MenuButtons = [],\r\n    bodyFontSizePx = 13,\r\n    headerFontSizePx = 13\r\n}) => {\r\n\r\n    const [page, setPage] = useState(0);\r\n    const [rowsPerPage, setRowsPerPage] = useState(initialPageCount);\r\n    const [sortCriteria, setSortCriteria] = useState([]);\r\n    const [showFullHeight, setShowFullHeight] = useState(true);\r\n    const tableHeight = (showFullHeight && maxHeightOption) ? ' max-content ' : tableMaxHeight;\r\n\r\n    const columnAlign = [\r\n        {\r\n            type: 'left',\r\n            class: 'text-start'\r\n        }, {\r\n            type: 'right',\r\n            class: 'text-end'\r\n        }, {\r\n            type: 'center',\r\n            class: 'text-center'\r\n        }\r\n    ];\r\n\r\n    const columnVerticalAlign = [\r\n        {\r\n            type: 'top',\r\n            class: ' vtop '\r\n        }, {\r\n            type: 'bottom',\r\n            class: ' vbottom '\r\n        }, {\r\n            type: 'center',\r\n            class: ' vctr '\r\n        }\r\n    ]\r\n\r\n    const handleChangePage = (event, newPage) => {\r\n        setPage(newPage);\r\n    };\r\n\r\n    const handleChangeRowsPerPage = (event) => {\r\n        setRowsPerPage(parseInt(event.target.value, 10));\r\n        setPage(0);\r\n    };\r\n\r\n    const handleSortRequest = (columnId) => {\r\n        const existingCriteria = sortCriteria.find(criteria => criteria.columnId === columnId);\r\n        if (existingCriteria) {\r\n            const isAsc = existingCriteria.direction === 'asc';\r\n            setSortCriteria(sortCriteria.map(criteria =>\r\n                criteria.columnId === columnId\r\n                    ? { ...criteria, direction: isAsc ? 'desc' : 'asc' }\r\n                    : criteria\r\n            ));\r\n        } else {\r\n            setSortCriteria([...sortCriteria, { columnId, direction: 'asc' }]);\r\n        }\r\n    };\r\n\r\n    const sortData = (data) => {\r\n        if (!sortCriteria.length) return data;\r\n\r\n        const sortedData = [...data].sort((a, b) => {\r\n            for (const criteria of sortCriteria) {\r\n                const { columnId, direction } = criteria;\r\n                const aValue = a[columnId];\r\n                const bValue = b[columnId];\r\n\r\n                if (aValue !== bValue) {\r\n                    if (direction === 'asc') {\r\n                        return aValue > bValue ? 1 : -1;\r\n                    } else {\r\n                        return aValue < bValue ? 1 : -1;\r\n                    }\r\n                }\r\n            }\r\n            return 0;\r\n        });\r\n\r\n        return sortedData;\r\n    };\r\n\r\n    const sortedData = sortData(dataArray);\r\n    const startIndex = page * rowsPerPage;\r\n    const endIndex = startIndex + rowsPerPage;\r\n    const paginatedData = sortedData.slice(startIndex, endIndex);\r\n\r\n    const RowComp = ({ row, index }) => {\r\n        const [open, setOpen] = useState(false);\r\n        const fontSize = '20px';\r\n\r\n        return (\r\n            <Fragment>\r\n                <TableRow>\r\n\r\n                    {(isExpendable === true && expandableComp) && (\r\n                        <TableCell className='border-end text-center vtop' sx={{ fontSize: `${bodyFontSizePx}px` }}>\r\n                            <IconButton size='small' onClick={() => setOpen(pre => !pre)}>\r\n                                {open ? <KeyboardArrowUp sx={{ fontSize }} /> : <KeyboardArrowDown sx={{ fontSize }} />}\r\n                            </IconButton>\r\n                        </TableCell>\r\n                    )}\r\n\r\n                    {EnableSerialNumber === true && (\r\n                        <TableCell className='border-end text-center vtop' sx={{ fontSize: `${bodyFontSizePx}px` }}>\r\n                            {(rowsPerPage * page) + index + 1}\r\n                        </TableCell>\r\n                    )}\r\n\r\n                    {columns?.map((column, columnInd) => {\r\n                        const isColumnVisible = isEqualNumber(column?.Defult_Display, 1) || isEqualNumber(column?.isVisible, 1);\r\n                        const isCustomCell = Boolean(column?.isCustomCell) && column.Cell;\r\n                        const isCommonValue = !isCustomCell;\r\n\r\n                        const tdClass = (row, Field_Name, tdIndex) => (\r\n                            column?.tdClass ? ` ${column?.tdClass({ row, Field_Name, index: tdIndex })} ` : ''\r\n                        );\r\n\r\n                        const horizondalalignClass = column.align\r\n                            ? columnAlign.find(align => align.type === String(column.align).toLowerCase())?.class\r\n                            : '';\r\n\r\n                        const verticalAlignClass = column.verticalAlign\r\n                            ? columnVerticalAlign.find(align => align.type === String(column.verticalAlign).toLowerCase())?.class\r\n                            : ' vctr ';\r\n\r\n                        if (isColumnVisible && isCommonValue) {\r\n                            const foundEntry = Object.entries(row).find(([key]) => key === column.Field_Name);\r\n\r\n                            return (\r\n                                <TableCell\r\n                                    key={columnInd}\r\n                                    className={`border-end ${horizondalalignClass} ${verticalAlignClass} ${tdClass(row, column.Field_Name, index)}`}\r\n                                    sx={{ fontSize: `${bodyFontSizePx}px` }}\r\n                                    onClick={() => onClickFun ? onClickFun(row) : console.log('Function not supplied')}\r\n                                >\r\n                                    {foundEntry ? formatString(foundEntry[1], column?.Fied_Data) : '-'}\r\n                                </TableCell>\r\n                            );\r\n                        }\r\n\r\n                        if (isColumnVisible && isCustomCell) {\r\n                            return (\r\n                                <TableCell\r\n                                    key={columnInd}\r\n                                    className={`border-end ${horizondalalignClass} ${verticalAlignClass} ${tdClass(row, column.Field_Name, index)}`}\r\n                                    sx={{ fontSize: `${bodyFontSizePx}px` }}\r\n                                >\r\n                                    {column.Cell({ row, Field_Name: column.Field_Name, index })}\r\n                                </TableCell>\r\n                            );\r\n                        }\r\n\r\n                        return (\r\n                            <TableCell\r\n                                key={columnInd}\r\n                                sx={{ fontSize: `${bodyFontSizePx}px` }}\r\n                                className={`border-end ${horizondalalignClass} ${verticalAlignClass}`}\r\n                            >\r\n                                -\r\n                            </TableCell>\r\n                        );\r\n                    })}\r\n\r\n                </TableRow>\r\n\r\n                {(isExpendable === true && expandableComp && open) && (\r\n                    <TableRow>\r\n                        <TableCell colSpan={Number(columns?.length) + (EnableSerialNumber === true ? 2 : 1)}>{expandableComp({ row, index })}</TableCell>\r\n                    </TableRow>\r\n                )}\r\n            </Fragment>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Card className='rounded-3 bg-white overflow-hidden' component={Paper}>\r\n            <div\r\n                className=\"d-flex align-items-center flex-wrap px-3 py-2 flex-row-reverse \"\r\n            >\r\n                {(PDFPrintOption || ExcelPrintOption || MenuButtons.length > 0 || maxHeightOption) && (\r\n                    <ButtonActions\r\n                        ToolTipText='Table Options'\r\n                        buttonsData={[\r\n                            ...(maxHeightOption\r\n                                ? [{\r\n                                    name: 'Max Height',\r\n                                    icon: showFullHeight\r\n                                        ? <ToggleOn fontSize=\"small\" color='primary' />\r\n                                        : <ToggleOff fontSize=\"small\" />,\r\n                                    onclick: () => setShowFullHeight(pre => !pre),\r\n                                    disabled: isEqualNumber(dataArray?.length, 0)\r\n                                }]\r\n                                : []),\r\n                            ...(PDFPrintOption\r\n                                ? [{\r\n                                    name: 'PDF Print',\r\n                                    icon: <Download fontSize=\"small\" color='primary' />,\r\n                                    onclick: () => generatePDF(dataArray, columns),\r\n                                    disabled: isEqualNumber(dataArray?.length, 0)\r\n                                }]\r\n                                : []),\r\n                            ...(ExcelPrintOption\r\n                                ? [{\r\n                                    name: 'Excel Print',\r\n                                    icon: <Download fontSize=\"small\" color='primary' />,\r\n                                    onclick: () => exportToExcel(dataArray, columns),\r\n                                    disabled: isEqualNumber(dataArray?.length, 0)\r\n                                }]\r\n                                : []),\r\n                            ...MenuButtons,\r\n                        ]}\r\n                    />\r\n                )}\r\n                {ButtonArea && ButtonArea}\r\n                {title && <h6 className='fw-bold text-muted flex-grow-1 m-0'>{title}</h6>}\r\n            </div>\r\n\r\n            <TableContainer sx={{ maxHeight: tableHeight }}>\r\n\r\n                <Table stickyHeader size={CellSize}>\r\n\r\n                    <TableHead>\r\n                        <TableRow>\r\n                            {/* Expendable column */}\r\n                            {isExpendable && expandableComp && (\r\n                                <TableCell\r\n                                    className='fw-bold border-end border-top text-center'\r\n                                    sx={{ fontSize: `${headerFontSizePx}px`, backgroundColor: '#EDF0F7' }}\r\n                                >\r\n                                    #\r\n                                </TableCell>\r\n                            )}\r\n\r\n                            {/* Serial number column */}\r\n                            {EnableSerialNumber && (\r\n                                <TableCell\r\n                                    className='fw-bold border-end border-top text-center'\r\n                                    sx={{ fontSize: `${headerFontSizePx}px`, backgroundColor: '#EDF0F7' }}\r\n                                >\r\n                                    SNo\r\n                                </TableCell>\r\n                            )}\r\n\r\n                            {/* Columns */}\r\n                            {columns.map((column, ke) => {\r\n                                const isColumnVisible = isEqualNumber(column?.Defult_Display, 1) || isEqualNumber(column?.isVisible, 1);\r\n                                const isSortable = Boolean(column?.isCustomCell) === false || !column.Cell;\r\n                                const sortCriteriaMatch = sortCriteria.find(criteria => criteria.columnId === column.Field_Name);\r\n                                const sortDirection = sortCriteriaMatch ? sortCriteriaMatch.direction : 'asc';\r\n\r\n                                if (isColumnVisible) {\r\n                                    return isSortable ? (\r\n                                        <TableCell\r\n                                            key={ke}\r\n                                            className={`fw-bold border-end border-top ` +\r\n                                                (column.align ? columnAlign.find(align => align.type === String(column.align).toLowerCase())?.class : '')}\r\n                                            sx={{ fontSize: `${headerFontSizePx}px`, backgroundColor: '#EDF0F7' }}\r\n                                            sortDirection={sortCriteriaMatch ? sortDirection : false}\r\n                                        >\r\n                                            <TableSortLabel\r\n                                                active={!!sortCriteriaMatch}\r\n                                                direction={sortDirection}\r\n                                                onClick={() => handleSortRequest(column.Field_Name)}\r\n                                            >\r\n                                                {column.ColumnHeader || column?.Field_Name?.replace(/_/g, ' ')}\r\n                                            </TableSortLabel>\r\n                                        </TableCell>\r\n                                    ) : (\r\n                                        <TableCell\r\n                                            key={ke}\r\n                                            className={\r\n                                                `${(column.ColumnHeader || column?.Field_Name)\r\n                                                    ? ' fw-bold border-end border-top p-2 appFont '\r\n                                                    : ' p-0 '\r\n                                                } ` +\r\n                                                (column.align\r\n                                                    ? columnAlign.find(align => align.type === String(column.align).toLowerCase())?.class\r\n                                                    : '')\r\n                                            }\r\n                                            sx={{ fontSize: `${headerFontSizePx}px`, backgroundColor: '#EDF0F7' }}\r\n                                        >\r\n                                            {column.ColumnHeader || column?.Field_Name?.replace(/_/g, ' ')}\r\n                                        </TableCell>\r\n                                    )\r\n                                }\r\n                                return null;\r\n                            })}\r\n                        </TableRow>\r\n                    </TableHead>\r\n\r\n                    <TableBody>\r\n                        {(disablePagination ? sortedData : paginatedData).map((row, index) => (\r\n                            <RowComp key={index} row={row} index={index} />\r\n                        ))}\r\n                        {dataArray.length === 0 && (\r\n                            <TableRow>\r\n                                <TableCell\r\n                                    colSpan={\r\n                                        columns.length +\r\n                                        ((isExpendable === true && expandableComp) ? 1 : 0) +\r\n                                        (EnableSerialNumber === true ? 1 : 0)\r\n                                    }\r\n                                    sx={{ textAlign: 'center' }}\r\n                                >\r\n                                    No Data\r\n                                </TableCell>\r\n                            </TableRow>\r\n                        )}\r\n                    </TableBody>\r\n\r\n                </Table>\r\n            </TableContainer>\r\n\r\n            {!disablePagination && paginatedData.length !== 0 && (\r\n                <div\r\n                    className=\"p-2 pb-0\"\r\n                >\r\n                    <TablePagination\r\n                        component=\"div\"\r\n                        count={dataArray.length}\r\n                        page={page}\r\n                        onPageChange={handleChangePage}\r\n                        rowsPerPage={rowsPerPage}\r\n                        onRowsPerPageChange={handleChangeRowsPerPage}\r\n                        rowsPerPageOptions={Array.from(new Set([initialPageCount, 5, 20, 50, 100, 200, 500, 1000, 2000])).sort((a, b) => a - b)}\r\n                        labelRowsPerPage=\"Rows per page\"\r\n                        showFirstButton\r\n                        showLastButton\r\n                    />\r\n                </div>\r\n            )}\r\n\r\n        </Card>\r\n    );\r\n};\r\n\r\nFilterableTable.propTypes = {\r\n    dataArray: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n    columns: PropTypes.arrayOf(PropTypes.shape({\r\n        Field_Name: PropTypes.string,\r\n        Fied_Data: PropTypes.oneOf(['string', 'number', 'date', 'time']),\r\n        ColumnHeader: PropTypes.string,\r\n        isVisible: PropTypes.oneOf([0, 1]),\r\n        align: PropTypes.oneOf(['left', 'right', 'center']),\r\n        verticalAlign: PropTypes.oneOf(['top', 'center', 'bottom']),\r\n        isCustomCell: PropTypes.bool,\r\n        Cell: PropTypes.func,\r\n        tdClass: PropTypes.func\r\n    })).isRequired,\r\n    onClickFun: PropTypes.func,\r\n    isExpendable: PropTypes.bool,\r\n    expandableComp: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\r\n    tableMaxHeight: PropTypes.number,\r\n    initialPageCount: PropTypes.number,\r\n    EnableSerialNumber: PropTypes.bool,\r\n    CellSize: PropTypes.string,\r\n    disablePagination: PropTypes.bool,\r\n    title: PropTypes.string,\r\n    PDFPrintOption: PropTypes.bool,\r\n    ExcelPrintOption: PropTypes.bool,\r\n    maxHeightOption: PropTypes.bool,\r\n    ButtonArea: PropTypes.element,\r\n    MenuButtons: PropTypes.arrayOf(PropTypes.object)\r\n};\r\n\r\nFilterableTable.defaultProps = {\r\n    dataArray: [],\r\n    columns: [],\r\n    onClickFun: null,\r\n    isExpendable: false,\r\n    expandableComp: null,\r\n    tableMaxHeight: 550,\r\n    initialPageCount: 20,\r\n    EnableSerialNumber: false,\r\n    CellSize: 'small',\r\n    disablePagination: false,\r\n    title: undefined,\r\n    PDFPrintOption: false,\r\n    ExcelPrintOption: false,\r\n    maxHeightOption: false,\r\n    ButtonArea: null,\r\n    MenuButtons: [],\r\n    headerFontSizePx: 13,\r\n    bodyFontSizePx: 13,\r\n};\r\n\r\nexport default FilterableTable;\r\n\r\nexport {\r\n    createCol,\r\n    ButtonActions,\r\n    formatString\r\n}","\r\nimport SMT_LOGO from './smt.png';\r\n\r\nexport const customTableStyles = {\r\n    table: {\r\n        style: {\r\n            width: 'auto',\r\n            backgroundColor: 'transparent',\r\n            // borderRadius: '5px',\r\n        }\r\n    },\r\n    rows: {\r\n        style: {\r\n            backgroundColor: 'transparent',\r\n        },\r\n    },\r\n    headCells: {\r\n        style: {\r\n            backgroundColor: '#6b9080f8',\r\n            color: 'white',\r\n            fontSize: '14px',\r\n            // borderRadius: '5px',\r\n        },\r\n    },\r\n};\r\n\r\nexport const customSelectStyles = {\r\n    // control: (provided, state) => ({\r\n    //     ...provided,\r\n    //     height: '45px',\r\n    //     background: 'rgba(255, 255, 255, 0.322)'\r\n    // }),\r\n    menu: (provided, state) => ({\r\n        ...provided,\r\n        zIndex: 9999,\r\n    }),\r\n    menuPortal: base => ({ ...base, zIndex: 9999 }),\r\n    groupHeading: (base) => ({\r\n        ...base,\r\n        backgroundColor: '#f5f5f5',\r\n        color: '#333',\r\n        fontWeight: 'bold',\r\n        fontSize: '14px',\r\n        padding: '8px 12px',\r\n        borderBottom: '1px solid #ddd',\r\n        textTransform: 'uppercase',\r\n    }),\r\n    option: (base, state) => ({\r\n        ...base,\r\n        backgroundColor: state.isSelected\r\n            ? '#2684FF'\r\n            : state.isFocused\r\n                ? '#E2ECF9'\r\n                : 'white',\r\n        color: state.isSelected ? 'white' : '#333',\r\n        padding: '10px 12px',\r\n    }),\r\n};\r\n\r\nexport const customSelectStyles2 = {\r\n    control: (provided, state) => ({\r\n        ...provided,\r\n        background: 'transparent',\r\n        border: 'none',\r\n        color: 'rgba(255, 255, 255, 0.322)',\r\n        // minWidth: '160px'\r\n    }),\r\n    menu: (provided, state) => ({\r\n        ...provided,\r\n        color: 'black',\r\n        zIndex: 9999,\r\n    }),\r\n};\r\n\r\nexport const MainMenu = [\r\n    {\r\n        id: 1,\r\n        headname: 'Menu ID',\r\n        variant: 'head',\r\n        align: 'left',\r\n        width: 100\r\n    },\r\n    {\r\n        id: 2,\r\n        headname: 'MenuName',\r\n    },\r\n    {\r\n        id: 3,\r\n        headname: 'Read Rights'\r\n    },\r\n    {\r\n        id: 4,\r\n        headname: 'Add Rights'\r\n    },\r\n    {\r\n        id: 5,\r\n        headname: 'Edit Rights'\r\n    },\r\n    {\r\n        id: 6,\r\n        headname: 'Delete Rights'\r\n    },\r\n    {\r\n        id: 7,\r\n        headname: 'Print Rights'\r\n    },\r\n    {\r\n        id: 8,\r\n        headname: 'Action'\r\n    }\r\n];\r\n\r\nexport const companyDetails = [\r\n    {\r\n        dataBase: 1,\r\n        name: 'SHANKAR TRADERS',\r\n        business: 'Wholesale Merchant in Dhall',\r\n        address: '32, Chitrakara Street, Madurai - 01 <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped',\r\n        logo: SMT_LOGO,\r\n        gstin: '33AADFS6973R1ZD',\r\n        phone: '984-313-1353, 984-335-5166',\r\n        fssai: '12418012000818',\r\n        bankAccount: '0021 5032 0885 122',\r\n        ifsc: 'TMBL0000002'\r\n    },\r\n    {\r\n        dataBase: 2,\r\n        name: 'SMT AGRO PRODUCTS',\r\n        business: '',\r\n        address: 'H.O: 153, Chitrakara Street, 2nd Floor, Madurai -01 <br /> G.O: 746 Puliyur, Sayanapuram, Svga <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped',\r\n        logo: SMT_LOGO,\r\n        gstin: '33ACMFS3420Q1ZQ',\r\n        phone: '0452-4371625',\r\n        fssai: '12418012000818',\r\n        bankAccount: '0025 3031 0875 947',\r\n        ifsc: 'TMBL0000002'\r\n    },\r\n    {\r\n        dataBase: 3,\r\n        name: 'BHAVANI TRADERS',\r\n        business: '',\r\n        address: 'H.O: 152-A, Chitrakara Street, Madurai -01 <br /> G.O: 30/1-Rajman Nagar, Chintamani Main Road, Mdu-01 <br /> Tax Invoice',\r\n        logo: SMT_LOGO,\r\n        gstin: '33AAEFB6728J1ZG',\r\n        phone: '958-559-7641, 958-559-7614',\r\n        fssai: '12418012000670',\r\n        bankAccount: '0021 5005 0800 309',\r\n        ifsc: 'TMBL0000002'\r\n    },\r\n]\r\n\r\nexport const erpModules = [\r\n    { name: 'PURCHASE_ORDER', alias: 'Purchase Order', moduleCode: 'PO' },\r\n    { name: 'PURCHASE_INVOICE', alias: 'Purchase Invoice', moduleCode: 'PI' },\r\n    { name: 'SALE_ORDER', alias: 'Sale Order', moduleCode: 'SO' },\r\n    { name: 'SALE_INVOICE', alias: 'Sale Invoice', moduleCode: 'SI' },\r\n    { name: 'JOURNAL', alias: 'Journal', moduleCode: 'JO' },\r\n    { name: 'STOCK_JOURNAL', alias: 'Stock Journal', moduleCode: 'SJ' },\r\n    { name: 'PAYMENT', alias: 'Payment', moduleCode: 'PAY' },\r\n    { name: 'RECEIPT', alias: 'Receipt', moduleCode: 'REC' },\r\n    { name: 'CONTRA', alias: 'Contra', moduleCode: 'CON' },\r\n]\r\n\r\nexport const additionalModules = [\r\n    { name: 'MATERIAL_INWARD', alias: 'Material Inward', moduleCode: 'MI' },\r\n    { name: 'OTHER_GODOWN', alias: 'Other Godown', moduleCode: 'OG' },\r\n    { name: 'PROCESSING', alias: 'Processing', moduleCode: 'PRO' },\r\n]"],"names":["findStaffName","arr","involvedType","Array","isArray","row","find","x","String","empType","toLowerCase","empName","_ref","Do_Id","Do_Ids","loadingOn","loadingOff","isCombinedPrint","data","setData","useState","printRef","useRef","idsToFetch","length","useEffect","async","promises","map","id","fetchLink","address","concat","allData","Promise","all","filter","result","_result$data","success","error","console","fetchAllData","JSON","stringify","handlePrint","useReactToPrint","content","current","_jsx","ref","className","children","invoice","index","_jsxs","style","width","height","transform","margin","position","boxSizing","fontWeight","voucherTypeGet","createdByGet","LocalDateWithTime","createdOn","mailingName","mailingAddress","mailingCity","mailingNumber","lineHeight","toArray","productDetails","item","idx","itemName","quantity","textAlign","fontSize","reduce","acc","staffDetails","pageBreakAfter","breakAfter","Button","onClick","startIcon","Print","DOTPE_API_BASE","cleanApiKey","cleaned","Dot_Pe_Api_Key","replace","trim","DotPeWhatsAppService","fetchTemplates","status","arguments","undefined","_response$data","apiKey","response","axios","get","headers","message","_error$response","_error$response2","_error$response3","_error$response3$data","sendTemplateMessage","payload","_response$data2","_response$data3","_response$data4","post","timeout","_error$response4","_error$response5","_error$response6","_error$response7","_error$response8","_error$response9","_error$response10","_error$response10$dat","_error$response11","_error$response11$dat","_error$response12","statusText","statusCode","sendFreeFormMessage","_response$data5","_response$data6","_response$data7","endpoint","apiPayload","template","_error$response13","_error$response14","_error$response15","_error$response16","_error$response16$dat","_error$response17","sendInvoiceWithPDFLink","phone","invoiceId","invoiceData","order","pdfUrl","Do_Date","split","reverse","join","Date","toLocaleDateString","merchantId","name","language","wabaNumber","Dot_Pe_Number","recipients","source","type","clientRefId","now","params","body","retailerNameGet","Do_Inv_No","Total_Invoice_value","this","sendPDFAsDocument","caption","recipient","document","link","filename","icon","CheckBoxOutlineBlank","checkedIcon","CheckBox","multipleStaffUpdateInitialValues","CostCategory","label","value","involvedStaffs","staffInvolvedStatus","deliveryStatus","multipleStaffRemoveInitialValues","normalize","v","getCostTypeEmployees","invoiceOrRow","costTypeId","emp","isEqualNumber","Emp_Type_Id","_emp$Emp_Name","Emp_Name","Boolean","_filters$selectedInvo4","_filters$selectedInvo7","AddRights","EditRights","PrintRights","pageID","salesInvoices","setSalesInvoices","costCenterData","setCostCenterData","costTypes","setCostTypes","uniqueInvolvedCost","setUniqueInvolvedCost","viewMode","setViewMode","isLoading","setIsLoading","isRefreshing","setIsRefreshing","hasInitialLoading","setHasInitialLoading","currentPrintType","setCurrentPrintType","selectAllCheckBox","setSelectAllCheckBox","downloadLoading","setDownloadLoading","downloadAnchorEl","setDownloadAnchorEl","pdfGeneration","setPdfGeneration","parse","localStorage","getItem","loading","token","fileName","multipleCostCenterUpdateValues","setMultipleCostCenterUpdateValues","multipleStaffRemoveValues","setMultipleStaffRemoveValues","printReady","setPrintReady","columnFilters","setColumnFilters","filteredData","setFilteredData","printInvoice","setPrintInvoice","open","katchathCopyPrint","setKatchathCopyPrint","deliverySlipPrint","setDeliverySlipPrint","whatsappDialog","setWhatsappDialog","method","templates","setTemplates","selectedTemplate","setSelectedTemplate","snackbar","setSnackbar","severity","filters","setFilters","reqDate","ISOString","assignDialog","filterDialog","selectedInvoice","multipleStaffUpdateDialog","multipleStaffRemoveDialog","fetchTrigger","docType","staffStatus","multiPrint","setMultiPrint","doIds","multiPrintRef","pdfTemplates","useMemo","t","templateName","includes","otherTemplates","columns","Field_Name","Fied_Data","ColumnHeader","calculateAltActQty","Alt_Act_Qty","Number","billQty","Bill_Qty","conversionFactor","PackValue","possibleAltFields","field","fetchAllInvoices","refresh","_data$others","_data$others2","processedInvoices","stockDetails","processedStockDetails","_objectSpread","others","uniqeInvolvedStaffs","toast","templatesData","forEach","warn","fetchPendingInvoices","_data$others3","_data$others5","_data$others4","_data$others6","fetchCostCenterData","fetchInitialData","timer","setTimeout","clearTimeout","showSnackbar","closeWhatsAppDialog","generateAndStorePDF","storage","companyId","Company_id","Error","requestBody","Retailer_Name","So_Date","So_No","Do_No","Retailer_Address","Retailer_GSTIN","CSGT_Total","SGST_Total","IGST_Total","Round_off","CSGT_Percentage","SGST_Percentage","IGST_Percentage","ProductList","bodyData","generateInvoicePDF","getRecipientPhone","retailerData","Ret_Id","Retailer_Id","Party_Mobile_1","Customer_Phone","selectedTotals","selectedIds","altActQty","inv","toNumber","then","catch","costTypeColumns","costType","Cost_Category_Id","Cost_Category","columnConfig","isVisible","isCustomCell","getFilterValues","Cell","_ref2","names","sort","a","b","aName","bName","localeCompare","c","filterColumns","onCloseAssignDialog","prev","onCloseFilterDialog","onCloseMultipleUpdateCostCategoryDialog","onCloseMultipleStaffRemoveDialog","onClosePrintDialog","onCloseKatchathDialog","onCloseDeliverySlipDialog","fetchSalesInvoices","pre","downloadInvoicePDF","downloadUrl","getPdfDownloadUrl","baseUrl","api","cleanInvoiceNo","pdfParam","createElement","href","download","appendChild","click","removeChild","convertToISTShort","isoString","date","istOffset","istDate","getTime","hours","getUTCDate","padStart","getUTCMonth","getUTCFullYear","getUTCHours","minutes","getUTCMinutes","handleDownloadClose","applyFilters","handleFilterChange","column","prevFilters","filtered","key","filterVal","min","max","start","end","dateValue","selected","rowVals","some","handleMultiPrint","documentTitle","pageStyle","renderFilter","_columnFilters$Field_","_columnFilters$Field_2","_columnFilters$Field_3","_columnFilters$Field_4","_columnFilters$Field_5","_columnFilters$Field_6","_columnFilters$Field_7","_columnFilters$Field_9","_columnFilters$Field_10","_columnFilters$Field_11","placeholder","onChange","e","target","parseFloat","_columnFilters$Field_8","_columnFilters$Field_12","distinctValues","values","Map","s","has","set","from","uniqueCaseInsensitive","flatMap","Autocomplete","multiple","options","disableCloseOnSelect","getOptionLabel","option","event","newValue","renderOption","props","_ref3","Checkbox","marginRight","checked","isOptionEqualToValue","opt","val","renderInput","TextField","allDoIds","saveMultipleInvoiceValidation","validDoId","validCostCenterId","validCostCategory","checkIsNumber","removeMultipleInvoiceValidation","Box","sx","display","flexDirection","alignItems","gap","_Fragment","FilterableTable","title","_ref4","isSelected","onFocus","blur","createCol","_ref5","_ref6","sum","_ref7","RoundNumber","i","_ref8","ButtonActions","buttonsData","onclick","PersonAdd","color","disabled","pdfData","recipientPhone","generatedPdfUrl","pdfToken","pdfFileName","handleWhatsAppClick","WhatsAppIcon","dataArray","EnableSerialNumber","ButtonArea","Tooltip","justifyContent","HourglassEmpty","IconButton","size","PersonRemoveIcon","FilterAlt","Search","variant","Download","endIcon","ArrowDropDown","currentTarget","ml","textTransform","Menu","anchorEl","onClose","MenuItem","downloadSelectedAsExcel","selectedInvoices","excelData","mainRow","Narration","Delivery_Status","push","wb","XLSX","book_new","ws","json_to_sheet","colWidths","range","decode_range","C","maxWidth","R","r","cell","encode_cell","wch","Math","book_append_sheet","toISOString","warning","ListItemIcon","TableChart","ListItemText","downloadSelectedAsPDF","doc","jsPDF","orientation","unit","format","tableData","NumberFormat","tableColumns","setFontSize","setTextColor","text","toLocaleString","align","autoTable","startY","head","theme","styles","cellPadding","overflow","cellWidth","headStyles","fillColor","textColor","fontStyle","halign","columnStyles","left","right","didDrawPage","pageNumber","internal","getNumberOfPages","settings","pageSize","save","PictureAsPdf","selectedIndex","selectedText","docTypeLabel","Dialog","fullWidth","DialogTitle","onSubmit","_filters$selectedInvo","_filters$selectedInvo2","_filters$selectedInvo3","preventDefault","e2","log","DialogContent","keyword","_filters$selectedInvo5","empCostType","Emp_Id","Select","isMulti","customSelectStyles","_filters$selectedInvo6","Involved_Emp_Type","onChangeEmployee","selectedOptions","_prev$selectedInvoice","updatedInvolvedStaffs","filterOption","reactSelectFilterLogic","menuPortalTarget","padding","_pre$selectedInvoice","htmlFor","DialogActions","closeMenuOnSelect","InvoiceTemplate","KatchathCopy","DeliverysSlipPrint","dividers","renderWhatsAppDialogContent","mb","Typography","Divider","my","p","bgcolor","borderRadius","Alert","mt","RadioGroup","FormControlLabel","control","Radio","FormControl","InputLabel","MuiSelect","eventId","templateStatus","border","borderColor","_order$ConvertedInvoi","formattedInvoiceNo","encodedInvoiceNo","btoa","getPDFUrlSimple","mainOrder","ConvertedInvoice","invoiceNo","customerName","formattedDate","totalAmount","toFixed","fetch","testError","Snackbar","autoHideDuration","preprocessDataForExport","flattenedRow","Defult_Display","cellContent","safeColumnHeader","verticalAlign","ToolTipText","setAnchorEl","popOverOpen","MoreVert","Popover","handleClose","anchorOrigin","vertical","horizontal","transformOrigin","MenuList","btn","btnKey","formatString","dataType","LocalDate","LocalTime","onClickFun","isExpendable","expandableComp","tableMaxHeight","initialPageCount","CellSize","disablePagination","PDFPrintOption","ExcelPrintOption","maxHeightOption","MenuButtons","bodyFontSizePx","headerFontSizePx","page","setPage","rowsPerPage","setRowsPerPage","sortCriteria","setSortCriteria","showFullHeight","setShowFullHeight","tableHeight","columnAlign","class","columnVerticalAlign","sortedData","criteria","columnId","direction","aValue","bValue","sortData","startIndex","endIndex","paginatedData","slice","RowComp","setOpen","Fragment","TableRow","TableCell","KeyboardArrowUp","KeyboardArrowDown","columnInd","_columnAlign$find","_columnVerticalAlign$","isColumnVisible","isCommonValue","tdClass","tdIndex","horizondalalignClass","verticalAlignClass","foundEntry","Object","entries","colSpan","Card","component","Paper","ToggleOn","ToggleOff","generatePDF","processedData","rows","header","o","Sno","exportToExcel","worksheet","workbook","TableContainer","maxHeight","Table","stickyHeader","TableHead","backgroundColor","ke","isSortable","sortCriteriaMatch","sortDirection","_columnAlign$find2","_column$Field_Name","_columnAlign$find3","_column$Field_Name2","TableSortLabel","active","existingCriteria","isAsc","handleSortRequest","TableBody","TablePagination","count","onPageChange","handleChangePage","newPage","onRowsPerPageChange","parseInt","rowsPerPageOptions","Set","labelRowsPerPage","showFirstButton","showLastButton","defaultProps","customTableStyles","table","headCells","menu","provided","state","zIndex","menuPortal","base","groupHeading","borderBottom","isFocused","MainMenu","headname","companyDetails","dataBase","business","logo","SMT_LOGO","gstin","fssai","bankAccount","ifsc","erpModules","alias","moduleCode"],"sourceRoot":""}