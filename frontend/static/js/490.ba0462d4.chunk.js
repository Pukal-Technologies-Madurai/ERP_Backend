"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[490],{3632:(e,t,a)=>{a.d(t,{A:()=>n});var r=a(59662),l=a(70579);const n=(0,r.A)((0,l.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")},10489:(e,t,a)=>{a.d(t,{A:()=>d});a(65043);var r=a(83462),l=a(26600),n=a(35316),o=a(29347),s=a(11906),i=a(70579);const d=e=>{let{open:t=!1,onClose:a,children:d,title:c,onSubmit:u,submitText:m="Submit",closeText:p="Close",maxWidth:h="sm",fullWidth:g=!0,isSubmit:A=!1}=e;return(0,i.jsxs)(r.A,{open:t,onClose:a,fullWidth:g,maxWidth:h,children:[c&&(0,i.jsx)(l.A,{children:c}),(0,i.jsx)(n.A,{children:d}),(0,i.jsxs)(o.A,{children:[(0,i.jsx)(s.A,{onClick:a,children:p}),u&&(0,i.jsx)(s.A,{variant:"contained",onClick:u,type:A?"submit":"button",children:m})]})]})}},26494:(e,t,a)=>{a.d(t,{A:()=>A});var r=a(58168),l=a(98587),n=a(65043),o=a(58387),s=a(68606),i=a(34535),d=a(6431),c=a(57056),u=a(32400);function m(e){return(0,u.Ay)("MuiCardContent",e)}(0,c.A)("MuiCardContent",["root"]);var p=a(70579);const h=["className","component"],g=(0,i.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),A=n.forwardRef(function(e,t){const a=(0,d.b)({props:e,name:"MuiCardContent"}),{className:n,component:i="div"}=a,c=(0,l.A)(a,h),u=(0,r.A)({},a,{component:i}),A=(e=>{const{classes:t}=e;return(0,s.A)({root:["root"]},m,t)})(u);return(0,p.jsx)(g,(0,r.A)({as:i,className:(0,o.A)(A.root,n),ownerState:u,ref:t},c))})},37141:(e,t,a)=>{a.d(t,{A:()=>n});var r=a(59662),l=a(70579);const n=(0,r.A)((0,l.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save")},44590:(e,t,a)=>{a.r(t),a.d(t,{default:()=>be});var r=a(89379),l=a(65043),n=a(12110),o=a(77739),s=a(17392),i=a(26494),d=a(97707),c=a(48471),u=a(70579);const m=e=>{let{dataArray:t}=e;const a=["Stock_Group","Item_Name_Modified","Y1","M6","M2","LM","Total_Qty"],[n,o]=(0,l.useState)([]),s=(0,l.useMemo)(()=>t.map(e=>{const t=Array.isArray(null===e||void 0===e?void 0:e.StockTransaction)?null===e||void 0===e?void 0:e.StockTransaction:[],l=t[0]||{},n=Object.fromEntries(Object.entries(l).filter(e=>{let[t]=e;return!a.includes(t)&&!isNaN(Number(t))}).map(e=>{let[a]=e;o(e=>e.includes(a)?e:[...e,a]);const r=t.reduce((e,t)=>e+(Number(t[a])||0),0);return[a,r]}));return(0,r.A)((0,r.A)({},e),n)}),[t]);return(0,u.jsx)(l.Fragment,{children:(0,u.jsx)(c.Ay,{dataArray:s,isExpendable:!0,columns:[(0,c.Lj)("Stock_Group","string"),(0,c.Lj)("Y1","number"),(0,c.Lj)("M6","number"),(0,c.Lj)("M2","number"),(0,c.Lj)("LM","number"),(0,c.Lj)("Total_Qty","number"),...n.map(e=>(0,c.Lj)(e,"number","Day ".concat(e)))],expandableComp:e=>{let{row:t}=e;const r=Array.isArray(null===t||void 0===t?void 0:t.StockTransaction)?null===t||void 0===t?void 0:t.StockTransaction:[],l=[(0,c.Lj)("Item_Name_Modified","string","Item"),(0,c.Lj)("Y1","number"),(0,c.Lj)("M6","number"),(0,c.Lj)("M2","number"),(0,c.Lj)("LM","number"),(0,c.Lj)("Total_Qty","number")],n=Object.keys(r[0]||{}).filter(e=>!a.includes(e)&&"Stock_Group"!==e).map(e=>(0,c.Lj)(e,"number"));return(0,u.jsx)(c.Ay,{initialPageCount:10,dataArray:r,columns:[...l,...n]})},tableMaxHeight:540})})},p=e=>{let{dataArray:t,days:a}=e;const n=(0,l.useMemo)(()=>t.map(e=>{var t,l,n,o,s;return(0,r.A)((0,r.A)({},e),{},{M2_Avg:null!==(t=(0,d.SX)(e.ALL_Avg_M2,(0,d.Dl)(2)/2))&&void 0!==t?t:0,M3_Avg:null!==(l=(0,d.SX)(e.ALL_Avg_M3,(0,d.Dl)(3)/3))&&void 0!==l?l:0,M6_Avg:null!==(n=(0,d.SX)(e.ALL_Avg_M6,(0,d.Dl)(6)/6))&&void 0!==n?n:0,M9_Avg:null!==(o=(0,d.SX)(e.ALL_Avg_M9,(0,d.Dl)(9)/9))&&void 0!==o?o:0,M12_Avg:null!==(s=(0,d.SX)(e.ALL_Avg_One_Year,(0,d.Dl)(12)/12))&&void 0!==s?s:0,Billed_Qty:(0,d.Wd)(e.StockTransaction,"bill_qty"),Billed_Avg:(0,d.Wd)(e.StockTransaction,"bill_qty")/a,StockTransaction:e.StockTransaction.map(e=>{var t,a,l,n,o;return(0,r.A)((0,r.A)({},e),{},{Grade_Item_Group:e.Item_Name_Modified,M2_Avg:null!==(t=(0,d.SX)(e.M2_AVG_Qty,(0,d.Dl)(2)/2))&&void 0!==t?t:0,M3_Avg:null!==(a=(0,d.SX)(e.M3_AVG_Qty,(0,d.Dl)(3)/3))&&void 0!==a?a:0,M6_Avg:null!==(l=(0,d.SX)(e.M6_AVG_Qty,(0,d.Dl)(6)/6))&&void 0!==l?l:0,M9_Avg:null!==(n=(0,d.SX)(e.M9_AVG_Qty,(0,d.Dl)(9)/9))&&void 0!==n?n:0,M12_Avg:null!==(o=(0,d.SX)(e.One_Year_AVG_Qty,(0,d.Dl)(12)/12))&&void 0!==o?o:0})})})}).map(e=>(0,r.A)((0,r.A)({},e),{},{Billed_Qty:(0,d.Wd)(e.StockTransaction,"bill_qty")})),[t]);return(0,u.jsx)(l.Fragment,{children:(0,u.jsx)(c.Ay,{dataArray:n,isExpendable:!0,columns:[{Field_Name:"Stock_Group",isVisible:1,Fied_Data:"string"},{Field_Name:"Billed_Qty",isVisible:1,Fied_Data:"number"},{Field_Name:"Billed_Avg",isVisible:1,Fied_Data:"number"},{Field_Name:"M2_Avg",isVisible:1,Fied_Data:"number"},{Field_Name:"M3_Avg",isVisible:1,Fied_Data:"number"},{Field_Name:"M6_Avg",isVisible:1,Fied_Data:"number"},{Field_Name:"M9_Avg",isVisible:1,Fied_Data:"number"},{Field_Name:"M12_Avg",isVisible:1,Fied_Data:"number"}],expandableComp:e=>{let{row:t}=e;return(0,u.jsx)(c.Ay,{initialPageCount:10,dataArray:Array.isArray(t.StockTransaction)?t.StockTransaction:[],columns:[{Field_Name:"Grade_Item_Group",isVisible:1,Fied_Data:"string"},{Field_Name:"bill_qty",isVisible:1,Fied_Data:"number"},{Field_Name:"M2_Avg",isVisible:1,Fied_Data:"number"},{Field_Name:"M3_Avg",isVisible:1,Fied_Data:"number"},{Field_Name:"M6_Avg",isVisible:1,Fied_Data:"number"},{Field_Name:"M9_Avg",isVisible:1,Fied_Data:"number"},{Field_Name:"M12_Avg",isVisible:1,Fied_Data:"number"}]})},tableMaxHeight:540})})};var h=a(47805),g=a(65074),A=a(28076),v=a(39652),x=a(31159),f=a(67784),y=a(51787),b=a(53193),j=a(79190),_=a(72221),C=a(32143),S=a(79650),N=a(71806),F=a(84882),w=a(73460),D=a(8737),M=a(692),V=a(79484),k=a(433),z=a(30599),T=a(59383),O=a(3632),H=a(59662);const L=(0,H.A)((0,u.jsx)("path",{d:"M22 18v-2H8V4h2L7 1 4 4h2v2H2v2h4v8c0 1.1.9 2 2 2h8v2h-2l3 3 3-3h-2v-2zM10 8h6v6h2V8c0-1.1-.9-2-2-2h-6z"}),"Transform");var P=a(37141);const B=(0,H.A)((0,u.jsx)("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5zm4-3H19v1h1.5V11H19v2h-1.5V7h3zM9 9.5h1v-1H9zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm10 5.5h1v-3h-1z"}),"PictureAsPdf"),E=(0,H.A)((0,u.jsx)("path",{d:"M4 18h2.5v-2.5H4zm0-4.75h2.5v-2.5H4zM4 8.5h2.5V6H4zM17.5 6v2.5H20V6zM13 8.5h2.5V6H13zm4.5 9.5H20v-2.5h-2.5zm0-4.75H20v-2.5h-2.5zM8.5 18H11v-2.5H8.5zm4.5 0h2.5v-2.5H13zM8.5 8.5H11V6H8.5zm4.5 4.75h2.5v-2.5H13zm-4.5 0H11v-2.5H8.5z"}),"ViewCompact"),G=(0,H.A)((0,u.jsx)("path",{d:"M9 17H7v-7h2zm4 0h-2V7h2zm4 0h-2v-4h2zm2.5 2.1h-15V5h15zm0-16.1h-15c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"InsertChartOutlined"),I=(e,t,a)=>{const[n,o]=(0,l.useState)({}),[s,i]=(0,l.useState)(e);(0,l.useEffect)(()=>{i(((e,t,a,r)=>{let l=[...e];return t.forEach(e=>{const t=a[e.Field_Name];t&&("range"===t.type&&(l=l.filter(a=>{const r=a[e.Field_Name];return(void 0===t.min||r>=t.min)&&(void 0===t.max||r<=t.max)})),"date"===t.type&&(l=l.filter(a=>{var r,l;const n=new Date(a[e.Field_Name]);return(!(null!==(r=t.value)&&void 0!==r&&r.start)||n>=new Date(t.value.start))&&(!(null!==(l=t.value)&&void 0!==l&&l.end)||n<=new Date(t.value.end))})),Array.isArray(t)&&(l=t.length?l.filter(a=>{const r=a[e.Field_Name];return t.some(e=>(0,d.GI)({label:String(r)},String(e)))}):l))}),r&&(l=l.filter(e=>t.some(t=>{const a=e[t.Field_Name];return a&&(0,d.GI)({label:String(a)},r)}))),l})(e,t,n,a))},[n,e,t,a]);return{filters:n,filteredData:s,updateFilter:(e,t)=>{o(a=>(0,r.A)((0,r.A)({},a),{},{[e]:t}))},setFilters:o}},R={count:e=>e.length,sum:e=>e.reduce((e,t)=>e+(+t||0),0),min:e=>Math.min(...e),max:e=>Math.max(...e),mean:e=>e.reduce((e,t)=>e+(+t||0),0)/e.length,median:e=>{const t=[...e].sort((e,t)=>e-t),a=Math.floor(t.length/2);return t.length%2?t[a]:(t[a-1]+t[a])/2}},W=(e,t,a)=>{if(!a.length)return e;const r=(e,l)=>{const n=a[l];if(!n)return e;const o={};return e.forEach(e=>{var t;const a=null!==(t=e[n])&&void 0!==t?t:"N/A";o[a]=o[a]||[],o[a].push(e)}),Object.entries(o).map(e=>{let[o,s]=e;const i=((e,t,a)=>{const r={};return t.forEach(t=>{const l=t.Field_Name;if(a.includes(l))return;const n=e.map(e=>e[l]).filter(e=>void 0!==e&&null!==e);if(n.length)if(t.Aggregation&&R[t.Aggregation])r[l]=R[t.Aggregation](n);else switch(t.Fied_Data){case"number":r[l]=R.sum(n);break;case"date":case"time":r[l]=n.reduce((e,t)=>new Date(e)>new Date(t)?e:t);break;default:r[l]=R.count(n)}}),r})(s,t,a);return{__isGroup:!0,__level:l,__groupField:n,__groupValue:o,__aggregates:i,__rows:r(s,l+1)}})};return r(e,0)};var U=a(64912),q=a(10489);const Q=e=>{let{open:t,onClose:a,columns:r,grouping:l,onChange:n,onApply:o}=e;return(0,u.jsx)(q.A,{open:t,onClose:a,title:"Group By Columns",onSubmit:o,submitText:"Apply",maxWidth:"sm",children:(0,u.jsx)(U.A,{spacing:2,children:[0,1,2].map(e=>{const t=1===e&&!l[0]||2===e&&!l[1];return(0,u.jsxs)(_.A,{size:"small",displayEmpty:!0,disabled:t,value:l[e]||"",onChange:t=>{const a=t.target.value||"";let r=[...l];if(r[e]=a,!a)for(let l=e+1;l<3;l++)r[l]="";n(void 0,void 0,r)},children:[(0,u.jsxs)(C.A,{value:"",children:["No Grouping (Level ",e+1,")"]}),r.filter(e=>!e.isCustomCell&&1==e.isVisible).map(e=>(0,u.jsx)(C.A,{value:e.Field_Name,children:e.ColumnHeader||e.Field_Name},(0,d.RZ)()))]},(0,d.RZ)())})})})};var X=a(45424),Y=a(98082),Z=a(34535),J=a(90310);const K=(0,Z.Ay)(e=>(0,u.jsx)(X.A,(0,r.A)({elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},e)))(e=>{let{theme:t}=e;return{"& .MuiPaper-root":(0,r.A)({borderRadius:6,marginTop:t.spacing(1),minWidth:180,color:"rgb(55, 65, 81)",boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":(0,r.A)({fontSize:18,color:t.palette.text.secondary,marginRight:t.spacing(1.5)},t.applyStyles("dark",{color:"inherit"})),"&:active":{backgroundColor:(0,J.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}}},t.applyStyles("dark",{color:t.palette.grey[300]}))}}),$=e=>{let{options:t}=e;const[a,r]=(0,l.useState)(null);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(s.A,{onClick:e=>r(e.currentTarget),children:(0,u.jsx)(Y.A,{})}),(0,u.jsx)(K,{id:"demo-customized-menu",slotProps:{list:{"aria-labelledby":"demo-customized-button"}},open:!!a,anchorEl:a,onClose:()=>r(null),children:t.map((e,t)=>(0,u.jsxs)(C.A,{disabled:e.disabled,onClick:()=>{e.onClick(),r(null)},children:[(null===e||void 0===e?void 0:e.icon)&&e.icon,e.label]},t))})]})};var ee=a(83462),te=a(26600),ae=a(35316),re=a(4598),le=a(29347),ne=a(11906);const oe=e=>{let{open:t,columns:a,dispColumns:r,onToggle:l,onOrderChange:o,onClose:s}=e;return(0,u.jsxs)(ee.A,{open:t,onClose:s,maxWidth:"lg",fullWidth:!0,children:[(0,u.jsx)(te.A,{children:"Column Settings"}),(0,u.jsx)(ae.A,{children:(0,u.jsx)("div",{className:"row",children:a.map((e,t)=>{var a;const s=r.find(t=>t.Field_Name===e.Field_Name);return(0,u.jsx)("div",{className:"col-md-6 col-lg-4 p-2",children:(0,u.jsxs)(n.A,{className:"p-2 d-flex justify-content-between",children:[(0,u.jsx)(re.A,{checked:!(null===s||void 0===s||!s.isVisible),onChange:t=>l(e.Field_Name,t.target.checked)}),(0,u.jsx)("h6",{className:"mb-0 mx-2 flex-grow-1",style:{fontSize:"0.9rem"},children:e.ColumnHeader||e.Field_Name}),(0,u.jsx)("input",{type:"number",className:"border-0",value:null!==(a=null===s||void 0===s?void 0:s.OrderBy)&&void 0!==a?a:"",onChange:t=>o(e.Field_Name,t.target.value),placeholder:"Order",style:{width:60}})]})},t)})})}),(0,u.jsx)(le.A,{children:(0,u.jsx)(ne.A,{color:"error",onClick:s,children:"Close"})})]})},se=[{value:"",label:"Default"},{value:"sum",label:"Sum"},{value:"avg",label:"Average (Mean)"},{value:"mean",label:"Mean"},{value:"median",label:"Median"},{value:"min",label:"Min"},{value:"max",label:"Max"},{value:"count",label:"Count"}],ie=e=>{let{open:t,onClose:a,columns:r,onUpdateAggregation:l}=e;const n=e=>{switch(e){case"number":return"Sum";case"date":case"time":return"Max";default:return"Count"}};return(0,u.jsxs)(ee.A,{open:t,onClose:a,maxWidth:"md",fullWidth:!0,children:[(0,u.jsx)(te.A,{children:"Column Aggregations"}),(0,u.jsx)(ae.A,{dividers:!0,children:(0,u.jsxs)(N.A,{size:"small",children:[(0,u.jsx)(F.A,{children:(0,u.jsxs)(A.A,{children:[(0,u.jsx)(v.A,{children:"Column"}),(0,u.jsx)(v.A,{children:"Data Type"}),(0,u.jsx)(v.A,{children:"Default Aggregation"}),(0,u.jsx)(v.A,{children:"Custom Aggregation"})]})}),(0,u.jsx)(w.A,{children:r.filter(e=>!e.isCustomCell&&1==e.isVisible).map(e=>(0,u.jsxs)(A.A,{children:[(0,u.jsx)(v.A,{children:e.ColumnHeader||e.Field_Name}),(0,u.jsx)(v.A,{children:e.Fied_Data||"string"}),(0,u.jsx)(v.A,{className:"text-muted",children:n(e.Fied_Data)}),(0,u.jsx)(v.A,{children:(0,u.jsx)(b.A,{size:"small",fullWidth:!0,children:(0,u.jsx)(_.A,{value:e.Aggregation||"",onChange:t=>l(e.Field_Name,t.target.value),displayEmpty:!0,children:se.map(e=>(0,u.jsx)(C.A,{value:e.value,children:e.label},e.value))})})})]},(0,d.RZ)()))})]})}),(0,u.jsx)(le.A,{children:(0,u.jsx)(ne.A,{onClick:a,variant:"contained",color:"primary",children:"Done"})})]})},de=e=>{let{open:t,onSave:a,onClose:n,defaults:o={}}=e;const[s,i]=(0,l.useState)({name:"",displayName:"",reportUrl:"",reportGroup:""});return(0,l.useEffect)(()=>{t&&i({name:"",displayName:"",reportUrl:o.reportUrl||"",reportGroup:o.reportGroup||""})},[t,o]),(0,u.jsxs)(ee.A,{open:t,onClose:n,children:[(0,u.jsx)(te.A,{children:"Save Table State"}),(0,u.jsx)(ae.A,{children:(0,u.jsxs)("div",{className:"d-flex flex-column gap-3 mt-1",children:[(0,u.jsx)("label",{htmlFor:"",children:"State Name"}),(0,u.jsx)("input",{type:"text",value:s.name,onChange:e=>i((0,r.A)((0,r.A)({},s),{},{name:e.target.value,displayName:e.target.value})),className:"cus-inpt",style:{minWidth:"310px"}})]})}),(0,u.jsxs)(le.A,{children:[(0,u.jsx)(ne.A,{onClick:n,children:"Cancel"}),(0,u.jsx)(ne.A,{variant:"contained",onClick:()=>a(s),disabled:!s.name||!s.displayName,children:"Save"})]})]})};var ce=a(12412),ue=a(51962);const me=e=>{let{column:t,showData:a,filters:l,onChange:n}=e;const{Field_Name:o,Fied_Data:s}=t,i=(e,t)=>{const a=l[o]||{type:"range"};n(o,(0,r.A)((0,r.A)({},a),{},{type:"range",[e]:""===t?void 0:Number(t)}))},d=(e,t)=>{const a=l[o]||{type:"date",value:{}};n(o,(0,r.A)((0,r.A)({},a),{},{type:"date",value:(0,r.A)((0,r.A)({},a.value),{},{[e]:t||void 0})}))};if("number"===s){var c,m;const e=l[o]||{};return(0,u.jsxs)("div",{className:"d-flex gap-1",children:[(0,u.jsx)("input",{type:"number",className:"form-control form-control-sm",placeholder:"Min",value:null!==(c=e.min)&&void 0!==c?c:"",onChange:e=>i("min",e.target.value),style:{minWidth:"60px"}}),(0,u.jsx)("input",{type:"number",className:"form-control form-control-sm",placeholder:"Max",value:null!==(m=e.max)&&void 0!==m?m:"",onChange:e=>i("max",e.target.value),style:{minWidth:"60px"}})]})}if(["date","time"].includes(s)){var p,h,g;const e=(null===(p=l[o])||void 0===p?void 0:p.value)||{},t="time"===s?"time":"date";return(0,u.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,u.jsx)("input",{type:t,className:"form-control form-control-sm",placeholder:"Start",value:null!==(h=e.start)&&void 0!==h?h:"",onChange:e=>d("start",e.target.value)}),(0,u.jsx)("input",{type:t,className:"form-control form-control-sm",placeholder:"End",value:null!==(g=e.end)&&void 0!==g?g:"",onChange:e=>d("end",e.target.value)})]})}const A=[...new Set(a.map(e=>{var t;return null===(t=e[o])||void 0===t?void 0:t.toString().toLowerCase().trim()}).filter(Boolean))];return(0,u.jsx)(ce.A,{multiple:!0,options:A,value:l[o]||[],onChange:(e,t)=>n(o,t),disableCloseOnSelect:!0,getOptionLabel:e=>e,isOptionEqualToValue:(e,t)=>e===t,renderOption:(e,t,a)=>{let{selected:l}=a;return(0,u.jsxs)("li",(0,r.A)((0,r.A)({},e),{},{children:[(0,u.jsx)(ue.A,{checked:l,style:{marginRight:8}}),t]}))},renderInput:e=>(0,u.jsx)(f.A,(0,r.A)((0,r.A)({},e),{},{size:"small",placeholder:"Select...",variant:"standard"}))})},pe=e=>{let{open:t,onClose:a,columns:r,showData:l,filters:o,onChange:s,onClear:i}=e;return(0,u.jsxs)(ee.A,{open:t,onClose:a,maxWidth:"md",fullWidth:!0,children:[(0,u.jsx)(te.A,{children:(0,u.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,u.jsx)("span",{children:"Filters"}),(0,u.jsx)(ne.A,{onClick:i,size:"small",color:"error",children:"Clear All"})]})}),(0,u.jsx)(ae.A,{dividers:!0,children:(0,u.jsx)("div",{className:"row",children:r.filter(e=>1===e.isVisible&&!e.isCustomCell).map((e,t)=>(0,u.jsx)("div",{className:"col-md-6 p-2",children:(0,u.jsxs)(n.A,{variant:"outlined",className:"p-3",children:[(0,u.jsx)("h6",{className:"mb-2 fw-bold text-secondary",style:{fontSize:"0.9rem"},children:e.ColumnHeader||e.Field_Name}),(0,u.jsx)(me,{column:e,showData:l,filters:o,onChange:s})]})},(0,d.RZ)()))})}),(0,u.jsx)(le.A,{children:(0,u.jsx)(ne.A,{onClick:a,variant:"contained",children:"Close"})})]})};var he=a(37762),ge=(a(20557),a(11238));const Ae=(e,t)=>e.map(e=>{const a={};return t.forEach((t,r)=>{if(t.isVisible||t.Defult_Display)if(t.isCustomCell&&t.Cell){const l=t.Cell({row:e}),n=t.ColumnHeader?String(t.ColumnHeader).replace(/\s+/g,"_").toLowerCase():"field_".concat(r+1);"string"!==typeof l&&"number"!==typeof l&&"bigint"!==typeof l||(a[n]=l)}else{let r=t.Field_Name;a[r]=e[r]||""}}),a}),ve=e=>{let{dataArray:t=[],columns:a=[],title:o="",stateName:i,stateUrl:c,stateGroup:m,PDFPrintOption:p,ExcelPrintOption:h,MenuButtons:H=[],onClickFun:R,isExpendable:U=!1,expandableComp:q,tableMaxHeight:X=550,initialPageCount:Y=20,EnableSerialNumber:Z=!1,CellSize:J="small",disablePagination:K=!1,maxHeightOption:ee=!1,ButtonArea:te,bodyFontSizePx:ae=13,headerFontSizePx:re=14,enableGlobalSearch:le=!1}=e;const[ne,se]=(0,l.useState)(!1),[ce,ue]=(0,l.useState)(!1),[me,ve]=(0,l.useState)(!1),[xe,fe]=(0,l.useState)(!1),[ye,be]=(0,l.useState)(!1),[je,_e]=(0,l.useState)([]),[Ce,Se]=(0,l.useState)({}),[Ne,Fe]=(0,l.useState)(0),[we,De]=(0,l.useState)({}),[Me,Ve]=(0,l.useState)(Y),[ke,ze]=(0,l.useState)(!1),[Te,Oe]=(0,l.useState)(""),He=(0,l.useDeferredValue)(Te),Le=e=>{Ve(parseInt(e.target.value,10)),Fe(0),De({})},Pe=(e,t)=>{switch(t){case"number":return e?(0,d.jG)(e):e;case"date":return e?(0,d.yc)(e):e;case"time":return e?(0,d.JG)(e):e;default:return e}},{dispColumns:Be,setDispColumns:Ee,toggleVisibility:Ge,updateOrder:Ie,updateAggregation:Re}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const[t,a]=(0,l.useState)(e);return{dispColumns:(0,l.useMemo)(()=>[...t].sort((e,t)=>{var a,r;return(null!==(a=e.OrderBy)&&void 0!==a?a:999)-(null!==(r=t.OrderBy)&&void 0!==r?r:999)}),[t]),rawColumns:t,setDispColumns:a,toggleVisibility:(e,t)=>{a(a=>a.map(a=>a.Field_Name===e?(0,r.A)((0,r.A)({},a),{},{isVisible:t?1:0}):a))},updateOrder:(e,t)=>{a(a=>a.map(a=>a.Field_Name===e?(0,r.A)((0,r.A)({},a),{},{OrderBy:Number(t)}):a))},updateAggregation:(e,t)=>{a(a=>a.map(a=>a.Field_Name===e?(0,r.A)((0,r.A)({},a),{},{Aggregation:t}):a))}}}(a),{filteredData:We,filters:Ue,setFilters:qe,updateFilter:Qe}=I(t,Be,He),{enabled:Xe,availableViews:Ye,savedVisibility:Ze,savedGrouping:Je,checkIfNameExists:Ke,saveState:$e}=(e=>{let{stateName:t,stateUrl:a,stateGroup:r,dispColumns:n,grouping:o,loadingOn:s,loadingOff:i}=e;const[c,u]=(0,l.useState)([]),[m,p]=(0,l.useState)([]),[h,A]=(0,l.useState)(1),[v,x]=(0,l.useState)([]),f=t&&a&&r;return(0,l.useEffect)(()=>{f&&(p([]),u([]),Promise.all([(0,g.z)({address:"reports/reportState/columnVisiblity?reportGroup=".concat(r)}).then(e=>(0,d.$r)(e.data)),(0,g.z)({address:"reports/reportState/columnGrouping?reportGroup=".concat(r)}).then(e=>(0,d.$r)(e.data))]).then(e=>{let[t,a]=e;u(t),p(a);const r=[],l=new Set;[...t,...a].forEach(e=>{e.reportName&&!l.has(e.reportName)&&(l.add(e.reportName),r.push({reportName:e.reportName,displayName:e.displayName||e.reportName}))}),x(r)}))},[f,r,h]),{enabled:f,savedVisibility:c,savedGrouping:m,availableViews:v,checkIfNameExists:e=>v.some(t=>t.reportName===e||t.displayName===e),saveState:e=>{let{name:t,displayName:a,reportUrl:r,reportGroup:l}=e;const s={visibleColumns:n.filter(e=>1==e.isVisible).map(e=>({ColumnName:e.Field_Name,ColumnOrder:e.OrderBy})),reportName:t,displayName:a,reportUrl:r,reportGroup:l},i={groupingColumns:o.filter(Boolean).map((e,t)=>({ColumnName:e,ColumnOrder:t+1})),reportName:t,reportUrl:r,reportGroup:l};return Promise.all([(0,g.z)({address:"reports/reportState/columnVisiblity",method:"POST",bodyData:s}),(0,g.z)({address:"reports/reportState/columnGrouping",method:"POST",bodyData:i})]).then(()=>{A(e=>e+1)})}}})({stateName:i,stateUrl:c,stateGroup:m,dispColumns:Be,grouping:je}),et=je.filter(Boolean),tt=et.length?W(We,Be,et):We,at=e=>{let{row:t,rowIndex:a}=e;const[r,n]=(0,l.useState)(!1);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(A.A,{hover:!0,onClick:()=>R&&R(t),style:{cursor:R?"pointer":"default"},children:[et.length>0&&(0,u.jsx)(v.A,{}),U&&q&&(0,u.jsx)(v.A,{className:"text-center",style:{width:50,fontSize:ae},children:(0,u.jsx)(s.A,{size:"small",onClick:e=>{e.stopPropagation(),n(!r)},children:r?(0,u.jsx)(D.A,{}):(0,u.jsx)(M.A,{})})}),Z&&(0,u.jsx)(v.A,{className:"text-center",style:{width:60,fontSize:ae},children:a+1+Ne*Me}),Be.filter(e=>1===e.isVisible).map((e,a)=>{var r;return e.isCustomCell&&"function"===typeof e.Cell?(0,u.jsx)(v.A,{style:{fontSize:ae},children:e.Cell({row:t})},a):(0,u.jsx)(v.A,{style:{fontSize:ae},children:null!==(r=Pe(t[e.Field_Name],e.Fied_Data))&&void 0!==r?r:"-"},a)})]},a),U&&q&&r&&(0,u.jsx)(A.A,{children:(0,u.jsx)(v.A,{colSpan:Be.filter(e=>1===e.isVisible&&!et.includes(e.Field_Name)).length+(Z?1:0)+(et.length>0?1:0)+1,children:q({row:t,index:a})})})]})},rt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.map((e,a)=>{if(e.__isGroup){const l="".concat(t,"-").concat(e.__groupValue);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(A.A,{className:"bg-light",children:[(0,u.jsx)(v.A,{style:{fontSize:ae},className:"",children:(0,u.jsx)(s.A,{size:"small",onClick:()=>(e=>Se(t=>(0,r.A)((0,r.A)({},t),{},{[e]:!t[e]})))(l),children:Ce[l]?(0,u.jsx)(D.A,{}):(0,u.jsx)(M.A,{})})}),U&&(0,u.jsx)(v.A,{}),Z&&(0,u.jsx)(v.A,{className:"text-center ",style:{width:60,fontSize:ae},children:a+1+Ne*Me}),Be.filter(e=>1===e.isVisible).map((t,a)=>{var r;return t.Field_Name===e.__groupField?(0,u.jsx)(v.A,{style:{fontSize:ae},className:"",children:(0,u.jsx)("strong",{children:e.__groupValue})},a):t.isCustomCell?(0,u.jsx)(v.A,{style:{fontSize:ae},className:""},a):(0,u.jsx)(v.A,{style:{fontSize:ae},className:"",children:null!==(r=Pe(e.__aggregates[t.Field_Name],t.Fied_Data))&&void 0!==r?r:""},a)})]},l),Ce[l]&&(0,u.jsxs)(u.Fragment,{children:[rt(e.__rows.slice((we[l]||0)*Me,(we[l]||0)*Me+Me),t+1),e.__rows.length>Me&&(0,u.jsx)(A.A,{children:(0,u.jsx)(v.A,{colSpan:Be.filter(e=>1===e.isVisible).length+(et.length>0?1:0)+(U?1:0)+(Z?1:0),style:{padding:0},children:(0,u.jsx)(x.A,{component:"div",count:e.__rows.length,rowsPerPage:Me,page:we[l]||0,onPageChange:(e,t)=>((e,t)=>{De(a=>(0,r.A)((0,r.A)({},a),{},{[e]:t}))})(l,t),onRowsPerPageChange:Le,rowsPerPageOptions:[Me],labelRowsPerPage:""})})})]})]})}return(0,u.jsx)(at,{row:e,rowIndex:a},a)})},lt={maxHeight:ke&&ee?"none":X,overflowY:ke&&ee?"visible":"auto"};return(0,u.jsxs)(n.A,{children:[(0,u.jsxs)("div",{className:"d-flex p-2 align-items-center flex-wrap",children:[(0,u.jsx)("h6",{className:"flex-grow-1 mb-0",children:o}),(0,u.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[le&&(0,u.jsx)(f.A,{size:"small",placeholder:"Search...",variant:"outlined",value:Te,onChange:e=>Oe(e.target.value),InputProps:{startAdornment:(0,u.jsx)(y.A,{position:"start",children:(0,u.jsx)(V.A,{})})},style:{minWidth:200}}),Xe&&Ye.length>0&&(0,u.jsxs)(b.A,{size:"small",style:{minWidth:150},children:[(0,u.jsx)(j.A,{children:"Saved View"}),(0,u.jsxs)(_.A,{label:"Saved View",onChange:e=>(e=>{if(!e)return Ee(a.map((e,t)=>{var a,l;return(0,r.A)((0,r.A)({},e),{},{isVisible:null!==(a=e.isVisible)&&void 0!==a?a:1,OrderBy:null!==(l=e.OrderBy)&&void 0!==l?l:t+1,Aggregation:e.Aggregation||(["number","currency"].includes(e.Fied_Data)?"sum":["date","time"].includes(e.Fied_Data)?"max":"count")})})),void _e([]);const t=Ze.filter(t=>t.reportName===e);t.length>0&&Ee(e=>e.map(e=>{const a=t.find(t=>t.columnName===e.Field_Name);return a?(0,r.A)((0,r.A)({},e),{},{isVisible:1,OrderBy:a.orderNum}):(0,r.A)((0,r.A)({},e),{},{isVisible:0})}));const l=Je.filter(t=>t.reportName===e),n=[];l.sort((e,t)=>(e.orderNum||0)-(t.orderNum||0)),l.forEach((e,t)=>{t<3&&(n[t]=e.columnName)}),_e(n)})(e.target.value),defaultValue:"",children:[(0,u.jsx)(C.A,{value:"",children:"Select View (Default)"}),Ye.map((e,t)=>(0,u.jsx)(C.A,{value:e.reportName,children:e.reportName},t))]})]}),te&&te,(0,u.jsx)($,{options:[ee&&{label:ke?"Min Height":"Max Height",onClick:()=>ze(!ke),icon:ke?(0,u.jsx)(k.A,{color:"primary"}):(0,u.jsx)(z.A,{})},{label:"Filters",onClick:()=>be(!0),icon:(0,u.jsx)(T.A,{})},{label:"Columns",onClick:()=>ue(!0),icon:(0,u.jsx)(O.A,{})},{label:"Group By",onClick:()=>se(!0),icon:(0,u.jsx)(L,{})},Xe&&{label:"Save View",onClick:()=>fe(!0),icon:(0,u.jsx)(P.A,{})},p&&{label:"Print PDF",onClick:()=>"function"===typeof p?p():((e,t)=>{try{const a=new he.default,l=Ae(e,t),n=t.filter(e=>e.isVisible||e.Defult_Display).map(e=>e.Field_Name||String(e.ColumnHeader).replace(/\s+/g,"_").toLowerCase()),o=l.map(e=>n.map(t=>e[t])).map((e,t)=>(0,r.A)((0,r.A)({},e),{},{Sno:t+1}));a.autoTable({head:[n],body:o}),a.save("table.pdf")}catch(a){console.error(a)}})(We,Be),icon:(0,u.jsx)(B,{})},h&&{label:"Export Excel",onClick:()=>"function"===typeof h?h():((e,t)=>{try{const a=Ae(e,t),r=ge.Wp.json_to_sheet(a),l=ge.Wp.book_new();ge.Wp.book_append_sheet(l,r,"Data"),ge._h(l,"table.xlsx")}catch(a){console.error(a)}})(We,Be),icon:(0,u.jsx)(E,{})},{label:"Aggregations",onClick:()=>ve(!0),icon:(0,u.jsx)(G,{})},...H.map(e=>({label:e.name,onClick:e.onclick||e.onClick,disabled:e.disabled,icon:e.icon}))].filter(Boolean)})]})]}),(0,u.jsx)(S.A,{style:lt,children:(0,u.jsxs)(N.A,{size:J,stickyHeader:!0,children:[(0,u.jsx)(F.A,{children:(0,u.jsxs)(A.A,{children:[et.length>0&&(0,u.jsx)(v.A,{style:{width:50,fontSize:re,backgroundColor:"#EDF0F7"},className:"fw-bold text-center",padding:"checkbox"}),U&&(0,u.jsx)(v.A,{style:{width:50,fontSize:re,backgroundColor:"#EDF0F7"},className:"fw-bold text-center",children:"#"}),Z&&(0,u.jsx)(v.A,{style:{width:60,fontSize:re,backgroundColor:"#EDF0F7"},className:"fw-bold text-center ",children:"SNo"}),Be.filter(e=>1===e.isVisible).map(e=>(0,u.jsx)(v.A,{style:{fontSize:re,backgroundColor:"#EDF0F7"},className:"fw-bold",children:e.ColumnHeader||e.Field_Name},(0,d.RZ)()))]})}),(0,u.jsx)(w.A,{children:Array.isArray(tt)?rt(tt.slice(Ne*Me,Ne*Me+Me)):null})]})}),!K&&(0,u.jsx)(x.A,{rowsPerPageOptions:Array.from(new Set([Y,5,10,25,50,100,200,500,1e3,2e3])).sort((e,t)=>e-t),component:"div",count:tt.length,rowsPerPage:Me,page:Ne,onPageChange:(e,t)=>{Fe(t)},onRowsPerPageChange:Le,showFirstButton:!0,showLastButton:!0}),(0,u.jsx)(Q,{open:ne,onClose:()=>se(!1),columns:Be,grouping:je,onChange:(e,t,a)=>{if(a)_e(a);else{const a=[...je];a[e]=t,_e(a)}},onApply:()=>se(!1)}),(0,u.jsx)(oe,{open:ce,onClose:()=>ue(!1),columns:a,dispColumns:Be,onToggle:Ge,onOrderChange:Ie}),(0,u.jsx)(ie,{open:me,onClose:()=>ve(!1),columns:Be,onUpdateAggregation:Re}),(0,u.jsx)(pe,{open:ye,onClose:()=>be(!1),columns:Be,showData:t,filters:Ue,onChange:Qe,onClear:()=>qe({})}),(0,u.jsx)(de,{open:xe,onClose:()=>fe(!1),onSave:async e=>{try{await $e(e),fe(!1)}catch(t){console.error("Failed to save state",t),alert("Failed to save state: "+t.message)}},defaults:{reportUrl:c,reportGroup:m}})]})};var xe=a(592);const fe=e=>{let{row:t,Fromdate:a,Todate:n,DB:o}=e;const[s,i]=(0,l.useState)([]),[d,c]=(0,l.useState)([]),[m,p]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{p(!0),(0,g.z)({address:"reports/salesReport/ledger/itemDetails?Fromdate=".concat(a,"&Todate=").concat(n,"&Ledger_Id=").concat(null===t||void 0===t?void 0:t.Ledger_Tally_Id),headers:{Db:o}}).then(e=>{let{success:t,data:a,others:l}=e;if(t){const{dataTypeInfo:e}=l;i(a),c(t=>(0,r.A)((0,r.A)({},t),{},{salesInfo:Array.isArray(e)?e:[]}))}else i([])}).catch(e=>console.error(e)).finally(()=>{p(!1)})},[null===t||void 0===t?void 0:t.Ledger_Tally_Id,a,n]),m?(0,u.jsx)("h5",{className:"text-center text-primary ",children:"Loading..."}):(0,u.jsx)(xe.A,{dataArray:s,columns:d.salesInfo})},ye=e=>{let{dataArray:t,colTypes:a,DB:r,Fromdate:n,Todate:o}=e;const s=(0,l.useMemo)(()=>a.map((e,t)=>{var a;return{Field_Name:null===e||void 0===e?void 0:e.Column_Name,ColumnHeader:null===e||void 0===e||null===(a=e.Column_Name)||void 0===a?void 0:a.replace(/_/g," "),Fied_Data:null===e||void 0===e?void 0:e.Data_Type,isVisible:t<10?1:0,OrderBy:t+1,Aggregation:"number"===(null===e||void 0===e?void 0:e.Data_Type)?"sum":"date"===(null===e||void 0===e?void 0:e.Data_Type)?"max":"count"}}),[a]);return(0,u.jsx)("div",{className:"p-2",children:(0,u.jsx)(ve,{title:"Ledger Based Sales Report",dataArray:t,columns:s,ExcelPrintOption:!0,PDFPrintOption:!0,maxHeightOption:!0,EnableSerialNumber:!0,headerFontSizePx:12,bodyFontSizePx:12,enableGlobalSearch:!0,isExpendable:!0,expandableComp:e=>{let{row:t}=e;return(0,u.jsx)(fe,{row:t,DB:r,Fromdate:n,Todate:o})},stateName:"ledger_based_sales_report",stateUrl:"/reports/salesReport/ledger",stateGroup:"sales_reports"})})},be=e=>{let{loadingOn:t,loadingOff:a}=e;const c=JSON.parse(localStorage.getItem("user")),[A,v]=(0,l.useState)(null),[x,f]=(0,l.useState)({salesInfo:[],salesItemInfo:[]}),[y,b]=(0,l.useState)(null),[j,_]=(0,l.useState)({Fromdate:(0,d.IS)(1),Todate:(0,d.ny)(),ReportType:"LedgerBased",filterDialog:!1,reload:!0});(0,l.useEffect)(()=>{v(null),b(null),f({salesInfo:[],salesItemInfo:[]}),(0,g.z)({address:"reports/salesReport/ledger?Fromdate=".concat(null===j||void 0===j?void 0:j.Fromdate,"&Todate=").concat(null===j||void 0===j?void 0:j.Todate),headers:{Db:null===c||void 0===c?void 0:c.Company_id}}).then(e=>{let{success:t,data:a,others:l}=e;if(t){const{dataTypeInfo:e}=l;v(a),f(t=>(0,r.A)((0,r.A)({},t),{},{salesInfo:Array.isArray(e)?e:[]}))}else v([])}).catch(console.error),(0,g.z)({address:"reports/salesReport/products?Fromdate=".concat(null===j||void 0===j?void 0:j.Fromdate,"&Todate=").concat(null===j||void 0===j?void 0:j.Todate),headers:{Db:null===c||void 0===c?void 0:c.Company_id}}).then(e=>{if(e.success){var t;const{dataTypeInfo:a}=null===e||void 0===e?void 0:e.others,l=Array.isArray(null===e||void 0===e||null===(t=e.others)||void 0===t?void 0:t.LOSAbstract)?e.others.LOSAbstract.map(t=>(0,r.A)((0,r.A)({},t),{},{StockTransaction:Array.isArray(e.data)?[...e.data].filter(e=>e.Stock_Group===t.Stock_Group):[]})):[];f(e=>(0,r.A)((0,r.A)({},e),{},{salesItemInfo:Array.isArray(a)?a:[]})),b(l)}else b([])}).catch(e=>console.error(e))},[j.reload]);const C=()=>{_(e=>(0,r.A)((0,r.A)({},e),{},{filterDialog:!1}))},S=(0,d.kY)(new Date(j.Fromdate),new Date(j.Todate));return(0,u.jsx)(l.Fragment,{children:(0,u.jsxs)(n.A,{className:"mt-3",children:[(0,u.jsxs)("div",{className:"px-3 py-2 d-flex justify-content-between align-items-center fw-bold text-dark",style:{backgroundColor:"#eae0cc"},children:[(0,u.jsx)("span",{children:(0,u.jsxs)("form",{onSubmit:e=>{e.preventDefault(),_(e=>(0,r.A)((0,r.A)({},e),{},{reload:!e.reload}))},children:[(0,u.jsx)("input",{type:"date",className:"cus-inpt w-auto ps-3 border rounded-5 me-1",value:j.Fromdate,onChange:e=>_(t=>(0,r.A)((0,r.A)({},t),{},{Fromdate:e.target.value}))}),(0,u.jsx)("input",{type:"date",className:"cus-inpt w-auto ps-3 border rounded-5",value:j.Todate,onChange:e=>_(t=>(0,r.A)((0,r.A)({},t),{},{Todate:e.target.value}))}),(0,u.jsx)(o.A,{title:"Reload Data",children:(0,u.jsx)(s.A,{size:"small",className:"ms-2",type:"submit",children:(0,u.jsx)(h.A,{})})})]})}),(0,u.jsx)("span",{children:(0,u.jsxs)("select",{value:j.ReportType,className:"cus-inpt ps-3 w-100 rounded-5 border-0",onChange:e=>_(t=>(0,r.A)((0,r.A)({},t),{},{ReportType:e.target.value})),children:[(0,u.jsx)("option",{value:"LedgerBased",children:"Ledger Based"}),(0,u.jsx)("option",{value:"ProductBased",children:"Product Based"})]})})]}),(0,u.jsxs)(i.A,{className:"p-0",children:[null===A&&"LedgerBased"===j.ReportType&&(0,u.jsx)("h6",{className:"blue-text text-center",children:"Fetching Ledger Based data..."}),null===y&&("ProductBased"===j.ReportType||"ProductDayAverage"===j.ReportType)&&(0,u.jsx)("h6",{className:"blue-text text-center",children:"Fetching Product Based data..."}),"LedgerBased"===j.ReportType&&Array.isArray(A)&&(0,u.jsx)(ye,{filterDialog:j.filterDialog,closeDialog:C,dataArray:A,colTypes:x.salesInfo,DB:null===c||void 0===c?void 0:c.Company_id,Fromdate:null===j||void 0===j?void 0:j.Fromdate,Todate:null===j||void 0===j?void 0:j.Todate,loadingOn:t,loadingOff:a}),"ProductBased"===j.ReportType&&Array.isArray(y)&&(0,u.jsx)(m,{filterDialog:j.filterDialog,closeDialog:C,dataArray:y,fromDate:j.Fromdate,toDate:j.Todate}),"ProductDayAverage"===j.ReportType&&Array.isArray(y)&&(0,u.jsx)(p,{filterDialog:j.filterDialog,closeDialog:C,dataArray:y,days:S})]})]})})}},47805:(e,t,a)=>{a.d(t,{A:()=>n});var r=a(59662),l=a(70579);const n=(0,r.A)((0,l.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh")},68926:(e,t,a)=>{a.d(t,{RG:()=>S,Y_:()=>C,df:()=>l});var r={fieldSeparator:",",decimalSeparator:".",quoteStrings:!0,quoteCharacter:'"',showTitle:!1,title:"My Generated Report",filename:"generated",showColumnHeaders:!0,useTextFile:!1,useBom:!0,columnHeaders:[],useKeysAsHeaders:!1,boolDisplay:{true:"TRUE",false:"FALSE"},replaceUndefinedWith:""},l=e=>Object.assign({},r,e);class n extends Error{constructor(e){super(e),this.name="CsvGenerationError"}}class o extends Error{constructor(e){super(e),this.name="EmptyHeadersError"}}class s extends Error{constructor(e){super(e),this.name="CsvDownloadEnvironmentError"}}class i extends Error{constructor(e){super(e),this.name="UnsupportedDataFormatError"}}var d=e=>e,c=e=>e,u=d,m=d,p=d,h=d,g=d,A=e=>h("object"===typeof e?e.key:e),v=e=>g("object"===typeof e?e.displayLabel:e),x=e=>t=>m(e+t+"\r\n"),f=e=>(t,a)=>y(e)(p(t+a)),y=e=>t=>t+e.fieldSeparator,b=(e,t)=>{if((e=>+e===e&&(!isFinite(e)||Boolean(e%1)))(t)){if("locale"===e.decimalSeparator)return u(t.toLocaleString());if(e.decimalSeparator)return u(t.toString().replace(".",e.decimalSeparator))}return u(t.toString())},j=(e,t)=>{let a=t;return(e.quoteStrings||e.fieldSeparator&&t.indexOf(e.fieldSeparator)>-1||e.quoteCharacter&&t.indexOf(e.quoteCharacter)>-1||t.indexOf("\n")>-1||t.indexOf("\r")>-1)&&(a=e.quoteCharacter+function(e,t){return'"'==t&&e.indexOf('"')>-1?e.replace(/"/g,'""'):e}(t,e.quoteCharacter)+e.quoteCharacter),u(a)},_=(e,t)=>{if("number"===typeof t)return b(e,t);if("string"===typeof t)return j(e,t);if("boolean"===typeof t&&e.boolDisplay)return((e,t)=>{const a=t?"true":"false";return u(e.boolDisplay[a])})(e,t);if(null===t||"undefined"===typeof t)return((e,t)=>"undefined"===typeof t&&void 0!==e.replaceUndefinedWith?j(e,e.replaceUndefinedWith+""):j(e,null===t?"null":""))(e,t);throw new i("\n    typeof ".concat(typeof t," isn't supported. Only number, string, boolean, null and undefined are supported.\n    Please convert the data in your object to one of those before generating the CSV.\n    "))},C=e=>t=>{const a=l(e),r=a.useKeysAsHeaders?Object.keys(t[0]):a.columnHeaders;let s=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];return a.reduce((e,t)=>t(e),e)}(m(""),(e=>t=>e.useBom?m(t+"\ufeff"):t)(a),(e=>t=>e.showTitle?x(m(t+e.title))(p("")):t)(a),((e,t)=>a=>{if(!e.showColumnHeaders)return a;if(t.length<1)throw new o("Option to show headers but none supplied. Make sure there are keys in your collection or that you've supplied headers through the config options.");let r=p("");for(let l=0;l<t.length;l++){const a=v(t[l]);r=f(e)(r,_(e,c(a)))}return r=p(r.slice(0,-1)),x(a)(r)})(a,r),((e,t,a)=>r=>{let l=r;for(var n=0;n<a.length;n++){let r=p("");for(let l=0;l<t.length;l++){const o=A(t[l]),s=a[n][c(o)];r=f(e)(r,_(e,s))}r=p(c(r).slice(0,-1)),l=x(l)(r)}return l})(a,r,t));if(s.length<1)throw new n("Output is empty. Is your data formatted correctly?");return s},S=e=>t=>{if(!window)throw new s("Downloading only supported in a browser environment.");const a=(e=>t=>{const a=t,r=l(e).useTextFile?"plain":"csv";return new Blob([a],{type:"text/".concat(r,";charset=utf8;")})})(e)(t),r=l(e),n=r.useTextFile?"txt":"csv",o="".concat(r.filename,".").concat(n),i=document.createElement("a");i.download=o,i.href=URL.createObjectURL(a),i.setAttribute("visibility","hidden"),document.body.appendChild(i),i.click(),document.body.removeChild(i)}},79484:(e,t,a)=>{a.d(t,{A:()=>n});var r=a(59662),l=a(70579);const n=(0,r.A)((0,l.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},84402:(e,t,a)=>{a.d(t,{A:()=>p});var r=a(58168),l=a(98587),n=a(65043),o=a(58387),s=a(13174),i=a(58812),d=a(18698),c=a(45527),u=a(70579);const m=["className","component"];function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:a,defaultClassName:p="MuiBox-root",generateClassName:h}=e,g=(0,s.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(i.A);return n.forwardRef(function(e,n){const s=(0,c.A)(a),i=(0,d.A)(e),{className:A,component:v="div"}=i,x=(0,l.A)(i,m);return(0,u.jsx)(g,(0,r.A)({as:v,ref:n,className:(0,o.A)(A,h?h(p):p),theme:t&&s[t]||s},x))})}}}]);
//# sourceMappingURL=490.ba0462d4.chunk.js.map