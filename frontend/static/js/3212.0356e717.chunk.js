"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[3212],{12110:(e,t,a)=>{a.d(t,{A:()=>j});var s=a(58168),i=a(98587),n=a(65043),o=a(58387),r=a(68606),c=a(34535),l=a(6431),d=a(63336),m=a(57056),h=a(32400);function u(e){return(0,h.Ay)("MuiCard",e)}(0,m.A)("MuiCard",["root"]);var x=a(70579);const p=["className","raised"],g=(0,c.Ay)(d.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),j=n.forwardRef(function(e,t){const a=(0,l.b)({props:e,name:"MuiCard"}),{className:n,raised:c=!1}=a,d=(0,i.A)(a,p),m=(0,s.A)({},a,{raised:c}),h=(e=>{const{classes:t}=e;return(0,r.A)({root:["root"]},u,t)})(m);return(0,x.jsx)(g,(0,s.A)({className:(0,o.A)(h.root,n),elevation:c?8:void 0,ref:t,ownerState:m},d))})},26494:(e,t,a)=>{a.d(t,{A:()=>g});var s=a(58168),i=a(98587),n=a(65043),o=a(58387),r=a(68606),c=a(34535),l=a(6431),d=a(57056),m=a(32400);function h(e){return(0,m.Ay)("MuiCardContent",e)}(0,d.A)("MuiCardContent",["root"]);var u=a(70579);const x=["className","component"],p=(0,c.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),g=n.forwardRef(function(e,t){const a=(0,l.b)({props:e,name:"MuiCardContent"}),{className:n,component:c="div"}=a,d=(0,i.A)(a,x),m=(0,s.A)({},a,{component:c}),g=(e=>{const{classes:t}=e;return(0,r.A)({root:["root"]},h,t)})(m);return(0,u.jsx)(p,(0,s.A)({as:c,className:(0,o.A)(g.root,n),ownerState:m,ref:t},d))})},44973:(e,t,a)=>{a.d(t,{A:()=>n});var s=a(59662),i=a(70579);const n=(0,s.A)((0,i.jsx)("path",{d:"M5 20h14v-2H5zm0-10h4v6h6v-6h4l-7-7z"}),"Upload")},83212:(e,t,a)=>{a.r(t),a.d(t,{default:()=>w});var s=a(65043),i=a(89379),n=a(22520),o=a(91036),r=a(11906),c=a(26494),l=a(77739),d=a(83462),m=a(26600),h=a(35316),u=a(29347),x=a(44973),p=a(45777),g=a(65074),j=a(58992),A=a(70579);const f=()=>{const{contextObj:e}=(0,s.useContext)(p.i),[t,a]=(0,s.useState)([]),[f,v]=(0,s.useState)(!1),b={image:"",dialog:!1},[w,y]=(0,s.useState)(b);(0,s.useEffect)(()=>{(0,g.z)({address:"dataEntry/inwardActivity"}).then(e=>a(e.data)).catch(e=>console.error(e))},[f]);const C=()=>{y(b)};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("div",{className:"p-3 pt-0 fa-16 fw-bold d-flex justify-content-between align-items-center",children:[(0,A.jsx)("span",{children:"Inward Activities"}),(0,n.id)(null===e||void 0===e?void 0:e.Add_Rights,1)&&(0,A.jsx)(r.A,{variant:"outlined",onClick:()=>y(e=>(0,i.A)((0,i.A)({},e),{},{dialog:!0})),startIcon:(0,A.jsx)(x.A,{}),children:"Upload Image"})]}),(0,A.jsx)(c.A,{children:(null===t||void 0===t?void 0:t.length)>0&&(null===t||void 0===t?void 0:t.map((e,t)=>(0,A.jsxs)("div",{children:[(0,A.jsxs)("h5",{children:["Updated At: ",(0,A.jsx)("span",{className:"text-muted",children:(null===e||void 0===e?void 0:e.modifiedTime)&&(0,n.z5)(null===e||void 0===e?void 0:e.modifiedTime)})]}),(0,A.jsx)(l.A,{title:"Click image to Download",children:(0,A.jsx)("img",{src:null===e||void 0===e?void 0:e.url,alt:"img",onClick:()=>(async e=>{try{const t=await fetch(e),a=await t.blob(),s=URL.createObjectURL(a),i=document.createElement("a");i.href=s,i.download="Inward_Activity_Image_"+(0,n.z5)(),i.click(),URL.revokeObjectURL(s)}catch(t){console.error("Failed to create object URL:",t)}})(null===e||void 0===e?void 0:e.url),style:{maxWidth:"100%",maxHeight:700,marginTop:10,cursor:"pointer"}})})]},t)))}),(0,A.jsxs)(d.A,{open:w.dialog,onClose:C,fullWidth:!0,maxWidth:"lg",children:[(0,A.jsx)(m.A,{children:"Upload Inward Activity"}),(0,A.jsxs)(h.A,{children:[(0,A.jsx)("textarea",{type:"file",className:"drag-and-drop mt-2",onPaste:async e=>{const t=e.clipboardData.items;for(const a of t)if(a.type.startsWith("image/")){const e=a.getAsFile();y(t=>(0,i.A)((0,i.A)({},t),{},{image:e}));break}},placeholder:"Paste Excel Rows...",rows:4}),(0,A.jsxs)("div",{className:" d-flex align-items-center my-2",children:[(0,A.jsx)("hr",{className:"w-100"}),(0,A.jsx)("span",{className:"px-4",children:"OR"}),(0,A.jsx)("hr",{className:"w-100"})]}),(0,A.jsxs)("label",{className:"w-100",children:["Select File To Upload ( ",[".jpg",".jpeg",".png",".gif",".bmp",".tiff",".webp"].join(", ")," )"]}),(0,A.jsx)("input",{type:"file",className:"cus-inpt mt-2",style:{backgroundColor:"#eaf4fe",borderColor:"#66afe9"},onChange:e=>y(t=>(0,i.A)((0,i.A)({},t),{},{image:e.target.files[0]})),accept:"image/*"}),w.image&&(0,A.jsx)("img",{src:URL.createObjectURL(w.image),alt:"Pasted",style:{maxWidth:"100%",maxHeight:700,marginTop:10}})]}),(0,A.jsxs)(u.A,{children:[(0,A.jsx)(r.A,{onClick:C,children:"cancel"}),(0,A.jsx)(r.A,{onClick:()=>{const e=new FormData;e.append("image",w.image),null!==w&&void 0!==w&&w.image&&fetch("".concat(j.A,"dataEntry/inwardActivity"),{method:"POST",body:e}).then(e=>e.json()).then(e=>{e.success?(o.oR.success(e.message),C(),v(!f)):o.oR.error(e.message)}).catch(e=>console.error(e))},className:"",variant:"outlined",children:"submit"})]})]})]})},v=()=>{const{contextObj:e}=(0,s.useContext)(p.i),[t,a]=(0,s.useState)([]),[f,v]=(0,s.useState)(!1),b={image:"",dialog:!1},[w,y]=(0,s.useState)(b);(0,s.useEffect)(()=>{(0,g.z)({address:"dataEntry/machineOutern"}).then(e=>a(e.data)).catch(e=>console.error(e))},[f]);const C=()=>{y(b)};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("div",{className:"p-3 pt-0 fa-16 fw-bold d-flex justify-content-between align-items-center",children:[(0,A.jsx)("span",{children:"Machine Outern Activities"}),(0,n.id)(null===e||void 0===e?void 0:e.Add_Rights,1)&&(0,A.jsx)(r.A,{variant:"outlined",onClick:()=>y(e=>(0,i.A)((0,i.A)({},e),{},{dialog:!0})),startIcon:(0,A.jsx)(x.A,{}),children:"Upload Image"})]}),(0,A.jsx)(c.A,{children:(null===t||void 0===t?void 0:t.length)>0&&(null===t||void 0===t?void 0:t.map((e,t)=>(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("h5",{children:["Updated At: ",(0,A.jsx)("span",{className:"text-muted",children:(null===e||void 0===e?void 0:e.modifiedTime)&&(0,n.z5)(null===e||void 0===e?void 0:e.modifiedTime)})]}),(0,A.jsx)(l.A,{title:"Click image to Download",children:(0,A.jsx)("img",{src:null===e||void 0===e?void 0:e.url,alt:"img",onClick:()=>(async e=>{try{const t=await fetch(e),a=await t.blob(),s=URL.createObjectURL(a),i=document.createElement("a");i.href=s,i.download="pasted-image.png",i.click(),URL.revokeObjectURL(s)}catch(t){console.error("Failed to create object URL:",t)}})(e),style:{maxWidth:"100%",maxHeight:700,marginTop:10,cursor:"pointer"}},t)})]})))}),(0,A.jsxs)(d.A,{open:w.dialog,onClose:C,fullWidth:!0,maxWidth:"lg",children:[(0,A.jsx)(m.A,{children:"Upload MachineOutern Activity"}),(0,A.jsxs)(h.A,{children:[(0,A.jsx)("textarea",{type:"file",className:"drag-and-drop mt-2",onPaste:async e=>{const t=e.clipboardData.items;for(const a of t)if(a.type.startsWith("image/")){const e=a.getAsFile();y(t=>(0,i.A)((0,i.A)({},t),{},{image:e}));break}},placeholder:"Paste Excel Rows...",rows:4}),(0,A.jsxs)("div",{className:" d-flex align-items-center my-2",children:[(0,A.jsx)("hr",{className:"w-100"}),(0,A.jsx)("span",{className:"px-4",children:"OR"}),(0,A.jsx)("hr",{className:"w-100"})]}),(0,A.jsxs)("label",{className:"w-100",children:["Select File To Upload ( ",[".jpg",".jpeg",".png",".gif",".bmp",".tiff",".webp"].join(", ")," )"]}),(0,A.jsx)("input",{type:"file",className:"cus-inpt mt-2",style:{backgroundColor:"#eaf4fe",borderColor:"#66afe9"},onChange:e=>y(t=>(0,i.A)((0,i.A)({},t),{},{image:e.target.files[0]})),accept:"image/*"}),w.image&&(0,A.jsx)("img",{src:URL.createObjectURL(w.image),alt:"Pasted",style:{maxWidth:"100%",maxHeight:700,marginTop:10}})]}),(0,A.jsxs)(u.A,{children:[(0,A.jsx)(r.A,{onClick:C,children:"cancel"}),(0,A.jsx)(r.A,{onClick:()=>{const e=new FormData;e.append("image",w.image),null!==w&&void 0!==w&&w.image&&fetch("".concat(j.A,"dataEntry/machineOutern"),{method:"POST",body:e}).then(e=>e.json()).then(e=>{e.success?(o.oR.success(e.message),C(),v(!f)):o.oR.error(e.message)}).catch(e=>console.error(e))},className:"",variant:"outlined",children:"submit"})]})]})]})};var b=a(12110);const w=()=>{const[e,t]=(0,s.useState)("INWARD");return(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(b.A,{children:[(0,A.jsxs)("div",{className:"p-2 fa-16 fw-bold d-flex justify-content-between align-items-center",children:[(0,A.jsx)("span",{className:"text-primary text-uppercase ps-3",children:"file Uploads"}),(0,A.jsx)("select",{className:"cus-inpt w-auto",value:e,onChange:e=>t(e.target.value),children:["INWARD","MACHINE OUTERN"].map((e,t)=>(0,A.jsx)("option",{value:e,children:e},t))})]}),(0,A.jsx)("hr",{className:"mt-0"}),(e=>{switch(e){case"INWARD":return(0,A.jsx)(f,{});case"MACHINE OUTERN":return(0,A.jsx)(v,{});default:return(0,A.jsx)(A.Fragment,{})}})(e)]})})}}}]);
//# sourceMappingURL=3212.0356e717.chunk.js.map