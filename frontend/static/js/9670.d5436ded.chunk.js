/*! For license information please see 9670.d5436ded.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[2110,9670,9729],{3900:(e,t,r)=>{r.d(t,{A:()=>n});r(65043);var a=r(59662),l=r(70579);const n=(0,a.A)((0,l.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")},12110:(e,t,r)=>{r.d(t,{A:()=>A});var a=r(58168),l=r(98587),n=r(65043),s=r(58387),o=r(68606),i=r(34535),d=r(6431),c=r(63336),u=r(57056),v=r(32400);function m(e){return(0,v.Ay)("MuiCard",e)}(0,u.A)("MuiCard",["root"]);var h=r(70579);const f=["className","raised"],x=(0,i.Ay)(c.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),A=n.forwardRef(function(e,t){const r=(0,d.b)({props:e,name:"MuiCard"}),{className:n,raised:i=!1}=r,c=(0,l.A)(r,f),u=(0,a.A)({},r,{raised:i}),v=(e=>{const{classes:t}=e;return(0,o.A)({root:["root"]},m,t)})(u);return(0,h.jsx)(x,(0,a.A)({className:(0,s.A)(v.root,n),elevation:i?8:void 0,ref:t,ownerState:u},c))})},15710:(e,t,r)=>{r.d(t,{A:()=>c});var a=r(58168),l=r(98587),n=r(65043),s=r(59395),o=r(22016),i=r(70579);const d=["children"],c=n.forwardRef(function(e,t){const{children:r}=e,c=(0,l.A)(e,d),u=(0,o.QM)();if(null===u)throw new TypeError("No TabContext provided");const v=n.Children.map(r,e=>n.isValidElement(e)?n.cloneElement(e,{"aria-controls":(0,o.eR)(u,e.props.value),id:(0,o.vU)(u,e.props.value)}):null);return(0,i.jsx)(s.A,(0,a.A)({},c,{ref:t,value:u.value,children:v}))})},22016:(e,t,r)=>{r.d(t,{Ay:()=>s,QM:()=>o,eR:()=>i,vU:()=>d});var a=r(65043),l=r(70579);const n=a.createContext(null);function s(e){const{children:t,value:r}=e,s=function(){const[e,t]=a.useState(null);return a.useEffect(()=>{t("mui-p-".concat(Math.round(1e5*Math.random())))},[]),e}(),o=a.useMemo(()=>({idPrefix:s,value:r}),[s,r]);return(0,l.jsx)(n.Provider,{value:o,children:t})}function o(){return a.useContext(n)}function i(e,t){const{idPrefix:r}=e;return null===r?null:"".concat(e.idPrefix,"-P-").concat(t)}function d(e,t){const{idPrefix:r}=e;return null===r?null:"".concat(e.idPrefix,"-T-").concat(t)}},25881:(e,t)=>{var r,a=Symbol.for("react.element"),l=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),d=Symbol.for("react.context"),c=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen");function A(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case n:case o:case s:case v:case m:return e;default:switch(e=e&&e.$$typeof){case c:case d:case u:case f:case h:case i:return e;default:return t}}case l:return t}}}r=Symbol.for("react.module.reference")},26494:(e,t,r)=>{r.d(t,{A:()=>x});var a=r(58168),l=r(98587),n=r(65043),s=r(58387),o=r(68606),i=r(34535),d=r(6431),c=r(57056),u=r(32400);function v(e){return(0,u.Ay)("MuiCardContent",e)}(0,c.A)("MuiCardContent",["root"]);var m=r(70579);const h=["className","component"],f=(0,i.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),x=n.forwardRef(function(e,t){const r=(0,d.b)({props:e,name:"MuiCardContent"}),{className:n,component:i="div"}=r,c=(0,l.A)(r,h),u=(0,a.A)({},r,{component:i}),x=(e=>{const{classes:t}=e;return(0,o.A)({root:["root"]},v,t)})(u);return(0,m.jsx)(f,(0,a.A)({as:i,className:(0,s.A)(x.root,n),ownerState:u,ref:t},c))})},30805:(e,t,r)=>{r(25881)},51639:(e,t,r)=>{r.d(t,{A:()=>n});r(65043);var a=r(59662),l=r(70579);const n=(0,a.A)((0,l.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")},52900:(e,t,r)=>{r.d(t,{A:()=>n});var a=r(64775),l=r(45527);function n(e){let{props:t,name:r,defaultTheme:n,themeId:s}=e,o=(0,l.A)(n);s&&(o=o[s]||o);return(0,a.A)({theme:o,name:r,props:t})}},64775:(e,t,r)=>{r.d(t,{A:()=>l});var a=r(22018);function l(e){const{theme:t,name:r,props:l}=e;return t&&t.components&&t.components[r]&&t.components[r].defaultProps?(0,a.A)(t.components[r].defaultProps,l):l}},68837:(e,t,r)=>{r.r(t),r.d(t,{default:()=>N});var a=r(89379),l=r(65043),n=r(22520),s=r(91036),o=r(12110),i=r(11906),d=r(26494),c=r(81e3),u=r(24056),v=r(83462),m=r(26600),h=r(35316),f=r(29347),x=r(22016),A=r(15710),p=r(86506),j=r(45777),b=r(65074),y=r(70579);const N=()=>{const e=JSON.parse(localStorage.getItem("user")),{contextObj:t}=(0,l.useContext)(j.i),r={Id:"",EntryDate:(0,n.ny)(),EntryTime:"10:00",LocationDetails:"MILL",Category:"OTHERS 1 - PRINT",StaffName:"",Tonnage:"",EntryBy:e.UserId},[N,S]=(0,l.useState)([]),[g,T]=(0,l.useState)([]),[C,E]=(0,l.useState)([]),[D,R]=(0,l.useState)(r),[w,L]=(0,l.useState)(!1),[M,O]=(0,l.useState)({reqDate:(0,n.ny)(),reqLocation:"MILL",dialog:!1,view:"DATA ENTRY"});(0,l.useEffect)(()=>{(0,b.z)({address:"dataEntry/staffActivities/staffs"}).then(e=>E(e.data)).catch(e=>console.error(e))},[w]),(0,l.useEffect)(()=>{"DATA ENTRY"===M.view&&(S([]),(0,b.z)({address:"dataEntry/staffActivities?reqDate=".concat(M.reqDate,"&reqLocation=").concat(M.reqLocation)}).then(e=>{e.success&&S(e.data)}).catch(e=>console.error(e))),"STAFF BASED"===M.view&&(T([]),(0,b.z)({address:"dataEntry/staffActivities/staffBased?reqDate=".concat(M.reqDate,"&reqLocation=").concat(M.reqLocation)}).then(e=>{e.success&&T(e.data)}).catch(e=>console.error(e)))},[w,M.reqDate,M.reqLocation,M.view]);const I=()=>{O(e=>(0,a.A)((0,a.A)({},e),{},{dialog:!1})),R(r)},q=e=>{var r,s,o,i;switch(e){case"DATA ENTRY":return(0,y.jsx)("div",{className:"table-responsive",children:(0,y.jsxs)("table",{className:"table",children:[(0,y.jsx)("thead",{children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{className:"fa-14 border text-center py-2 tble-hed-stick",children:"TIME"}),N[0]&&(null===(r=N[0])||void 0===r||null===(s=r.Categories)||void 0===s?void 0:s.map((e,t)=>(0,y.jsx)("th",{className:"fa-14 border text-center py-2 tble-hed-stick",children:null===e||void 0===e?void 0:e.Category},t)))]})}),(0,y.jsx)("tbody",{children:null===N||void 0===N?void 0:N.map((e,r)=>{var s,o;return(0,y.jsxs)(l.Fragment,{children:[(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{className:"fa-14 fw-bold border text-center text-primary",style:{verticalAlign:"middle"},children:(0,n.O6)(null===e||void 0===e?void 0:e.EntryTime)}),null===e||void 0===e||null===(s=e.Categories)||void 0===s?void 0:s.map((e,r)=>{var l;return(0,y.jsx)("td",{className:"fa-13 fw-bold text-muted border",children:null===e||void 0===e||null===(l=e.StaffDetails)||void 0===l?void 0:l.map((e,r)=>(0,y.jsxs)("p",{className:"d-flex justify-content-between mb-0 p-1 cellHover",onClick:(0,n.id)(null===t||void 0===t?void 0:t.Edit_Rights,1)?()=>{R(e),O(e=>(0,a.A)((0,a.A)({},e),{},{dialog:!0}))}:()=>{},children:[(0,y.jsx)("span",{children:null===e||void 0===e?void 0:e.StaffName}),(0,y.jsx)("span",{className:"text-primary ps-2",children:null===e||void 0===e?void 0:e.Tonnage})]},r))},r)})]}),(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{className:"border fa-14 text-muted",style:{verticalAlign:"middle"},children:"Total"}),null===e||void 0===e||null===(o=e.Categories)||void 0===o?void 0:o.map((e,t)=>{var r;return(0,y.jsx)("td",{className:"border text-end text-primary fw-bold",children:(0,n.jG)(null===e||void 0===e||null===(r=e.StaffDetails)||void 0===r?void 0:r.reduce((e,t)=>null!==t&&void 0!==t&&t.Tonnage?(null===t||void 0===t?void 0:t.Tonnage)+e:0,0))},t)})]})]},r)})})]})});case"STAFF BASED":return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("div",{className:"table-responsive",children:(0,y.jsxs)("table",{className:"table",children:[(0,y.jsx)("thead",{children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{className:"fa-14 text-center border",children:"Sno"}),(0,y.jsx)("th",{className:"fa-14 text-center border",children:"Staff Name"}),null===(o=g[0])||void 0===o||null===(i=o.Categories)||void 0===i?void 0:i.map((e,t)=>(0,y.jsx)("th",{className:"fa-14 text-center border",children:null===e||void 0===e?void 0:e.Category},t)),(0,y.jsx)("th",{className:"fa-14 text-center border",children:"Total"})]})}),(0,y.jsx)("tbody",{children:null===g||void 0===g?void 0:g.map((e,t)=>{var r,a;return(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{className:"fa-13 text-center border",children:t+1}),(0,y.jsx)("td",{className:"fa-13 text-center border",children:null===e||void 0===e?void 0:e.StaffName}),null===e||void 0===e||null===(r=e.Categories)||void 0===r?void 0:r.map((e,t)=>{var r,a;return(0,y.jsx)("td",{className:"fa-13 text-center border",children:null!==e&&void 0!==e&&null!==(r=e.StaffDetails)&&void 0!==r&&r.Tonnage?(0,n.jG)(null===e||void 0===e||null===(a=e.StaffDetails)||void 0===a?void 0:a.Tonnage):""},t)}),(0,y.jsx)("td",{className:"fa-14 text-center border blue-text",children:(0,n.jG)(null===e||void 0===e||null===(a=e.Categories)||void 0===a?void 0:a.reduce((e,t)=>{var r,a;let l=0;return l+="OTHERS 1 - PRINT"!==(null===t||void 0===t?void 0:t.Category)&&null!==(r=null===t||void 0===t||null===(a=t.StaffDetails)||void 0===a?void 0:a.Tonnage)&&void 0!==r?r:0,l+e},0))})]},t)})})]})})});default:return(0,y.jsx)(y.Fragment,{})}};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(o.A,{children:[(0,y.jsxs)("div",{className:"p-3 fa-16 fw-bold border-bottom d-flex justify-content-between",children:[(0,y.jsx)("span",{children:"Staff Activities"}),(0,n.id)(null===t||void 0===t?void 0:t.Add_Rights,1)&&(0,y.jsx)(i.A,{variant:"outlined",onClick:()=>O(e=>(0,a.A)((0,a.A)({},e),{},{dialog:!0})),children:"Add Activity"})]}),(0,y.jsxs)("div",{className:"d-flex p-2 px-3",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"mb-1 w-100",children:"DATE"}),(0,y.jsx)("input",{type:"date",className:"cus-inpt w-auto",value:M.reqDate,onChange:e=>O(t=>(0,a.A)((0,a.A)({},t),{},{reqDate:e.target.value}))})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"mb-1 w-100",children:"LOCATION"}),(0,y.jsxs)("select",{className:"cus-inpt w-auto",value:M.reqLocation,onChange:e=>O(t=>(0,a.A)((0,a.A)({},t),{},{reqLocation:e.target.value})),children:[(0,y.jsx)("option",{value:"MILL",children:"MILL"}),(0,y.jsx)("option",{value:"GODOWN",children:"GODOWN"})]})]})]}),(0,y.jsx)(d.A,{children:(0,y.jsxs)(x.Ay,{value:M.view,children:[(0,y.jsx)(c.A,{sx:{borderBottom:1,borderColor:"divider"},children:(0,y.jsxs)(A.A,{indicatorColor:"transparant",onChange:(e,t)=>O(e=>(0,a.A)((0,a.A)({},e),{},{view:t})),variant:"scrollable",scrollButtons:"auto",allowScrollButtonsMobile:!0,children:[(0,y.jsx)(u.A,{sx:"DATA ENTRY"===M.view?{backgroundColor:"#c6d7eb"}:{},label:"DATA ENTRY",value:"DATA ENTRY"}),(0,y.jsx)(u.A,{sx:"STAFF BASED"===M.view?{backgroundColor:"#c6d7eb"}:{},label:"STAFF BASED",value:"STAFF BASED"})]})}),["DATA ENTRY","STAFF BASED"].map(e=>(0,y.jsx)(p.A,{value:e,sx:{px:0,py:2},children:N.length||g.length?q(e):(0,y.jsx)(y.Fragment,{})},e))]})})]}),(0,y.jsxs)(v.A,{open:M.dialog,onClose:I,fullWidth:!0,maxWidth:"sm",children:[(0,y.jsx)(m.A,{children:null!==D&&void 0!==D&&D.Id?"Modify Activity":"Add Staff Activity"}),(0,y.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(0,b.z)({address:"dataEntry/staffActivities",method:D.Id?"PUT":"POST",headers:{"Content-Type":"application/json"},bodyData:D}).then(e=>{e.success?(s.oR.success(e.message),L(!w)):s.oR.error(e.message)}).catch(e=>console.error(e))},children:[(0,y.jsx)(h.A,{children:(0,y.jsx)("div",{className:"table-responsive",children:(0,y.jsx)("table",{className:"table",children:(0,y.jsxs)("tbody",{children:[(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{className:"border-0",style:{verticalAlign:"middle"},children:"Location"}),(0,y.jsx)("td",{className:"border-0",children:(0,y.jsxs)("select",{value:null===D||void 0===D?void 0:D.LocationDetails,onChange:e=>R(t=>(0,a.A)((0,a.A)({},t),{},{LocationDetails:e.target.value})),className:"cus-inpt",required:!0,children:[(0,y.jsx)("option",{value:"MILL",children:"MILL"}),(0,y.jsx)("option",{value:"GODOWN",children:"GODOWN"})]})})]}),(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{className:"border-0",style:{verticalAlign:"middle"},children:"Date"}),(0,y.jsx)("td",{className:"border-0",children:(0,y.jsx)("input",{type:"date",value:null===D||void 0===D?void 0:D.EntryDate,className:"cus-inpt",onChange:e=>R(t=>(0,a.A)((0,a.A)({},t),{},{EntryDate:e.target.value})),required:!0})})]}),(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{className:"border-0",style:{verticalAlign:"middle"},children:"Time"}),(0,y.jsx)("td",{className:"border-0",children:(0,y.jsx)("input",{value:null===D||void 0===D?void 0:D.EntryTime,type:"time",required:!0,className:"cus-inpt",onChange:e=>R(t=>(0,a.A)((0,a.A)({},t),{},{EntryTime:e.target.value}))})})]}),(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{className:"border-0",style:{verticalAlign:"middle"},children:"Category"}),(0,y.jsx)("td",{className:"border-0",children:(0,y.jsxs)("select",{value:null===D||void 0===D?void 0:D.Category,onChange:e=>R(t=>(0,a.A)((0,a.A)({},t),{},{Category:e.target.value})),className:"cus-inpt",required:!0,children:[(0,y.jsx)("option",{value:"OTHERS 1 - PRINT",children:"OTHERS 1 - PRINT"}),(0,y.jsx)("option",{value:"OTHERS 2 - TAKEN",children:"OTHERS 2 - TAKEN"}),(0,y.jsx)("option",{value:"OTHERS 3 - CHECK/ADDRESS",children:"OTHERS 3 - CHECK/ADDRESS"}),(0,y.jsx)("option",{value:"OTHERS 4 - DISPATCH",children:"OTHERS 4 - DISPATCH"})]})})]}),(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{className:"border-0",style:{verticalAlign:"middle"},children:"Staff Name"}),(0,y.jsx)("td",{className:"border-0",children:(0,y.jsx)("input",{value:null===D||void 0===D?void 0:D.StaffName,type:"search",list:"staffList",required:!0,className:"cus-inpt",placeholder:"Type or Search Staff name",onChange:e=>R(t=>(0,a.A)((0,a.A)({},t),{},{StaffName:e.target.value}))})})]}),(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{className:"border-0",style:{verticalAlign:"middle"},children:"Tonnage Value"}),(0,y.jsx)("td",{className:"border-0",children:(0,y.jsx)("input",{value:null===D||void 0===D?void 0:D.Tonnage,className:"cus-inpt",onInput:n.BE,required:!0,onChange:e=>R(t=>(0,a.A)((0,a.A)({},t),{},{Tonnage:e.target.value}))})})]})]})})})}),(0,y.jsxs)(f.A,{children:[(0,y.jsx)(i.A,{onClick:I,type:"button",children:"Cancel"}),(0,y.jsx)(i.A,{type:"submit",children:"SUBMIT"})]})]})]}),(0,y.jsx)("datalist",{id:"staffList",children:C.map((e,t)=>(0,y.jsx)("option",{value:e.StaffName},t))})]})}},72876:(e,t,r)=>{r.d(t,{A:()=>s});var a=r(52900),l=r(15170),n=r(13375);function s(e){let{props:t,name:r}=e;return(0,a.A)({props:t,name:r,defaultTheme:l.A,themeId:n.A})}},86506:(e,t,r)=>{r.d(t,{A:()=>x});var a=r(58168),l=r(98587),n=r(65043),s=r(58387),o=r(34535),i=r(72876),d=r(68606),c=r(32400);function u(e){return(0,c.Ay)("MuiTabPanel",e)}(0,r(57056).A)("MuiTabPanel",["root"]);var v=r(22016),m=r(70579);const h=["children","className","value"],f=(0,o.Ay)("div",{name:"MuiTabPanel",slot:"Root",overridesResolver:(e,t)=>t.root})(e=>{let{theme:t}=e;return{padding:t.spacing(3)}}),x=n.forwardRef(function(e,t){const r=(0,i.A)({props:e,name:"MuiTabPanel"}),{children:n,className:o,value:c}=r,x=(0,l.A)(r,h),A=(0,a.A)({},r),p=(e=>{const{classes:t}=e;return(0,d.A)({root:["root"]},u,t)})(A),j=(0,v.QM)();if(null===j)throw new TypeError("No TabContext provided");const b=(0,v.eR)(j,c),y=(0,v.vU)(j,c);return(0,m.jsx)(f,(0,a.A)({"aria-labelledby":y,className:(0,s.A)(p.root,o),hidden:c!==j.value,id:b,ref:t,role:"tabpanel",ownerState:A},x,{children:c===j.value&&n}))})}}]);
//# sourceMappingURL=9670.d5436ded.chunk.js.map