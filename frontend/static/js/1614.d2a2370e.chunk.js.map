{"version":3,"file":"static/js/1614.d2a2370e.chunk.js","mappings":"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","sources":["Pages/Analytics/reportsTemplateMobCreation.jsx","../node_modules/@mui/material/Card/cardClasses.js","../node_modules/@mui/material/Card/Card.js","../node_modules/@mui/material/CardContent/cardContentClasses.js","../node_modules/@mui/material/CardContent/CardContent.js","../node_modules/@mui/icons-material/esm/Save.js","../node_modules/@mui/icons-material/esm/ArrowBackIosNewOutlined.js","../node_modules/@mui/icons-material/esm/RemoveRedEyeOutlined.js","../node_modules/@mui/icons-material/esm/KeyboardArrowLeft.js","../node_modules/@mui/material/Box/boxClasses.js","../node_modules/@mui/material/Box/Box.js","../node_modules/@mui/system/esm/createBox.js"],"sourcesContent":["// import React, { useContext, useEffect, useState } from 'react';\r\n// import {\r\n//   Card, CardContent, Button, Tooltip, Dialog, DialogTitle, DialogContent, DialogActions,\r\n//   Box, IconButton, Grid, Typography\r\n// } from '@mui/material';\r\n// import { ArrowBackIosNewOutlined, KeyboardArrowLeft, RemoveRedEyeOutlined, Save } from '@mui/icons-material';\r\n// import { isValidObject, Subraction, isEqualNumber } from '../../Components/functions';\r\n// import { toast } from 'react-toastify';\r\n// import { useLocation, useNavigate } from 'react-router-dom';\r\n// import { MyContext } from '../../Components/context/contextProvider';\r\n// import { fetchLink } from '../../Components/fetchComponent';\r\n\r\n// const ReportsTemplateMobCreation = () => {\r\n//   const storage = JSON.parse(localStorage.getItem('user'));\r\n//   const nav = useNavigate();\r\n//   const { contextObj } = useContext(MyContext);\r\n//   const locationState = useLocation().state;\r\n\r\n//   const initialValue = {\r\n//     Report_Type_Id: '',\r\n//     reportName: '',\r\n//     tables: [], \r\n//     tableJoins: [],\r\n//     currentTab: '',\r\n//     createdBy: storage?.UserId\r\n//   };\r\n\r\n//   const [inputValues, setInputValues] = useState(initialValue);\r\n//   const [reportTables, setReportTables] = useState([]);\r\n\r\n \r\n//   const [filterSlots, setFilterSlots] = useState([\r\n//     { slot: 1, enabled: false, tableId: null, columnName: null, type: 1 },\r\n//     { slot: 2, enabled: false, tableId: null, columnName: null, type: 2 },\r\n//     { slot: 3, enabled: false, tableId: null, columnName: null, type: 3 },\r\n//   ]);\r\n\r\n\r\n//   const [selectedListTypes, setSelectedListTypes] = useState([]); \r\n\r\n\r\n//   const [openConfigPreview, setOpenConfigPreview] = useState(false);\r\n\r\n\r\n// useEffect(() => {\r\n//   const stateValue = locationState?.ReportState;\r\n//   if (isValidObject(stateValue)) {\r\n//     setInputValues(prev => ({\r\n//       ...prev,\r\n//       Report_Type_Id: stateValue?.Report_Type_Id ?? '',\r\n//       reportName: stateValue?.reportName ?? '',\r\n//       tables: [...(stateValue?.tables || [])],\r\n//       createdBy: stateValue?.createdBy ?? storage?.UserId\r\n//     }));\r\n//   }\r\n// }, [locationState?.ReportState, storage?.UserId]);\r\n\r\n//   useEffect(() => {\r\n\r\n//     fetchLink({ address: `reports/tablesAndColumnsMobile` })\r\n//       .then(data => {\r\n//         if (data?.success) setReportTables(data?.data || []);\r\n//       }).catch(e => console.error(e));\r\n//   }, []);\r\n\r\n\r\n// useEffect(() => {\r\n//   if (!inputValues.tables || inputValues.tables.length === 0) return;\r\n\r\n//   const assignments = [];\r\n//   const allListTypes = new Set(); \r\n  \r\n//   inputValues.tables.forEach(table => {\r\n//     table.columns?.forEach(column => {\r\n//       if (column.Type) {\r\n//         const types = Array.isArray(column.Type) ? column.Type : [column.Type];\r\n//         types.forEach(type => {\r\n//           if (type) {\r\n//             assignments.push({\r\n//               type: Number(type),\r\n//               tableId: table.Table_Id,\r\n//               columnName: column.Column_Name,\r\n//               listType: column.List_Type\r\n//             });\r\n\r\n//             // Process list types for this column\r\n//             if (column.List_Type) {\r\n//               const listTypes = String(column.List_Type)\r\n//                 .split(',')\r\n//                 .map(lt => Number(lt.trim()))\r\n//                 .filter(lt => !isNaN(lt));\r\n              \r\n//               listTypes.forEach(lt => allListTypes.add(lt));\r\n//             }\r\n//           }\r\n//         });\r\n//       }\r\n//     });\r\n//   });\r\n\r\n//   // Update filter slots\r\n//   if (assignments.length > 0) {\r\n//     setFilterSlots(prev => {\r\n//       const newSlots = prev.map(slot => ({ ...slot, enabled: false, tableId: null, columnName: null }));\r\n      \r\n//       assignments.forEach(assignment => {\r\n//         const slotIndex = newSlots.findIndex(slot => slot.type === assignment.type);\r\n//         if (slotIndex !== -1) {\r\n//           newSlots[slotIndex] = {\r\n//             ...newSlots[slotIndex],\r\n//             enabled: true,\r\n//             tableId: assignment.tableId,\r\n//             columnName: assignment.columnName\r\n//           };\r\n//         }\r\n//       });\r\n      \r\n//       return newSlots;\r\n//     });\r\n\r\n//     // Set ALL collected list types for the checkboxes\r\n//     if (allListTypes.size > 0) {\r\n//       setSelectedListTypes(Array.from(allListTypes));\r\n//     } else {\r\n//       setSelectedListTypes([1]); \r\n//     }\r\n//   }\r\n// }, [inputValues.tables]);\r\n\r\n//   const getColumnsForTableId = (tableId) => {\r\n//     if (!tableId) return [];\r\n//     const inSelected = inputValues.tables.find(t => String(t.Table_Id) === String(tableId));\r\n//     if (inSelected && Array.isArray(inSelected.columns) && inSelected.columns.length) return inSelected.columns;\r\n\r\n//     const meta = reportTables.find(t => String(t.Table_Id) === String(tableId));\r\n//     if (meta && Array.isArray(meta.Columns)) return meta.Columns.map(c => ({\r\n//       Column_Name: c.Column_Name,\r\n//       Column_Data_Type: c.Column_Data_Type ?? c?.Column_Data_Type ?? 'string',\r\n//       IS_Default: c.IS_Default ?? c?.IS_Default ?? 0,\r\n//       IS_Join_Key: c.IS_Join_Key ?? c?.IS_Join_Key ?? 0\r\n//     }));\r\n//     return [];\r\n//   };\r\n\r\n//   const isColumnUsedInOtherSlot = (tableId, columnName, currentSlotIdx) => {\r\n//     return filterSlots.some((s, idx) => {\r\n//       if (!s.enabled) return false;\r\n//       if (idx === currentSlotIdx) return false;\r\n//       return String(s.tableId) === String(tableId) && String(s.columnName) === String(columnName);\r\n//     });\r\n//   };\r\n\r\n\r\n//   const handleFilter1TableChange = (tableId) => {\r\n//     setFilterSlots(prev => {\r\n//       const newSlots = [...prev];\r\n      \r\n\r\n//       newSlots[0] = { \r\n//         ...newSlots[0], \r\n//         tableId: tableId, \r\n//         columnName: null\r\n//       };\r\n      \r\n\r\n//       for (let i = 1; i < newSlots.length; i++) {\r\n//         if (newSlots[i].enabled) {\r\n//           newSlots[i] = {\r\n//             ...newSlots[i],\r\n//             tableId: tableId,\r\n//             columnName: null \r\n//           };\r\n//         }\r\n//       }\r\n      \r\n//       return newSlots;\r\n//     });\r\n//   };\r\n\r\n\r\n//   const handleFilterToggle = (idx) => {\r\n//     setFilterSlots(prev => {\r\n//       const arr = [...prev];\r\n//       const newEnabledState = !arr[idx].enabled;\r\n      \r\n//       arr[idx] = { \r\n//         ...arr[idx], \r\n//         enabled: newEnabledState,\r\n//         tableId: newEnabledState && idx > 0 ? arr[0].tableId : arr[idx].tableId,\r\n//         columnName: newEnabledState ? null : null \r\n//       };\r\n      \r\n//       return arr;\r\n//     });\r\n//   };\r\n\r\n\r\n//   const tablesSelectedCount = filterSlots.reduce((acc, s) => acc + (s.enabled && s.tableId ? 1 : 0), 0);\r\n//   const columnsSelectedCount = filterSlots.reduce((acc, s) => acc + (s.enabled && s.columnName ? 1 : 0), 0);\r\n\r\n\r\n// const buildDetails = () => {\r\n//   const details = [];\r\n\r\n//   filterSlots.forEach(slot => {\r\n//     if (!slot.enabled) return;\r\n//     if (!slot.tableId || !slot.columnName) return;\r\n\r\n   \r\n//     const listTypeToSave = selectedListTypes.length === 0 ? \"1\" : selectedListTypes.join(',');\r\n\r\n//     details.push({\r\n//       Type: Number(slot.type),\r\n//       Table_Id: Number(slot.tableId),\r\n//       Column_Name: slot.columnName,\r\n//       List_Type: listTypeToSave\r\n//     });\r\n//   });\r\n\r\n//   return details;\r\n// };\r\n\r\n//   const saveTemplate = async () => {\r\n//     const details = buildDetails();\r\n\r\n//     if (!details.length) {\r\n//       toast.error(\"Assign at least one filter slot (table + column) before saving\");\r\n//       return;\r\n//     }\r\n//     if (!inputValues.reportName || String(inputValues.reportName).trim() === '') {\r\n//       toast.error(\"Report name is required\");\r\n//       return;\r\n//     }\r\n\r\n//     const payload = {\r\n//       Report_Type_Id: inputValues?.Report_Type_Id || null,\r\n//       reportName: inputValues.reportName,\r\n//       createdBy: inputValues.createdBy,\r\n//       updatedBy:storage?.UserId,\r\n//       details\r\n//     };\r\n\r\n//     try {\r\n//       const res = await fetchLink({\r\n//         address: `reports/templateMobile`,\r\n//         method: inputValues?.Report_Type_Id ? 'PUT' : 'POST',\r\n//         bodyData: payload\r\n//       });\r\n//       if (res?.success) {\r\n//         toast.success(res.message);\r\n       \r\n//         setInputValues(initialValue);\r\n//         setFilterSlots([\r\n//           { slot: 1, enabled: false, tableId: null, columnName: null, type: 1 },\r\n//           { slot: 2, enabled: false, tableId: null, columnName: null, type: 2 },\r\n//           { slot: 3, enabled: false, tableId: null, columnName: null, type: 3 }\r\n//         ]);\r\n//         setSelectedListTypes([]);\r\n//         nav(-1);\r\n//       } else {\r\n//         toast.error(res?.message || 'Failed to save');\r\n//       }\r\n//     } catch (e) {\r\n//       console.error(e);\r\n//       toast.error('Error saving template');\r\n//     }\r\n//   };\r\n\r\n//   const canPreview = filterSlots.some(s => s.enabled && s.tableId && s.columnName);\r\n\r\n//   if (!isEqualNumber(contextObj?.Add_Rights, 1)) return null;\r\n\r\n//   return (\r\n//     <>\r\n//       <Card>\r\n//         <div className=\"p-2 border-bottom fa-16 fw-bold d-flex justify-content-between align-items-center\">\r\n//           <span className=\"text-primary text-uppercase ps-3\">{inputValues?.Report_Type_Id ? 'Modify Mobile Template' : 'Mobile Template Creation'}</span>\r\n//           <Button variant=\"outlined\" onClick={() => nav(-1)} startIcon={<KeyboardArrowLeft />}>Back</Button>\r\n//         </div>\r\n\r\n//         <CardContent>\r\n//           <div>\r\n//             <label className=\"w-100\">Report Name</label>\r\n//             <select\r\n//               className=\"cus-inpt w-auto\"\r\n//               value={inputValues.reportName}\r\n//               onChange={e => setInputValues({ ...inputValues, reportName: e.target.value })}\r\n//             >\r\n//                <option value=\"\" disabled>Select</option>\r\n//               <option value=\"StockInhand\">Stock Inhand</option>\r\n//               <option value=\"Sales Invoice\">Sales Invoice</option>\r\n//             </select>\r\n//           </div>\r\n\r\n//           <div className=\"p-2 mt-3 border rounded-3 d-inline-block\">\r\n//             <table><tbody>\r\n//               <tr><td className=\"border-end\">Filters Assigned</td><td className=\"px-2 blue-text\">{tablesSelectedCount}</td></tr>\r\n//               <tr><td className=\"border-end\">Columns Assigned</td><td className=\"px-2 blue-text\">{columnsSelectedCount}</td></tr>\r\n//             </tbody></table>\r\n//           </div>\r\n\r\n//           <Box className=\"mt-3 p-3 border rounded\" sx={{ background: '#FBFCFD' }}>\r\n//             <Typography variant=\"subtitle1\" fontWeight={700} gutterBottom>Filters</Typography>\r\n\r\n//             <Grid container spacing={2}>\r\n//               {filterSlots.map((slot, idx) => {\r\n//                 const label = `Filter ${slot.slot}`;\r\n//                 return (\r\n//                   <Grid item xs={12} md={6} key={slot.type}>\r\n//                     <Box sx={{ display: 'flex', gap: 2, alignItems: 'center', p: 1, borderRadius: 1, background: '#fff', boxShadow: '0 0 0 1px rgba(0,0,0,0.03) inset' }}>\r\n//                       <label style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\r\n//                         <input\r\n//                           type=\"checkbox\"\r\n//                           checked={slot.enabled}\r\n//                           onChange={() => handleFilterToggle(idx)}\r\n//                         />\r\n//                         <strong>{label}</strong>\r\n//                       </label>\r\n\r\n//                       {slot.enabled && (\r\n//                         <Box sx={{ display: 'flex', gap: 1, alignItems: 'center', flex: 1 }}>\r\n//                           <select\r\n//                             className=\"cus-inpt\"\r\n//                             value={slot.tableId ?? ''}\r\n//                             onChange={(e) => {\r\n//                               const val = e.target.value || null;\r\n//                               if (idx === 0) {\r\n\r\n//                                 handleFilter1TableChange(val);\r\n//                               } else {\r\n        \r\n//                                 setFilterSlots(prev => {\r\n//                                   const arr = [...prev];\r\n//                                   arr[idx] = { ...arr[idx], tableId: val, columnName: null };\r\n//                                   return arr;\r\n//                                 });\r\n//                               }\r\n//                             }}\r\n//                             disabled={idx > 0 && filterSlots[0].tableId} \r\n//                           >\r\n//                             <option value=\"\">Select table</option>\r\n//                             {reportTables.map((t, ti) => (\r\n//                               <option key={ti} value={t.Table_Id}>{t.AliasName || t.Table_Name}</option>\r\n//                             ))}\r\n//                           </select>\r\n// <select\r\n//   className=\"cus-inpt\"\r\n//   value={slot.columnName ?? ''}\r\n//   disabled={!slot.tableId}\r\n//   onChange={(e) => {\r\n//     const val = e.target.value || null;\r\n    \r\n  \r\n//     if (val && isColumnUsedInOtherSlot(slot.tableId, val, idx)) {\r\n//       toast.error('Column already assigned to another filter slot. Choose a different column.');\r\n//       return;\r\n//     }\r\n    \r\n//     setFilterSlots(prev => {\r\n//       const arr = [...prev];\r\n//       arr[idx] = { ...arr[idx], columnName: val };\r\n//       return arr;\r\n//     });\r\n//   }}\r\n// >\r\n//   <option value=\"\">Select column</option>\r\n//   {slot.tableId && getColumnsForTableId(slot.tableId).map((c, ci) => {\r\n//     const isUsedInOtherSlot = isColumnUsedInOtherSlot(slot.tableId, c.Column_Name, idx);\r\n//     const isCurrentlySelected = slot.columnName === c.Column_Name;\r\n\r\n//     const isSelectable = isCurrentlySelected || !isUsedInOtherSlot;\r\n    \r\n//     return (\r\n//       <option \r\n//         key={ci} \r\n//         value={c.Column_Name} \r\n//         disabled={!isSelectable} \r\n//         style={{ \r\n//           color: !isSelectable ? '#999' : 'inherit',\r\n//           backgroundColor: !isSelectable ? '#f5f5f5' : 'inherit',\r\n//           fontStyle: !isSelectable ? 'italic' : 'normal'\r\n//         }}\r\n//       >\r\n//         {c.Column_Name} \r\n//         {c.Column_Data_Type ? ` (${c.Column_Data_Type})` : ''}\r\n//         {!isSelectable && !isCurrentlySelected ? ' - Already used in another filter' : ''}\r\n//       </option>\r\n//     );\r\n//   })}\r\n// </select>\r\n//                         </Box>\r\n//                       )}\r\n//                     </Box>\r\n//                   </Grid>\r\n//                 );\r\n//               })}\r\n//             </Grid>\r\n//           </Box>\r\n\r\n   \r\n// <Box className=\"mt-3 d-flex align-items-center\" sx={{ gap: 2 }}>\r\n//   <Typography fontWeight={700}>List Type:</Typography>\r\n//   <label style={{ display: 'flex', alignItems: 'center', gap: 6 }}>\r\n//     <input \r\n//       type=\"checkbox\" \r\n//       checked={selectedListTypes.includes(1)} \r\n//       onChange={(e) => {\r\n//         if (e.target.checked) {\r\n//           setSelectedListTypes(prev => [...prev, 1]);\r\n//         } else {\r\n//           setSelectedListTypes(prev => prev.filter(x => x !== 1));\r\n//         }\r\n//       }} \r\n//     /> \r\n//     <span>Sum</span>\r\n//   </label>\r\n//   <label style={{ display: 'flex', alignItems: 'center', gap: 6 }}>\r\n//     <input \r\n//       type=\"checkbox\" \r\n//       checked={selectedListTypes.includes(2)} \r\n//       onChange={(e) => {\r\n//         if (e.target.checked) {\r\n//           setSelectedListTypes(prev => [...prev, 2]);\r\n//         } else {\r\n//           setSelectedListTypes(prev => prev.filter(x => x !== 2));\r\n//         }\r\n//       }} \r\n//     /> \r\n//     <span>Avg</span>\r\n//   </label>\r\n// </Box>\r\n\r\n//           <Box className=\"mt-4 d-flex justify-content-end\" sx={{ gap: 2 }}>\r\n//             <Button variant=\"outlined\" onClick={() => { \r\n//               setFilterSlots([\r\n//                 { slot: 1, enabled: false, tableId: null, columnName: null, type: 1 },\r\n//                 { slot: 2, enabled: false, tableId: null, columnName: null, type: 2 },\r\n//                 { slot: 3, enabled: false, tableId: null, columnName: null, type: 3 },\r\n//               ]); \r\n//               setSelectedListTypes([]); \r\n//             }}>\r\n//               Reset\r\n//             </Button>\r\n\r\n//             <Tooltip title={!canPreview ? 'Assign at least one slot to Preview' : ''}>\r\n//               <span>\r\n//                 <Button\r\n//                   variant=\"outlined\"\r\n//                   startIcon={<RemoveRedEyeOutlined />}\r\n//                   disabled={!canPreview}\r\n//                   onClick={() => setOpenConfigPreview(true)}\r\n//                 >\r\n//                   Preview\r\n//                 </Button>\r\n//               </span>\r\n//             </Tooltip>\r\n\r\n//             <Button variant=\"contained\" startIcon={<Save />} onClick={saveTemplate}>\r\n//               Submit\r\n//             </Button>\r\n//           </Box>\r\n//         </CardContent>\r\n//       </Card>\r\n\r\n\r\n//       <Dialog open={openConfigPreview} onClose={() => setOpenConfigPreview(false)} fullWidth maxWidth=\"md\">\r\n//         <DialogTitle>Preview - Template Configuration</DialogTitle>\r\n//         <DialogContent dividers>\r\n//           <Typography variant=\"subtitle1\" fontWeight={700} gutterBottom>Report: {inputValues.reportName || '—'}</Typography>\r\n\r\n//           <Box sx={{ mb: 2 }}>\r\n//             {filterSlots.filter(s => s.enabled && s.tableId && s.columnName).length === 0 && (\r\n//               <Typography>No filter assigned yet.</Typography>\r\n//             )}\r\n\r\n//             {filterSlots.filter(s => s.enabled && s.tableId && s.columnName).map((s, i) => {\r\n//               const tableMeta = reportTables.find(t => String(t.Table_Id) === String(s.tableId));\r\n//               const tableLabel = tableMeta ? (tableMeta.AliasName || tableMeta.Table_Name) : `Table ${s.tableId}`;\r\n//               const listType = selectedListTypes.length === 0 ? '—' : (selectedListTypes.length === 2 ? 'Sum & Avg' : (selectedListTypes[0] === 1 ? 'Sum' : 'Avg'));\r\n//               const label = `Filter ${s.slot}`;\r\n//               return (\r\n//                 <Box key={s.type} sx={{ p: 1, borderRadius: 1, background: '#F7F9FB', mb: 1 }}>\r\n//                   <Grid container alignItems=\"center\">\r\n//                     <Grid item xs={12} md={3}><strong>{label}</strong></Grid>\r\n//                     <Grid item xs={12} md={4}>{tableLabel}</Grid>\r\n//                     <Grid item xs={12} md={3}>{s.columnName}</Grid>\r\n//                     <Grid item xs={12} md={2} style={{ textAlign: 'right' }}>{listType}</Grid>\r\n//                   </Grid>\r\n//                 </Box>\r\n//               );\r\n//             })}\r\n//           </Box>\r\n\r\n//           <Typography variant=\"caption\" color=\"textSecondary\">\r\n//             This preview shows the selected filters and the chosen List Type. It is a configuration review only — no data is fetched.\r\n//           </Typography>\r\n//         </DialogContent>\r\n\r\n//         <DialogActions>\r\n//           <Button onClick={() => setOpenConfigPreview(false)} startIcon={<ArrowBackIosNewOutlined />}>Back</Button>\r\n//           <Button variant=\"contained\" onClick={() => { setOpenConfigPreview(false); saveTemplate(); }}>Submit</Button>\r\n//         </DialogActions>\r\n//       </Dialog>\r\n//     </>\r\n//   );\r\n// };\r\n\r\n// export default ReportsTemplateMobCreation;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// import React, { useContext, useEffect, useState } from 'react';\r\n// import {\r\n//   Card, CardContent, Button, Tooltip, Dialog, DialogTitle, DialogContent, DialogActions,\r\n//   Box, IconButton, Grid, Typography\r\n// } from '@mui/material';\r\n// import { ArrowBackIosNewOutlined, KeyboardArrowLeft, RemoveRedEyeOutlined, Save } from '@mui/icons-material';\r\n// import { isValidObject, Subraction, isEqualNumber } from '../../Components/functions';\r\n// import { toast } from 'react-toastify';\r\n// import { useLocation, useNavigate } from 'react-router-dom';\r\n// import { MyContext } from '../../Components/context/contextProvider';\r\n// import { fetchLink } from '../../Components/fetchComponent';\r\n\r\n// const ReportsTemplateMobCreation = () => {\r\n//   const storage = JSON.parse(localStorage.getItem('user'));\r\n//   const nav = useNavigate();\r\n//   const { contextObj } = useContext(MyContext);\r\n//   const locationState = useLocation().state;\r\n\r\n//   const initialValue = {\r\n//     Report_Type_Id: '',\r\n//     reportName: '',\r\n//     tables: [], \r\n//     tableJoins: [],\r\n//     currentTab: '',\r\n//     createdBy: storage?.UserId\r\n//   };\r\n\r\n//   const [inputValues, setInputValues] = useState(initialValue);\r\n//   const [reportTables, setReportTables] = useState([]);\r\n\r\n//   const [filterSlots, setFilterSlots] = useState([\r\n//     { slot: 1, enabled: false, tableId: null, columnName: null, type: 1 },\r\n//     { slot: 2, enabled: false, tableId: null, columnName: null, type: 2 },\r\n//     { slot: 3, enabled: false, tableId: null, columnName: null, type: 3 },\r\n//   ]);\r\n\r\n//   const [selectedListTypes, setSelectedListTypes] = useState([]); \r\n//   const [openConfigPreview, setOpenConfigPreview] = useState(false);\r\n\r\n//   useEffect(() => {\r\n//     const stateValue = locationState?.ReportState;\r\n//     if (isValidObject(stateValue)) {\r\n//       setInputValues(prev => ({\r\n//         ...prev,\r\n//         Report_Type_Id: stateValue?.Report_Type_Id ?? '',\r\n//         reportName: stateValue?.reportName ?? '',\r\n//         tables: [...(stateValue?.tables || [])],\r\n//         createdBy: stateValue?.createdBy ?? storage?.UserId\r\n//       }));\r\n//     }\r\n//   }, [locationState?.ReportState, storage?.UserId]);\r\n\r\n//   useEffect(() => {\r\n//     fetchLink({ address: `reports/tablesAndColumnsMobile` })\r\n//       .then(data => {\r\n//         if (data?.success) setReportTables(data?.data || []);\r\n//       }).catch(e => console.error(e));\r\n//   }, []);\r\n\r\n//   useEffect(() => {\r\n//     if (!inputValues.tables || inputValues.tables.length === 0) return;\r\n\r\n//     const assignments = [];\r\n//     const allListTypes = new Set(); \r\n    \r\n//     inputValues.tables.forEach(table => {\r\n//       table.columns?.forEach(column => {\r\n//         if (column.Type) {\r\n//           const types = Array.isArray(column.Type) ? column.Type : [column.Type];\r\n//           types.forEach(type => {\r\n//             if (type) {\r\n//               assignments.push({\r\n//                 type: Number(type),\r\n//                 tableId: table.Table_Id,\r\n//                 columnName: column.Column_Name,\r\n//                 listType: column.List_Type\r\n//               });\r\n\r\n             \r\n//               if (column.List_Type) {\r\n//                 const listTypes = String(column.List_Type)\r\n//                   .split(',')\r\n//                   .map(lt => Number(lt.trim()))\r\n//                   .filter(lt => !isNaN(lt));\r\n                \r\n//                 listTypes.forEach(lt => allListTypes.add(lt));\r\n//               }\r\n//             }\r\n//           });\r\n//         }\r\n//       });\r\n//     });\r\n\r\n   \r\n//     if (assignments.length > 0) {\r\n//       setFilterSlots(prev => {\r\n//         const newSlots = prev.map(slot => ({ ...slot, enabled: false, tableId: null, columnName: null }));\r\n        \r\n//         assignments.forEach(assignment => {\r\n//           const slotIndex = newSlots.findIndex(slot => slot.type === assignment.type);\r\n//           if (slotIndex !== -1) {\r\n//             newSlots[slotIndex] = {\r\n//               ...newSlots[slotIndex],\r\n//               enabled: true,\r\n//               tableId: assignment.tableId,\r\n//               columnName: assignment.columnName\r\n//             };\r\n//           }\r\n//         });\r\n        \r\n//         return newSlots;\r\n//       });\r\n\r\n      \r\n//       if (allListTypes.size > 0) {\r\n//         setSelectedListTypes(Array.from(allListTypes));\r\n//       } else {\r\n//         setSelectedListTypes([1]); \r\n//       }\r\n//     }\r\n//   }, [inputValues.tables]);\r\n\r\n//   const getColumnsForTableId = (tableId) => {\r\n//     if (!tableId) return [];\r\n//     const inSelected = inputValues.tables.find(t => String(t.Table_Id) === String(tableId));\r\n//     if (inSelected && Array.isArray(inSelected.columns) && inSelected.columns.length) return inSelected.columns;\r\n\r\n//     const meta = reportTables.find(t => String(t.Table_Id) === String(tableId));\r\n//     if (meta && Array.isArray(meta.Columns)) return meta.Columns.map(c => ({\r\n//       Column_Name: c.Column_Name,\r\n//       Column_Data_Type: c.Column_Data_Type ?? c?.Column_Data_Type ?? 'string',\r\n//       IS_Default: c.IS_Default ?? c?.IS_Default ?? 0,\r\n//       IS_Join_Key: c.IS_Join_Key ?? c?.IS_Join_Key ?? 0\r\n//     }));\r\n//     return [];\r\n//   };\r\n\r\n//   const isColumnUsedInOtherSlot = (tableId, columnName, currentSlotIdx) => {\r\n//     return filterSlots.some((s, idx) => {\r\n//       if (!s.enabled) return false;\r\n//       if (idx === currentSlotIdx) return false;\r\n//       return String(s.tableId) === String(tableId) && String(s.columnName) === String(columnName);\r\n//     });\r\n//   };\r\n\r\n\r\n\r\n//   const handleFilterToggle = (idx) => {\r\n//     setFilterSlots(prev => {\r\n//       const arr = [...prev];\r\n//       const newEnabledState = !arr[idx].enabled;\r\n      \r\n     \r\n//       arr[idx] = { \r\n//         ...arr[idx], \r\n//         enabled: newEnabledState,\r\n      \r\n//         columnName: newEnabledState ? null : null \r\n//       };\r\n      \r\n//       return arr;\r\n//     });\r\n//   };\r\n\r\n//   const tablesSelectedCount = filterSlots.reduce((acc, s) => acc + (s.enabled && s.tableId ? 1 : 0), 0);\r\n//   const columnsSelectedCount = filterSlots.reduce((acc, s) => acc + (s.enabled && s.columnName ? 1 : 0), 0);\r\n\r\n//   const buildDetails = () => {\r\n//     const details = [];\r\n\r\n//     filterSlots.forEach(slot => {\r\n//       if (!slot.enabled) return;\r\n//       if (!slot.tableId || !slot.columnName) return;\r\n\r\n//       const listTypeToSave = selectedListTypes.length === 0 ? \"1\" : selectedListTypes.join(',');\r\n\r\n//       details.push({\r\n//         Type: Number(slot.type),\r\n//         Table_Id: Number(slot.tableId),\r\n//         Column_Name: slot.columnName,\r\n//         List_Type: listTypeToSave\r\n//       });\r\n//     });\r\n\r\n//     return details;\r\n//   };\r\n\r\n//   const saveTemplate = async () => {\r\n//     const details = buildDetails();\r\n\r\n//     if (!details.length) {\r\n//       toast.error(\"Assign at least one filter slot (table + column) before saving\");\r\n//       return;\r\n//     }\r\n//     if (!inputValues.reportName || String(inputValues.reportName).trim() === '') {\r\n//       toast.error(\"Report name is required\");\r\n//       return;\r\n//     }\r\n\r\n//     const payload = {\r\n//       Report_Type_Id: inputValues?.Report_Type_Id || null,\r\n//       reportName: inputValues.reportName,\r\n//       createdBy: inputValues.createdBy,\r\n//       updatedBy: storage?.UserId,\r\n//       details\r\n//     };\r\n\r\n//     try {\r\n//       const res = await fetchLink({\r\n//         address: `reports/templateMobile`,\r\n//         method: inputValues?.Report_Type_Id ? 'PUT' : 'POST',\r\n//         bodyData: payload\r\n//       });\r\n//       if (res?.success) {\r\n//         toast.success(res.message);\r\n       \r\n//         setInputValues(initialValue);\r\n//         setFilterSlots([\r\n//           { slot: 1, enabled: false, tableId: null, columnName: null, type: 1 },\r\n//           { slot: 2, enabled: false, tableId: null, columnName: null, type: 2 },\r\n//           { slot: 3, enabled: false, tableId: null, columnName: null, type: 3 }\r\n//         ]);\r\n//         setSelectedListTypes([]);\r\n//         nav(-1);\r\n//       } else {\r\n//         toast.error(res?.message || 'Failed to save');\r\n//       }\r\n//     } catch (e) {\r\n//       console.error(e);\r\n//       toast.error('Error saving template');\r\n//     }\r\n//   };\r\n\r\n//   const canPreview = filterSlots.some(s => s.enabled && s.tableId && s.columnName);\r\n\r\n//   if (!isEqualNumber(contextObj?.Add_Rights, 1)) return null;\r\n\r\n//   return (\r\n//     <>\r\n//       <Card>\r\n//         <div className=\"p-2 border-bottom fa-16 fw-bold d-flex justify-content-between align-items-center\">\r\n//           <span className=\"text-primary text-uppercase ps-3\">{inputValues?.Report_Type_Id ? 'Modify Mobile Template' : 'Mobile Template Creation'}</span>\r\n//           <Button variant=\"outlined\" onClick={() => nav(-1)} startIcon={<KeyboardArrowLeft />}>Back</Button>\r\n//         </div>\r\n\r\n//         <CardContent>\r\n//           <div>\r\n//             <label className=\"w-100\">Report Name</label>\r\n//             <select\r\n//               className=\"cus-inpt w-auto\"\r\n//               value={inputValues.reportName}\r\n//               onChange={e => setInputValues({ ...inputValues, reportName: e.target.value })}\r\n//             >\r\n//               <option value=\"\" disabled>Select</option>\r\n//               <option value=\"StockInhand\">Stock Inhand</option>\r\n//               <option value=\"Sales Invoice\">Sales Invoice</option>\r\n//             </select>\r\n//           </div>\r\n\r\n//           <div className=\"p-2 mt-3 border rounded-3 d-inline-block\">\r\n//             <table><tbody>\r\n//               <tr><td className=\"border-end\">Filters Assigned</td><td className=\"px-2 blue-text\">{tablesSelectedCount}</td></tr>\r\n//               <tr><td className=\"border-end\">Columns Assigned</td><td className=\"px-2 blue-text\">{columnsSelectedCount}</td></tr>\r\n//             </tbody></table>\r\n//           </div>\r\n\r\n//          <Box className=\"mt-3 p-3 border rounded\" sx={{ background: '#FBFCFD' }}>\r\n//   <Typography variant=\"subtitle1\" fontWeight={700} gutterBottom>Level1 Filters</Typography>\r\n  \r\n\r\n//   <Grid container spacing={3}>\r\n//     {filterSlots.map((slot, idx) => {\r\n//       const label = `Filter ${slot.slot}`;\r\n//       return (\r\n//         <Grid item xs={4} key={slot.type}>\r\n \r\n//           <Box sx={{ \r\n//             display: 'flex', \r\n//             alignItems: 'center', \r\n//             p: 1.5, \r\n//             mb: 1,\r\n//             borderRadius: 1, \r\n//             background: '#fff', \r\n//             border: '1px solid #e0e0e0',\r\n//             minHeight: '60px'\r\n//           }}>\r\n//             <label style={{ display: 'flex', alignItems: 'center', gap: 10, width: '100%' }}>\r\n//               <input\r\n//                 type=\"checkbox\"\r\n//                 checked={slot.enabled}\r\n//                 onChange={() => handleFilterToggle(idx)}\r\n//                 style={{ width: '18px', height: '18px' }}\r\n//               />\r\n//               <Typography variant=\"subtitle1\" fontWeight={600}>{label}</Typography>\r\n//             </label>\r\n//           </Box>\r\n          \r\n  \r\n//           {slot.enabled ? (\r\n//             <Box sx={{ display: 'flex', flexDirection: 'column', gap: 1.5 }}>\r\n   \r\n//               <Box>\r\n//                 <Typography variant=\"caption\" color=\"textSecondary\" sx={{ mb: 0.5, display: 'block' }}>\r\n//                   Table\r\n//                 </Typography>\r\n//                 <select\r\n//                   className=\"cus-inpt\"\r\n//                   value={slot.tableId ?? ''}\r\n//                   onChange={(e) => {\r\n//                     const val = e.target.value || null;\r\n//                     setFilterSlots(prev => {\r\n//                       const arr = [...prev];\r\n//                       arr[idx] = { ...arr[idx], tableId: val, columnName: null };\r\n//                       return arr;\r\n//                     });\r\n//                   }}\r\n//                   style={{ width: '100%' }}\r\n//                 >\r\n//                   <option value=\"\">Select table</option>\r\n//                   {reportTables.map((t, ti) => (\r\n//                     <option key={ti} value={t.Table_Id}>{t.AliasName || t.Table_Name}</option>\r\n//                   ))}\r\n//                 </select>\r\n//               </Box>\r\n              \r\n\r\n//               <Box>\r\n//                 <Typography variant=\"caption\" color=\"textSecondary\" sx={{ mb: 0.5, display: 'block' }}>\r\n//                   Column\r\n//                 </Typography>\r\n//                 <select\r\n//                   className=\"cus-inpt\"\r\n//                   value={slot.columnName ?? ''}\r\n//                   disabled={!slot.tableId}\r\n//                   onChange={(e) => {\r\n//                     const val = e.target.value || null;\r\n                    \r\n//                     if (val && isColumnUsedInOtherSlot(slot.tableId, val, idx)) {\r\n//                       toast.error('Column already assigned to another filter slot. Choose a different column.');\r\n//                       return;\r\n//                     }\r\n                    \r\n//                     setFilterSlots(prev => {\r\n//                       const arr = [...prev];\r\n//                       arr[idx] = { ...arr[idx], columnName: val };\r\n//                       return arr;\r\n//                     });\r\n//                   }}\r\n//                   style={{ width: '100%' }}\r\n//                 >\r\n//                   <option value=\"\">Select column</option>\r\n//                   {slot.tableId && getColumnsForTableId(slot.tableId).map((c, ci) => {\r\n//                     const isUsedInOtherSlot = isColumnUsedInOtherSlot(slot.tableId, c.Column_Name, idx);\r\n//                     const isCurrentlySelected = slot.columnName === c.Column_Name;\r\n\r\n//                     const isSelectable = isCurrentlySelected || !isUsedInOtherSlot;\r\n                    \r\n//                     return (\r\n//                       <option \r\n//                         key={ci} \r\n//                         value={c.Column_Name} \r\n//                         disabled={!isSelectable} \r\n//                         style={{ \r\n//                           color: !isSelectable ? '#999' : 'inherit',\r\n//                           backgroundColor: !isSelectable ? '#f5f5f5' : 'inherit',\r\n//                           fontStyle: !isSelectable ? 'italic' : 'normal'\r\n//                         }}\r\n//                       >\r\n//                         {c.Column_Name} \r\n//                         {c.Column_Data_Type ? ` (${c.Column_Data_Type})` : ''}\r\n//                       </option>\r\n//                     );\r\n//                   })}\r\n//                 </select>\r\n//               </Box>\r\n//             </Box>\r\n//           ) : (\r\n//             <Box sx={{ \r\n//               display: 'flex', \r\n//               alignItems: 'center', \r\n//               justifyContent: 'center', \r\n//               p: 3, \r\n//               borderRadius: 1, \r\n//               background: '#f8f9fa',\r\n//               border: '1px dashed #dee2e6',\r\n//               color: '#6c757d',\r\n//               textAlign: 'center',\r\n//               minHeight: '120px'\r\n//             }}>\r\n//               <Typography variant=\"body2\">\r\n//                 Enable {label} to configure\r\n//               </Typography>\r\n//             </Box>\r\n//           )}\r\n//         </Grid>\r\n//       );\r\n//     })}\r\n//   </Grid>\r\n// </Box>\r\n\r\n//           <Box className=\"mt-3 d-flex align-items-center\" sx={{ gap: 2 }}>\r\n//             <Typography fontWeight={700}>List Type:</Typography>\r\n//             <label style={{ display: 'flex', alignItems: 'center', gap: 6 }}>\r\n//               <input \r\n//                 type=\"checkbox\" \r\n//                 checked={selectedListTypes.includes(1)} \r\n//                 onChange={(e) => {\r\n//                   if (e.target.checked) {\r\n//                     setSelectedListTypes(prev => [...prev, 1]);\r\n//                   } else {\r\n//                     setSelectedListTypes(prev => prev.filter(x => x !== 1));\r\n//                   }\r\n//                 }} \r\n//               /> \r\n//               <span>Sum</span>\r\n//             </label>\r\n//             <label style={{ display: 'flex', alignItems: 'center', gap: 6 }}>\r\n//               <input \r\n//                 type=\"checkbox\" \r\n//                 checked={selectedListTypes.includes(2)} \r\n//                 onChange={(e) => {\r\n//                   if (e.target.checked) {\r\n//                     setSelectedListTypes(prev => [...prev, 2]);\r\n//                   } else {\r\n//                     setSelectedListTypes(prev => prev.filter(x => x !== 2));\r\n//                   }\r\n//                 }} \r\n//               /> \r\n//               <span>Avg</span>\r\n//             </label>\r\n//           </Box>\r\n\r\n//           <Box className=\"mt-4 d-flex justify-content-end\" sx={{ gap: 2 }}>\r\n//             <Button variant=\"outlined\" onClick={() => { \r\n//               setFilterSlots([\r\n//                 { slot: 1, enabled: false, tableId: null, columnName: null, type: 1 },\r\n//                 { slot: 2, enabled: false, tableId: null, columnName: null, type: 2 },\r\n//                 { slot: 3, enabled: false, tableId: null, columnName: null, type: 3 },\r\n//               ]); \r\n//               setSelectedListTypes([]); \r\n//             }}>\r\n//               Reset\r\n//             </Button>\r\n\r\n//             <Tooltip title={!canPreview ? 'Assign at least one slot to Preview' : ''}>\r\n//               <span>\r\n//                 <Button\r\n//                   variant=\"outlined\"\r\n//                   startIcon={<RemoveRedEyeOutlined />}\r\n//                   disabled={!canPreview}\r\n//                   onClick={() => setOpenConfigPreview(true)}\r\n//                 >\r\n//                   Preview\r\n//                 </Button>\r\n//               </span>\r\n//             </Tooltip>\r\n\r\n//             <Button variant=\"contained\" startIcon={<Save />} onClick={saveTemplate}>\r\n//               Submit\r\n//             </Button>\r\n//           </Box>\r\n//         </CardContent>\r\n//       </Card>\r\n\r\n//       <Dialog open={openConfigPreview} onClose={() => setOpenConfigPreview(false)} fullWidth maxWidth=\"md\">\r\n//         <DialogTitle>Preview - Template Configuration</DialogTitle>\r\n//         <DialogContent dividers>\r\n//           <Typography variant=\"subtitle1\" fontWeight={700} gutterBottom>Report: {inputValues.reportName || '—'}</Typography>\r\n\r\n//           <Box sx={{ mb: 2 }}>\r\n//             {filterSlots.filter(s => s.enabled && s.tableId && s.columnName).length === 0 && (\r\n//               <Typography>No filter assigned yet.</Typography>\r\n//             )}\r\n\r\n//             {filterSlots.filter(s => s.enabled && s.tableId && s.columnName).map((s, i) => {\r\n//               const tableMeta = reportTables.find(t => String(t.Table_Id) === String(s.tableId));\r\n//               const tableLabel = tableMeta ? (tableMeta.AliasName || tableMeta.Table_Name) : `Table ${s.tableId}`;\r\n//               const listType = selectedListTypes.length === 0 ? '—' : (selectedListTypes.length === 2 ? 'Sum & Avg' : (selectedListTypes[0] === 1 ? 'Sum' : 'Avg'));\r\n//               const label = `Filter ${s.slot}`;\r\n//               return (\r\n//                 <Box key={s.type} sx={{ p: 1, borderRadius: 1, background: '#F7F9FB', mb: 1 }}>\r\n//                   <Grid container alignItems=\"center\">\r\n//                     <Grid item xs={12} md={3}><strong>{label}</strong></Grid>\r\n//                     <Grid item xs={12} md={4}>{tableLabel}</Grid>\r\n//                     <Grid item xs={12} md={3}>{s.columnName}</Grid>\r\n//                     <Grid item xs={12} md={2} style={{ textAlign: 'right' }}>{listType}</Grid>\r\n//                   </Grid>\r\n//                 </Box>\r\n//               );\r\n//             })}\r\n//           </Box>\r\n\r\n//           <Typography variant=\"caption\" color=\"textSecondary\">\r\n//             {/* This preview shows the selected filters and the chosen List Type. It is a configuration review only — no data is fetched. */}\r\n//           </Typography>\r\n//         </DialogContent>\r\n\r\n//         <DialogActions>\r\n//           <Button onClick={() => setOpenConfigPreview(false)} startIcon={<ArrowBackIosNewOutlined />}>Back</Button>\r\n//           <Button variant=\"contained\" onClick={() => { setOpenConfigPreview(false); saveTemplate(); }}>Submit</Button>\r\n//         </DialogActions>\r\n//       </Dialog>\r\n//     </>\r\n//   );\r\n// };\r\n\r\n// export default ReportsTemplateMobCreation;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nimport  { useContext, useEffect, useState } from 'react';\r\nimport {\r\n  Card, CardContent, Button, Tooltip, Dialog, DialogTitle, DialogContent, DialogActions,\r\n  Box, Grid, Typography\r\n} from '@mui/material';\r\nimport { ArrowBackIosNewOutlined, KeyboardArrowLeft, RemoveRedEyeOutlined, Save } from '@mui/icons-material';\r\nimport { isValidObject, isEqualNumber } from '../../Components/functions';\r\nimport { toast } from 'react-toastify';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport { MyContext } from '../../Components/context/contextProvider';\r\nimport { fetchLink } from '../../Components/fetchComponent';\r\nimport Select from 'react-select';\r\nconst ReportsTemplateMobCreation = () => {\r\n  const storage = JSON.parse(localStorage.getItem('user'));\r\n  const nav = useNavigate();\r\n  const { contextObj } = useContext(MyContext);\r\n  const locationState = useLocation().state;\r\n\r\n  const initialValue = {\r\n    Report_Type_Id: '',\r\n    reportName: '',\r\n    tables: [], \r\n    tableJoins: [],\r\n    currentTab: '',\r\n    createdBy: storage?.UserId\r\n  };\r\n\r\n  // const[showDropdown,setShowDropdown]=useState([])\r\n  const [inputValues, setInputValues] = useState(initialValue);\r\n  const [reportTables, setReportTables] = useState([]);\r\n  const[existingReportName,setExistingReportName]=useState([])\r\n  const [loadingReports,setLoadingReports]=useState(false)\r\n  \r\n  const [reportOptions, setReportOptions] = useState([]);\r\n  const [filterSlotsLevel1, setFilterSlotsLevel1] = useState([\r\n    { slot: 1, enabled: false, tableId: null, columnName: null, type: 1 },\r\n    { slot: 2, enabled: false, tableId: null, columnName: null, type: 2 },\r\n    { slot: 3, enabled: false, tableId: null, columnName: null, type: 3 },\r\n  ]);\r\n\r\n  const [filterSlotsLevel2, setFilterSlotsLevel2] = useState([\r\n    { slot: 1, enabled: false, tableId: null, columnName: null, type: 4 },\r\n    { slot: 2, enabled: false, tableId: null, columnName: null, type: 5 },\r\n    { slot: 3, enabled: false, tableId: null, columnName: null, type: 6 },\r\n  ]);\r\n\r\n  const [groupFilterSlots, setGroupFilterSlots] = useState([\r\n    { slot: 1, enabled: false, tableId: null, columnName: null, type: 7 },\r\n  ]);\r\n\r\n  const [selectedListTypes, setSelectedListTypes] = useState([]); \r\n  const [openConfigPreview, setOpenConfigPreview] = useState(false);\r\n\r\n  const losTables = reportTables.filter(table => \r\n    table.Table_Name?.toLowerCase().includes('los') || \r\n    table.AliasName?.toLowerCase().includes('los')\r\n  );\r\n\r\n  useEffect(() => {\r\n    fetchExistingReportNames();\r\n  }, []);\r\n\r\n  const fetchExistingReportNames = async () => {\r\n    try {\r\n      setLoadingReports(true);\r\n      const response = await fetchLink({\r\n        address: 'reports/templateMobile',\r\n        method: 'GET'\r\n      });\r\n      \r\n      if (response?.success) {\r\n        const reports = response?.data || [];\r\n        const uniqueReportNames = [...new Set(reports.map(report => report.Report_Name).filter(name => name))];\r\n        setExistingReportName(uniqueReportNames);\r\n        \r\n       \r\n        const options = uniqueReportNames.map(name => ({\r\n          value: name,\r\n          label: name\r\n        }));\r\n        setReportOptions(options);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching existing reports:', error);\r\n      toast.error('Failed to load existing reports');\r\n    } finally {\r\n      setLoadingReports(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const stateValue = locationState?.ReportState;\r\n    if (isValidObject(stateValue)) {\r\n      const reportName = stateValue?.reportName ?? '';\r\n      \r\n      setInputValues(prev => ({\r\n        ...prev,\r\n        Report_Type_Id: stateValue?.Report_Type_Id ?? '',\r\n        reportName: reportName,\r\n        tables: [...(stateValue?.tables || [])],\r\n        createdBy: stateValue?.createdBy ?? storage?.UserId\r\n      }));\r\n      \r\n    \r\n      if (reportName && !reportOptions.some(opt => opt.value === reportName)) {\r\n        const newOption = { value: reportName, label: reportName };\r\n        setReportOptions(prev => [...prev, newOption]);\r\n        setExistingReportName(prev => [...prev, reportName]);\r\n      }\r\n      \r\n      const groupFilterFromState = stateValue?.GroupFilter || [];\r\n      \r\n      if (groupFilterFromState.length > 0) {\r\n        setGroupFilterSlots(prev => {\r\n          const newSlots = [...prev];\r\n          \r\n          groupFilterFromState.forEach((gf, index) => {\r\n            if (index < newSlots.length) {\r\n              newSlots[index] = {\r\n                ...newSlots[index],\r\n                enabled: true,\r\n                tableId: gf.Table_Id,\r\n                columnName: gf.Column_Name,\r\n                type: gf.Type || 7\r\n              };\r\n            }\r\n          });\r\n          \r\n          return newSlots;\r\n        });\r\n      }\r\n    }\r\n  }, [locationState?.ReportState, storage?.UserId]);\r\n\r\n  useEffect(() => {\r\n    fetchLink({ address: `reports/tablesAndColumnsMobile` })\r\n      .then(data => {\r\n        if (data?.success) setReportTables(data?.data || []);\r\n      }).catch(e => console.error(e));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!inputValues.tables || inputValues.tables.length === 0) return;\r\n\r\n    const assignments = [];\r\n    const allListTypes = new Set(); \r\n    \r\n    inputValues.tables.forEach(table => {\r\n      table.columns?.forEach(column => {\r\n        if (column.Type) {\r\n          const types = Array.isArray(column.Type) ? column.Type : [column.Type];\r\n          types.forEach(type => {\r\n            if (type) {\r\n              assignments.push({\r\n                type: Number(type),\r\n                tableId: table.Table_Id,\r\n                columnName: column.Column_Name,\r\n                listType: column.List_Type,\r\n                level: column.Level \r\n              });\r\n\r\n              if (column.List_Type) {\r\n                const listTypes = String(column.List_Type)\r\n                  .split(',')\r\n                  .map(lt => Number(lt.trim()))\r\n                  .filter(lt => !isNaN(lt));\r\n                \r\n                listTypes.forEach(lt => allListTypes.add(lt));\r\n              }\r\n            }\r\n          });\r\n        }\r\n      });\r\n    });\r\n\r\n    const level1Assignments = assignments.filter(a => a.level === 1 || (a.type >= 1 && a.type <= 3));\r\n    const level2Assignments = assignments.filter(a => a.level === 2 || (a.type >= 4 && a.type <= 6));\r\n    const groupFilterAssignments = assignments.filter(a => a.type === 7);\r\n\r\n    if (level1Assignments.length > 0) {\r\n      setFilterSlotsLevel1(prev => {\r\n        const newSlots = prev.map(slot => ({ ...slot, enabled: false, tableId: null, columnName: null }));\r\n        \r\n        level1Assignments.forEach(assignment => {\r\n          const slotIndex = newSlots.findIndex(slot => slot.type === assignment.type);\r\n          if (slotIndex !== -1) {\r\n            newSlots[slotIndex] = {\r\n              ...newSlots[slotIndex],\r\n              enabled: true,\r\n              tableId: assignment.tableId,\r\n              columnName: assignment.columnName\r\n            };\r\n          }\r\n        });\r\n        \r\n        return newSlots;\r\n      });\r\n    }\r\n\r\n    if (level2Assignments.length > 0) {\r\n      setFilterSlotsLevel2(prev => {\r\n        const newSlots = prev.map(slot => ({ ...slot, enabled: false, tableId: null, columnName: null }));\r\n        \r\n        level2Assignments.forEach(assignment => {\r\n          const slotIndex = newSlots.findIndex(slot => slot.type === assignment.type);\r\n          if (slotIndex !== -1) {\r\n            newSlots[slotIndex] = {\r\n              ...newSlots[slotIndex],\r\n              enabled: true,\r\n              tableId: assignment.tableId,\r\n              columnName: assignment.columnName\r\n            };\r\n          }\r\n        });\r\n        \r\n        return newSlots;\r\n      });\r\n    }\r\n\r\n    if (groupFilterAssignments.length > 0) {\r\n      setGroupFilterSlots(prev => {\r\n        const newSlots = prev.map(slot => ({ ...slot, enabled: false, tableId: null, columnName: null }));\r\n        \r\n        groupFilterAssignments.forEach(assignment => {\r\n          const slotIndex = newSlots.findIndex(slot => slot.type === assignment.type);\r\n          if (slotIndex !== -1) {\r\n            newSlots[slotIndex] = {\r\n              ...newSlots[slotIndex],\r\n              enabled: true,\r\n              tableId: assignment.tableId,\r\n              columnName: assignment.columnName\r\n            };\r\n          }\r\n        });\r\n        \r\n        return newSlots;\r\n      });\r\n    }\r\n   \r\n    if (allListTypes.size > 0) {\r\n      setSelectedListTypes(Array.from(allListTypes));\r\n    } else {\r\n      setSelectedListTypes([1]); \r\n    }\r\n  }, [inputValues.tables]);\r\n\r\n  const getColumnsForTableId = (tableId) => {\r\n    if (!tableId) return [];\r\n    const inSelected = inputValues.tables.find(t => String(t.Table_Id) === String(tableId));\r\n    if (inSelected && Array.isArray(inSelected.columns) && inSelected.columns.length) return inSelected.columns;\r\n\r\n    const meta = reportTables.find(t => String(t.Table_Id) === String(tableId));\r\n    if (meta && Array.isArray(meta.Columns)) return meta.Columns.map(c => ({\r\n      Column_Name: c.Column_Name,\r\n      Column_Data_Type: c.Column_Data_Type ?? c?.Column_Data_Type ?? 'string',\r\n      IS_Default: c.IS_Default ?? c?.IS_Default ?? 0,\r\n      IS_Join_Key: c.IS_Join_Key ?? c?.IS_Join_Key ?? 0\r\n    }));\r\n    return [];\r\n  };\r\n\r\n\r\n  // const getAllUsedColumns = () => {\r\n  //   const usedColumns = new Set();\r\n    \r\n    \r\n  //   filterSlotsLevel1.forEach(slot => {\r\n  //     if (slot.enabled && slot.tableId && slot.columnName) {\r\n  //       const key = `${slot.tableId}_${slot.columnName}`;\r\n  //       usedColumns.add(key);\r\n  //     }\r\n  //   });\r\n    \r\n\r\n  //   filterSlotsLevel2.forEach(slot => {\r\n  //     if (slot.enabled && slot.tableId && slot.columnName) {\r\n  //       const key = `${slot.tableId}_${slot.columnName}`;\r\n  //       usedColumns.add(key);\r\n  //     }\r\n  //   });\r\n    \r\n  //   // Check Group filters\r\n  //   groupFilterSlots.forEach(slot => {\r\n  //     if (slot.enabled && slot.tableId && slot.columnName) {\r\n  //       const key = `${slot.tableId}_${slot.columnName}`;\r\n  //       usedColumns.add(key);\r\n  //     }\r\n  //   });\r\n    \r\n  //   return usedColumns;\r\n  // };\r\n\r\n// const isColumnUsedInOtherSlot = (tableId, columnName, currentSlotIdx, level, currentType) => {\r\n//   if (!tableId || !columnName) return false;\r\n  \r\n//   // For Group Filter, always return false (no restrictions)\r\n//   if (level === 'group') return false;\r\n  \r\n//   // For Level 1: check other Level 1 slots and Level 2\r\n//   if (level === 'level1') {\r\n//     const usedInOtherLevel1 = filterSlotsLevel1.some((s, idx) => {\r\n//       if (!s.enabled || !s.tableId || !s.columnName) return false;\r\n//       if (idx === currentSlotIdx) return false;\r\n//       return String(s.tableId) === String(tableId) && \r\n//              String(s.columnName) === String(columnName);\r\n//     });\r\n    \r\n//     const usedInLevel2 = filterSlotsLevel2.some(s => {\r\n//       if (!s.enabled || !s.tableId || !s.columnName) return false;\r\n//       return String(s.tableId) === String(tableId) && \r\n//              String(s.columnName) === String(columnName);\r\n//     });\r\n    \r\n//     return usedInOtherLevel1 || usedInLevel2;\r\n//   }\r\n  \r\n//   // For Level 2: check other Level 2 slots and Level 1\r\n//   if (level === 'level2') {\r\n//     const usedInOtherLevel2 = filterSlotsLevel2.some((s, idx) => {\r\n//       if (!s.enabled || !s.tableId || !s.columnName) return false;\r\n//       if (idx === currentSlotIdx) return false;\r\n//       return String(s.tableId) === String(tableId) && \r\n//              String(s.columnName) === String(columnName);\r\n//     });\r\n    \r\n//     const usedInLevel1 = filterSlotsLevel1.some(s => {\r\n//       if (!s.enabled || !s.tableId || !s.columnName) return false;\r\n//       return String(s.tableId) === String(tableId) && \r\n//              String(s.columnName) === String(columnName);\r\n//     });\r\n    \r\n//     return usedInOtherLevel2 || usedInLevel1;\r\n//   }\r\n  \r\n//   return false;\r\n// };\r\n\r\n\r\n  // const getAvailableColumnsForSlot = (tableId, currentSlotIdx, level) => {\r\n  //   if (!tableId) return [];\r\n    \r\n  //   const allColumns = getColumnsForTableId(tableId);\r\n  //   const availableColumns = [];\r\n    \r\n  //   allColumns.forEach(column => {\r\n  //     const isUsed = isColumnUsedInOtherSlot(tableId, column.Column_Name, currentSlotIdx, level);\r\n  //     const isCurrentlySelected = (() => {\r\n  //       if (level === 'level1') {\r\n  //         return filterSlotsLevel1[currentSlotIdx]?.columnName === column.Column_Name;\r\n  //       } else if (level === 'level2') {\r\n  //         return filterSlotsLevel2[currentSlotIdx]?.columnName === column.Column_Name;\r\n  //       } else if (level === 'group') {\r\n  //         return groupFilterSlots[currentSlotIdx]?.columnName === column.Column_Name;\r\n  //       }\r\n  //       return false;\r\n  //     })();\r\n      \r\n  //     // Column is available if it's not used elsewhere OR it's currently selected in this slot\r\n  //     if (!isUsed || isCurrentlySelected) {\r\n  //       availableColumns.push({\r\n  //         ...column,\r\n  //         isDisabled: false\r\n  //       });\r\n  //     } else {\r\n  //       availableColumns.push({\r\n  //         ...column,\r\n  //         isDisabled: true\r\n  //       });\r\n  //     }\r\n  //   });\r\n    \r\n  //   return availableColumns;\r\n  // };\r\n\r\n  const handleFilterToggle = (idx, level) => {\r\n    if (level === 'level1') {\r\n      setFilterSlotsLevel1(prev => {\r\n        const arr = [...prev];\r\n        const newEnabledState = !arr[idx].enabled;\r\n        \r\n        arr[idx] = { \r\n          ...arr[idx], \r\n          enabled: newEnabledState,\r\n          tableId: newEnabledState ? arr[idx].tableId : null, \r\n          columnName: newEnabledState ? arr[idx].columnName : null \r\n        };\r\n        \r\n        return arr;\r\n      });\r\n    } else if (level === 'level2') {\r\n      setFilterSlotsLevel2(prev => {\r\n        const arr = [...prev];\r\n        const newEnabledState = !arr[idx].enabled;\r\n        \r\n        arr[idx] = { \r\n          ...arr[idx], \r\n          enabled: newEnabledState,\r\n          tableId: newEnabledState ? arr[idx].tableId : null, \r\n          columnName: newEnabledState ? arr[idx].columnName : null \r\n        };\r\n        \r\n        return arr;\r\n      });\r\n    } else {\r\n      setGroupFilterSlots(prev => {\r\n        const arr = [...prev];\r\n        const newEnabledState = !arr[idx].enabled;\r\n        \r\n        arr[idx] = { \r\n          ...arr[idx], \r\n          enabled: newEnabledState,\r\n          tableId: newEnabledState ? arr[idx].tableId : null, \r\n          columnName: newEnabledState ? arr[idx].columnName : null \r\n        };\r\n        \r\n        return arr;\r\n      });\r\n    }\r\n  };\r\n\r\n  const tablesSelectedCountLevel1 = filterSlotsLevel1.reduce((acc, s) => acc + (s.enabled && s.tableId ? 1 : 0), 0);\r\n  const columnsSelectedCountLevel1 = filterSlotsLevel1.reduce((acc, s) => acc + (s.enabled && s.columnName ? 1 : 0), 0);\r\n  \r\n  const tablesSelectedCountLevel2 = filterSlotsLevel2.reduce((acc, s) => acc + (s.enabled && s.tableId ? 1 : 0), 0);\r\n  const columnsSelectedCountLevel2 = filterSlotsLevel2.reduce((acc, s) => acc + (s.enabled && s.columnName ? 1 : 0), 0);\r\n\r\n  const tablesSelectedCountGroup = groupFilterSlots.reduce((acc, s) => acc + (s.enabled && s.tableId ? 1 : 0), 0);\r\n  const columnsSelectedCountGroup = groupFilterSlots.reduce((acc, s) => acc + (s.enabled && s.columnName ? 1 : 0), 0);\r\n\r\n  const totalTablesSelected = tablesSelectedCountLevel1 + tablesSelectedCountLevel2 + tablesSelectedCountGroup;\r\n  const totalColumnsSelected = columnsSelectedCountLevel1 + columnsSelectedCountLevel2 + columnsSelectedCountGroup;\r\n\r\n  const buildDetails = () => {\r\n    const details = [];\r\n    const groupFilterDetails = [];\r\n\r\n    // Regular filters (Level 1 & 2)\r\n    filterSlotsLevel1.forEach(slot => {\r\n      if (!slot.enabled) return;\r\n      if (!slot.tableId || !slot.columnName) return;\r\n\r\n      const listTypeToSave = selectedListTypes.length === 0 ? \"1\" : selectedListTypes.join(',');\r\n\r\n      details.push({\r\n        Type: Number(slot.type),\r\n        Table_Id: Number(slot.tableId),\r\n        Column_Name: slot.columnName,\r\n        List_Type: listTypeToSave,\r\n        Level: 1\r\n      });\r\n    });\r\n\r\n    filterSlotsLevel2.forEach(slot => {\r\n      if (!slot.enabled) return;\r\n      if (!slot.tableId || !slot.columnName) return;\r\n\r\n      const listTypeToSave = selectedListTypes.length === 0 ? \"1\" : selectedListTypes.join(',');\r\n\r\n      details.push({\r\n        Type: Number(slot.type),\r\n        Table_Id: Number(slot.tableId),\r\n        Column_Name: slot.columnName,\r\n        List_Type: listTypeToSave,\r\n        Level: 2\r\n      });\r\n    });\r\n\r\n    // Group filter - separate array\r\n    groupFilterSlots.forEach(slot => {\r\n      if (!slot.enabled) return;\r\n      if (!slot.tableId || !slot.columnName) return;\r\n\r\n      const listTypeToSave = selectedListTypes.length === 0 ? \"1\" : selectedListTypes.join(',');\r\n\r\n      groupFilterDetails.push({\r\n        Type: Number(slot.type),\r\n        Table_Id: Number(slot.tableId),\r\n        Column_Name: slot.columnName,\r\n        List_Type: listTypeToSave,\r\n        Level: 3\r\n      });\r\n    });\r\n\r\n    return { details, groupFilterDetails };\r\n  };\r\n\r\n// Update validation function to allow same column in different filter levels\r\nconst validateNoDuplicateColumns = () => {\r\n  // Only check for duplicates within the same level\r\n  // Group Filter can use the same columns as Level 1/2\r\n  \r\n  // Check Level 1 for duplicates within Level 1 only\r\n  const level1Slots = filterSlotsLevel1.filter(s => s.enabled && s.tableId && s.columnName);\r\n  const level1Set = new Set();\r\n  for (const slot of level1Slots) {\r\n    const key = `${slot.tableId}_${slot.columnName}`;\r\n    if (level1Set.has(key)) {\r\n      const tableMeta = reportTables.find(t => String(t.Table_Id) === String(slot.tableId));\r\n      const tableName = tableMeta ? (tableMeta.AliasName || tableMeta.Table_Name) : `Table ${slot.tableId}`;\r\n      return {\r\n        isValid: false,\r\n        message: `Column \"${slot.columnName}\" from \"${tableName}\" is used in multiple Level 1 filters`\r\n      };\r\n    }\r\n    level1Set.add(key);\r\n  }\r\n  \r\n  // Check Level 2 for duplicates within Level 2 only\r\n  const level2Slots = filterSlotsLevel2.filter(s => s.enabled && s.tableId && s.columnName);\r\n  const level2Set = new Set();\r\n  for (const slot of level2Slots) {\r\n    const key = `${slot.tableId}_${slot.columnName}`;\r\n    if (level2Set.has(key)) {\r\n      const tableMeta = reportTables.find(t => String(t.Table_Id) === String(slot.tableId));\r\n      const tableName = tableMeta ? (tableMeta.AliasName || tableMeta.Table_Name) : `Table ${slot.tableId}`;\r\n      return {\r\n        isValid: false,\r\n        message: `Column \"${slot.columnName}\" from \"${tableName}\" is used in multiple Level 2 filters`\r\n      };\r\n    }\r\n    level2Set.add(key);\r\n  }\r\n  \r\n\r\n  for (const slot1 of level1Slots) {\r\n    for (const slot2 of level2Slots) {\r\n      if (String(slot1.tableId) === String(slot2.tableId) && \r\n          String(slot1.columnName) === String(slot2.columnName)) {\r\n        const tableMeta = reportTables.find(t => String(t.Table_Id) === String(slot1.tableId));\r\n        const tableName = tableMeta ? (tableMeta.AliasName || tableMeta.Table_Name) : `Table ${slot1.tableId}`;\r\n        return {\r\n          isValid: false,\r\n          message: `Column \"${slot1.columnName}\" from \"${tableName}\" cannot be used in both Level 1 and Level 2 filters`\r\n        };\r\n      }\r\n    }\r\n  }\r\n  \r\n\r\n  \r\n  return { isValid: true };\r\n};\r\n\r\n  const saveTemplate = async () => {\r\n   \r\n    const validation = validateNoDuplicateColumns();\r\n    if (!validation.isValid) {\r\n      toast.error(validation.message);\r\n      return;\r\n    }\r\n    \r\n    const { details, groupFilterDetails } = buildDetails();\r\n\r\n    \r\n    if (details.length === 0 && groupFilterDetails.length === 0) {\r\n      toast.error(\"Assign at least one filter slot (table + column) before saving\");\r\n      return;\r\n    }\r\n    if (!inputValues.reportName || String(inputValues.reportName).trim() === '') {\r\n      toast.error(\"Report name is required\");\r\n      return;\r\n    }\r\n\r\n    \r\n    const payload = {\r\n      Report_Type_Id: inputValues?.Report_Type_Id || null,\r\n      reportName: inputValues.reportName,\r\n      createdBy: inputValues.createdBy,\r\n      updatedBy: storage?.UserId,\r\n      details: details, \r\n      ...(groupFilterDetails.length > 0 && {\r\n        GroupFilter: groupFilterDetails \r\n      })\r\n    };\r\n\r\n    try {\r\n      const res = await fetchLink({\r\n        address: `reports/templateMobile`,\r\n        method: inputValues?.Report_Type_Id ? 'PUT' : 'POST',\r\n        bodyData: payload\r\n      });\r\n      if (res?.success) {\r\n        toast.success(res.message);\r\n        setInputValues(initialValue);\r\n        setFilterSlotsLevel1([\r\n          { slot: 1, enabled: false, tableId: null, columnName: null, type: 1 },\r\n          { slot: 2, enabled: false, tableId: null, columnName: null, type: 2 },\r\n          { slot: 3, enabled: false, tableId: null, columnName: null, type: 3 }\r\n        ]);\r\n        setFilterSlotsLevel2([\r\n          { slot: 1, enabled: false, tableId: null, columnName: null, type: 4 },\r\n          { slot: 2, enabled: false, tableId: null, columnName: null, type: 5 },\r\n          { slot: 3, enabled: false, tableId: null, columnName: null, type: 6 }\r\n        ]);\r\n        setGroupFilterSlots([\r\n          { slot: 1, enabled: false, tableId: null, columnName: null, type: 7 }\r\n        ]);\r\n        setSelectedListTypes([]);\r\n        nav(-1);\r\n      } else {\r\n        toast.error(res?.message || 'Failed to save');\r\n      }\r\n    } catch (e) {\r\n      console.error(e);\r\n      toast.error('Error saving template');\r\n    }\r\n  };\r\n\r\n\r\n  const canPreview = \r\n    filterSlotsLevel1.some(s => s.enabled && s.tableId && s.columnName) ||\r\n    filterSlotsLevel2.some(s => s.enabled && s.tableId && s.columnName) ||\r\n    groupFilterSlots.some(s => s.enabled && s.tableId && s.columnName);\r\n\r\n  if (!isEqualNumber(contextObj?.Add_Rights, 1)) return null;\r\n\r\n  const renderFilterSection = (title, filterSlots, level) => (\r\n    <Box className=\"mt-3 p-3 border rounded\" sx={{ background: '#FBFCFD' }}>\r\n      <Typography variant=\"subtitle1\" fontWeight={700} gutterBottom>{title}</Typography>\r\n      \r\n      <Grid container spacing={3}>\r\n        {filterSlots.map((slot, idx) => {\r\n          const label = level === 'group' ? 'Group Filter' : `Filter ${slot.slot}`;\r\n    \r\n          const tablesToShow = level === 'group' ? losTables : reportTables;\r\n          \r\n          return (\r\n            <Grid item xs={4} key={slot.type}>\r\n              <Box sx={{ \r\n                display: 'flex', \r\n                alignItems: 'center', \r\n                p: 1.5, \r\n                mb: 1,\r\n                borderRadius: 1, \r\n                background: '#fff', \r\n                border: '1px solid #e0e0e0',\r\n                minHeight: '60px'\r\n              }}>\r\n                <label style={{ display: 'flex', alignItems: 'center', gap: 10, width: '100%' }}>\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={slot.enabled}\r\n                    onChange={() => handleFilterToggle(idx, level)}\r\n                    style={{ width: '18px', height: '18px' }}\r\n                  />\r\n                  <Typography variant=\"subtitle1\" fontWeight={600}>{label}</Typography>\r\n                </label>\r\n              </Box>\r\n              \r\n              {slot.enabled ? (\r\n                <Box sx={{ display: 'flex', flexDirection: 'column', gap: 1.5 }}>\r\n                  <Box>\r\n                    <Typography variant=\"caption\" color=\"textSecondary\" sx={{ mb: 0.5, display: 'block' }}>\r\n                      Table\r\n                    </Typography>\r\n                    <select\r\n                      className=\"cus-inpt\"\r\n                      value={slot.tableId ?? ''}\r\n                      onChange={(e) => {\r\n                        const val = e.target.value || null;\r\n                        if (level === 'level1') {\r\n                          setFilterSlotsLevel1(prev => {\r\n                            const arr = [...prev];\r\n                            arr[idx] = { ...arr[idx], tableId: val, columnName: null };\r\n                            return arr;\r\n                          });\r\n                        } else if (level === 'level2') {\r\n                          setFilterSlotsLevel2(prev => {\r\n                            const arr = [...prev];\r\n                            arr[idx] = { ...arr[idx], tableId: val, columnName: null };\r\n                            return arr;\r\n                          });\r\n                        } else {\r\n                          setGroupFilterSlots(prev => {\r\n                            const arr = [...prev];\r\n                            arr[idx] = { ...arr[idx], tableId: val, columnName: null };\r\n                            return arr;\r\n                          });\r\n                        }\r\n                      }}\r\n                      style={{ width: '100%' }}\r\n                    >\r\n                      <option value=\"\">Select table</option>\r\n                      {tablesToShow.map((t, ti) => (\r\n                        <option key={ti} value={t.Table_Id}>\r\n                          {t.AliasName || t.Table_Name}\r\n                          {level === 'group' && ' (LOS)'}\r\n                        </option>\r\n                      ))}\r\n                      {level === 'group' && tablesToShow.length === 0 && (\r\n                        <option value=\"\" disabled>No LOS tables found</option>\r\n                      )}\r\n                    </select>\r\n                    {level === 'group' && (\r\n                      <Typography variant=\"caption\" color=\"textSecondary\" sx={{ mt: 0.5, display: 'block' }}>\r\n                        Only LOS tables are shown for group filter\r\n                      </Typography>\r\n                    )}\r\n                  </Box>\r\n                  \r\n         <Box>\r\n  <Typography variant=\"caption\" color=\"textSecondary\" sx={{ mb: 0.5, display: 'block' }}>\r\n    Column\r\n  </Typography>\r\n  <select\r\n    className=\"cus-inpt\"\r\n    value={slot.columnName ?? ''}\r\n    disabled={!slot.tableId}\r\n    onChange={(e) => {\r\n      const val = e.target.value || null;\r\n      \r\n      if (level === 'level1') {\r\n        setFilterSlotsLevel1(prev => {\r\n          const arr = [...prev];\r\n          arr[idx] = { ...arr[idx], columnName: val };\r\n          return arr;\r\n        });\r\n      } else if (level === 'level2') {\r\n        setFilterSlotsLevel2(prev => {\r\n          const arr = [...prev];\r\n          arr[idx] = { ...arr[idx], columnName: val };\r\n          return arr;\r\n        });\r\n      } else {\r\n        setGroupFilterSlots(prev => {\r\n          const arr = [...prev];\r\n          arr[idx] = { ...arr[idx], columnName: val };\r\n          return arr;\r\n        });\r\n      }\r\n    }}\r\n    style={{ width: '100%' }}\r\n  >\r\n    <option value=\"\">Select column</option>\r\n    {slot.tableId && getColumnsForTableId(slot.tableId).map((c, ci) => {\r\n      // For Group Filter: ALL columns are enabled regardless of whether they're used in Level 1/2\r\n      // For Level 1/2: Check if column is used in other slots of the same level\r\n      let isDisabled = false;\r\n      let disabledReason = '';\r\n      \r\n      if (level === 'group') {\r\n        // In Group Filter, NO columns are disabled\r\n        isDisabled = false;\r\n      } else if (level === 'level1') {\r\n        // Check if column is used in other Level 1 slots\r\n        const usedInOtherLevel1 = filterSlotsLevel1.some((s, slotIdx) => {\r\n          if (!s.enabled || !s.tableId || !s.columnName) return false;\r\n          if (slotIdx === idx) return false; // Exclude current slot\r\n          return String(s.tableId) === String(slot.tableId) && \r\n                 String(s.columnName) === String(c.Column_Name);\r\n        });\r\n        \r\n        // Check if column is used in Level 2\r\n        const usedInLevel2 = filterSlotsLevel2.some(s => {\r\n          if (!s.enabled || !s.tableId || !s.columnName) return false;\r\n          return String(s.tableId) === String(slot.tableId) && \r\n                 String(s.columnName) === String(c.Column_Name);\r\n        });\r\n        \r\n        isDisabled = usedInOtherLevel1 || usedInLevel2;\r\n        if (usedInOtherLevel1) disabledReason = ' (Used in another Level 1 filter)';\r\n        else if (usedInLevel2) disabledReason = ' (Used in Level 2 filter)';\r\n      } else if (level === 'level2') {\r\n        // Check if column is used in other Level 2 slots\r\n        const usedInOtherLevel2 = filterSlotsLevel2.some((s, slotIdx) => {\r\n          if (!s.enabled || !s.tableId || !s.columnName) return false;\r\n          if (slotIdx === idx) return false; // Exclude current slot\r\n          return String(s.tableId) === String(slot.tableId) && \r\n                 String(s.columnName) === String(c.Column_Name);\r\n        });\r\n        \r\n        // Check if column is used in Level 1\r\n        const usedInLevel1 = filterSlotsLevel1.some(s => {\r\n          if (!s.enabled || !s.tableId || !s.columnName) return false;\r\n          return String(s.tableId) === String(slot.tableId) && \r\n                 String(s.columnName) === String(c.Column_Name);\r\n        });\r\n        \r\n        isDisabled = usedInOtherLevel2 || usedInLevel1;\r\n        if (usedInOtherLevel2) disabledReason = ' (Used in another Level 2 filter)';\r\n        else if (usedInLevel1) disabledReason = ' (Used in Level 1 filter)';\r\n      }\r\n      \r\n      const isCurrentlySelected = slot.columnName === c.Column_Name;\r\n      // If it's currently selected, always enable it (so you can keep your selection)\r\n      const shouldDisable = !isCurrentlySelected && isDisabled;\r\n      \r\n      return (\r\n        <option \r\n          key={ci} \r\n          value={c.Column_Name} \r\n          disabled={shouldDisable} \r\n          style={{ \r\n            color: shouldDisable ? '#999' : 'inherit',\r\n            backgroundColor: shouldDisable ? '#f5f5f5' : 'inherit',\r\n            fontStyle: shouldDisable ? 'italic' : 'normal'\r\n          }}\r\n        >\r\n          {c.Column_Name} \r\n          {c.Column_Data_Type ? ` (${c.Column_Data_Type})` : ''}\r\n          {shouldDisable ? disabledReason : ''}\r\n        </option>\r\n      );\r\n    })}\r\n  </select>\r\n  {level === 'group' && (\r\n    <Typography variant=\"caption\" color=\"textSecondary\" sx={{ mt: 0.5, display: 'block', fontSize: '0.75rem' }}>\r\n      Note: All columns are enabled in Group Filter, even if used in Level 1/2 filters.\r\n    </Typography>\r\n  )}\r\n</Box>\r\n                </Box>\r\n              ) : (\r\n                <Box sx={{ \r\n                  display: 'flex', \r\n                  alignItems: 'center', \r\n                  justifyContent: 'center', \r\n                  p: 3, \r\n                  borderRadius: 1, \r\n                  background: '#f8f9fa',\r\n                  border: '1px dashed #dee2e6',\r\n                  color: '#6c757d',\r\n                  textAlign: 'center',\r\n                  minHeight: '120px'\r\n                }}>\r\n                  <Typography variant=\"body2\">\r\n                    Enable {label} to configure\r\n                  </Typography>\r\n                </Box>\r\n              )}\r\n            </Grid>\r\n          );\r\n        })}\r\n      </Grid>\r\n    </Box>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Card>\r\n        <div className=\"p-2 border-bottom fa-16 fw-bold d-flex justify-content-between align-items-center\">\r\n          <span className=\"text-primary text-uppercase ps-3\">{inputValues?.Report_Type_Id ? 'Modify Mobile Template' : 'Mobile Template Creation'}</span>\r\n          <Button variant=\"outlined\" onClick={() => nav(-1)} startIcon={<KeyboardArrowLeft />}>Back</Button>\r\n        </div>\r\n\r\n        <CardContent>\r\n          <div>\r\n            <label className=\"w-100\">Report Name</label>\r\n            <Select\r\n              value={\r\n                inputValues.reportName\r\n                  ? {\r\n                      value: inputValues.reportName,\r\n                      label: inputValues.reportName,\r\n                    }\r\n                  : null\r\n              }\r\n              onChange={(selectedOption) => {\r\n                setInputValues({ \r\n                  ...inputValues, \r\n                  reportName: selectedOption ? selectedOption.value : '' \r\n                });\r\n              }}\r\n              options={reportOptions}\r\n              placeholder={loadingReports ? \"Loading reports...\" : \"Select or type to search...\"}\r\n              isClearable={true}\r\n              isSearchable={true}\r\n              isLoading={loadingReports}\r\n              noOptionsMessage={({ inputValue }) => \r\n                inputValue ? `Press Enter to create \"${inputValue}\"` : \"No options available\"\r\n              }\r\n              formatCreateLabel={(inputValue) => `Create \"${inputValue}\"`}\r\n              onCreateOption={(inputValue) => {\r\n               \r\n                const alreadyExists = reportOptions.some(opt => \r\n                  opt.value.toLowerCase() === inputValue.toLowerCase()\r\n                );\r\n                \r\n                if (!alreadyExists) {\r\n                  const newOption = {\r\n                    value: inputValue,\r\n                    label: inputValue,\r\n                  };\r\n                 \r\n                  setReportOptions(prev => [...prev, newOption]);\r\n                  setExistingReportName(prev => [...prev, inputValue]);\r\n                }\r\n                \r\n               \r\n                setInputValues({ ...inputValues, reportName: inputValue });\r\n              }}\r\n              styles={{\r\n                control: (base) => ({\r\n                  ...base,\r\n                  width: '600px',\r\n                  border: '1px solid #ccc',\r\n                  borderRadius: '4px',\r\n                  minHeight: '36px',\r\n                }),\r\n                menu: (base) => ({\r\n                  ...base,\r\n                  width: '300px',\r\n                }),\r\n              }}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"p-2 mt-3 border rounded-3 d-inline-block\">\r\n            <table><tbody>\r\n              <tr><td className=\"border-end\">Total Filters Assigned</td><td className=\"px-2 blue-text\">{totalTablesSelected}</td></tr>\r\n              <tr><td className=\"border-end\">Total Columns Assigned</td><td className=\"px-2 blue-text\">{totalColumnsSelected}</td></tr>\r\n              <tr><td className=\"border-end\">Level 1 Filters</td><td className=\"px-2 blue-text\">{tablesSelectedCountLevel1}</td></tr>\r\n              <tr><td className=\"border-end\">Level 2 Filters</td><td className=\"px-2 blue-text\">{tablesSelectedCountLevel2}</td></tr>\r\n              <tr><td className=\"border-end\">Group Filters</td><td className=\"px-2 blue-text\">{tablesSelectedCountGroup}</td></tr>\r\n            </tbody></table>\r\n          </div>\r\n\r\n          {renderFilterSection(\"Level 1 Filters\", filterSlotsLevel1, 'level1')}\r\n          {renderFilterSection(\"Level 2 Filters\", filterSlotsLevel2, 'level2')}\r\n          {renderFilterSection(\"Group Filter\", groupFilterSlots, 'group')}\r\n\r\n          <Box className=\"mt-3 d-flex align-items-center\" sx={{ gap: 2 }}>\r\n            <Typography fontWeight={700}>List Type:</Typography>\r\n            <label style={{ display: 'flex', alignItems: 'center', gap: 6 }}>\r\n              <input \r\n                type=\"checkbox\" \r\n                checked={selectedListTypes.includes(1)} \r\n                onChange={(e) => {\r\n                  if (e.target.checked) {\r\n                    setSelectedListTypes(prev => [...prev, 1]);\r\n                  } else {\r\n                    setSelectedListTypes(prev => prev.filter(x => x !== 1));\r\n                  }\r\n                }} \r\n              /> \r\n              <span>Sum</span>\r\n            </label>\r\n            <label style={{ display: 'flex', alignItems: 'center', gap: 6 }}>\r\n              <input \r\n                type=\"checkbox\" \r\n                checked={selectedListTypes.includes(2)} \r\n                onChange={(e) => {\r\n                  if (e.target.checked) {\r\n                    setSelectedListTypes(prev => [...prev, 2]);\r\n                  } else {\r\n                    setSelectedListTypes(prev => prev.filter(x => x !== 2));\r\n                  }\r\n                }} \r\n              /> \r\n              <span>Avg</span>\r\n            </label>\r\n          </Box>\r\n\r\n          <Box className=\"mt-4 d-flex justify-content-end\" sx={{ gap: 2 }}>\r\n            <Button variant=\"outlined\" onClick={() => { \r\n              setFilterSlotsLevel1([\r\n                { slot: 1, enabled: false, tableId: null, columnName: null, type: 1 },\r\n                { slot: 2, enabled: false, tableId: null, columnName: null, type: 2 },\r\n                { slot: 3, enabled: false, tableId: null, columnName: null, type: 3 },\r\n              ]); \r\n              setFilterSlotsLevel2([\r\n                { slot: 1, enabled: false, tableId: null, columnName: null, type: 4 },\r\n                { slot: 2, enabled: false, tableId: null, columnName: null, type: 5 },\r\n                { slot: 3, enabled: false, tableId: null, columnName: null, type: 6 },\r\n              ]);\r\n              setGroupFilterSlots([\r\n                { slot: 1, enabled: false, tableId: null, columnName: null, type: 7 }\r\n              ]);\r\n              setSelectedListTypes([]); \r\n            }}>\r\n              Reset All\r\n            </Button>\r\n\r\n            <Tooltip title={!canPreview ? 'Assign at least one slot to Preview' : ''}>\r\n              <span>\r\n                <Button\r\n                  variant=\"outlined\"\r\n                  startIcon={<RemoveRedEyeOutlined />}\r\n                  disabled={!canPreview}\r\n                  onClick={() => setOpenConfigPreview(true)}\r\n                >\r\n                  Preview\r\n                </Button>\r\n              </span>\r\n            </Tooltip>\r\n\r\n            <Button variant=\"contained\" startIcon={<Save />} onClick={saveTemplate}>\r\n              Submit\r\n            </Button>\r\n          </Box>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <Dialog open={openConfigPreview} onClose={() => setOpenConfigPreview(false)} fullWidth maxWidth=\"md\">\r\n        <DialogTitle>Preview - Template Configuration</DialogTitle>\r\n        <DialogContent dividers>\r\n          <Typography variant=\"subtitle1\" fontWeight={700} gutterBottom>Report: {inputValues.reportName || '—'}</Typography>\r\n\r\n          <Box sx={{ mb: 2 }}>\r\n            {filterSlotsLevel1.filter(s => s.enabled && s.tableId && s.columnName).length === 0 &&\r\n             filterSlotsLevel2.filter(s => s.enabled && s.tableId && s.columnName).length === 0 &&\r\n             groupFilterSlots.filter(s => s.enabled && s.tableId && s.columnName).length === 0 && (\r\n              <Typography>No filter assigned yet.</Typography>\r\n            )}\r\n\r\n            {filterSlotsLevel1.filter(s => s.enabled && s.tableId && s.columnName).length > 0 && (\r\n              <>\r\n                <Typography variant=\"subtitle2\" fontWeight={700} sx={{ mt: 2, mb: 1 }}>Level 1 Filters:</Typography>\r\n                {filterSlotsLevel1.filter(s => s.enabled && s.tableId && s.columnName).map((s, i) => {\r\n                  const tableMeta = reportTables.find(t => String(t.Table_Id) === String(s.tableId));\r\n                  const tableLabel = tableMeta ? (tableMeta.AliasName || tableMeta.Table_Name) : `Table ${s.tableId}`;\r\n                  const listType = selectedListTypes.length === 0 ? '—' : (selectedListTypes.length === 2 ? 'Sum & Avg' : (selectedListTypes[0] === 1 ? 'Sum' : 'Avg'));\r\n                  const label = `Filter ${s.slot}`;\r\n                  return (\r\n                    <Box key={s.type} sx={{ p: 1, borderRadius: 1, background: '#F7F9FB', mb: 1 }}>\r\n                      <Grid container alignItems=\"center\">\r\n                        <Grid item xs={12} md={3}><strong>{label}</strong></Grid>\r\n                        <Grid item xs={12} md={4}>{tableLabel}</Grid>\r\n                        <Grid item xs={12} md={3}>{s.columnName}</Grid>\r\n                        <Grid item xs={12} md={2} style={{ textAlign: 'right' }}>{listType}</Grid>\r\n                      </Grid>\r\n                    </Box>\r\n                  );\r\n                })}\r\n              </>\r\n            )}\r\n\r\n            {filterSlotsLevel2.filter(s => s.enabled && s.tableId && s.columnName).length > 0 && (\r\n              <>\r\n                <Typography variant=\"subtitle2\" fontWeight={700} sx={{ mt: 2, mb: 1 }}>Level 2 Filters:</Typography>\r\n                {filterSlotsLevel2.filter(s => s.enabled && s.tableId && s.columnName).map((s, i) => {\r\n                  const tableMeta = reportTables.find(t => String(t.Table_Id) === String(s.tableId));\r\n                  const tableLabel = tableMeta ? (tableMeta.AliasName || tableMeta.Table_Name) : `Table ${s.tableId}`;\r\n                  const listType = selectedListTypes.length === 0 ? '—' : (selectedListTypes.length === 2 ? 'Sum & Avg' : (selectedListTypes[0] === 1 ? 'Sum' : 'Avg'));\r\n                  const label = `Filter ${s.slot}`;\r\n                  return (\r\n                    <Box key={s.type} sx={{ p: 1, borderRadius: 1, background: '#F7F9FB', mb: 1 }}>\r\n                      <Grid container alignItems=\"center\">\r\n                        <Grid item xs={12} md={3}><strong>{label}</strong></Grid>\r\n                        <Grid item xs={12} md={4}>{tableLabel}</Grid>\r\n                        <Grid item xs={12} md={3}>{s.columnName}</Grid>\r\n                        <Grid item xs={12} md={2} style={{ textAlign: 'right' }}>{listType}</Grid>\r\n                      </Grid>\r\n                    </Box>\r\n                  );\r\n                })}\r\n              </>\r\n            )}\r\n\r\n            {groupFilterSlots.filter(s => s.enabled && s.tableId && s.columnName).length > 0 && (\r\n              <>\r\n                <Typography variant=\"subtitle2\" fontWeight={700} sx={{ mt: 2, mb: 1 }}>Group Filter:</Typography>\r\n                {groupFilterSlots.filter(s => s.enabled && s.tableId && s.columnName).map((s, i) => {\r\n                  const tableMeta = reportTables.find(t => String(t.Table_Id) === String(s.tableId));\r\n                  const tableLabel = tableMeta ? (tableMeta.AliasName || tableMeta.Table_Name) : `Table ${s.tableId}`;\r\n                  const listType = selectedListTypes.length === 0 ? '—' : (selectedListTypes.length === 2 ? 'Sum & Avg' : (selectedListTypes[0] === 1 ? 'Sum' : 'Avg'));\r\n                  return (\r\n                    <Box key={s.type} sx={{ p: 1, borderRadius: 1, background: '#F7F9FB', mb: 1 }}>\r\n                      <Grid container alignItems=\"center\">\r\n                        <Grid item xs={12} md={3}><strong>Group Filter</strong></Grid>\r\n                        <Grid item xs={12} md={4}>{tableLabel} {tableMeta && (tableMeta.Table_Name?.toLowerCase().includes('los') || tableMeta.AliasName?.toLowerCase().includes('los')) && '(LOS)'}</Grid>\r\n                        <Grid item xs={12} md={3}>{s.columnName}</Grid>\r\n                        <Grid item xs={12} md={2} style={{ textAlign: 'right' }}>{listType}</Grid>\r\n                      </Grid>\r\n                    </Box>\r\n                  );\r\n                })}\r\n              </>\r\n            )}\r\n          </Box>\r\n\r\n          <Typography variant=\"caption\" color=\"textSecondary\">\r\n            Note: Columns already used in other filter slots are disabled to prevent duplicates.\r\n          </Typography>\r\n        </DialogContent>\r\n\r\n        <DialogActions>\r\n          <Button onClick={() => setOpenConfigPreview(false)} startIcon={<ArrowBackIosNewOutlined />}>Back</Button>\r\n          <Button variant=\"contained\" onClick={() => { setOpenConfigPreview(false); saveTemplate(); }}>Submit</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ReportsTemplateMobCreation;","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getCardUtilityClass(slot) {\n  return generateUtilityClass('MuiCard', slot);\n}\nconst cardClasses = generateUtilityClasses('MuiCard', ['root']);\nexport default cardClasses;","'use client';\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"className\", \"raised\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport chainPropTypes from '@mui/utils/chainPropTypes';\nimport composeClasses from '@mui/utils/composeClasses';\nimport styled from '../styles/styled';\nimport { useDefaultProps } from '../DefaultPropsProvider';\nimport Paper from '../Paper';\nimport { getCardUtilityClass } from './cardClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  return composeClasses(slots, getCardUtilityClass, classes);\n};\nconst CardRoot = styled(Paper, {\n  name: 'MuiCard',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})(() => {\n  return {\n    overflow: 'hidden'\n  };\n});\nconst Card = /*#__PURE__*/React.forwardRef(function Card(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiCard'\n  });\n  const {\n      className,\n      raised = false\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    raised\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(CardRoot, _extends({\n    className: clsx(classes.root, className),\n    elevation: raised ? 8 : undefined,\n    ref: ref,\n    ownerState: ownerState\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Card.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * If `true`, the card will use raised styling.\n   * @default false\n   */\n  raised: chainPropTypes(PropTypes.bool, props => {\n    if (props.raised && props.variant === 'outlined') {\n      return new Error('MUI: Combining `raised={true}` with `variant=\"outlined\"` has no effect.');\n    }\n    return null;\n  }),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default Card;","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getCardContentUtilityClass(slot) {\n  return generateUtilityClass('MuiCardContent', slot);\n}\nconst cardContentClasses = generateUtilityClasses('MuiCardContent', ['root']);\nexport default cardContentClasses;","'use client';\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"className\", \"component\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport styled from '../styles/styled';\nimport { useDefaultProps } from '../DefaultPropsProvider';\nimport { getCardContentUtilityClass } from './cardContentClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  return composeClasses(slots, getCardContentUtilityClass, classes);\n};\nconst CardContentRoot = styled('div', {\n  name: 'MuiCardContent',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})(() => {\n  return {\n    padding: 16,\n    '&:last-child': {\n      paddingBottom: 24\n    }\n  };\n});\nconst CardContent = /*#__PURE__*/React.forwardRef(function CardContent(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiCardContent'\n  });\n  const {\n      className,\n      component = 'div'\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    component\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(CardContentRoot, _extends({\n    as: component,\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardContent.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default CardContent;","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z\"\n}), 'Save');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M17.77 3.77 16 2 6 12l10 10 1.77-1.77L9.54 12z\"\n}), 'ArrowBackIosNewOutlined');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 6.5c3.79 0 7.17 2.13 8.82 5.5-1.65 3.37-5.02 5.5-8.82 5.5S4.83 15.37 3.18 12C4.83 8.63 8.21 6.5 12 6.5m0-2C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5m0 5c1.38 0 2.5 1.12 2.5 2.5s-1.12 2.5-2.5 2.5-2.5-1.12-2.5-2.5 1.12-2.5 2.5-2.5m0-2c-2.48 0-4.5 2.02-4.5 4.5s2.02 4.5 4.5 4.5 4.5-2.02 4.5-4.5-2.02-4.5-4.5-4.5\"\n}), 'RemoveRedEyeOutlined');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z\"\n}), 'KeyboardArrowLeft');","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nconst boxClasses = generateUtilityClasses('MuiBox', ['root']);\nexport default boxClasses;","'use client';\n\nimport { createBox } from '@mui/system';\nimport PropTypes from 'prop-types';\nimport { unstable_ClassNameGenerator as ClassNameGenerator } from '../className';\nimport { createTheme } from '../styles';\nimport THEME_ID from '../styles/identifier';\nimport boxClasses from './boxClasses';\nconst defaultTheme = createTheme();\nconst Box = createBox({\n  themeId: THEME_ID,\n  defaultTheme,\n  defaultClassName: boxClasses.root,\n  generateClassName: ClassNameGenerator.generate\n});\nprocess.env.NODE_ENV !== \"production\" ? Box.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * @ignore\n   */\n  children: PropTypes.node,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default Box;","'use client';\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"className\", \"component\"];\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport styled from '@mui/styled-engine';\nimport styleFunctionSx, { extendSxProp } from './styleFunctionSx';\nimport useTheme from './useTheme';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default function createBox(options = {}) {\n  const {\n    themeId,\n    defaultTheme,\n    defaultClassName = 'MuiBox-root',\n    generateClassName\n  } = options;\n  const BoxRoot = styled('div', {\n    shouldForwardProp: prop => prop !== 'theme' && prop !== 'sx' && prop !== 'as'\n  })(styleFunctionSx);\n  const Box = /*#__PURE__*/React.forwardRef(function Box(inProps, ref) {\n    const theme = useTheme(defaultTheme);\n    const _extendSxProp = extendSxProp(inProps),\n      {\n        className,\n        component = 'div'\n      } = _extendSxProp,\n      other = _objectWithoutPropertiesLoose(_extendSxProp, _excluded);\n    return /*#__PURE__*/_jsx(BoxRoot, _extends({\n      as: component,\n      ref: ref,\n      className: clsx(className, generateClassName ? generateClassName(defaultClassName) : defaultClassName),\n      theme: themeId ? theme[themeId] || theme : theme\n    }, other));\n  });\n  return Box;\n}"],"names":["ReportsTemplateMobCreation","storage","JSON","parse","localStorage","getItem","nav","useNavigate","contextObj","useContext","MyContext","locationState","useLocation","state","initialValue","Report_Type_Id","reportName","tables","tableJoins","currentTab","createdBy","UserId","inputValues","setInputValues","useState","reportTables","setReportTables","existingReportName","setExistingReportName","loadingReports","setLoadingReports","reportOptions","setReportOptions","filterSlotsLevel1","setFilterSlotsLevel1","slot","enabled","tableId","columnName","type","filterSlotsLevel2","setFilterSlotsLevel2","groupFilterSlots","setGroupFilterSlots","selectedListTypes","setSelectedListTypes","openConfigPreview","setOpenConfigPreview","losTables","filter","table","_table$Table_Name","_table$AliasName","Table_Name","toLowerCase","includes","AliasName","useEffect","fetchExistingReportNames","async","response","fetchLink","address","method","success","reports","data","uniqueReportNames","Set","map","report","Report_Name","name","options","value","label","error","console","toast","stateValue","ReportState","isValidObject","_stateValue$reportNam","prev","_stateValue$Report_Ty","_stateValue$createdBy","_objectSpread","some","opt","newOption","groupFilterFromState","GroupFilter","length","newSlots","forEach","gf","index","Table_Id","Column_Name","Type","then","catch","e","assignments","allListTypes","_table$columns","columns","column","Array","isArray","push","Number","listType","List_Type","level","Level","String","split","lt","trim","isNaN","add","level1Assignments","a","level2Assignments","groupFilterAssignments","assignment","slotIndex","findIndex","size","from","getColumnsForTableId","inSelected","find","t","meta","Columns","c","_ref","_c$Column_Data_Type","_ref2","_c$IS_Default","_ref3","_c$IS_Join_Key","Column_Data_Type","IS_Default","IS_Join_Key","tablesSelectedCountLevel1","reduce","acc","s","columnsSelectedCountLevel1","tablesSelectedCountLevel2","columnsSelectedCountLevel2","tablesSelectedCountGroup","totalTablesSelected","totalColumnsSelected","saveTemplate","validation","validateNoDuplicateColumns","level1Slots","level1Set","key","concat","has","tableMeta","tableName","isValid","message","level2Slots","level2Set","slot1","slot2","details","groupFilterDetails","buildDetails","listTypeToSave","join","payload","updatedBy","res","bodyData","canPreview","isEqualNumber","Add_Rights","renderFilterSection","title","filterSlots","_jsxs","Box","className","sx","background","children","_jsx","Typography","variant","fontWeight","gutterBottom","Grid","container","spacing","idx","_slot$tableId","_slot$columnName","tablesToShow","item","xs","display","alignItems","p","mb","borderRadius","border","minHeight","style","gap","width","checked","onChange","handleFilterToggle","arr","newEnabledState","height","flexDirection","color","val","target","ti","disabled","mt","ci","isDisabled","disabledReason","usedInOtherLevel1","slotIdx","usedInLevel2","usedInOtherLevel2","usedInLevel1","shouldDisable","backgroundColor","fontStyle","fontSize","justifyContent","textAlign","_Fragment","Card","Button","onClick","startIcon","KeyboardArrowLeft","CardContent","Select","selectedOption","placeholder","isClearable","isSearchable","isLoading","noOptionsMessage","_ref4","inputValue","formatCreateLabel","onCreateOption","styles","control","base","menu","x","Tooltip","RemoveRedEyeOutlined","Save","Dialog","open","onClose","fullWidth","maxWidth","DialogTitle","DialogContent","dividers","i","tableLabel","md","_tableMeta$Table_Name","_tableMeta$AliasName","DialogActions","ArrowBackIosNewOutlined","getCardUtilityClass","generateUtilityClass","generateUtilityClasses","_excluded","CardRoot","styled","Paper","overridesResolver","props","root","overflow","React","inProps","ref","useDefaultProps","raised","other","_objectWithoutPropertiesLoose","ownerState","_extends","classes","composeClasses","useUtilityClasses","clsx","elevation","undefined","getCardContentUtilityClass","CardContentRoot","padding","paddingBottom","component","as","createSvgIcon","d","defaultTheme","createTheme","createBox","themeId","THEME_ID","defaultClassName","boxClasses","generateClassName","ClassNameGenerator","generate","arguments","BoxRoot","shouldForwardProp","prop","styleFunctionSx","theme","useTheme","_extendSxProp","extendSxProp"],"sourceRoot":""}