"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[4264,1248,8868],{62344:(e,a,o)=>{o.d(a,{o$:()=>r,o5:()=>c,cF:()=>l,iI:()=>n,_8:()=>s});const t=o.p+"static/media/smt.aa4d4f940bbebff07a57.png",n={table:{style:{width:"auto",backgroundColor:"transparent"}},rows:{style:{backgroundColor:"transparent"}},headCells:{style:{backgroundColor:"#6b9080f8",color:"white",fontSize:"14px"}}},l={menu:(e,a)=>({...e,zIndex:9999}),menuPortal:e=>({...e,zIndex:9999}),groupHeading:e=>({...e,backgroundColor:"#f5f5f5",color:"#333",fontWeight:"bold",fontSize:"14px",padding:"8px 12px",borderBottom:"1px solid #ddd",textTransform:"uppercase"}),option:(e,a)=>({...e,backgroundColor:a.isSelected?"#2684FF":a.isFocused?"#E2ECF9":"white",color:a.isSelected?"white":"#333",padding:"10px 12px"})},r=[{id:1,headname:"Menu ID",variant:"head",align:"left",width:100},{id:2,headname:"MenuName"},{id:3,headname:"Read Rights"},{id:4,headname:"Add Rights"},{id:5,headname:"Edit Rights"},{id:6,headname:"Delete Rights"},{id:7,headname:"Print Rights"},{id:8,headname:"Action"}],c=[{dataBase:1,name:"SHANKAR TRADERS",business:"Wholesale Merchant in Dhall",address:"32, Chitrakara Street, Madurai - 01 <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:t,gstin:"33AADFS6973R1ZD",phone:"984-313-1353, 984-335-5166",fssai:"12418012000818",bankAccount:"0021 5032 0885 122",ifsc:"TMBL0000002"},{dataBase:2,name:"SMT AGRO PRODUCTS",business:"",address:"H.O: 153, Chitrakara Street, 2nd Floor, Madurai -01 <br /> G.O: 746 Puliyur, Sayanapuram, Svga <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:t,gstin:"33ACMFS3420Q1ZQ",phone:"0452-4371625",fssai:"12418012000818",bankAccount:"0025 3031 0875 947",ifsc:"TMBL0000002"},{dataBase:3,name:"BHAVANI TRADERS",business:"",address:"H.O: 152-A, Chitrakara Street, Madurai -01 <br /> G.O: 30/1-Rajman Nagar, Chintamani Main Road, Mdu-01 <br /> Tax Invoice",logo:t,gstin:"33AAEFB6728J1ZG",phone:"958-559-7641, 958-559-7614",fssai:"12418012000670",bankAccount:"0021 5005 0800 309",ifsc:"TMBL0000002"}],s=[{name:"PURCHASE_ORDER"},{name:"PURCHASE_INVOICE"},{name:"SALE_ORDER"},{name:"SALE_INVOICE"},{name:"JOURNAL"},{name:"STOCK_JOURNAL"},{name:"PAYMENT"},{name:"RECEIPT"},{name:"CONTRA"}]},16496:(e,a,o)=>{o.r(a),o.d(a,{default:()=>v});var t=o(69060),n=o(56480),l=o(94180),r=o(39308),c=o(99852),s=o(62344),i=o(43692),d=o(89e3),u=o(84436),m=o(51560),p=o(1908),h=o(82496);const v=e=>{let{loadingOn:a,loadingOff:o}=e;const v=(0,m.i6)(),b=(0,m.IT)().state,[C,x]=(0,t.useState)(l.i),[A,g]=(0,t.useState)({accountsList:[],voucherType:[],branch:[]});(0,t.useEffect)((()=>{(0,r.CY)(b)&&x(Object.fromEntries(Object.entries(l.i).map((e=>{var a;let[o,t]=e;return"ContraDate"===o?[o,b[o]?(0,r.Q7)(b[o]):t]:[o,null!==(a=b[o])&&void 0!==a?a:t]}))))}),[b]),(0,t.useEffect)((()=>{(async()=>{try{const[e,a,o]=await Promise.all([(0,p.q)({address:"masters/accountMaster/groupFilter?recursiveGroup=11,22"}),(0,p.q)({address:"masters/voucher?module=CONTRA"}),(0,p.q)({address:"masters/branch/dropDown"})]),t=(e.success?e.data:[]).sort(((e,a)=>String(null===e||void 0===e?void 0:e.Account_name).localeCompare(null===a||void 0===a?void 0:a.Account_name))),n=(a.success?a.data:[]).sort(((e,a)=>String(null===e||void 0===e?void 0:e.Voucher_Type).localeCompare(null===a||void 0===a?void 0:a.Voucher_Type))),l=(o.success?o.data:[]).sort(((e,a)=>String(null===e||void 0===e?void 0:e.BranchName).localeCompare(null===a||void 0===a?void 0:a.BranchName)));g((e=>({...e,accountsList:t,voucherType:n,branch:l})))}catch(e){console.error("Error fetching data:",e)}})()}),[]);const N=(0,t.useMemo)((()=>{const e=(0,r.Q$)(C.DebitAccount)&&0!==C.DebitAccount,a=(0,r.Q$)(C.CreditAccount)&&0!==C.CreditAccount,o=e&&a&&Number(C.DebitAccount)!==Number(C.CreditAccount);return e&&a&&o&&C.ContraDate&&C.BranchId&&""!==C.VoucherType}),[C]),f=(e,a)=>x((o=>({...o,[e]:a}))),j=A.accountsList.map((e=>({value:Number(e.Acc_Id),label:e.Account_name}))),S=null!=C.DebitAccount&&j.find((e=>(0,r.Qr)(e.value,C.DebitAccount)))||null,y=null!=C.CreditAccount&&j.find((e=>(0,r.Qr)(e.value,C.CreditAccount)))||null,D=e=>a=>"Dr"===e?null!=C.CreditAccount&&(0,r.Qr)(a.value,C.CreditAccount):"Cr"===e&&(null!=C.DebitAccount&&(0,r.Qr)(a.value,C.DebitAccount)),T=e=>""===e||null===e||void 0===e?null:Number(e);return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(i.c,{children:[(0,h.jsxs)("h5",{className:"p-3 m-0 d-flex align-items-center",children:[(0,h.jsxs)("span",{className:"flex-grow-1",children:["Contra Voucher",C.ContraVoucherNo?` - ${C.ContraVoucherNo}`:""]}),(0,h.jsx)("span",{children:(0,h.jsx)(d.c,{variant:"outlined",disabled:!N,onClick:N?async()=>{N&&(0,p.q)({address:"contra/master",method:null!==C&&void 0!==C&&C.ContraAutoId?"PUT":"POST",bodyData:C,loadingOn:a,loadingOff:o}).then((e=>{e.success?(n.m4.success(e.message),x((e=>({...l.i,ContraDate:(0,r.Q7)()}))),null!==C&&void 0!==C&&C.ContraAutoId&&v("/erp/contra/contraList")):n.m4.error(e.message)})).catch((e=>console.error(e)))}:void 0,children:"Save"})})]}),(0,h.jsx)(u.c,{children:(0,h.jsxs)("div",{className:"row p-0 m-0",children:[(0,h.jsxs)("div",{className:"col-xxl-2 col-lg-3 col-md-4 col-sm-6 p-2",children:[(0,h.jsx)("label",{children:"Date"}),(0,h.jsx)("input",{type:"date",className:"cus-inpt p-2",value:C.ContraDate,onChange:e=>f("ContraDate",e.target.value)})]}),(0,h.jsxs)("div",{className:"col-xxl-2 col-lg-3 col-md-4 col-sm-6 p-2",children:[(0,h.jsx)("label",{children:"Branch"}),(0,h.jsxs)("select",{className:"cus-inpt p-2",value:C.BranchId,onChange:e=>f("BranchId",e.target.value),children:[(0,h.jsx)("option",{value:"",disabled:!0,children:"Select"}),A.branch.map(((e,a)=>(0,h.jsx)("option",{value:e.BranchId,children:e.BranchName},a)))]})]}),(0,h.jsxs)("div",{className:"col-xxl-2 col-lg-3 col-md-4 col-sm-6 p-2",children:[(0,h.jsx)("label",{children:"Voucher Type"}),(0,h.jsx)(c.cp,{value:{label:C.VoucherTypeGet,value:C.VoucherType},options:[{value:"",label:"select"},...A.voucherType.map((e=>({value:e.Vocher_Type_Id,label:e.Voucher_Type})))],isDisabled:null===C||void 0===C?void 0:C.ContraAutoId,styles:s.cF,menuPortalTarget:document.body,onChange:e=>{f("VoucherType",(null===e||void 0===e?void 0:e.value)||""),f("VoucherTypeGet",(null===e||void 0===e?void 0:e.label)||"")},isSearchable:!0})]}),(0,h.jsxs)("div",{className:"col-xxl-2 col-lg-3 col-md-4 col-sm-6 p-2",children:[(0,h.jsx)("label",{children:"Status"}),(0,h.jsxs)("select",{className:"cus-inpt p-2",value:C.ContraStatus,onChange:e=>f("ContraStatus",e.target.value),children:[(0,h.jsx)("option",{value:"",disabled:!0,children:"Select"}),l.S.map((e=>(0,h.jsx)("option",{value:e.value,children:e.label},e.value)))]})]}),(0,h.jsx)("div",{className:"col-12 p-0 m-0"}),(0,h.jsxs)("div",{className:"row p-0 m-0",children:[(0,h.jsxs)("div",{className:"col-md-6 p-2",children:[(0,h.jsx)("h6",{className:"mb-2 text-center",children:"Debit"}),(0,h.jsx)("div",{className:"border rounded-3 p-3",children:(0,h.jsx)("div",{className:"row p-0 m-0",children:(0,h.jsxs)("div",{className:"col-12 p-0 m-0",children:[(0,h.jsx)("label",{children:"Debit Account"}),(0,h.jsx)(c.cp,{placeholder:"Select debit account",value:S,options:j,isOptionDisabled:D("Dr"),onChange:e=>x((a=>({...a,DebitAccount:e?T(e.value):null,DebitAccountName:e?e.label:""}))),isClearable:!0,isSearchable:!0,styles:{...s.cF,menuPortal:e=>({...e,zIndex:9999})},menuPortalTarget:document.body})]})})})]}),(0,h.jsxs)("div",{className:"col-md-6 p-2",children:[(0,h.jsx)("h6",{className:"mb-2 text-center",children:"Credit"}),(0,h.jsx)("div",{className:"border rounded-3 p-3",children:(0,h.jsx)("div",{className:"row p-0 m-0",children:(0,h.jsxs)("div",{className:"col-12 p-0 m-0",children:[(0,h.jsx)("label",{children:"Credit Account"}),(0,h.jsx)(c.cp,{placeholder:"Select credit account",value:y,options:j,isOptionDisabled:D("Cr"),onChange:e=>x((a=>({...a,CreditAccount:e?T(e.value):null,CreditAccountName:e?e.label:""}))),isClearable:!0,isSearchable:!0,styles:{...s.cF,menuPortal:e=>({...e,zIndex:9999})},menuPortalTarget:document.body})]})})})]})]}),(0,h.jsxs)("div",{className:"col-lg-3 col-md-4 col-sm-6 p-2",children:[(0,h.jsx)("label",{children:"Amount"}),(0,h.jsx)("input",{className:"cus-inpt p-2",value:C.Amount||"",onInput:r.Gk,onChange:e=>f("Amount",e.target.value)})]}),(0,h.jsxs)("div",{className:"col-md-8 p-2",children:[(0,h.jsx)("label",{children:"Narration"}),(0,h.jsx)("br",{}),(0,h.jsx)("input",{className:"cus-inpt p-2",style:{maxWidth:"400px"},value:C.Narration,onChange:e=>f("Narration",e.target.value)})]})]})})]})})}},94180:(e,a,o)=>{o.d(a,{S:()=>r,i:()=>l});var t=o(39308);const n=(0,t.gV)().user,l={ContraAutoId:"",ContraId:"",Year_Id:"",VoucherType:"",VoucherTypeGet:"",ContraNo:"",ContraVoucherNo:"",ContraDate:(0,t.Q7)(),BranchId:"",DebitAccount:null,DebitAccountName:"",CreditAccount:null,CreditAccountName:"",Amount:0,Narration:"",ContraStatus:1,CreatedBy:(0,t.Q$)(null===n||void 0===n?void 0:n.UserId)?n.UserId:"",CreatedAt:"",UpdatedAt:"",AlterId:""},r=[{label:"New",value:1},{label:"Process",value:2},{label:"Completed",value:3},{label:"Canceled",value:0}]},84436:(e,a,o)=>{o.d(a,{c:()=>b});var t=o(45072),n=o(95656),l=o(69060),r=o(79736),c=o(21412),s=o(12556),i=o(49836),d=o(10099),u=o(33448);function m(e){return(0,u.cp)("MuiCardContent",e)}(0,d.c)("MuiCardContent",["root"]);var p=o(82496);const h=["className","component"],v=(0,s.cp)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,a)=>a.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),b=l.forwardRef((function(e,a){const o=(0,i.C)({props:e,name:"MuiCardContent"}),{className:l,component:s="div"}=o,d=(0,n.c)(o,h),u=(0,t.c)({},o,{component:s}),b=(e=>{const{classes:a}=e;return(0,c.c)({root:["root"]},m,a)})(u);return(0,p.jsx)(v,(0,t.c)({as:s,className:(0,r.c)(b.root,l),ownerState:u,ref:a},d))}))},43692:(e,a,o)=>{o.d(a,{c:()=>C});var t=o(45072),n=o(95656),l=o(69060),r=o(79736),c=o(21412),s=o(12556),i=o(49836),d=o(85624),u=o(10099),m=o(33448);function p(e){return(0,m.cp)("MuiCard",e)}(0,u.c)("MuiCard",["root"]);var h=o(82496);const v=["className","raised"],b=(0,s.cp)(d.c,{name:"MuiCard",slot:"Root",overridesResolver:(e,a)=>a.root})((()=>({overflow:"hidden"}))),C=l.forwardRef((function(e,a){const o=(0,i.C)({props:e,name:"MuiCard"}),{className:l,raised:s=!1}=o,d=(0,n.c)(o,v),u=(0,t.c)({},o,{raised:s}),m=(e=>{const{classes:a}=e;return(0,c.c)({root:["root"]},p,a)})(u);return(0,h.jsx)(b,(0,t.c)({className:(0,r.c)(m.root,l),elevation:s?8:void 0,ref:a,ownerState:u},d))}))},81568:(e,a,o)=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}o.d(a,{c:()=>t})}}]);
//# sourceMappingURL=4264.a6aa927f.chunk.js.map