"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[2110,5439,9729],{12110:(e,s,a)=>{a.d(s,{A:()=>j});var r=a(58168),t=a(98587),n=a(65043),l=a(58387),o=a(68606),d=a(34535),i=a(6431),c=a(63336),u=a(57056),m=a(32400);function h(e){return(0,m.Ay)("MuiCard",e)}(0,u.A)("MuiCard",["root"]);var p=a(70579);const v=["className","raised"],x=(0,d.Ay)(c.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,s)=>s.root})(()=>({overflow:"hidden"})),j=n.forwardRef(function(e,s){const a=(0,i.b)({props:e,name:"MuiCard"}),{className:n,raised:d=!1}=a,c=(0,t.A)(a,v),u=(0,r.A)({},a,{raised:d}),m=(e=>{const{classes:s}=e;return(0,o.A)({root:["root"]},h,s)})(u);return(0,p.jsx)(x,(0,r.A)({className:(0,l.A)(m.root,n),elevation:d?8:void 0,ref:s,ownerState:u},c))})},14140:(e,s,a)=>{a.d(s,{Am:()=>l,Ay:()=>d});var r=a(65043),t=a(70579);const n=["as","disabled"];function l(e){let{tagName:s,disabled:a,href:r,target:t,rel:n,role:l,onClick:o,tabIndex:d=0,type:i}=e;s||(s=null!=r||null!=t||null!=n?"a":"button");const c={tagName:s};if("button"===s)return[{type:i||"button",disabled:a},c];const u=e=>{(a||"a"===s&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),a?e.stopPropagation():null==o||o(e)};return"a"===s&&(r||(r="#"),a&&(r=void 0)),[{role:null!=l?l:"button",disabled:void 0,tabIndex:a?void 0:d,href:r,target:"a"===s?t:void 0,"aria-disabled":a||void 0,rel:"a"===s?n:void 0,onClick:u,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),u(e))}},c]}const o=r.forwardRef((e,s)=>{let{as:a,disabled:r}=e,o=function(e,s){if(null==e)return{};var a,r,t={},n=Object.keys(e);for(r=0;r<n.length;r++)a=n[r],s.indexOf(a)>=0||(t[a]=e[a]);return t}(e,n);const[d,{tagName:i}]=l(Object.assign({tagName:a,disabled:r},o));return(0,t.jsx)(i,Object.assign({},o,d,{ref:s}))});o.displayName="Button";const d=o},14282:(e,s,a)=>{a.d(s,{A:()=>h});var r=a(89379),t=a(80045),n=a(98139),l=a.n(n),o=a(65043),d=a(14140),i=a(67852),c=a(70579);const u=["as","bsPrefix","variant","size","active","disabled","className"],m=o.forwardRef((e,s)=>{let{as:a,bsPrefix:n,variant:o="primary",size:m,active:h=!1,disabled:p=!1,className:v}=e,x=(0,t.A)(e,u);const j=(0,i.oU)(n,"btn"),[A,{tagName:C}]=(0,d.Am)((0,r.A)({tagName:a,disabled:p},x)),y=C;return(0,c.jsx)(y,(0,r.A)((0,r.A)((0,r.A)({},A),x),{},{ref:s,disabled:p,className:l()(v,j,h&&"active",o&&"".concat(j,"-").concat(o),m&&"".concat(j,"-").concat(m),x.href&&p&&"disabled")}))});m.displayName="Button";const h=m},14792:(e,s,a)=>{a.d(s,{A:()=>t});var r=a(70579);const t=()=>(0,r.jsx)("span",{style:{color:"red",fontWeight:"bold",fontSize:"1em"},children:" *"})},26480:(e,s,a)=>{var r=a(24994);s.A=void 0;var t=r(a(40039)),n=a(70579);s.A=(0,t.default)((0,n.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4z"}),"AddBox")},26494:(e,s,a)=>{a.d(s,{A:()=>x});var r=a(58168),t=a(98587),n=a(65043),l=a(58387),o=a(68606),d=a(34535),i=a(6431),c=a(57056),u=a(32400);function m(e){return(0,u.Ay)("MuiCardContent",e)}(0,c.A)("MuiCardContent",["root"]);var h=a(70579);const p=["className","component"],v=(0,d.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,s)=>s.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),x=n.forwardRef(function(e,s){const a=(0,i.b)({props:e,name:"MuiCardContent"}),{className:n,component:d="div"}=a,c=(0,t.A)(a,p),u=(0,r.A)({},a,{component:d}),x=(e=>{const{classes:s}=e;return(0,o.A)({root:["root"]},m,s)})(u);return(0,h.jsx)(v,(0,r.A)({as:d,className:(0,l.A)(x.root,n),ownerState:u,ref:s},c))})},51387:(e,s,a)=>{a.d(s,{A:()=>n});var r=a(59662),t=a(70579);const n=(0,r.A)((0,t.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},65439:(e,s,a)=>{a.r(s),a.d(s,{default:()=>g});var r=a(89379),t=a(65043),n=a(14282),l=a(12110),o=a(26494),d=a(17392),i=a(83462),c=a(26600),u=a(35316),m=a(29347),h=a(51387),p=a(83560),v=a(91036),x=(a(92342),a(58786)),j=a(65074),A=a(22520),C=a(26480),y=a(14792),N=a(95382),f=a(70579);const b=e=>(0,f.jsx)("td",{className:"border-0 fa-14 p-2 vctr",children:e.children}),g=e=>{let{loadingOn:s,loadingOff:a}=e;const g=JSON.parse(localStorage.getItem("user")),U={UserId:"",Name:"",UserName:"",UserTypeId:"",Password:"",BranchId:"",Company_id:null===g||void 0===g?void 0:g.Company_id},I={Cost_Center_Id:"",Cost_Center_Name:"",User_Type:"",Is_Converted_To_User:1,User_Id:""},[_,T]=(0,t.useState)(I),[w,S]=(0,t.useState)([]),[k,z]=(0,t.useState)(!1),[R,M]=(0,t.useState)(!1),[P,B]=(0,t.useState)(U),[D,E]=(0,t.useState)(!1),[L,O]=(0,t.useState)(!1),[H,q]=(0,t.useState)(""),[W,F]=(0,t.useState)([]),[V,J]=(0,t.useState)([]),[K,G]=(0,t.useState)([]),[Q,X]=(0,t.useState)([]),[Y,Z]=(0,t.useState)({dialog:!1,deleteDialog:!1,refresh:!1,filterText:"ALL"});(0,t.useEffect)(()=>{(0,j.z)({address:"masters/users?Company_id=".concat(null===g||void 0===g?void 0:g.Company_id)}).then(e=>{var s;e.success&&(null===e||void 0===e||null===(s=e.data)||void 0===s||s.sort((e,s)=>e.Name.localeCompare(s.Name)),S(e.data))}).catch(e=>console.error(e))},[R,null===g||void 0===g?void 0:g.Company_id]),(0,t.useEffect)(()=>{(0,j.z)({address:"masters/userType?Company_id=".concat(null===g||void 0===g?void 0:g.Company_id)}).then(e=>{e.success&&G(e.data)}).catch(e=>console.error(e))},[null===g||void 0===g?void 0:g.Company_id]),(0,t.useEffect)(()=>{(0,j.z)({address:"masters/branch/dropDown?Company_id=".concat(null===g||void 0===g?void 0:g.Company_id)}).then(e=>{e.success&&X(e.data)}).catch(e=>console.error(e))},[null===g||void 0===g?void 0:g.Company_id]),(0,t.useEffect)(()=>{if(H){const e=w.filter(e=>Object.values(e).some(e=>String(e).toLowerCase().includes(H.toLowerCase())));F(e)}},[H,w]);const $=()=>{B(U),z(e=>!e)},ee=()=>{Z(e=>(0,r.A)((0,r.A)({},e),{},{dialog:!1,deleteDialog:!1})),B(I)};return(0,t.useEffect)(()=>{(0,j.z)({address:"masters/userTypecostcenter"}).then(e=>{e.success&&J(e.data)}).catch(e=>console.error(e))},[null===g||void 0===g?void 0:g.Company_id,R]),(0,f.jsxs)(t.Fragment,{children:[(0,f.jsxs)(l.A,{children:[(0,f.jsxs)("div",{className:"px-3 py-2 fw-bold d-flex align-items-center justify-content-between border-bottom",children:["USERS",(0,f.jsx)("div",{className:"text-end",children:(0,f.jsx)(n.A,{onClick:$,className:"rounded-5 px-3 py-1 fa-13 shadow",children:k?"Back":"Add User"})})]}),(0,f.jsx)(o.A,{children:k?(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(0,j.z)({address:"masters/users",method:P.UserId?"PUT":"POST",bodyData:(0,r.A)((0,r.A)({},P),{},{Password:(0,A._y)(P.Password)})}).then(e=>{e.success?(M(!R),v.oR.success(e.message),$()):v.oR.error(e.message)})},children:[(0,f.jsxs)("div",{className:"row p-3",children:[(0,f.jsxs)("div",{className:"col-lg-4 col-md-6 p-2",children:[(0,f.jsx)("label",{children:"Name"}),(0,f.jsx)("input",{className:"cus-inpt",value:P.Name,required:!0,minLength:3,onChange:e=>B((0,r.A)((0,r.A)({},P),{},{Name:e.target.value}))})]}),(0,f.jsxs)("div",{className:"col-lg-4 col-md-6 p-2",children:[(0,f.jsx)("label",{children:"Password"}),(0,f.jsx)("input",{className:"cus-inpt",type:"password",required:!0,minLength:6,value:P.Password,onChange:e=>B((0,r.A)((0,r.A)({},P),{},{Password:e.target.value}))})]}),(0,f.jsxs)("div",{className:"col-lg-4 col-md-6 p-2",children:[(0,f.jsx)("label",{children:"Mobile"}),(0,f.jsx)("input",{className:"cus-inpt",type:"number",required:!0,value:P.UserName,maxLength:10,onChange:e=>B((0,r.A)((0,r.A)({},P),{},{UserName:e.target.value}))})]}),(0,f.jsxs)("div",{className:"col-lg-4 col-md-6 p-2",children:[(0,f.jsx)("label",{children:"Branch"}),(0,f.jsxs)("select",{className:"cus-inpt",value:P.BranchId,required:!0,onChange:e=>B((0,r.A)((0,r.A)({},P),{},{BranchId:e.target.value})),children:[(0,f.jsx)("option",{value:"",children:"select"}),null===Q||void 0===Q?void 0:Q.map((e,s)=>(0,f.jsx)("option",{value:e.BranchId,children:e.BranchName},s))]})]}),(0,f.jsxs)("div",{className:"col-lg-4 col-md-6 p-2",children:[(0,f.jsx)("label",{children:"User Type"}),(0,f.jsxs)("select",{className:"cus-inpt",value:P.UserTypeId,required:!0,onChange:e=>B((0,r.A)((0,r.A)({},P),{},{UserTypeId:e.target.value})),children:[(0,f.jsx)("option",{value:"",children:"Select"}),null===K||void 0===K?void 0:K.map((e,s)=>(0,f.jsx)("option",{value:e.Id,children:e.UserType},s))]})]})]}),(0,f.jsxs)("div",{className:"pe-3 d-flex justify-content-end",children:[(0,f.jsx)(n.A,{className:"rounded-5 px-4 mx-1 btn-light bg-white",onClick:$,type:"button",children:"cancel"}),(0,f.jsx)(n.A,{className:"rounded-5 px-4 shadow mx-1",type:"submit",children:P.UserId?"Update":"Create"})]})]})}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"d-flex justify-content-end",children:(0,f.jsx)("div",{className:" pb-2",children:(0,f.jsx)("input",{value:H,className:"cus-inpt w-auto",placeholder:"Search",onChange:e=>q(e.target.value)})})}),(0,f.jsx)(x.Ay,{data:H?W.length>0?W:[]:w,columns:[{name:"Name",selector:e=>e.Name,sortable:!0},{name:"Type",selector:e=>e.UserType,sortable:!0},{name:"Mobile",selector:e=>e.UserName,sortable:!1},{name:"Company",selector:e=>e.Company_Name,sortable:!0},{name:"Company",selector:e=>e.BranchName,sortable:!0},{name:"Cost_Center_User",sortable:!0,selector:e=>""!==(null===e||void 0===e?void 0:e.Cost_Center_Id)&&null!==(null===e||void 0===e?void 0:e.Cost_Center_Id)?(0,f.jsx)("span",{children:(0,f.jsx)(N.A,{style:{cursor:"pointer"}})}):(0,f.jsx)(C.A,{onClick:()=>{T({Cost_Center_Id:null,Name:null===e||void 0===e?void 0:e.Name,UserTypeId:null===e||void 0===e?void 0:e.UserTypeId,UserType:null===e||void 0===e?void 0:e.UserType,UserId:null===e||void 0===e?void 0:e.UserId,Is_Converted_To_User:1}),Z(e=>(0,r.A)((0,r.A)({},e),{},{dialog:!0}))},style:{cursor:"pointer"}})},{name:"CostCenterType",selector:e=>""!==(null===e||void 0===e?void 0:e.costcentertype)&&null!==(null===e||void 0===e?void 0:e.costcentertype)?(0,f.jsx)("span",{children:null===e||void 0===e?void 0:e.costcentertype}):(0,f.jsx)("span",{className:"cus-badge text-black ",children:"-"}),sortable:!0},{name:"Action",cell:e=>(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(d.A,{onClick:()=>{(e=>{const{UserId:s,Name:a,UserName:t,UserTypeId:n,Password:l,BranchId:o}=e,d=(0,A.of)(l);B(e=>(0,r.A)((0,r.A)({},e),{},{UserId:s,Name:a,UserName:t,UserTypeId:n,Password:d,BranchId:o})),z(!0)})(e)},size:"small",children:(0,f.jsx)(p.A,{className:"fa-in"})}),(0,f.jsx)(d.A,{onClick:()=>{const{UserId:s,Name:a,UserName:t,UserTypeId:n,Password:l,BranchId:o}=e;B(e=>(0,r.A)((0,r.A)({},e),{},{UserId:s,Name:a,UserName:t,UserTypeId:n,Password:l,BranchId:o})),E(!0)},size:"small",children:(0,f.jsx)(h.A,{className:"fa-in del-red"})})]})}],direction:"auto",fixedHeader:!0,fixedHeaderScrollHeight:"63dvh",highlightOnHover:!0,pagination:!0,responsive:!0,striped:!0,subHeaderAlign:"right",subHeaderWrap:!0})]})})]}),(0,f.jsxs)(i.A,{open:D,onClose:()=>E(!1),fullWidth:!0,maxWidth:"sm",children:[(0,f.jsx)(c.A,{id:"alert-dialog-title",children:"Confirmation"}),(0,f.jsx)(u.A,{children:(0,f.jsxs)("b",{className:"text-muted",children:["Do you want to Delete the user ",(0,f.jsx)("span",{className:"blue-text",children:P.Name}),"?"]})}),(0,f.jsxs)(m.A,{children:[(0,f.jsx)(n.A,{className:" btn-light",onClick:()=>{E(!1)},children:"Cancel"}),(0,f.jsx)(n.A,{onClick:()=>{(0,j.z)({address:"masters/users",method:"DELETE",bodyData:{UserId:P.UserId}}).then(e=>{e.success?(M(!R),E(e=>!e),B(U),v.oR.success(e.message)):v.oR.error(e.message)}).catch(e=>{console.error("Error deleting user:",e),v.oR.error("An error occurred. Please try again later.")})},children:"Delete"})]})]}),(0,f.jsxs)(i.A,{open:Y.dialog,onClose:ee,fullWidth:!0,maxWidth:"sm",children:[(0,f.jsx)(c.A,{children:_.Cost_Center_Id?"Modify Records":"Add Records"}),(0,f.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s&&s(),(0,j.z)({address:"dataEntry/costCenter",method:"POST",bodyData:{Cost_Center_Id:null===_||void 0===_?void 0:_.Cost_Center_Id,Cost_Center_Name:null===_||void 0===_?void 0:_.Name,User_Type:null===_||void 0===_?void 0:_.UserTypeId,User_Id:Number(null===_||void 0===_?void 0:_.UserId),Is_Converted_To_User:null===_||void 0===_?void 0:_.Is_Converted_To_User}}).then(e=>{e.success?(v.oR.success(e.message),ee(),M(!R)):v.oR.error(e.message)}).catch(e=>console.error(e)).finally(()=>{a&&a()})},children:[(0,f.jsx)(u.A,{children:(0,f.jsx)("div",{className:"table-responsive",children:(0,f.jsx)("table",{className:"table m-0",children:(0,f.jsxs)("tbody",{children:[(0,f.jsxs)("tr",{children:[(0,f.jsxs)(b,{children:["Cost Center Name ",(0,f.jsx)(y.A,{})]}),(0,f.jsx)(b,{children:(0,f.jsx)("input",{value:_.Name,onChange:e=>T(s=>(0,r.A)((0,r.A)({},s),{},{Name:e.target.value})),className:"cus-inpt p-2",required:!0,maxLength:150})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsxs)(b,{children:["User Type ",(0,f.jsx)(y.A,{})]}),(0,f.jsx)(b,{children:(0,f.jsxs)("select",{value:_.UserTypeId||"",onChange:e=>T(s=>(0,r.A)((0,r.A)({},s),{},{UserTypeId:e.target.value})),className:"cus-inpt p-2",required:!0,"aria-label":"Select User Type",children:[(0,f.jsx)("option",{value:"",children:"Select User Type"}),V.map((e,s)=>(0,f.jsx)("option",{value:e.UserTypeId,children:e.UserType},s))]})})]})]})})})}),(0,f.jsxs)(m.A,{className:"d-flex justify-content-between flex-wrap",children:[(0,f.jsx)(n.A,{type:"button",variant:"outlined",onClick:()=>T({Cost_Center_Id:null,Name:"",UserTypeId:""}),children:"Clear"}),(0,f.jsxs)("span",{children:[(0,f.jsx)(n.A,{type:"button",onClick:ee,children:"Cancel"}),(0,f.jsx)(n.A,{type:"submit",variant:"contained",children:"Submit"})]})]})]})]})]})}},83560:(e,s,a)=>{a.d(s,{A:()=>n});var r=a(59662),t=a(70579);const n=(0,r.A)((0,t.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},95382:(e,s,a)=>{var r=a(24994);s.A=void 0;var t=r(a(40039)),n=a(70579);s.A=(0,t.default)((0,n.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check")}}]);
//# sourceMappingURL=5439.602c3743.chunk.js.map