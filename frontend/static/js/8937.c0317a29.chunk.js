"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[8937],{10489:(e,t,l)=>{l.d(t,{A:()=>o});l(65043);var i=l(83462),a=l(26600),r=l(35316),c=l(29347),d=l(11906),n=l(70579);const o=e=>{let{open:t=!1,onClose:l,children:o,title:s,onSubmit:u,submitText:_="Submit",closeText:p="Close",maxWidth:v="sm",fullWidth:b=!0,isSubmit:h=!1,startAction:m}=e;return(0,n.jsxs)(i.A,{open:t,onClose:l,fullWidth:b,maxWidth:v,children:[s&&(0,n.jsx)(a.A,{children:s}),(0,n.jsx)(r.A,{children:o}),(0,n.jsxs)(c.A,{className:"".concat(m?"d-flex justify-content-between":""),children:[m&&(0,n.jsx)("div",{children:m}),(0,n.jsxs)("div",{children:[(0,n.jsx)(d.A,{onClick:l,children:p}),u&&(0,n.jsx)(d.A,{variant:"contained",onClick:u,type:h?"submit":"button",className:"ms-2",children:_})]})]})]})}},31702:(e,t,l)=>{l.d(t,{AT:()=>n,MR:()=>u,eu:()=>r,hx:()=>d,nB:()=>s,tP:()=>c,zd:()=>o});var i=l(22520);const a=(0,i.aN)().user,r={receipt_id:"",year_id:"",receipt_voucher_type_id:"",receipt_sno:"",receipt_invoice_no:"",receipt_date:(0,i.ny)(),receipt_bill_type:1,credit_ledger:"",credit_ledger_name:"Select",credit_amount:0,debit_ledger:"",debit_ledger_name:"Select",debit_amount:0,remarks:"",status:1,is_new_ref:0,is_journal_type:0,transaction_type:"",check_no:"",check_date:"",bank_name:"",bank_date:"",created_by:(0,i.IQ)(null===a||void 0===a?void 0:a.UserId)?null===a||void 0===a?void 0:a.UserId:"",altered_by:(0,i.IQ)(null===a||void 0===a?void 0:a.UserId)?null===a||void 0===a?void 0:a.UserId:"",created_on:"",alterd_on:""},c={auto_id:"",created_on:"",receipt_id:"",receipt_no:"",receipt_date:"",receipt_bill_type:"",DR_CR_Acc_Id:"",bill_id:"",JournalBillType:"",bill_name:"",bill_amount:0,Debit_Amo:0,Credit_Amo:0,SalesInvoiceDate:"",StockJournalDate:"",TotalPaidAmount:0,PendingAmount:0},d={auto_id:"",receipt_id:"",receipt_no:"",receipt_date:"",receipt_bill_type:"",Debit_Ledger_Id:"",created_on:"",bill_id:"",JournalBillType:"",arr_id:"",item_id:"",item_name:"",expence_value:0,itemQuantity:0,PaidAmount:0},n=[{value:1,label:"CUSTOMER - SALES INVOICE"},{value:2,label:"EXPENCES - RETURN"},{value:3,label:"ON ACCOUNT"}],o=[{label:"MATERIAL INWARD",value:1},{label:"GODOWN TRANSFER",value:2},{label:"PROCESSING",value:3}],s=[{label:"New",value:1},{label:"Process",value:2},{label:"Completed",value:3},{label:"Canceled",value:0}],u=[{label:"Select",value:""},{label:"ATM",value:"ATM"},{label:"Card",value:"Card"},{label:"Cash",value:"Cash"},{label:"Cheque/DD",value:"Cheque/DD"},{label:"ECS",value:"ECS"},{label:"e-Fund Transfer",value:"e-Fund Transfer"},{label:"Electronic Cheque",value:"Electronic Cheque"},{label:"Electronic DD/PO",value:"Electronic DD/PO"},{label:"UPI",value:"UPI"},{label:"Others",value:"Others"}]},88937:(e,t,l)=>{l.r(t),l.d(t,{default:()=>F});var i=l(89379),a=l(65043),r=l(17392),c=l(11906),d=l(10489),n=l(34496),o=l(48471),s=l(73216),u=l(65074),_=l(22520),p=l(83560),v=l(59383),b=l(16851),h=l(31702),m=l(20656),y=l(63406),A=l(70579);const x={Fromdate:(0,_.ny)(),Todate:(0,_.ny)(),voucherType_Filter:{label:"ALL",value:""},debit_accounts_Filter:{label:"ALL",value:""},credit_accounts_Filter:{label:"ALL",value:""},created_by_Filter:{label:"ALL",value:""},receipt_status:"",receipt_type:""},F=e=>{let{loadingOn:t,loadingOff:l,AddRights:F,EditRights:j,pageID:T}=e;const g=(0,s.Zp)(),C=(0,s.zy)(),[f,S]=(C.state,(0,a.useState)([])),L=sessionStorage.getItem("filterValues"),[R,D]=(0,a.useState)((0,i.A)((0,i.A)({},x),{},{filterDialog:!1})),[N,I]=(0,a.useState)({voucherType:[],debit_accounts:[],credit_accounts:[],created_by:[]});(0,a.useEffect)(()=>{(0,u.z)({address:"receipt/receiptMaster/filtersValues"}).then(e=>{e.success&&I(t=>{var l,a,r,c;return(0,i.A)((0,i.A)({},t),{},{voucherType:(0,_.$r)(null===e||void 0===e||null===(l=e.others)||void 0===l?void 0:l.voucherType),debit_accounts:(0,_.$r)(null===e||void 0===e||null===(a=e.others)||void 0===a?void 0:a.debit_accounts),credit_accounts:(0,_.$r)(null===e||void 0===e||null===(r=e.others)||void 0===r?void 0:r.credit_accounts),created_by:(0,_.$r)(null===e||void 0===e||null===(c=e.others)||void 0===c?void 0:c.created_by)})})})},[]),(0,a.useEffect)(()=>{const e=(0,_.vU)(T),{Fromdate:t,Todate:l,voucherType_Filter:a=x.voucherType_Filter,debit_accounts_Filter:r=x.debit_accounts_Filter,credit_accounts_Filter:c=x.credit_accounts_Filter,created_by_Filter:d=x.created_by_Filter,receipt_status:n=x.receipt_status,receipt_type:o=x.receipt_type}=e;D(e=>(0,i.A)((0,i.A)({},e),{},{Fromdate:t,Todate:l,voucherType_Filter:a,debit_accounts_Filter:r,credit_accounts_Filter:c,created_by_Filter:d,receipt_status:n,receipt_type:o}))},[L,T]),(0,a.useEffect)(()=>{const e=(0,_.vU)(T),{Fromdate:i=x.Fromdate,Todate:a=x.Todate,voucherType_Filter:r=x.voucherType_Filter,debit_accounts_Filter:c=x.debit_accounts_Filter,credit_accounts_Filter:d=x.credit_accounts_Filter,created_by_Filter:n=x.created_by_Filter,receipt_status:o=x.receipt_status,receipt_type:s=x.receipt_type}=e;null===t||void 0===t||t(),(0,u.z)({address:"receipt/receiptMaster?Fromdate=".concat(i,"&Todate=").concat(a,"&voucher=").concat((null===r||void 0===r?void 0:r.value)||"","&debit=").concat((null===c||void 0===c?void 0:c.value)||"","&credit=").concat((null===d||void 0===d?void 0:d.value)||"","&createdBy=").concat((null===n||void 0===n?void 0:n.value)||"","&status=").concat(o,"&receipt_type=").concat(s),loadingOff:l,loadingOn:t}).then(e=>{e.success&&S(e.data)}).catch(e=>console.error(e)).finally(()=>null===l||void 0===l?void 0:l())},[L,T,C]);const E=(0,a.useMemo)(()=>f.filter(e=>!(0,_.id)(e.status,0)).reduce((e,t)=>(0,_.Lr)(e,null===t||void 0===t?void 0:t.credit_amount),0),[f]),O=()=>D(e=>(0,i.A)((0,i.A)({},e),{},{filterDialog:!1})),k=" bg-info fw-bold fa-11 px-2 py-1 rounded-3 ",P=" bg-warning fw-bold fa-11 px-2 py-1 rounded-3 ",w=" bg-success text-light fa-11 px-2 py-1 rounded-3 ",M=" bg-danger text-light fw-bold fa-11 px-2 py-1 rounded-3 ",B=e=>{switch(e){case 1:return k;case 2:return P;case 3:return w;case 0:return M;default:return""}};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(o.Ay,{title:"Receipts",headerFontSizePx:12,bodyFontSizePx:12,ButtonArea:(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(r.A,{onClick:()=>D(e=>(0,i.A)((0,i.A)({},e),{},{filterDialog:!0})),size:"small",className:"mx-1",children:(0,A.jsx)(v.A,{className:"fa-20"})}),F&&(0,A.jsx)(c.A,{onClick:()=>g("create",{state:{Fromdate:R.Fromdate,Todate:R.Todate}}),variant:"outlined",children:"Add"}),F&&(0,A.jsx)(c.A,{onClick:()=>g("addReference",{state:{Fromdate:R.Fromdate,Todate:R.Todate}}),variant:"outlined",className:"me-2",children:"Add Reference"}),(0,A.jsx)("span",{className:"bg-light text-light fa-11 px-1 shadow-sm py-1 rounded-3 mx-1",children:(0,_.Ro)(E)>0&&(0,A.jsxs)("h6",{className:"m-0 text-end text-muted px-3",children:["Total: ",(0,_.jG)(E)]})})]}),dataArray:f,columns:[(0,o.Lj)("receipt_date","date","Date"),(0,o.Lj)("receipt_invoice_no","string","Receipt ID"),(0,o.Lj)("credit_amount","number","Amount"),(0,o.Lj)("TotalReferencedAmount","number","Added Ref"),(0,o.Lj)("debit_ledger_name","string","Debit-Acc"),(0,o.Lj)("credit_ledger_name","string","Credit-Acc"),(0,o.Lj)("CreatedByGet","string","Created By"),(0,o.Lj)("Voucher_Type","string","Voucher"),{isVisible:1,ColumnHeader:"Bill Type",isCustomCell:!0,Cell:e=>{var t;let{row:l}=e;return null===(t=h.AT.find(e=>(0,_.id)(e.value,l.receipt_bill_type)))||void 0===t?void 0:t.label}},{isVisible:1,ColumnHeader:"Status",isCustomCell:!0,Cell:e=>{let{row:t}=e;const l=h.nB.find(e=>(0,_.id)(e.value,null===t||void 0===t?void 0:t.status))||{};return(0,A.jsx)("span",{className:B(l.value),children:String(l.label).replace(" ","")})}},{isVisible:1,ColumnHeader:"Action",isCustomCell:!0,Cell:e=>{let{row:t}=e;return(0,A.jsx)(o.wF,{buttonsData:[{name:"Edit",icon:(0,A.jsx)(p.A,{}),onclick:()=>g("create",{state:(0,i.A)((0,i.A)({},t),{},{Fromdate:R.Fromdate,Todate:R.Todate})}),disabled:!j},{name:"Add Reference",icon:(0,A.jsx)(b.A,{}),onclick:()=>g("addReference",{state:(0,i.A)((0,i.A)({},t),{},{Fromdate:R.Fromdate,Todate:R.Todate})}),disabled:!j||(0,_.id)(t.receipt_bill_type,2)||(0,_.id)(t.receipt_bill_type,4)}]})}}],EnableSerialNumber:!0}),(0,A.jsx)(d.A,{open:R.filterDialog,onClose:O,title:"Filters",maxWidth:"sm",onSubmit:()=>{O(),(0,_.Mb)({Fromdate:null===R||void 0===R?void 0:R.Fromdate,Todate:R.Todate,pageID:T,voucherType_Filter:R.voucherType_Filter,debit_accounts_Filter:R.debit_accounts_Filter,credit_accounts_Filter:R.credit_accounts_Filter,created_by_Filter:R.created_by_Filter,receipt_status:R.receipt_status,receipt_type:R.receipt_type})},submitText:"Search",startAction:(0,A.jsx)(c.A,{variant:"outlined",onClick:()=>{D(e=>(0,i.A)((0,i.A)({},e),{},{Fromdate:x.Fromdate,Todate:x.Todate,voucherType_Filter:x.voucherType_Filter,debit_accounts_Filter:x.debit_accounts_Filter,credit_accounts_Filter:x.credit_accounts_Filter,created_by_Filter:x.created_by_Filter,receipt_status:x.receipt_status,receipt_type:x.receipt_type}))},startIcon:(0,A.jsx)(n.A,{}),color:"error",children:"Reset"}),children:(0,A.jsx)("div",{className:"table-responsive pb-4",children:(0,A.jsx)("table",{className:"table",children:(0,A.jsxs)("tbody",{children:[(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{style:{verticalAlign:"middle"},children:"From"}),(0,A.jsx)("td",{children:(0,A.jsx)("input",{type:"date",value:R.Fromdate,onChange:e=>D((0,i.A)((0,i.A)({},R),{},{Fromdate:e.target.value})),className:"cus-inpt"})})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{style:{verticalAlign:"middle"},children:"To"}),(0,A.jsx)("td",{children:(0,A.jsx)("input",{type:"date",value:R.Todate,onChange:e=>D((0,i.A)((0,i.A)({},R),{},{Todate:e.target.value})),className:"cus-inpt"})})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{style:{verticalAlign:"middle"},children:"Debit Account"}),(0,A.jsx)("td",{children:(0,A.jsx)(m.Ay,{value:null===R||void 0===R?void 0:R.debit_accounts_Filter,onChange:e=>D((0,i.A)((0,i.A)({},R),{},{debit_accounts_Filter:e})),options:[{value:"",label:"ALL"},...N.debit_accounts],styles:y.MR,isSearchable:!0,placeholder:"Debit Account",menuPortalTarget:document.body,filterOption:_.GI})})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{style:{verticalAlign:"middle"},children:"Credit Account "}),(0,A.jsx)("td",{children:(0,A.jsx)(m.Ay,{value:null===R||void 0===R?void 0:R.credit_accounts_Filter,onChange:e=>D((0,i.A)((0,i.A)({},R),{},{credit_accounts_Filter:e})),options:[{value:"",label:"ALL"},...N.credit_accounts],styles:y.MR,isSearchable:!0,placeholder:"Credit Account",menuPortalTarget:document.body,filterOption:_.GI})})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{style:{verticalAlign:"middle"},children:"Receipt Type "}),(0,A.jsx)("td",{children:(0,A.jsxs)("select",{className:"cus-inpt p-2",value:R.receipt_type,onChange:e=>D(t=>(0,i.A)((0,i.A)({},t),{},{receipt_type:e.target.value})),children:[(0,A.jsx)("option",{value:"",children:"ALL"}),h.AT.map((e,t)=>(0,A.jsx)("option",{value:e.value,children:e.label},t))]})})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{style:{verticalAlign:"middle"},children:"Voucher Type "}),(0,A.jsx)("td",{children:(0,A.jsx)(m.Ay,{value:null===R||void 0===R?void 0:R.voucherType_Filter,onChange:e=>D((0,i.A)((0,i.A)({},R),{},{voucherType_Filter:e})),options:[{value:"",label:"ALL"},...N.voucherType],styles:y.MR,isSearchable:!0,placeholder:"Voucher Type",menuPortalTarget:document.body,filterOption:_.GI})})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{style:{verticalAlign:"middle"},children:"Receipt Status"}),(0,A.jsx)("td",{children:(0,A.jsxs)("select",{className:"cus-inpt",value:R.receipt_status,onChange:e=>D((0,i.A)((0,i.A)({},R),{},{receipt_status:e.target.value})),children:[(0,A.jsx)("option",{value:"",children:"All"}),h.nB.map((e,t)=>(0,A.jsx)("option",{value:e.value,children:e.label},t))]})})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{style:{verticalAlign:"middle"},children:"Created By"}),(0,A.jsx)("td",{children:(0,A.jsx)(m.Ay,{value:null===R||void 0===R?void 0:R.created_by_Filter,onChange:e=>D(t=>(0,i.A)((0,i.A)({},t),{},{created_by_Filter:e})),options:[{value:"",label:"ALL"},...N.created_by],styles:y.MR,isSearchable:!0,placeholder:"Sales Person Name",menuPortalTarget:document.body,filterOption:_.GI})})]})]})})})})]})}}}]);
//# sourceMappingURL=8937.c0317a29.chunk.js.map