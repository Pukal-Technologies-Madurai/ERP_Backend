"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[2110,4196,9729],{12110:(e,a,r)=>{r.d(a,{A:()=>p});var l=r(58168),s=r(98587),d=r(65043),t=r(58387),o=r(68606),i=r(34535),n=r(6431),c=r(63336),u=r(57056),v=r(32400);function h(e){return(0,v.Ay)("MuiCard",e)}(0,u.A)("MuiCard",["root"]);var m=r(70579);const A=["className","raised"],x=(0,i.Ay)(c.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,a)=>a.root})(()=>({overflow:"hidden"})),p=d.forwardRef(function(e,a){const r=(0,n.b)({props:e,name:"MuiCard"}),{className:d,raised:i=!1}=r,c=(0,s.A)(r,A),u=(0,l.A)({},r,{raised:i}),v=(e=>{const{classes:a}=e;return(0,o.A)({root:["root"]},h,a)})(u);return(0,m.jsx)(x,(0,l.A)({className:(0,t.A)(v.root,d),elevation:i?8:void 0,ref:a,ownerState:u},c))})},59383:(e,a,r)=>{r.d(a,{A:()=>d});var l=r(59662),s=r(70579);const d=(0,l.A)((0,s.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt")},63406:(e,a,r)=>{r.d(a,{zU:()=>o,ex:()=>i,MR:()=>t,Ap:()=>d,FX:()=>n});var l=r(89379);const s=r.p+"static/media/smt.aa4d4f940bbebff07a57.png",d={table:{style:{width:"auto",backgroundColor:"transparent"}},rows:{style:{backgroundColor:"transparent"}},headCells:{style:{backgroundColor:"#6b9080f8",color:"white",fontSize:"14px"}}},t={menu:(e,a)=>(0,l.A)((0,l.A)({},e),{},{zIndex:9999}),menuPortal:e=>(0,l.A)((0,l.A)({},e),{},{zIndex:9999}),groupHeading:e=>(0,l.A)((0,l.A)({},e),{},{backgroundColor:"#f5f5f5",color:"#333",fontWeight:"bold",fontSize:"14px",padding:"8px 12px",borderBottom:"1px solid #ddd",textTransform:"uppercase"}),option:(e,a)=>(0,l.A)((0,l.A)({},e),{},{backgroundColor:a.isSelected?"#2684FF":a.isFocused?"#E2ECF9":"white",color:a.isSelected?"white":"#333",padding:"10px 12px"})},o=[{id:1,headname:"Menu ID",variant:"head",align:"left",width:100},{id:2,headname:"MenuName"},{id:3,headname:"Read Rights"},{id:4,headname:"Add Rights"},{id:5,headname:"Edit Rights"},{id:6,headname:"Delete Rights"},{id:7,headname:"Print Rights"},{id:8,headname:"Action"}],i=[{dataBase:1,name:"SHANKAR TRADERS",business:"Wholesale Merchant in Dhall",address:"32, Chitrakara Street, Madurai - 01 <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:s,gstin:"33AADFS6973R1ZD",phone:"984-313-1353, 984-335-5166",fssai:"12418012000818",bankAccount:"0021 5032 0885 122",ifsc:"TMBL0000002"},{dataBase:2,name:"SMT AGRO PRODUCTS",business:"",address:"H.O: 153, Chitrakara Street, 2nd Floor, Madurai -01 <br /> G.O: 746 Puliyur, Sayanapuram, Svga <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:s,gstin:"33ACMFS3420Q1ZQ",phone:"0452-4371625",fssai:"12418012000818",bankAccount:"0025 3031 0875 947",ifsc:"TMBL0000002"},{dataBase:3,name:"BHAVANI TRADERS",business:"",address:"H.O: 152-A, Chitrakara Street, Madurai -01 <br /> G.O: 30/1-Rajman Nagar, Chintamani Main Road, Mdu-01 <br /> Tax Invoice",logo:s,gstin:"33AAEFB6728J1ZG",phone:"958-559-7641, 958-559-7614",fssai:"12418012000670",bankAccount:"0021 5005 0800 309",ifsc:"TMBL0000002"}],n=[{name:"PURCHASE_ORDER"},{name:"PURCHASE_INVOICE"},{name:"SALE_ORDER"},{name:"SALE_INVOICE"},{name:"JOURNAL"},{name:"STOCK_JOURNAL"},{name:"PAYMENT"},{name:"RECEIPT"},{name:"CONTRA"}]},79484:(e,a,r)=>{r.d(a,{A:()=>d});var l=r(59662),s=r(70579);const d=(0,l.A)((0,s.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},81566:(e,a,r)=>{r.r(a),r.d(a,{default:()=>D});var l=r(89379),s=r(65043),d=r(65074),t=r(12110),o=r(17392),i=r(83462),n=r(26600),c=r(35316),u=r(29347),v=r(11906),h=r(20656),m=r(63406),A=r(97707),x=r(59383),p=r(59662),f=r(70579);const j=(0,p.A)((0,f.jsx)("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3m-3 11H8v-5h8zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m-1-9H6v4h12z"}),"Print");var b=r(79484),g=r(93141),y=r(91036);const D=e=>{let{loadingOn:a,loadingOff:r}=e;const[p,D]=(0,s.useState)([]),N=(0,s.useRef)(null),[R,C]=(0,s.useState)({broker:{value:"",label:"Select Broker"},ledger:{value:"",label:"Select Ledger"},customersArray:[],refresh:!1,filterDialog:!1,dueDays:0,reqDate:(0,A.ny)(),source:"TALLY"});(0,s.useEffect)(()=>{(0,d.z)({address:"userModule/customer/lol/dropDown"}).then(e=>{e.success&&C(a=>(0,l.A)((0,l.A)({},a),{},{customersArray:(0,A.$r)(e.data)}))}).catch(e=>console.error(e))},[]),(0,s.useEffect)(()=>{var e,l,s;D([]);const t=(null===R||void 0===R||null===(e=R.broker)||void 0===e?void 0:e.value)||"",o=(0,A.IQ)(null===R||void 0===R||null===(l=R.ledger)||void 0===l?void 0:l.value)?[{Ledger_Tally_Id:null===R||void 0===R||null===(s=R.ledger)||void 0===s?void 0:s.value}]:t?(0,A.$r)(null===R||void 0===R?void 0:R.customersArray).filter(e=>(0,A.xL)(null===e||void 0===e?void 0:e.Actual_Party_Name_with_Brokers,t)).map(e=>({Ledger_Tally_Id:null===e||void 0===e?void 0:e.Ledger_Tally_Id})):[],i=(0,A.$r)(o),n=null===R||void 0===R?void 0:R.reqDate;return 0===i?y.oR.error("Select any Ledger or Broker"):n?void(0,d.z)({address:"userModule/customer/paymentInvoiceList/filters",loadingOn:a,loadingOff:r,method:"POST",bodyData:{ledgerId:i,reqDate:n,source:R.source}}).then(e=>{e.success&&D(e.data)}).catch(e=>console.error(e)):y.oR.error("Enter Till Date")},[R.refresh]);const S=(0,s.useMemo)(()=>(0,A.$r)(p).map(e=>{const a=(0,A.Ro)(null!==e&&void 0!==e&&e.invoice_date?(0,A.im)(null===e||void 0===e?void 0:e.invoice_date,R.reqDate):"");return(0,l.A)((0,l.A)({},e),{},{dueDays:a,showDueDay:!R.dueDays||R.dueDays<=a})}).sort((e,a)=>a.dueDays-e.dueDays),[p,R.dueDays,R.reqDate]),_=(0,s.useMemo)(()=>p.reduce((e,a)=>(0,A.Lr)(e,null===a||void 0===a?void 0:a.Bal_Amount),0),[p]),k=(0,s.useMemo)(()=>p.filter(e=>{const a=(0,A.Ro)(null!==e&&void 0!==e&&e.invoice_date?(0,A.im)(null===e||void 0===e?void 0:e.invoice_date,R.reqDate):"");return!R.dueDays||R.dueDays<=a}).reduce((e,a)=>(0,A.Lr)(e,null===a||void 0===a?void 0:a.Bal_Amount),0),[p,R.dueDays,R.reqDate]),L=(0,s.useMemo)(()=>{const e=(0,A.$r)(R.customersArray).map(e=>null===e||void 0===e?void 0:e.Actual_Party_Name_with_Brokers);return[...new Set(e)].map(e=>({value:e,label:e}))},[R.customersArray]),M=(0,g.useReactToPrint)({content:()=>N.current}),T=()=>{C(e=>(0,l.A)((0,l.A)({},e),{},{filterDialog:!1}))};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(t.A,{children:[(0,f.jsxs)("div",{className:"p-2 px-3 d-flex align-items-center flex-wrap",children:[(0,f.jsx)("h6",{className:" flex-grow-1 m-0",children:"Pending Invoices"}),(0,f.jsx)(o.A,{size:"small",onClick:()=>C(e=>(0,l.A)((0,l.A)({},e),{},{filterDialog:!0})),children:(0,f.jsx)(x.A,{className:"fa-20"})}),(0,f.jsx)(o.A,{size:"small",onClick:M,disabled:0===(null===p||void 0===p?void 0:p.length),children:(0,f.jsx)(j,{className:"fa-20"})})]}),(0,f.jsx)("hr",{className:"m-2"}),(0,f.jsx)("div",{className:"table-responsive",ref:N,children:(0,f.jsxs)("table",{className:"table table-bordered fa-11",children:[(0,f.jsxs)("thead",{children:[(0,f.jsx)("tr",{children:(0,f.jsxs)("td",{colSpan:6,className:"fw-bold text-center fa-15",children:[R.ledger.value?R.ledger.label:R.broker.label," - Till ",(0,A.yc)(R.reqDate).replaceAll("/","-")]})}),(0,f.jsx)("tr",{children:["Sno","Date","Ref.No","Dr / Cr","Pending Amount","Overdue by days"].map((e,a)=>(0,f.jsx)("th",{children:e},a))})]}),(0,f.jsxs)("tbody",{children:[S.map((e,a)=>{const r=!!R.dueDays&&R.dueDays<=(0,A.Ro)(null===e||void 0===e?void 0:e.dueDays);return(0,f.jsxs)("tr",{className:"\n                                            ".concat(r?" fw-bold text-primary ":""),children:[(0,f.jsx)("td",{children:a+1}),(0,f.jsx)("td",{children:null!==e&&void 0!==e&&e.invoice_date?(0,A.W8)(null===e||void 0===e?void 0:e.invoice_date):"-"}),(0,f.jsx)("td",{children:null===e||void 0===e?void 0:e.invoice_no}),(0,f.jsx)("td",{children:null===e||void 0===e?void 0:e.accountSide}),(0,f.jsxs)("td",{children:["\u20b9",(0,A.jG)(null===e||void 0===e?void 0:e.Bal_Amount)]}),(0,f.jsx)("td",{className:null!==e&&void 0!==e&&e.showDueDay?"":" text-white ",children:null===e||void 0===e?void 0:e.dueDays})]},a)}),(0,f.jsxs)("tr",{className:"fw-bold",children:[(0,f.jsx)("td",{colSpan:4,className:" text-center",children:"TOTAL"}),(0,f.jsxs)("td",{children:["\u20b9",(0,A.jG)(_),"/-"]}),(0,f.jsxs)("td",{children:["\u20b9",(0,A.jG)(k),"/-"]})]})]})]})})]}),(0,f.jsxs)(i.A,{open:R.filterDialog,onClose:T,maxWidth:"sm",fullWidth:!0,children:[(0,f.jsx)(n.A,{children:"Filters"}),(0,f.jsx)(c.A,{children:(0,f.jsx)("div",{className:"table-responsive",children:(0,f.jsx)("table",{className:"table m-0 table-borderless",children:(0,f.jsxs)("tbody",{children:[(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:"vctr",children:"Broker"}),(0,f.jsx)("td",{className:"vctr",children:(0,f.jsx)(h.Ay,{value:null===R||void 0===R?void 0:R.broker,onChange:e=>C((0,l.A)((0,l.A)({},R),{},{broker:e})),options:[{value:"",label:"ALL Brokers"},...L],styles:m.MR,menuPortalTarget:document.body,isSearchable:!0,placeholder:"Broker Name",filterOption:A.GI})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:"vctr",children:"Customer"}),(0,f.jsx)("td",{className:"vctr",children:(0,f.jsx)(h.Ay,{value:null===R||void 0===R?void 0:R.ledger,onChange:e=>C((0,l.A)((0,l.A)({},R),{},{ledger:e})),options:[{value:"",label:"Select",isDisabled:!0},...R.broker.value?(0,A.$r)(R.customersArray).filter(e=>(0,A.xL)(e.Actual_Party_Name_with_Brokers,R.broker.value)).map(e=>({value:null===e||void 0===e?void 0:e.Ledger_Tally_Id,label:null===e||void 0===e?void 0:e.Ledger_Name})):(0,A.$r)(R.customersArray).map(e=>({value:null===e||void 0===e?void 0:e.Ledger_Tally_Id,label:null===e||void 0===e?void 0:e.Ledger_Name}))],styles:m.MR,menuPortalTarget:document.body,isSearchable:!0,placeholder:"Customer Name",filterOption:A.GI})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:"vctr",children:"Till Date"}),(0,f.jsx)("td",{className:"vctr",children:(0,f.jsx)("input",{type:"date",className:"cus-inpt p-2",value:R.reqDate?R.reqDate:"",onChange:e=>C(a=>(0,l.A)((0,l.A)({},a),{},{reqDate:e.target.value}))})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:"vctr",children:"Due Days"}),(0,f.jsx)("td",{className:"vctr",children:(0,f.jsx)("input",{type:"number",className:"cus-inpt p-2",value:R.dueDays?R.dueDays:"",onChange:e=>C(a=>(0,l.A)((0,l.A)({},a),{},{dueDays:(0,A.Ro)(e.target.value)}))})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:"vctr",children:"Source"}),(0,f.jsx)("td",{className:"vctr",children:(0,f.jsxs)("select",{className:"cus-inpt p-2",value:R.source,onChange:e=>C(a=>(0,l.A)((0,l.A)({},a),{},{source:e.target.value})),children:[(0,f.jsx)("option",{value:"TALLY",children:"TALLY"}),(0,f.jsx)("option",{value:"ERP",children:"ERP"}),(0,f.jsx)("option",{value:"JOURNAL",children:"JOURNAL"})]})})]})]})})})}),(0,f.jsxs)(u.A,{children:[(0,f.jsx)(v.A,{variant:"outlined",onClick:T,color:"error",children:"Close"}),(0,f.jsx)(v.A,{variant:"outlined",onClick:()=>C(e=>(0,l.A)((0,l.A)({},e),{},{refresh:!e.refresh,filterDialog:!1})),startIcon:(0,f.jsx)(b.A,{}),disabled:!R.broker.value&&!R.ledger.value,children:"Search"})]})]})]})}}}]);
//# sourceMappingURL=4196.3e890ff2.chunk.js.map