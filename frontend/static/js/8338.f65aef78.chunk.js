"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[2110,8338,9729],{12110:(e,a,l)=>{l.d(a,{A:()=>b});var t=l(58168),i=l(98587),n=l(65043),d=l(58387),r=l(68606),o=l(34535),s=l(6431),c=l(63336),u=l(57056),v=l(32400);function m(e){return(0,v.Ay)("MuiCard",e)}(0,u.A)("MuiCard",["root"]);var p=l(70579);const h=["className","raised"],_=(0,o.Ay)(c.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,a)=>a.root})(()=>({overflow:"hidden"})),b=n.forwardRef(function(e,a){const l=(0,s.b)({props:e,name:"MuiCard"}),{className:n,raised:o=!1}=l,c=(0,i.A)(l,h),u=(0,t.A)({},l,{raised:o}),v=(e=>{const{classes:a}=e;return(0,r.A)({root:["root"]},m,a)})(u);return(0,p.jsx)(_,(0,t.A)({className:(0,d.A)(v.root,n),elevation:o?8:void 0,ref:a,ownerState:u},c))})},23844:(e,a,l)=>{l.r(a),l.d(a,{default:()=>p});var t=l(89379),i=l(65043),n=l(12110),d=l(11906),r=l(73216),o=l(65074),s=l(97707),c=l(31702),u=l(20656),v=l(63406),m=l(70579);const p=e=>{let{loadingOn:a,loadingOff:l,AddRights:p}=e;const[h,_]=(0,i.useState)([]),[b,A]=(0,i.useState)([]),[g,x]=(0,i.useState)([]),f=(0,r.Zp)(),[R,C]=(0,i.useState)({Fromdate:(0,s.ny)(),Todate:(0,s.ny)(),ledger:{value:"",label:"Select Ledger"},refresh:!1,filterDialog:!1});(0,i.useEffect)(()=>{(0,o.z)({address:"receipt/getCustomerWhoHasBills"}).then(e=>{e.success&&A(e.data)}).catch(e=>console.error(e))},[]),(0,i.useEffect)(()=>{(0,s.IQ)(R.ledger.value)&&(x([]),(0,o.z)({address:"receipt/receiptMaster/pendingSalesInvoiceReceipt?Acc_Id=".concat(R.ledger.value),loadingOn:a,loadingOff:l}).then(e=>{if(e.success){const a=(0,s.$r)(e.data).map(e=>(0,t.A)((0,t.A)({},e),{},{receiptPendingAmount:(0,s.DG)(e.Total_Invoice_value,e.totalReference)}));_(a)}}).catch(e=>console.error(e)))},[R.ledger.value]);const S=(e,a)=>{x(l=>{const i=(0,s.$r)(l).filter(a=>!(0,s.xL)(null===a||void 0===a?void 0:a.Do_Inv_No,e.Do_Inv_No));let n;return n=a?i:[...i,(0,t.A)((0,t.A)({},e),{},{newReceiptBillAmount:(0,s.Ro)(null===e||void 0===e?void 0:e.receiptPendingAmount)})],n})};return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(n.A,{children:[(0,m.jsxs)("div",{className:"p-2 d-flex justify-content-between align-items-center",children:[(0,m.jsx)("h5",{children:"Customer Outstaing Receipts"}),(0,m.jsx)("div",{style:{minWidth:"360px"},children:(0,m.jsx)(u.Ay,{value:null===R||void 0===R?void 0:R.ledger,onChange:e=>C(a=>(0,t.A)((0,t.A)({},a),{},{ledger:e})),options:[{value:"",label:"ALL"},...b],styles:v.MR,isSearchable:!0,placeholder:"Select Leder Name",menuPortalTarget:document.body,filterOption:s.GI})})]}),(0,m.jsx)("form",{onSubmit:e=>{e.preventDefault(),f("/erp/receipts/listReceipts/create",{state:(0,t.A)((0,t.A)({},c.eu),{},{credit_ledger:R.ledger.value,credit_ledger_name:R.ledger.label,credit_amount:g.reduce((e,a)=>(0,s.Lr)(e,null===a||void 0===a?void 0:a.newReceiptBillAmount),0),BillsDetails:g.map(e=>({bill_id:e.Do_Id,bill_name:e.Do_Inv_No,bill_amount:e.Total_Invoice_value,Debit_Amo:0,Credit_Amo:e.newReceiptBillAmount}))})})},children:(0,m.jsx)("div",{className:"table-responsive",children:(0,m.jsxs)("table",{className:"table table-bordered fa-12",children:[(0,m.jsx)("thead",{children:(0,m.jsx)("tr",{children:["Sno","Sales Invoice No","Source","Date","Inv-Value","Closed Value","Outstanding","Make a Receipt"].map((e,a)=>(0,m.jsx)("th",{className:"fa-13",children:e},a))})}),(0,m.jsxs)("tbody",{children:[(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{colSpan:4,className:"fw-bold bg-light text-center",children:"Total"}),(0,m.jsx)("td",{className:"bg-light",children:(0,s.jG)(h.reduce((e,a)=>(0,s.Lr)(e,a.Total_Invoice_value),0))}),(0,m.jsx)("td",{className:"bg-light",children:(0,s.jG)(h.reduce((e,a)=>(0,s.Lr)(e,a.totalReference),0))}),(0,m.jsx)("td",{className:"bg-light",children:(0,s.jG)(h.reduce((e,a)=>(0,s.Lr)(e,(0,s.DG)(a.Total_Invoice_value,a.totalReference)),0))}),(0,m.jsx)("td",{className:"text-primary fw-bold text-end fa-17 bg-light",children:(0,s.jG)(g.reduce((e,a)=>(0,s.Lr)(e,null===a||void 0===a?void 0:a.newReceiptBillAmount),0))})]}),h.map((e,a)=>{var l;const i=g.findIndex(a=>(0,s.xL)(null===a||void 0===a?void 0:a.Do_Inv_No,null===e||void 0===e?void 0:e.Do_Inv_No)),n=g[i]?null===(l=g[i])||void 0===l?void 0:l.newReceiptBillAmount:0,d=-1!==i;return(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:a+1}),(0,m.jsx)("td",{children:null===e||void 0===e?void 0:e.Do_Inv_No}),(0,m.jsx)("td",{children:null===e||void 0===e?void 0:e.dataSource}),(0,m.jsx)("td",{children:(0,s.yc)(null===e||void 0===e?void 0:e.Do_Date)}),(0,m.jsx)("td",{children:(0,s.jG)(null===e||void 0===e?void 0:e.Total_Invoice_value)}),(0,m.jsx)("td",{children:(0,s.jG)(null===e||void 0===e?void 0:e.totalReference)}),(0,m.jsx)("td",{children:(0,s.jG)(null===e||void 0===e?void 0:e.receiptPendingAmount)}),(0,m.jsx)("td",{className:"p-0 vctr text-center",style:{verticalAlign:"middle"},children:(0,m.jsxs)("div",{className:"d-flex align-items-center",children:[(0,m.jsx)("input",{className:"form-check-input shadow-none pointer mx-2",style:{padding:"0.7em"},type:"checkbox",checked:d,onChange:()=>{d?S(e,!0):S(e)}}),d&&(0,m.jsx)("input",{value:n||"",onInput:s.BE,required:d,type:"number",max:(0,s.Ro)(null===e||void 0===e?void 0:e.receiptPendingAmount),className:"cus-inpt flex-grow-1 p-2 border-0 me-1",onChange:a=>{return l=null===e||void 0===e?void 0:e.Do_Inv_No,i=a.target.value,void x(e=>e.map(e=>(0,t.A)((0,t.A)({},e),{},{newReceiptBillAmount:(0,s.xL)(l,e.Do_Inv_No)?i:e.newReceiptBillAmount})));var l,i},placeholder:d?"Enter amount":""})]})})]},a)}),(0,m.jsx)("tr",{children:(0,m.jsx)("td",{colSpan:8,className:"text-end",children:(0,m.jsx)(d.A,{variant:"outlined",disabled:0===g.length,type:"submit",children:"Create Receipt"})})})]})]})})})]})})}},31702:(e,a,l)=>{l.d(a,{AT:()=>o,MR:()=>u,eu:()=>n,hx:()=>r,nB:()=>c,tP:()=>d,zd:()=>s});var t=l(97707);const i=(0,t.aN)().user,n={receipt_id:"",year_id:"",receipt_voucher_type_id:"",receipt_sno:"",receipt_invoice_no:"",receipt_date:(0,t.ny)(),receipt_bill_type:1,credit_ledger:"",credit_ledger_name:"Select",credit_amount:0,debit_ledger:"",debit_ledger_name:"Select",debit_amount:0,remarks:"",status:1,is_new_ref:0,is_journal_type:0,transaction_type:"",check_no:"",check_date:"",bank_name:"",bank_date:"",created_by:(0,t.IQ)(null===i||void 0===i?void 0:i.UserId)?null===i||void 0===i?void 0:i.UserId:"",altered_by:(0,t.IQ)(null===i||void 0===i?void 0:i.UserId)?null===i||void 0===i?void 0:i.UserId:"",created_on:"",alterd_on:""},d={auto_id:"",created_on:"",receipt_id:"",receipt_no:"",receipt_date:"",receipt_bill_type:"",DR_CR_Acc_Id:"",bill_id:"",JournalBillType:"",bill_name:"",bill_amount:0,Debit_Amo:0,Credit_Amo:0,SalesInvoiceDate:"",StockJournalDate:"",TotalPaidAmount:0,PendingAmount:0},r={auto_id:"",receipt_id:"",receipt_no:"",receipt_date:"",receipt_bill_type:"",Debit_Ledger_Id:"",created_on:"",bill_id:"",JournalBillType:"",arr_id:"",item_id:"",item_name:"",expence_value:0,itemQuantity:0,PaidAmount:0},o=[{value:1,label:"CUSTOMER - SALES INVOICE"},{value:2,label:"EXPENCES - RETURN"},{value:3,label:"ON ACCOUNT"}],s=[{label:"MATERIAL INWARD",value:1},{label:"GODOWN TRANSFER",value:2},{label:"PROCESSING",value:3}],c=[{label:"New",value:1},{label:"Process",value:2},{label:"Completed",value:3},{label:"Canceled",value:0}],u=[{label:"Select",value:""},{label:"ATM",value:"ATM"},{label:"Card",value:"Card"},{label:"Cash",value:"Cash"},{label:"Cheque/DD",value:"Cheque/DD"},{label:"ECS",value:"ECS"},{label:"e-Fund Transfer",value:"e-Fund Transfer"},{label:"Electronic Cheque",value:"Electronic Cheque"},{label:"Electronic DD/PO",value:"Electronic DD/PO"},{label:"UPI",value:"UPI"},{label:"Others",value:"Others"}]},63406:(e,a,l)=>{l.d(a,{zU:()=>r,ex:()=>o,MR:()=>d,Ap:()=>n,FX:()=>s});var t=l(89379);const i=l.p+"static/media/smt.aa4d4f940bbebff07a57.png",n={table:{style:{width:"auto",backgroundColor:"transparent"}},rows:{style:{backgroundColor:"transparent"}},headCells:{style:{backgroundColor:"#6b9080f8",color:"white",fontSize:"14px"}}},d={menu:(e,a)=>(0,t.A)((0,t.A)({},e),{},{zIndex:9999}),menuPortal:e=>(0,t.A)((0,t.A)({},e),{},{zIndex:9999}),groupHeading:e=>(0,t.A)((0,t.A)({},e),{},{backgroundColor:"#f5f5f5",color:"#333",fontWeight:"bold",fontSize:"14px",padding:"8px 12px",borderBottom:"1px solid #ddd",textTransform:"uppercase"}),option:(e,a)=>(0,t.A)((0,t.A)({},e),{},{backgroundColor:a.isSelected?"#2684FF":a.isFocused?"#E2ECF9":"white",color:a.isSelected?"white":"#333",padding:"10px 12px"})},r=[{id:1,headname:"Menu ID",variant:"head",align:"left",width:100},{id:2,headname:"MenuName"},{id:3,headname:"Read Rights"},{id:4,headname:"Add Rights"},{id:5,headname:"Edit Rights"},{id:6,headname:"Delete Rights"},{id:7,headname:"Print Rights"},{id:8,headname:"Action"}],o=[{dataBase:1,name:"SHANKAR TRADERS",business:"Wholesale Merchant in Dhall",address:"32, Chitrakara Street, Madurai - 01 <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:i,gstin:"33AADFS6973R1ZD",phone:"984-313-1353, 984-335-5166",fssai:"12418012000818",bankAccount:"0021 5032 0885 122",ifsc:"TMBL0000002"},{dataBase:2,name:"SMT AGRO PRODUCTS",business:"",address:"H.O: 153, Chitrakara Street, 2nd Floor, Madurai -01 <br /> G.O: 746 Puliyur, Sayanapuram, Svga <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:i,gstin:"33ACMFS3420Q1ZQ",phone:"0452-4371625",fssai:"12418012000818",bankAccount:"0025 3031 0875 947",ifsc:"TMBL0000002"},{dataBase:3,name:"BHAVANI TRADERS",business:"",address:"H.O: 152-A, Chitrakara Street, Madurai -01 <br /> G.O: 30/1-Rajman Nagar, Chintamani Main Road, Mdu-01 <br /> Tax Invoice",logo:i,gstin:"33AAEFB6728J1ZG",phone:"958-559-7641, 958-559-7614",fssai:"12418012000670",bankAccount:"0021 5005 0800 309",ifsc:"TMBL0000002"}],s=[{name:"PURCHASE_ORDER"},{name:"PURCHASE_INVOICE"},{name:"SALE_ORDER"},{name:"SALE_INVOICE"},{name:"JOURNAL"},{name:"STOCK_JOURNAL"},{name:"PAYMENT"},{name:"RECEIPT"},{name:"CONTRA"}]}}]);
//# sourceMappingURL=8338.f65aef78.chunk.js.map