"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[5753],{25753:(e,l,a)=>{a.r(l),a.d(l,{default:()=>T});var t=a(89379),o=a(65043),n=a(65074),s=a(12110),r=a(11906),d=a(26494),i=a(17392),c=a(83462),v=a(26600),u=a(35316),h=a(29347),m=a(97707),p=a(20656),x=a(63406),j=a(51387),N=a(33438),g=a(48471),_=a(49652),A=a(91036),C=a(73216),y=a(70579);const b=e=>{var l;let{tripSheetInfo:a,setTripSheetInfo:o,branch:n,godown:s,voucherType:r,selectedItems:d,setSelectedItems:i}=e;return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("div",{className:"col-xxl-9 col-lg-8 col-md-7 py-2 px-0 fa-12",children:(0,y.jsxs)("div",{className:"border",style:{minHeight:"30vh",height:"100%"},children:[(0,y.jsxs)("div",{className:"row px-3",children:[(0,y.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 px-2 py-1",children:[(0,y.jsx)("label",{children:"Branch"}),(0,y.jsxs)("select",{value:a.Branch_Id,onChange:e=>o((0,t.A)((0,t.A)({},a),{},{Branch_Id:e.target.value})),placeholder:"Select Branch",className:"cus-inpt p-2",children:[(0,y.jsx)("option",{value:"",disabled:!0,children:"Select Branch"}),n.map((e,l)=>(0,y.jsx)("option",{value:e.BranchId,children:e.BranchName},l))]})]}),(0,y.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 px-2 py-1",children:[(0,y.jsx)("label",{children:"Date"}),(0,y.jsx)("input",{value:a.Trip_Date,type:"date",onChange:e=>o((0,t.A)((0,t.A)({},a),{},{Trip_Date:e.target.value})),className:"cus-inpt p-2"})]}),(0,y.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 px-2 py-1",children:[(0,y.jsx)("label",{children:"Vehicle No"}),(0,y.jsx)("input",{value:a.Vehicle_No,onChange:e=>o((0,t.A)((0,t.A)({},a),{},{Vehicle_No:e.target.value})),className:"cus-inpt p-2",placeholder:"ex: TN XX YYYY"})]}),(0,y.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 px-2 py-1",children:[(0,y.jsx)("label",{children:"Phone Number"}),(0,y.jsx)("input",{value:a.PhoneNumber,onChange:e=>o((0,t.A)((0,t.A)({},a),{},{PhoneNumber:e.target.value})),className:"cus-inpt p-2",maxLength:10,placeholder:"ex: 987-654-3210"})]}),(0,y.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 px-2 py-1",children:[(0,y.jsx)("label",{children:"Activity Location"}),(0,y.jsx)(p.Ay,{value:{value:a.Godownlocation,label:(null===(l=s.find(e=>(0,m.id)(e.Godown_Id,a.Godownlocation)))||void 0===l?void 0:l.Godown_Name)||""},onChange:e=>{o(l=>(0,t.A)((0,t.A)({},l),{},{Godownlocation:e.value})),i([])},options:s.map(e=>({value:e.Godown_Id,label:e.Godown_Name})),styles:x.MR,isSearchable:!0,placeholder:"Godown"})]}),(0,y.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 px-2 py-1",children:[(0,y.jsx)("label",{children:"Bill Type"}),(0,y.jsxs)("select",{value:a.BillType,onChange:e=>{o((0,t.A)((0,t.A)({},a),{},{BillType:e.target.value,VoucherType:""})),i([])},className:"cus-inpt p-2",children:[(0,y.jsx)("option",{value:"",disabled:!0,children:"select"}),(0,y.jsx)("option",{value:"MATERIAL INWARD",children:"MATERIAL INWARD"}),(0,y.jsx)("option",{value:"OTHER GODOWN",children:"OTHER GODOWN"}),(0,y.jsx)("option",{value:"OTHERS",children:"OTHERS"})]})]}),(0,y.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 px-2 py-1",children:[(0,y.jsx)("label",{children:"Voucher Type"}),(0,y.jsxs)("select",{value:a.VoucherType,onChange:e=>o((0,t.A)((0,t.A)({},a),{},{VoucherType:e.target.value})),className:"cus-inpt p-2",children:[(0,y.jsx)("option",{value:"",disabled:!0,children:"select voucher"}),r.filter(e=>(0,m.xL)(e.Type,a.BillType)).map((e,l)=>(0,y.jsx)("option",{value:e.Vocher_Type_Id,children:e.Voucher_Type},l))]})]}),(0,y.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 px-2 py-1",children:[(0,y.jsx)("label",{children:"Status"}),(0,y.jsxs)("select",{value:(null===a||void 0===a?void 0:a.TripStatus)||"",onChange:e=>o(l=>(0,t.A)((0,t.A)({},l),{},{TripStatus:e.target.value})),className:"cus-inpt p-2",children:[(0,y.jsx)("option",{value:"",children:"Select"}),(0,y.jsx)("option",{value:"New",children:"New"}),(0,y.jsx)("option",{value:"OnProcess",children:"OnProcess"}),(0,y.jsx)("option",{value:"Completed",children:"Completed"}),(0,y.jsx)("option",{value:"Canceled",children:"Canceled"})]})]}),(0,y.jsxs)("div",{className:"col-12 px-2 py-1",children:[(0,y.jsx)("label",{children:"Narration"}),(0,y.jsx)("textarea",{value:a.Narration,className:"cus-inpt p-2",onChange:e=>o((0,t.A)((0,t.A)({},a),{},{Narration:e.target.value})),rows:2,placeholder:"Other Details"})]})]}),(0,y.jsx)("div",{className:"table-responsive",children:(0,y.jsxs)("table",{className:"table table-bordered fa-13 m-0",children:[(0,y.jsxs)("thead",{children:[(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{colSpan:2,className:"text-center bg-light",children:"Time"}),(0,y.jsx)("th",{colSpan:2,className:"text-center bg-light",children:"Distance"})]}),(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{className:"text-center",children:"Start"}),(0,y.jsx)("th",{className:"text-center",children:"End"}),(0,y.jsx)("th",{className:"text-center",children:"Start (Km)"}),(0,y.jsx)("th",{className:"text-center",children:"End (Km)"})]})]}),(0,y.jsx)("tbody",{children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{children:(0,y.jsx)("input",{type:"time",onChange:e=>{o(l=>(0,t.A)((0,t.A)({},l),{},{StartTime:e.target.value}))},value:null===a||void 0===a?void 0:a.StartTime,className:"cus-inpt p-2"})}),(0,y.jsx)("td",{children:(0,y.jsx)("input",{type:"time",onChange:e=>o(l=>(0,t.A)((0,t.A)({},l),{},{EndTime:e.target.value})),value:null===a||void 0===a?void 0:a.EndTime,className:"cus-inpt p-2"})}),(0,y.jsx)("td",{children:(0,y.jsx)("input",{type:"number",onChange:e=>o(l=>{var a,o;return(0,t.A)((0,t.A)({},l),{},{Trip_ST_KM:e.target.value,Trip_Tot_Kms:(0,m.DG)(null!==(a=l.Trip_EN_KM)&&void 0!==a?a:0,null!==(o=e.target.value)&&void 0!==o?o:0)})}),value:null===a||void 0===a?void 0:a.Trip_ST_KM,min:0,className:"cus-inpt p-2",placeholder:"Kilometers"})}),(0,y.jsx)("td",{children:(0,y.jsx)("input",{type:"number",onChange:e=>o(l=>{var a,o;return(0,t.A)((0,t.A)({},l),{},{Trip_EN_KM:e.target.value,Trip_Tot_Kms:(0,m.DG)(null!==(a=e.target.value)&&void 0!==a?a:0,null!==(o=l.Trip_ST_KM)&&void 0!==o?o:0)})}),value:null===a||void 0===a?void 0:a.Trip_EN_KM,min:(0,m.Lr)(null===a||void 0===a?void 0:a.Trip_ST_KM,1),className:"cus-inpt p-2",placeholder:"Kilometers"})})]})}),(0,y.jsxs)("thead",{children:[(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{colSpan:2,className:"text-center bg-light",children:"Loading"}),(0,y.jsx)("th",{colSpan:2,className:"text-center bg-light",children:"Un-Loading"})]}),(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{className:"text-center",children:"Load"}),(0,y.jsx)("th",{className:"text-center",children:"Empty"}),(0,y.jsx)("th",{className:"text-center",children:"Load"}),(0,y.jsx)("th",{className:"text-center",children:"Empty"})]})]}),(0,y.jsx)("tbody",{children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{children:(0,y.jsx)("input",{onInput:m.BE,onChange:e=>o(l=>(0,t.A)((0,t.A)({},l),{},{LoadingLoad:e.target.value})),value:null===a||void 0===a?void 0:a.LoadingLoad,className:"cus-inpt p-2",placeholder:"ex: 123Kg"})}),(0,y.jsx)("td",{children:(0,y.jsx)("input",{onInput:m.BE,onChange:e=>o(l=>(0,t.A)((0,t.A)({},l),{},{LoadingEmpty:e.target.value})),value:null===a||void 0===a?void 0:a.LoadingEmpty,className:"cus-inpt p-2",placeholder:"ex: 123Kg"})}),(0,y.jsx)("td",{children:(0,y.jsx)("input",{onInput:m.BE,onChange:e=>o(l=>(0,t.A)((0,t.A)({},l),{},{UnloadingLoad:e.target.value})),value:null===a||void 0===a?void 0:a.UnloadingLoad,className:"cus-inpt p-2",placeholder:"ex: 123Kg"})}),(0,y.jsx)("td",{children:(0,y.jsx)("input",{onInput:m.BE,onChange:e=>o(l=>(0,t.A)((0,t.A)({},l),{},{UnloadingEmpty:e.target.value})),value:null===a||void 0===a?void 0:a.UnloadingEmpty,className:"cus-inpt p-2",placeholder:"ex: 123Kg"})})]})})]})})]})})})},f=e=>{let{staffInvolvedList:l,setStaffInvolvedList:a,costCenter:o,costCenterCategory:n}=e;return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("div",{className:"col-xxl-3 col-lg-4 col-md-5 p-2",children:(0,y.jsxs)("div",{className:"border p-2",style:{minHeight:"30vh",height:"100%"},children:[(0,y.jsxs)("div",{className:"d-flex align-items-center flex-wrap mb-2 border-bottom pb-2",children:[(0,y.jsx)("h6",{className:"flex-grow-1 m-0",children:"Staff Involved"}),(0,y.jsx)(r.A,{variant:"outlined",color:"primary",type:"button",onClick:()=>a([...l,(0,t.A)({},_.sf)]),children:"Add"})]}),(0,y.jsxs)("table",{className:"table table-bordered",children:[(0,y.jsx)("thead",{children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{className:"fa-13",children:"Sno"}),(0,y.jsx)("th",{className:"fa-13",children:"Staff Name"}),(0,y.jsx)("th",{className:"fa-13",children:"Category"}),(0,y.jsx)("th",{className:"fa-13",children:"#"})]})}),(0,y.jsx)("tbody",{children:l.map((e,s)=>(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{className:"fa-13 vctr text-center",children:s+1}),(0,y.jsx)("td",{className:"fa-13 w-100 p-0",children:(0,y.jsx)(p.Ay,{value:{value:null===e||void 0===e?void 0:e.Involved_Emp_Id,label:null===e||void 0===e?void 0:e.Emp_Name},onChange:e=>a(l=>l.map((l,a)=>{if((0,m.id)(a,s)){var n;const a=o.find(l=>(0,m.id)(l.Cost_Center_Id,e.value));return(0,t.A)((0,t.A)({},l),{},{Cost_Center_Type_Id:(0,m.IQ)(l.Cost_Center_Type_Id)?l.Cost_Center_Type_Id:(0,m.IQ)(a.User_Type)?a.User_Type:0,Involved_Emp_Id:e.value,Emp_Name:null!==(n=a.Cost_Center_Name)&&void 0!==n?n:""})}return l})),options:[...o.filter(e=>-1===l.findIndex(l=>(0,m.id)(l.Involved_Emp_Id,e.Cost_Center_Id)))].map(e=>({value:e.Cost_Center_Id,label:e.Cost_Center_Name})),styles:x.MR,isSearchable:!0,placeholder:"Select Staff"})}),(0,y.jsx)("td",{className:"fa-13 vctr p-0",style:{maxWidth:"130px",minWidth:"80px"},children:(0,y.jsxs)("select",{value:null===e||void 0===e?void 0:e.Cost_Center_Type_Id,onChange:e=>a(l=>l.map((l,a)=>(0,m.id)(a,s)?(0,t.A)((0,t.A)({},l),{},{Cost_Center_Type_Id:e.target.value}):l)),className:"cus-inpt p-2",children:[(0,y.jsx)("option",{value:"",children:"Select"}),n.map((e,l)=>(0,y.jsx)("option",{value:null===e||void 0===e?void 0:e.Cost_Category_Id,children:null===e||void 0===e?void 0:e.Cost_Category},l))]})}),(0,y.jsx)("td",{className:"fa-13 vctr p-0",children:(0,y.jsx)(i.A,{onClick:()=>{a(e=>e.filter((e,l)=>s!==l))},size:"small",children:(0,y.jsx)(j.A,{color:"error"})})})]},s))})]})]})})})},T=e=>{var l;let{loadingOn:a,loadingOff:T}=e;const S=(0,C.zy)().state,[I,w]=(0,o.useState)({FromGodown:"",FromGodownName:"Select From Location",ToGodown:"",ToGodownName:"Select To Location",Fromdate:(0,m.ny)(),Todate:(0,m.ny)(),search:!1,addItemDialog:!1,importDialog:!1,fromGodownSearchDate:(0,m.ny)(),toGodownSearchDate:(0,m.ny)(),fromSearchGodown:"",toSearchGodown:""}),[G,E]=(0,o.useState)([]),[D,L]=(0,o.useState)([]),[B,O]=(0,o.useState)([]),[R,M]=(0,o.useState)([]),[k,F]=(0,o.useState)([]),[P,V]=(0,o.useState)([]),[K,z]=(0,o.useState)([]),[H,Q]=(0,o.useState)([]),[U,W]=(0,o.useState)([]),[Y,q]=(0,o.useState)(_.mT),[X,$]=(0,o.useState)([]),[J,Z]=(0,o.useState)([]);(0,o.useEffect)(()=>{(async()=>{try{a&&a();const[e,l,t,o,s,r,d,i]=await Promise.all([(0,n.z)({address:"masters/branch/dropDown"}),(0,n.z)({address:"masters/products"}),(0,n.z)({address:"dataEntry/godownLocationMaster"}),(0,n.z)({address:"dataEntry/costCenter"}),(0,n.z)({address:"dataEntry/costCenter/category"}),(0,n.z)({address:"masters/uom"}),(0,n.z)({address:"masters/voucher"}),(0,n.z)({address:"inventory/batchMaster/stockBalance"})]),c=(e.success?e.data:[]).sort((e,l)=>String(null===e||void 0===e?void 0:e.BranchName).localeCompare(null===l||void 0===l?void 0:l.BranchName)),v=(l.success?l.data:[]).sort((e,l)=>String(null===e||void 0===e?void 0:e.Product_Name).localeCompare(null===l||void 0===l?void 0:l.Product_Name)),u=(t.success?t.data:[]).sort((e,l)=>String(null===e||void 0===e?void 0:e.Godown_Name).localeCompare(null===l||void 0===l?void 0:l.Godown_Name)),h=(o.success?o.data:[]).sort((e,l)=>String(null===e||void 0===e?void 0:e.Cost_Center_Name).localeCompare(null===l||void 0===l?void 0:l.Cost_Center_Name)),p=(s.success?s.data:[]).sort((e,l)=>String(null===e||void 0===e?void 0:e.Cost_Category).localeCompare(null===l||void 0===l?void 0:l.Cost_Category)),x=(r.success?r.data:[]).sort((e,l)=>String(null===e||void 0===e?void 0:e.Units).localeCompare(null===l||void 0===l?void 0:l.Units)),j=(d.success?d.data:[]).sort((e,l)=>String(null===e||void 0===e?void 0:e.Vocher_Type_Id).localeCompare(null===l||void 0===l?void 0:l.Voucher_Type));V(c),L(v),E(u),M(h),F(p),O(x),z(j),W((0,m.$r)(i.data))}catch(e){console.error("Error fetching data:",e)}finally{T&&T()}})()},[]),(0,o.useEffect)(()=>{const e=null===S||void 0===S?void 0:S.Products_List,l=null===S||void 0===S?void 0:S.Employees_Involved;(0,m.aF)(S)&&Array.isArray(e)&&Array.isArray(l)&&(q(Object.fromEntries(Object.entries(_.mT).map(e=>{var l;let[a,t]=e;return"Trip_Date"===a?[a,S[a]?(0,m.ny)(S[a]):t]:"StartTime"===a||"EndTime"===a?[a,S[a]?(0,m.$O)(S[a]):t]:[a,null!==(l=S[a])&&void 0!==l?l:t]}))),$(e.map(e=>Object.fromEntries(Object.entries(_.bS).map(l=>{var a;let[t,o]=l;return[t,null!==(a=e[t])&&void 0!==a?a:o]})))),Z(l.map(e=>Object.fromEntries(Object.entries(_.sf).map(l=>{var a;let[t,o]=l;return[t,null!==(a=e[t])&&void 0!==a?a:o]})))))},[S]);const ee=()=>{Y.BillType&&Y.VoucherType?(a&&a(),(0,n.z)({address:"inventory/tripSheet",method:(0,m.IQ)(null===Y||void 0===Y?void 0:Y.Trip_Id)?"PUT":"POST",bodyData:(0,t.A)((0,t.A)({},Y),{},{StartTime:Y.StartTime&&Y.Trip_Date?(0,m.vW)(Y.Trip_Date,Y.StartTime):"",EndTime:Y.EndTime&&Y.Trip_Date?(0,m.vW)(Y.Trip_Date,Y.EndTime):"",Product_Array:X,EmployeesInvolved:J.filter(e=>(0,m.IQ)(e.Involved_Emp_Id)&&(0,m.IQ)(e.Cost_Center_Type_Id))})}).then(e=>{e.success?($([]),Z([]),q(_.mT),Q([]),A.oR.success(e.message)):A.oR.error(e.message)}).catch(e=>console.log(e)).finally(()=>{T&&T()})):A.oR.warn("Select BillType and Voucher")},le=()=>{w(e=>(0,t.A)((0,t.A)({},e),{},{addItemDialog:!1,importDialog:!1}))},ae=function(e){let l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];$(a=>{const o=a.filter(l=>!(0,m.id)(null===l||void 0===l?void 0:l.Arrival_Id,e.Arr_Id));let n;if(l)n=o;else{const l=(0,t.A)({},e),a=Object.fromEntries(Object.entries(_.bS).map(e=>{let[a,t]=e;var o,n;return"Arrival_Id"===a?[a,null!==(o=l.Arr_Id)&&void 0!==o?o:t]:[a,null!==(n=l[a])&&void 0!==n?n:t]}));n=[...o,a]}return n})};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(s.A,{children:[(0,y.jsxs)("div",{className:"d-flex flex-wrap align-items-center border-bottom p-2",children:[(0,y.jsx)("h5",{className:"flex-grow-1 m-0 ps-2",children:"Trip Sheet Creation"}),(0,y.jsx)(r.A,{variant:"outlined",onClick:ee,disabled:0===X.length||!(0,m.vd)(Y.Trip_Date),children:"Save"})]}),(0,y.jsxs)(d.A,{style:{minHeight:500},children:[(0,y.jsxs)("div",{className:"row ",children:[(0,y.jsx)(f,{staffInvolvedList:J,setStaffInvolvedList:Z,costCenter:R,costCenterCategory:k}),(0,y.jsx)(b,{tripSheetInfo:Y,setTripSheetInfo:q,branch:P,godown:G,voucherType:K,selectedItems:X,setSelectedItems:$})]}),(0,y.jsx)(g.Ay,{dataArray:X,ButtonArea:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(r.A,{onClick:()=>{(0,m.IQ)(Y.Godownlocation)?w(e=>(0,t.A)((0,t.A)({},e),{},{importDialog:!0})):A.oR.warn("Select Godown Location")},children:"Import Arrivals"}),(0,y.jsx)(r.A,{onClick:()=>$([]),className:"me-2",children:"clear"})]}),EnableSerialNumber:!0,disablePagination:!0,title:"\n                            ITEMS: ".concat(X.length,", \n                            QTY: ").concat(null===X||void 0===X?void 0:X.reduce((e,l)=>{var a;return(0,m.Lr)(e,null!==(a=null===l||void 0===l?void 0:l.QTY)&&void 0!==a?a:0)},0)),maxHeightOption:!0,columns:[{isVisible:1,ColumnHeader:"Item",isCustomCell:!0,Cell:e=>{var l;let{row:a}=e;return null===(l=function(){var e;let l=arguments.length>1?arguments[1]:void 0;return null!==(e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find(e=>(0,m.id)(e.Product_Id,l)))&&void 0!==e?e:{}}(D,a.Product_Id))||void 0===l?void 0:l.Product_Name}},(0,g.Lj)("Batch_No","string","Batch"),{isVisible:1,ColumnHeader:"Units",isCustomCell:!0,Cell:e=>{var l;let{row:a}=e;return null===(l=B.find(e=>(0,m.id)(e.Unit_Id,a.Unit_Id)))||void 0===l?void 0:l.Units}},(0,g.Lj)("QTY","number","Tonnage"),(0,g.Lj)("Gst_Rate","number","Rate"),(0,g.Lj)("Total_Value","number","Amount"),{isVisible:1,ColumnHeader:"From",isCustomCell:!0,Cell:e=>{var l;let{row:a}=e;return null===(l=G.find(e=>(0,m.id)(e.Godown_Id,a.From_Location)))||void 0===l?void 0:l.Godown_Name}},{isVisible:1,ColumnHeader:"#",isCustomCell:!0,Cell:e=>{let{row:l}=e;return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(i.A,{color:"error",size:"small",onClick:()=>{$(e=>[...e].filter(e=>!(0,m.id)(e.Arrival_Id,l.Arrival_Id)))},children:(0,y.jsx)(j.A,{className:"fa-20"})})})}}]})]}),(0,y.jsx)("div",{className:"border-top p-2 text-end",children:(0,y.jsx)(r.A,{variant:"outlined",onClick:ee,disabled:0===X.length||!(0,m.vd)(Y.Trip_Date),children:"Save"})})]}),(0,y.jsxs)(c.A,{open:I.importDialog,onClose:le,fullScreen:!0,children:[(0,y.jsxs)(v.A,{className:"d-flex align-items-center",children:[(0,y.jsx)("span",{className:"flex-grow-1",children:"Import From Arrival"}),(0,y.jsx)(i.A,{size:"small",color:"error",onClick:le,children:(0,y.jsx)(N.A,{})})]}),(0,y.jsxs)(u.A,{children:[(0,y.jsx)("form",{className:"p-2",onSubmit:e=>{var l,t,o,s;e.preventDefault(),(0,m.IQ)(null===I||void 0===I?void 0:I.fromSearchGodown)&&(0,m.IQ)(null===Y||void 0===Y?void 0:Y.Godownlocation)?(l=null===I||void 0===I?void 0:I.fromGodownSearchDate,t=null===I||void 0===I?void 0:I.toGodownSearchDate,o=null===I||void 0===I?void 0:I.fromSearchGodown,s=null===Y||void 0===Y?void 0:Y.Godownlocation,(0,n.z)({address:"\n                inventory/tripSheet/arrivalEntry?\n                Fromdate=".concat(l,"&\n                Todate=").concat(t,"&\n                FromGodown=").concat(o,"&\n                ToGodown=").concat(s,"&\n                convertedStatus=0"),loadingOn:a,loadingOff:T}).then(e=>{e.success?Q(e.data):Q([])}).catch(e=>console.log(e))):A.oR.warn("Select godown location")},children:(0,y.jsxs)("div",{className:"d-flex flex-wrap align-items-end",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"d-block ms-2",children:"From Date"}),(0,y.jsx)("input",{className:"cus-inpt p-2 w-auto",type:"date",value:null===I||void 0===I?void 0:I.fromGodownSearchDate,onChange:e=>w(l=>(0,t.A)((0,t.A)({},l),{},{fromGodownSearchDate:e.target.value})),required:!0})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"d-block ms-2",children:"To Date"}),(0,y.jsx)("input",{className:"cus-inpt p-2 w-auto ms-2",type:"date",value:null===I||void 0===I?void 0:I.toGodownSearchDate,onChange:e=>w(l=>(0,t.A)((0,t.A)({},l),{},{toGodownSearchDate:e.target.value})),required:!0})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"d-block ms-2",children:"From Godown"}),(0,y.jsxs)("select",{className:"cus-inpt p-2 w-auto ms-2",value:null===I||void 0===I?void 0:I.fromSearchGodown,required:!0,onChange:e=>w(l=>(0,t.A)((0,t.A)({},l),{},{fromSearchGodown:e.target.value})),children:[(0,y.jsx)("option",{value:"",children:"Select From Godown"}),G.map((e,l)=>(0,y.jsx)("option",{value:null===e||void 0===e?void 0:e.Godown_Id,children:null===e||void 0===e?void 0:e.Godown_Name},l))]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"d-block ms-2",children:"To Godown"}),(0,y.jsx)("input",{className:"cus-inpt p-2 w-auto ms-2",value:null===(l=G.find(e=>(0,m.id)(e.Godown_Id,null===Y||void 0===Y?void 0:Y.Godownlocation)))||void 0===l?void 0:l.Godown_Name,required:!0,disabled:!0})]}),(0,y.jsx)(r.A,{variant:"outlined",className:"ms-2",type:"submit",children:"search"})]})}),(0,y.jsx)("div",{className:"table-responsive",children:(0,y.jsxs)("table",{className:"table table-bordered",children:[(0,y.jsx)("thead",{children:(0,y.jsx)("tr",{children:["#","SNo","Date","Item","Rate","Quantity","Batch"].map((e,l)=>(0,y.jsx)("th",{className:"fa-13",children:e},l))})}),(0,y.jsx)("tbody",{children:H.map((e,l)=>{const a=-1!==X.findIndex(l=>(0,m.id)(null===l||void 0===l?void 0:l.Arrival_Id,e.Arr_Id)),o=a?X.find(l=>(0,m.id)(null===l||void 0===l?void 0:l.Arrival_Id,e.Arr_Id)):{};return(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{className:"fa-12",children:(0,y.jsx)("div",{children:(0,y.jsx)("input",{className:"form-check-input shadow-none pointer",style:{padding:"0.7em"},type:"checkbox",checked:a,onChange:()=>{a?ae(e,!0):ae(e)}})})}),(0,y.jsx)("td",{className:"fa-12",children:l+1}),(0,y.jsx)("td",{className:"fa-12",children:null!==e&&void 0!==e&&e.Arrival_Date?(0,m.yc)(e.Arrival_Date):""}),(0,y.jsx)("td",{className:"fa-12",children:null===e||void 0===e?void 0:e.Product_Name}),(0,y.jsx)("td",{className:"fa-12",children:null===e||void 0===e?void 0:e.Gst_Rate}),(0,y.jsx)("td",{className:"fa-12",children:null===e||void 0===e?void 0:e.QTY}),(0,y.jsxs)("td",{className:"fa-12",children:["OTHER GODOWN"===Y.BillType&&(0,y.jsx)(p.Ay,{value:{value:(null===o||void 0===o?void 0:o.Batch_No)||"",label:(null===o||void 0===o?void 0:o.Batch_No)||""},onChange:l=>ae((0,t.A)((0,t.A)({},e),{},{Batch_No:l.value})),options:U.filter(l=>(0,m.id)(l.item_id,e.Product_Id)&&(0,m.Ro)(l.pendingQuantity)>=(0,m.Ro)(e.QTY)&&(0,m.id)(null===l||void 0===l?void 0:l.godown_id,null===e||void 0===e?void 0:e.From_Location)).map(e=>({value:e.batch,label:e.batch})),styles:x.MR,isSearchable:!0,placeholder:"Select Batch",menuPortalTarget:document.body,isDisabled:!a}),"MATERIAL INWARD"===Y.BillType&&(0,y.jsx)("input",{value:(null===o||void 0===o?void 0:o.Batch_No)||"",onChange:l=>ae((0,t.A)((0,t.A)({},e),{},{Batch_No:l.target.value})),className:"cus-inpt p-2",disabled:!a})]})]},l)})})]})})]}),(0,y.jsx)(h.A,{children:(0,y.jsx)(r.A,{onClick:le,children:"Close"})})]})]})}},26494:(e,l,a)=>{a.d(l,{A:()=>x});var t=a(58168),o=a(98587),n=a(65043),s=a(58387),r=a(68606),d=a(34535),i=a(6431),c=a(57056),v=a(32400);function u(e){return(0,v.Ay)("MuiCardContent",e)}(0,c.A)("MuiCardContent",["root"]);var h=a(70579);const m=["className","component"],p=(0,d.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,l)=>l.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),x=n.forwardRef(function(e,l){const a=(0,i.b)({props:e,name:"MuiCardContent"}),{className:n,component:d="div"}=a,c=(0,o.A)(a,m),v=(0,t.A)({},a,{component:d}),x=(e=>{const{classes:l}=e;return(0,r.A)({root:["root"]},u,l)})(v);return(0,h.jsx)(p,(0,t.A)({as:d,className:(0,s.A)(x.root,n),ownerState:v,ref:l},c))})},51387:(e,l,a)=>{a.d(l,{A:()=>n});var t=a(59662),o=a(70579);const n=(0,t.A)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")}}]);
//# sourceMappingURL=5753.613a0b00.chunk.js.map