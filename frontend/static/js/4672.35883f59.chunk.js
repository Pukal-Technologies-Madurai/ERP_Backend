"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[4672,1248,8868],{62344:(e,a,t)=>{t.d(a,{o$:()=>i,o5:()=>o,cF:()=>d,iI:()=>l,_8:()=>r});const n=t.p+"static/media/smt.aa4d4f940bbebff07a57.png",l={table:{style:{width:"auto",backgroundColor:"transparent"}},rows:{style:{backgroundColor:"transparent"}},headCells:{style:{backgroundColor:"#6b9080f8",color:"white",fontSize:"14px"}}},d={menu:(e,a)=>({...e,zIndex:9999}),menuPortal:e=>({...e,zIndex:9999}),groupHeading:e=>({...e,backgroundColor:"#f5f5f5",color:"#333",fontWeight:"bold",fontSize:"14px",padding:"8px 12px",borderBottom:"1px solid #ddd",textTransform:"uppercase"}),option:(e,a)=>({...e,backgroundColor:a.isSelected?"#2684FF":a.isFocused?"#E2ECF9":"white",color:a.isSelected?"white":"#333",padding:"10px 12px"})},i=[{id:1,headname:"Menu ID",variant:"head",align:"left",width:100},{id:2,headname:"MenuName"},{id:3,headname:"Read Rights"},{id:4,headname:"Add Rights"},{id:5,headname:"Edit Rights"},{id:6,headname:"Delete Rights"},{id:7,headname:"Print Rights"},{id:8,headname:"Action"}],o=[{dataBase:1,name:"SHANKAR TRADERS",business:"Wholesale Merchant in Dhall",address:"32, Chitrakara Street, Madurai - 01 <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:n,gstin:"33AADFS6973R1ZD",phone:"984-313-1353, 984-335-5166",fssai:"12418012000818",bankAccount:"0021 5032 0885 122",ifsc:"TMBL0000002"},{dataBase:2,name:"SMT AGRO PRODUCTS",business:"",address:"H.O: 153, Chitrakara Street, 2nd Floor, Madurai -01 <br /> G.O: 746 Puliyur, Sayanapuram, Svga <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:n,gstin:"33ACMFS3420Q1ZQ",phone:"0452-4371625",fssai:"12418012000818",bankAccount:"0025 3031 0875 947",ifsc:"TMBL0000002"},{dataBase:3,name:"BHAVANI TRADERS",business:"",address:"H.O: 152-A, Chitrakara Street, Madurai -01 <br /> G.O: 30/1-Rajman Nagar, Chintamani Main Road, Mdu-01 <br /> Tax Invoice",logo:n,gstin:"33AAEFB6728J1ZG",phone:"958-559-7641, 958-559-7614",fssai:"12418012000670",bankAccount:"0021 5005 0800 309",ifsc:"TMBL0000002"}],r=[{name:"PURCHASE_ORDER"},{name:"PURCHASE_INVOICE"},{name:"SALE_ORDER"},{name:"SALE_INVOICE"},{name:"JOURNAL"},{name:"STOCK_JOURNAL"},{name:"PAYMENT"},{name:"RECEIPT"},{name:"CONTRA"}]},99608:(e,a,t)=>{t.d(a,{Ml:()=>c,Si:()=>s,eI:()=>o,gB:()=>r,wr:()=>d,y2:()=>i});var n=t(39308);const l=(0,n.gV)().user,d={pay_id:"",year_id:"",payment_voucher_type_id:"",payment_sno:"",payment_invoice_no:"",payment_date:(0,n.Q7)(),pay_bill_type:1,is_new_ref:0,credit_ledger:"",credit_ledger_name:"Select",credit_amount:0,debit_ledger:"",debit_ledger_name:"Select",debit_amount:0,remarks:"",status:1,transaction_type:"",check_no:"",check_date:"",bank_name:"",bank_date:"",created_by:(0,n.Q$)(null===l||void 0===l?void 0:l.UserId)?null===l||void 0===l?void 0:l.UserId:"",altered_by:(0,n.Q$)(null===l||void 0===l?void 0:l.UserId)?null===l||void 0===l?void 0:l.UserId:"",created_on:"",alterd_on:""},i={auto_id:"",created_on:"",payment_id:"",payment_no:"",payment_date:"",bill_type:"",DR_CR_Acc_Id:"",pay_bill_id:"",JournalBillType:"",bill_name:"",bill_ref_number:"",bill_amount:0,Debit_Amo:0,Credit_Amo:0,PurchaseInvoiceDate:"",StockJournalDate:"",TotalPaidAmount:0,PendingAmount:0},o={auto_id:"",payment_id:"",payment_no:"",payment_date:"",bill_type:"",Debit_Ledger_Id:"",created_on:"",pay_bill_id:"",JournalBillType:"",arr_id:"",item_id:"",item_name:"",expence_value:0,itemQuantity:0,PaidAmount:0},r=[{value:1,label:"VENDOR - PURCHASE INVOICE"},{value:2,label:"EXPENCES / OTHERS (IN-DIRECT)"},{value:3,label:"EXPENCES - STOCK JOURNAL (DIRECT)"},{value:4,label:"ON ACCOUNT"}],s=[{label:"MATERIAL INWARD",value:1},{label:"GODOWN TRANSFER",value:2},{label:"PROCESSING",value:3}],c=[{label:"New",value:1},{label:"Process",value:2},{label:"Completed",value:3},{label:"Canceled",value:0}]},59204:(e,a,t)=>{t.r(a),t.d(a,{default:()=>v});var n=t(69060),l=t(43692),d=t(89e3),i=t(51560),o=t(1908),r=t(39308),s=t(99608),c=t(99852),u=t(62344),m=t(82496);const v=e=>{let{loadingOn:a,loadingOff:t,AddRights:v}=e;const[_,p]=(0,n.useState)([]),[h,b]=(0,n.useState)([]),[g,y]=(0,n.useState)([]),f=(0,i.i6)(),[A,x]=(0,n.useState)({Fromdate:(0,r.Q7)(),Todate:(0,r.Q7)(),ledger:{value:"",label:"Select Ledger"},refresh:!1,filterDialog:!1});(0,n.useEffect)((()=>{(0,o.q)({address:"payment/getRetailersWhoHasBills"}).then((e=>{e.success&&b(e.data)})).catch((e=>console.error(e)))}),[]),(0,n.useEffect)((()=>{(0,r.Q$)(A.ledger.value)&&(y([]),(0,o.q)({address:`payment/paymentPendingInvoices?Acc_Id=${A.ledger.value}`,loadingOn:a,loadingOff:t}).then((e=>{if(e.success){const a=(0,r.dq)(e.data).map((e=>({...e,paymentPendingAmount:(0,r.od)(e.Total_Invoice_value,e.totalReference)})));p(a)}})).catch((e=>console.error(e))))}),[A.ledger.value]);const S=(e,a)=>{y((t=>{const n=(0,r.dq)(t).filter((a=>!(0,r.m2)(null===a||void 0===a?void 0:a.Po_Inv_No,e.Po_Inv_No)));let l;return l=a?n:[...n,{...e,newPaymentBillAmount:(0,r.gH)(null===e||void 0===e?void 0:e.paymentPendingAmount)}],l}))};return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(l.c,{children:[(0,m.jsxs)("div",{className:"p-2 d-flex justify-content-between align-items-center",children:[(0,m.jsx)("h5",{children:"Payments Outstaing"}),(0,m.jsx)("div",{style:{minWidth:"360px"},children:(0,m.jsx)(c.cp,{value:null===A||void 0===A?void 0:A.ledger,onChange:e=>x((a=>({...a,ledger:e}))),options:[{value:"",label:"ALL"},...h],styles:u.cF,isSearchable:!0,placeholder:"Select Leder Name",menuPortalTarget:document.body})})]}),(0,m.jsx)("form",{onSubmit:e=>{e.preventDefault(),f("/erp/payments/paymentList/create",{state:{...s.wr,debit_ledger:A.ledger.value,debit_ledger_name:A.ledger.label,debit_amount:g.reduce(((e,a)=>(0,r.Q5)(e,null===a||void 0===a?void 0:a.newPaymentBillAmount)),0),BillsDetails:g.map((e=>({bill_id:e.PIN_Id,bill_name:e.Po_Inv_No,bill_ref_number:e.bill_ref_number,bill_amount:e.Total_Invoice_value,Debit_Amo:e.newPaymentBillAmount,Credit_Amo:0})))}})},children:(0,m.jsx)("div",{className:"table-responsive",children:(0,m.jsxs)("table",{className:"table table-bordered fa-12",children:[(0,m.jsx)("thead",{children:(0,m.jsx)("tr",{children:["Sno","Voucher-No","Source","Date","Total-Value","Closed Value","Outstanding","Make a Payment"].map(((e,a)=>(0,m.jsx)("th",{className:"fa-13",children:e},a)))})}),(0,m.jsxs)("tbody",{children:[(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{colSpan:4,className:"fw-bold bg-light text-center",children:"Total"}),(0,m.jsx)("td",{className:"bg-light",children:(0,r.SA)(_.reduce(((e,a)=>(0,r.Q5)(e,a.Total_Invoice_value)),0))}),(0,m.jsx)("td",{className:"bg-light",children:(0,r.SA)(_.reduce(((e,a)=>(0,r.Q5)(e,a.totalReference)),0))}),(0,m.jsx)("td",{className:"bg-light",children:(0,r.SA)(_.reduce(((e,a)=>(0,r.Q5)(e,(0,r.od)(a.Total_Invoice_value,a.totalReference))),0))}),(0,m.jsx)("td",{className:"text-primary fw-bold text-end fa-17 bg-light",children:(0,r.SA)(g.reduce(((e,a)=>(0,r.Q5)(e,null===a||void 0===a?void 0:a.newPaymentBillAmount)),0))})]}),_.map(((e,a)=>{var t;const n=g.findIndex((a=>(0,r.m2)(null===a||void 0===a?void 0:a.Po_Inv_No,null===e||void 0===e?void 0:e.Po_Inv_No))),l=g[n]?null===(t=g[n])||void 0===t?void 0:t.newPaymentBillAmount:0,d=-1!==n;return(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:a+1}),(0,m.jsx)("td",{children:null===e||void 0===e?void 0:e.Po_Inv_No}),(0,m.jsx)("td",{children:null===e||void 0===e?void 0:e.dataSource}),(0,m.jsx)("td",{children:(0,r.uy)(null===e||void 0===e?void 0:e.Po_Inv_Date)}),(0,m.jsx)("td",{children:(0,r.SA)(null===e||void 0===e?void 0:e.Total_Invoice_value)}),(0,m.jsx)("td",{children:(0,r.SA)(null===e||void 0===e?void 0:e.totalReference)}),(0,m.jsx)("td",{children:(0,r.SA)(null===e||void 0===e?void 0:e.paymentPendingAmount)}),(0,m.jsx)("td",{className:"p-0 vctr text-center",style:{verticalAlign:"middle"},children:(0,m.jsxs)("div",{className:"d-flex align-items-center",children:[(0,m.jsx)("input",{className:"form-check-input shadow-none pointer mx-2",style:{padding:"0.7em"},type:"checkbox",checked:d,onChange:()=>{d?S(e,!0):S(e)}}),d&&(0,m.jsx)("input",{value:l||"",onInput:r.Gk,required:d,type:"number",max:(0,r.gH)(null===e||void 0===e?void 0:e.paymentPendingAmount),className:"cus-inpt flex-grow-1 p-2 border-0 me-1",onChange:a=>{return t=null===e||void 0===e?void 0:e.Po_Inv_No,n=a.target.value,void y((e=>e.map((e=>({...e,newPaymentBillAmount:(0,r.m2)(t,e.Po_Inv_No)?n:e.newPaymentBillAmount})))));var t,n},placeholder:d?"Enter amount":""})]})})]},a)})),(0,m.jsx)("tr",{children:(0,m.jsx)("td",{colSpan:8,className:"text-end",children:(0,m.jsx)(d.c,{variant:"outlined",disabled:0===g.length,type:"submit",children:"Create Payment"})})})]})]})})})]})})}},43692:(e,a,t)=>{t.d(a,{c:()=>b});var n=t(45072),l=t(95656),d=t(69060),i=t(79736),o=t(21412),r=t(12556),s=t(49836),c=t(85624),u=t(10099),m=t(33448);function v(e){return(0,m.cp)("MuiCard",e)}(0,u.c)("MuiCard",["root"]);var _=t(82496);const p=["className","raised"],h=(0,r.cp)(c.c,{name:"MuiCard",slot:"Root",overridesResolver:(e,a)=>a.root})((()=>({overflow:"hidden"}))),b=d.forwardRef((function(e,a){const t=(0,s.C)({props:e,name:"MuiCard"}),{className:d,raised:r=!1}=t,c=(0,l.c)(t,p),u=(0,n.c)({},t,{raised:r}),m=(e=>{const{classes:a}=e;return(0,o.c)({root:["root"]},v,a)})(u);return(0,_.jsx)(h,(0,n.c)({className:(0,i.c)(m.root,d),elevation:r?8:void 0,ref:a,ownerState:u},c))}))},81568:(e,a,t)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}t.d(a,{c:()=>n})}}]);
//# sourceMappingURL=4672.35883f59.chunk.js.map